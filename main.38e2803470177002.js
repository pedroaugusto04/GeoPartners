(self.webpackChunkview=self.webpackChunkview||[]).push([[179],{2798:()=>{(()=>{var ft={9705:(F,w,x)=>{"use strict";var I=x(1540);function O(U){var $=[1/0,1/0,-1/0,-1/0];return I.coordEach(U,function(ne){$[0]>ne[0]&&($[0]=ne[0]),$[1]>ne[1]&&($[1]=ne[1]),$[2]<ne[0]&&($[2]=ne[0]),$[3]<ne[1]&&($[3]=ne[1])}),$}O.default=O,w.Z=O},4102:(F,w)=>{"use strict";function x(oe,he,z){void 0===z&&(z={});var R={type:"Feature"};return(0===z.id||z.id)&&(R.id=z.id),z.bbox&&(R.bbox=z.bbox),R.properties=he||{},R.geometry=oe,R}function I(oe,he,z){if(void 0===z&&(z={}),!oe)throw new Error("coordinates is required");if(!Array.isArray(oe))throw new Error("coordinates must be an Array");if(oe.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!Oe(oe[0])||!Oe(oe[1]))throw new Error("coordinates must contain numbers");return x({type:"Point",coordinates:oe},he,z)}function O(oe,he,z){void 0===z&&(z={});for(var R=0,V=oe;R<V.length;R++){var J=V[R];if(J.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var Q=0;Q<J[J.length-1].length;Q++)if(J[J.length-1][Q]!==J[0][Q])throw new Error("First and last Position are not equivalent.")}return x({type:"Polygon",coordinates:oe},he,z)}function U(oe,he,z){if(void 0===z&&(z={}),oe.length<2)throw new Error("coordinates must be an array of two or more positions");return x({type:"LineString",coordinates:oe},he,z)}function $(oe,he){void 0===he&&(he={});var z={type:"FeatureCollection"};return he.id&&(z.id=he.id),he.bbox&&(z.bbox=he.bbox),z.features=oe,z}function ne(oe,he,z){return void 0===z&&(z={}),x({type:"MultiLineString",coordinates:oe},he,z)}function ve(oe,he,z){return void 0===z&&(z={}),x({type:"MultiPoint",coordinates:oe},he,z)}function Ne(oe,he,z){return void 0===z&&(z={}),x({type:"MultiPolygon",coordinates:oe},he,z)}function Re(oe,he){void 0===he&&(he="kilometers");var z=w.factors[he];if(!z)throw new Error(he+" units is invalid");return oe*z}function ye(oe,he){void 0===he&&(he="kilometers");var z=w.factors[he];if(!z)throw new Error(he+" units is invalid");return oe/z}function _e(oe){return oe%(2*Math.PI)*180/Math.PI}function Oe(oe){return!isNaN(oe)&&null!==oe&&!Array.isArray(oe)}Object.defineProperty(w,"__esModule",{value:!0}),w.earthRadius=6371008.8,w.factors={centimeters:100*w.earthRadius,centimetres:100*w.earthRadius,degrees:w.earthRadius/111325,feet:3.28084*w.earthRadius,inches:39.37*w.earthRadius,kilometers:w.earthRadius/1e3,kilometres:w.earthRadius/1e3,meters:w.earthRadius,metres:w.earthRadius,miles:w.earthRadius/1609.344,millimeters:1e3*w.earthRadius,millimetres:1e3*w.earthRadius,nauticalmiles:w.earthRadius/1852,radians:1,yards:1.0936*w.earthRadius},w.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/w.earthRadius,yards:1.0936133},w.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},w.feature=x,w.geometry=function(oe,he,z){switch(void 0===z&&(z={}),oe){case"Point":return I(he).geometry;case"LineString":return U(he).geometry;case"Polygon":return O(he).geometry;case"MultiPoint":return ve(he).geometry;case"MultiLineString":return ne(he).geometry;case"MultiPolygon":return Ne(he).geometry;default:throw new Error(oe+" is invalid")}},w.point=I,w.points=function(oe,he,z){return void 0===z&&(z={}),$(oe.map(function(R){return I(R,he)}),z)},w.polygon=O,w.polygons=function(oe,he,z){return void 0===z&&(z={}),$(oe.map(function(R){return O(R,he)}),z)},w.lineString=U,w.lineStrings=function(oe,he,z){return void 0===z&&(z={}),$(oe.map(function(R){return U(R,he)}),z)},w.featureCollection=$,w.multiLineString=ne,w.multiPoint=ve,w.multiPolygon=Ne,w.geometryCollection=function(oe,he,z){return void 0===z&&(z={}),x({type:"GeometryCollection",geometries:oe},he,z)},w.round=function(oe,he){if(void 0===he&&(he=0),he&&!(he>=0))throw new Error("precision must be a positive number");var z=Math.pow(10,he||0);return Math.round(oe*z)/z},w.radiansToLength=Re,w.lengthToRadians=ye,w.lengthToDegrees=function(oe,he){return _e(ye(oe,he))},w.bearingToAzimuth=function(oe){var he=oe%360;return he<0&&(he+=360),he},w.radiansToDegrees=_e,w.degreesToRadians=function(oe){return oe%360*Math.PI/180},w.convertLength=function(oe,he,z){if(void 0===he&&(he="kilometers"),void 0===z&&(z="kilometers"),!(oe>=0))throw new Error("length must be a positive number");return Re(ye(oe,he),z)},w.convertArea=function(oe,he,z){if(void 0===he&&(he="meters"),void 0===z&&(z="kilometers"),!(oe>=0))throw new Error("area must be a positive number");var R=w.areaFactors[he];if(!R)throw new Error("invalid original units");var V=w.areaFactors[z];if(!V)throw new Error("invalid final units");return oe/R*V},w.isNumber=Oe,w.isObject=function(oe){return!!oe&&oe.constructor===Object},w.validateBBox=function(oe){if(!oe)throw new Error("bbox is required");if(!Array.isArray(oe))throw new Error("bbox must be an Array");if(4!==oe.length&&6!==oe.length)throw new Error("bbox must be an Array of 4 or 6 numbers");oe.forEach(function(he){if(!Oe(he))throw new Error("bbox must only contain numbers")})},w.validateId=function(oe){if(!oe)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof oe))throw new Error("id must be a number or a string")}},1540:(F,w,x)=>{"use strict";Object.defineProperty(w,"__esModule",{value:!0});var I=x(4102);function O(ye,_e,Oe){if(null!==ye)for(var oe,he,z,R,V,J,Q,ee,ie=0,W=0,De=ye.type,ge="FeatureCollection"===De,Ee="Feature"===De,de=ge?ye.features.length:1,Qe=0;Qe<de;Qe++){V=(ee=!!(Q=ge?ye.features[Qe].geometry:Ee?ye.geometry:ye)&&"GeometryCollection"===Q.type)?Q.geometries.length:1;for(var We=0;We<V;We++){var we=0,Me=0;if(null!==(R=ee?Q.geometries[We]:Q)){J=R.coordinates;var be=R.type;switch(ie=!Oe||"Polygon"!==be&&"MultiPolygon"!==be?0:1,be){case null:break;case"Point":if(!1===_e(J,W,Qe,we,Me))return!1;W++,we++;break;case"LineString":case"MultiPoint":for(oe=0;oe<J.length;oe++){if(!1===_e(J[oe],W,Qe,we,Me))return!1;W++,"MultiPoint"===be&&we++}"LineString"===be&&we++;break;case"Polygon":case"MultiLineString":for(oe=0;oe<J.length;oe++){for(he=0;he<J[oe].length-ie;he++){if(!1===_e(J[oe][he],W,Qe,we,Me))return!1;W++}"MultiLineString"===be&&we++,"Polygon"===be&&Me++}"Polygon"===be&&we++;break;case"MultiPolygon":for(oe=0;oe<J.length;oe++){for(Me=0,he=0;he<J[oe].length;he++){for(z=0;z<J[oe][he].length-ie;z++){if(!1===_e(J[oe][he][z],W,Qe,we,Me))return!1;W++}Me++}we++}break;case"GeometryCollection":for(oe=0;oe<R.geometries.length;oe++)if(!1===O(R.geometries[oe],_e,Oe))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function U(ye,_e){var Oe;switch(ye.type){case"FeatureCollection":for(Oe=0;Oe<ye.features.length&&!1!==_e(ye.features[Oe].properties,Oe);Oe++);break;case"Feature":_e(ye.properties,0)}}function $(ye,_e){if("Feature"===ye.type)_e(ye,0);else if("FeatureCollection"===ye.type)for(var Oe=0;Oe<ye.features.length&&!1!==_e(ye.features[Oe],Oe);Oe++);}function ne(ye,_e){var Oe,oe,he,z,R,V,J,Q,ee,ie,W=0,De="FeatureCollection"===ye.type,ge="Feature"===ye.type,Ee=De?ye.features.length:1;for(Oe=0;Oe<Ee;Oe++){for(Q=De?ye.features[Oe].properties:ge?ye.properties:{},ee=De?ye.features[Oe].bbox:ge?ye.bbox:void 0,ie=De?ye.features[Oe].id:ge?ye.id:void 0,R=(J=!!(V=De?ye.features[Oe].geometry:ge?ye.geometry:ye)&&"GeometryCollection"===V.type)?V.geometries.length:1,he=0;he<R;he++)if(null!==(z=J?V.geometries[he]:V))switch(z.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===_e(z,W,Q,ee,ie))return!1;break;case"GeometryCollection":for(oe=0;oe<z.geometries.length;oe++)if(!1===_e(z.geometries[oe],W,Q,ee,ie))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===_e(null,W,Q,ee,ie))return!1;W++}}function ve(ye,_e){ne(ye,function(Oe,oe,he,z,R){var V,J=null===Oe?null:Oe.type;switch(J){case null:case"Point":case"LineString":case"Polygon":return!1!==_e(I.feature(Oe,he,{bbox:z,id:R}),oe,0)&&void 0}switch(J){case"MultiPoint":V="Point";break;case"MultiLineString":V="LineString";break;case"MultiPolygon":V="Polygon"}for(var Q=0;Q<Oe.coordinates.length;Q++)if(!1===_e(I.feature({type:V,coordinates:Oe.coordinates[Q]},he),oe,Q))return!1})}function Ne(ye,_e){ve(ye,function(Oe,oe,he){var z=0;if(Oe.geometry){var R=Oe.geometry.type;if("Point"!==R&&"MultiPoint"!==R){var V,J=0,Q=0,ee=0;return!1!==O(Oe,function(ie,W,De,ge,Ee){if(void 0===V||oe>J||ge>Q||Ee>ee)return V=ie,J=oe,Q=ge,ee=Ee,void(z=0);var de=I.lineString([V,ie],Oe.properties);if(!1===_e(de,oe,he,Ee,z))return!1;z++,V=ie})&&void 0}}})}function Re(ye,_e){if(!ye)throw new Error("geojson is required");ve(ye,function(Oe,oe,he){if(null!==Oe.geometry){var R=Oe.geometry.coordinates;switch(Oe.geometry.type){case"LineString":if(!1===_e(Oe,oe,he,0,0))return!1;break;case"Polygon":for(var V=0;V<R.length;V++)if(!1===_e(I.lineString(R[V],Oe.properties),oe,he,V))return!1}}})}w.coordAll=function(ye){var _e=[];return O(ye,function(Oe){_e.push(Oe)}),_e},w.coordEach=O,w.coordReduce=function(ye,_e,Oe,oe){var he=Oe;return O(ye,function(z,R,V,J,Q){he=0===R&&void 0===Oe?z:_e(he,z,R,V,J,Q)},oe),he},w.featureEach=$,w.featureReduce=function(ye,_e,Oe){var oe=Oe;return $(ye,function(he,z){oe=0===z&&void 0===Oe?he:_e(oe,he,z)}),oe},w.findPoint=function(ye,_e){if(!I.isObject(_e=_e||{}))throw new Error("options is invalid");var Oe,oe=_e.featureIndex||0,he=_e.multiFeatureIndex||0,z=_e.geometryIndex||0,R=_e.coordIndex||0,V=_e.properties;switch(ye.type){case"FeatureCollection":oe<0&&(oe=ye.features.length+oe),V=V||ye.features[oe].properties,Oe=ye.features[oe].geometry;break;case"Feature":V=V||ye.properties,Oe=ye.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":Oe=ye;break;default:throw new Error("geojson is invalid")}if(null===Oe)return null;var J=Oe.coordinates;switch(Oe.type){case"Point":return I.point(J,V,_e);case"MultiPoint":return he<0&&(he=J.length+he),I.point(J[he],V,_e);case"LineString":return R<0&&(R=J.length+R),I.point(J[R],V,_e);case"Polygon":return z<0&&(z=J.length+z),R<0&&(R=J[z].length+R),I.point(J[z][R],V,_e);case"MultiLineString":return he<0&&(he=J.length+he),R<0&&(R=J[he].length+R),I.point(J[he][R],V,_e);case"MultiPolygon":return he<0&&(he=J.length+he),z<0&&(z=J[he].length+z),R<0&&(R=J[he][z].length-R),I.point(J[he][z][R],V,_e)}throw new Error("geojson is invalid")},w.findSegment=function(ye,_e){if(!I.isObject(_e=_e||{}))throw new Error("options is invalid");var Oe,oe=_e.featureIndex||0,he=_e.multiFeatureIndex||0,z=_e.geometryIndex||0,R=_e.segmentIndex||0,V=_e.properties;switch(ye.type){case"FeatureCollection":oe<0&&(oe=ye.features.length+oe),V=V||ye.features[oe].properties,Oe=ye.features[oe].geometry;break;case"Feature":V=V||ye.properties,Oe=ye.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":Oe=ye;break;default:throw new Error("geojson is invalid")}if(null===Oe)return null;var J=Oe.coordinates;switch(Oe.type){case"Point":case"MultiPoint":return null;case"LineString":return R<0&&(R=J.length+R-1),I.lineString([J[R],J[R+1]],V,_e);case"Polygon":return z<0&&(z=J.length+z),R<0&&(R=J[z].length+R-1),I.lineString([J[z][R],J[z][R+1]],V,_e);case"MultiLineString":return he<0&&(he=J.length+he),R<0&&(R=J[he].length+R-1),I.lineString([J[he][R],J[he][R+1]],V,_e);case"MultiPolygon":return he<0&&(he=J.length+he),z<0&&(z=J[he].length+z),R<0&&(R=J[he][z].length-R-1),I.lineString([J[he][z][R],J[he][z][R+1]],V,_e)}throw new Error("geojson is invalid")},w.flattenEach=ve,w.flattenReduce=function(ye,_e,Oe){var oe=Oe;return ve(ye,function(he,z,R){oe=0===z&&0===R&&void 0===Oe?he:_e(oe,he,z,R)}),oe},w.geomEach=ne,w.geomReduce=function(ye,_e,Oe){var oe=Oe;return ne(ye,function(he,z,R,V,J){oe=0===z&&void 0===Oe?he:_e(oe,he,z,R,V,J)}),oe},w.lineEach=Re,w.lineReduce=function(ye,_e,Oe){var oe=Oe;return Re(ye,function(he,z,R,V){oe=0===z&&void 0===Oe?he:_e(oe,he,z,R,V)}),oe},w.propEach=U,w.propReduce=function(ye,_e,Oe){var oe=Oe;return U(ye,function(he,z){oe=0===z&&void 0===Oe?he:_e(oe,he,z)}),oe},w.segmentEach=Ne,w.segmentReduce=function(ye,_e,Oe){var oe=Oe,he=!1;return Ne(ye,function(z,R,V,J,Q){oe=!1===he&&void 0===Oe?z:_e(oe,z,R,V,J,Q),he=!0}),oe}},5975:(F,w,x)=>{"use strict";x(7107);var I=x(2492),O=x.n(I);const U=JSON.parse('{"tooltips":{"placeMarker":"Click to place marker","firstVertex":"Click to place first vertex","continueLine":"Click to continue drawing","finishLine":"Click any existing marker to finish","finishPoly":"Click first marker to finish","finishRect":"Click to finish","startCircle":"Click to place circle center","finishCircle":"Click to finish circle","placeCircleMarker":"Click to place circle marker","placeText":"Click to place text"},"actions":{"finish":"Finish","cancel":"Cancel","removeLastVertex":"Remove Last Vertex"},"buttonTitles":{"drawMarkerButton":"Draw Marker","drawPolyButton":"Draw Polygons","drawLineButton":"Draw Polyline","drawCircleButton":"Draw Circle","drawRectButton":"Draw Rectangle","editButton":"Edit Layers","dragButton":"Drag Layers","cutButton":"Cut Layers","deleteButton":"Remove Layers","drawCircleMarkerButton":"Draw Circle Marker","snappingButton":"Snap dragged marker to other layers and vertices","pinningButton":"Pin shared vertices together","rotateButton":"Rotate Layers","drawTextButton":"Draw Text","scaleButton":"Scale Layers","autoTracingButton":"Auto trace Line"},"measurements":{"totalLength":"Length","segmentLength":"Segment length","area":"Area","radius":"Radius","perimeter":"Perimeter","height":"Height","width":"Width","coordinates":"Position","coordinatesMarker":"Position Marker"}}'),$=JSON.parse('{"tooltips":{"placeMarker":"Platziere den Marker mit Klick","firstVertex":"Platziere den ersten Marker mit Klick","continueLine":"Klicke, um weiter zu zeichnen","finishLine":"Beende mit Klick auf existierenden Marker","finishPoly":"Beende mit Klick auf ersten Marker","finishRect":"Beende mit Klick","startCircle":"Platziere das Kreiszentrum mit Klick","finishCircle":"Beende den Kreis mit Klick","placeCircleMarker":"Platziere den Kreismarker mit Klick","placeText":"Platziere den Text mit Klick"},"actions":{"finish":"Beenden","cancel":"Abbrechen","removeLastVertex":"Letzten Vertex l\xf6schen"},"buttonTitles":{"drawMarkerButton":"Marker zeichnen","drawPolyButton":"Polygon zeichnen","drawLineButton":"Polyline zeichnen","drawCircleButton":"Kreis zeichnen","drawRectButton":"Rechteck zeichnen","editButton":"Layer editieren","dragButton":"Layer bewegen","cutButton":"Layer schneiden","deleteButton":"Layer l\xf6schen","drawCircleMarkerButton":"Kreismarker zeichnen","snappingButton":"Bewegter Layer an andere Layer oder Vertexe einhacken","pinningButton":"Vertexe an der gleichen Position verkn\xfcpfen","rotateButton":"Layer drehen","drawTextButton":"Text zeichnen","scaleButton":"Layer skalieren","autoTracingButton":"Linie automatisch nachzeichen"},"measurements":{"totalLength":"L\xe4nge","segmentLength":"Segment L\xe4nge","area":"Fl\xe4che","radius":"Radius","perimeter":"Umfang","height":"H\xf6he","width":"Breite","coordinates":"Position","coordinatesMarker":"Position Marker"}}'),ne=JSON.parse('{"tooltips":{"placeMarker":"Clicca per posizionare un Marker","firstVertex":"Clicca per posizionare il primo vertice","continueLine":"Clicca per continuare a disegnare","finishLine":"Clicca qualsiasi marker esistente per terminare","finishPoly":"Clicca il primo marker per terminare","finishRect":"Clicca per terminare","startCircle":"Clicca per posizionare il punto centrale del cerchio","finishCircle":"Clicca per terminare il cerchio","placeCircleMarker":"Clicca per posizionare un Marker del cherchio"},"actions":{"finish":"Termina","cancel":"Annulla","removeLastVertex":"Rimuovi l\'ultimo vertice"},"buttonTitles":{"drawMarkerButton":"Disegna Marker","drawPolyButton":"Disegna Poligoni","drawLineButton":"Disegna Polilinea","drawCircleButton":"Disegna Cerchio","drawRectButton":"Disegna Rettangolo","editButton":"Modifica Livelli","dragButton":"Sposta Livelli","cutButton":"Ritaglia Livelli","deleteButton":"Elimina Livelli","drawCircleMarkerButton":"Disegna Marker del Cerchio","snappingButton":"Snap ha trascinato il pennarello su altri strati e vertici","pinningButton":"Pin condiviso vertici insieme"}}'),ve=JSON.parse('{"tooltips":{"placeMarker":"Klik untuk menempatkan marker","firstVertex":"Klik untuk menempatkan vertex pertama","continueLine":"Klik untuk meneruskan digitasi","finishLine":"Klik pada sembarang marker yang ada untuk mengakhiri","finishPoly":"Klik marker pertama untuk mengakhiri","finishRect":"Klik untuk mengakhiri","startCircle":"Klik untuk menempatkan titik pusat lingkaran","finishCircle":"Klik untuk mengakhiri lingkaran","placeCircleMarker":"Klik untuk menempatkan penanda lingkarann"},"actions":{"finish":"Selesai","cancel":"Batal","removeLastVertex":"Hilangkan Vertex Terakhir"},"buttonTitles":{"drawMarkerButton":"Digitasi Marker","drawPolyButton":"Digitasi Polygon","drawLineButton":"Digitasi Polyline","drawCircleButton":"Digitasi Lingkaran","drawRectButton":"Digitasi Segi Empat","editButton":"Edit Layer","dragButton":"Geser Layer","cutButton":"Potong Layer","deleteButton":"Hilangkan Layer","drawCircleMarkerButton":"Digitasi Penanda Lingkaran","snappingButton":"Jepretkan penanda yang ditarik ke lapisan dan simpul lain","pinningButton":"Sematkan simpul bersama bersama"}}'),Ne=JSON.parse('{"tooltips":{"placeMarker":"Adaug\u0103 un punct","firstVertex":"Apas\u0103 aici pentru a ad\u0103uga primul Vertex","continueLine":"Apas\u0103 aici pentru a continua desenul","finishLine":"Apas\u0103 pe orice obiect pentru a finisa desenul","finishPoly":"Apas\u0103 pe primul obiect pentru a finisa","finishRect":"Apas\u0103 pentru a finisa","startCircle":"Apas\u0103 pentru a desena un cerc","finishCircle":"Apas\u0103 pentru a finisa un cerc","placeCircleMarker":"Adaug\u0103 un punct"},"actions":{"finish":"Termin\u0103","cancel":"Anuleaz\u0103","removeLastVertex":"\u0218terge ultimul Vertex"},"buttonTitles":{"drawMarkerButton":"Adaug\u0103 o bulin\u0103","drawPolyButton":"Deseneaz\u0103 un poligon","drawLineButton":"Deseneaz\u0103 o linie","drawCircleButton":"Deseneaz\u0103 un cerc","drawRectButton":"Deseneaz\u0103 un dreptunghi","editButton":"Editeaz\u0103 straturile","dragButton":"Mut\u0103 straturile","cutButton":"Taie straturile","deleteButton":"\u0218terge straturile","drawCircleMarkerButton":"Deseneaz\u0103 marcatorul cercului","snappingButton":"Fixa\u021bi marcatorul glisat pe alte straturi \u0219i v\xe2rfuri","pinningButton":"Fixa\u021bi v\xe2rfurile partajate \xeempreun\u0103"}}'),Re=JSON.parse('{"tooltips":{"placeMarker":"\u041d\u0430\u0436\u043c\u0438\u0442\u0435, \u0447\u0442\u043e\u0431\u044b \u043d\u0430\u043d\u0435\u0441\u0442\u0438 \u043c\u0430\u0440\u043a\u0435\u0440","firstVertex":"\u041d\u0430\u0436\u043c\u0438\u0442\u0435, \u0447\u0442\u043e\u0431\u044b \u043d\u0430\u043d\u0435\u0441\u0442\u0438 \u043f\u0435\u0440\u0432\u044b\u0439 \u043e\u0431\u044a\u0435\u043a\u0442","continueLine":"\u041d\u0430\u0436\u043c\u0438\u0442\u0435, \u0447\u0442\u043e\u0431\u044b \u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c \u0440\u0438\u0441\u043e\u0432\u0430\u043d\u0438\u0435","finishLine":"\u041d\u0430\u0436\u043c\u0438\u0442\u0435 \u043b\u044e\u0431\u043e\u0439 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0439 \u043c\u0430\u0440\u043a\u0435\u0440 \u0434\u043b\u044f \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u044f","finishPoly":"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043f\u0435\u0440\u0432\u0443\u044e \u0442\u043e\u0447\u043a\u0443, \u0447\u0442\u043e\u0431\u044b \u0437\u0430\u043a\u043e\u043d\u0447\u0438\u0442\u044c","finishRect":"\u041d\u0430\u0436\u043c\u0438\u0442\u0435, \u0447\u0442\u043e\u0431\u044b \u0437\u0430\u043a\u043e\u043d\u0447\u0438\u0442\u044c","startCircle":"\u041d\u0430\u0436\u043c\u0438\u0442\u0435, \u0447\u0442\u043e\u0431\u044b \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0446\u0435\u043d\u0442\u0440 \u043a\u0440\u0443\u0433\u0430","finishCircle":"\u041d\u0430\u0436\u043c\u0438\u0442\u0435, \u0447\u0442\u043e\u0431\u044b \u0437\u0430\u0434\u0430\u0442\u044c \u0440\u0430\u0434\u0438\u0443\u0441","placeCircleMarker":"\u041d\u0430\u0436\u043c\u0438\u0442\u0435, \u0447\u0442\u043e\u0431\u044b \u043d\u0430\u043d\u0435\u0441\u0442\u0438 \u043a\u0440\u0443\u0433\u043e\u0432\u043e\u0439 \u043c\u0430\u0440\u043a\u0435\u0440"},"actions":{"finish":"\u0417\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044c","cancel":"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c","removeLastVertex":"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0435\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435"},"buttonTitles":{"drawMarkerButton":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043c\u0430\u0440\u043a\u0435\u0440","drawPolyButton":"\u0420\u0438\u0441\u043e\u0432\u0430\u0442\u044c \u043f\u043e\u043b\u0438\u0433\u043e\u043d","drawLineButton":"\u0420\u0438\u0441\u043e\u0432\u0430\u0442\u044c \u043a\u0440\u0438\u0432\u0443\u044e","drawCircleButton":"\u0420\u0438\u0441\u043e\u0432\u0430\u0442\u044c \u043a\u0440\u0443\u0433","drawRectButton":"\u0420\u0438\u0441\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u044f\u043c\u043e\u0443\u0433\u043e\u043b\u044c\u043d\u0438\u043a","editButton":"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u043b\u043e\u0439","dragButton":"\u041f\u0435\u0440\u0435\u043d\u0435\u0441\u0442\u0438 \u0441\u043b\u043e\u0439","cutButton":"\u0412\u044b\u0440\u0435\u0437\u0430\u0442\u044c \u0441\u043b\u043e\u0439","deleteButton":"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0441\u043b\u043e\u0439","drawCircleMarkerButton":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u0440\u0443\u0433\u043e\u0432\u043e\u0439 \u043c\u0430\u0440\u043a\u0435\u0440","snappingButton":"\u041f\u0440\u0438\u0432\u044f\u0437\u0430\u0442\u044c \u043f\u0435\u0440\u0435\u0442\u0430\u0441\u043a\u0438\u0432\u0430\u0435\u043c\u044b\u0439 \u043c\u0430\u0440\u043a\u0435\u0440 \u043a \u0434\u0440\u0443\u0433\u0438\u043c \u0441\u043b\u043e\u044f\u043c \u0438 \u0432\u0435\u0440\u0448\u0438\u043d\u0430\u043c","pinningButton":"\u0421\u0432\u044f\u0437\u0430\u0442\u044c \u043e\u0431\u0449\u0438\u0435 \u0442\u043e\u0447\u043a\u0438 \u0432\u043c\u0435\u0441\u0442\u0435"}}'),ye=JSON.parse('{"tooltips":{"placeMarker":"Presiona para colocar un marcador","firstVertex":"Presiona para colocar el primer v\xe9rtice","continueLine":"Presiona para continuar dibujando","finishLine":"Presiona cualquier marcador existente para finalizar","finishPoly":"Presiona el primer marcador para finalizar","finishRect":"Presiona para finalizar","startCircle":"Presiona para colocar el centro del c\xedrculo","finishCircle":"Presiona para finalizar el c\xedrculo","placeCircleMarker":"Presiona para colocar un marcador de c\xedrculo"},"actions":{"finish":"Finalizar","cancel":"Cancelar","removeLastVertex":"Eliminar \xfaltimo v\xe9rtice"},"buttonTitles":{"drawMarkerButton":"Dibujar Marcador","drawPolyButton":"Dibujar Pol\xedgono","drawLineButton":"Dibujar L\xednea","drawCircleButton":"Dibujar C\xedrculo","drawRectButton":"Dibujar Rect\xe1ngulo","editButton":"Editar Capas","dragButton":"Arrastrar Capas","cutButton":"Cortar Capas","deleteButton":"Eliminar Capas","drawCircleMarkerButton":"Dibujar Marcador de C\xedrculo","snappingButton":"El marcador de Snap arrastrado a otras capas y v\xe9rtices","pinningButton":"Fijar juntos los v\xe9rtices compartidos"}}'),_e=JSON.parse('{"tooltips":{"placeMarker":"Klik om een marker te plaatsen","firstVertex":"Klik om het eerste punt te plaatsen","continueLine":"Klik om te blijven tekenen","finishLine":"Klik op een bestaand punt om te be\xebindigen","finishPoly":"Klik op het eerst punt om te be\xebindigen","finishRect":"Klik om te be\xebindigen","startCircle":"Klik om het middelpunt te plaatsen","finishCircle":"Klik om de cirkel te be\xebindigen","placeCircleMarker":"Klik om een marker te plaatsen"},"actions":{"finish":"Bewaar","cancel":"Annuleer","removeLastVertex":"Verwijder laatste punt"},"buttonTitles":{"drawMarkerButton":"Plaats Marker","drawPolyButton":"Teken een vlak","drawLineButton":"Teken een lijn","drawCircleButton":"Teken een cirkel","drawRectButton":"Teken een vierkant","editButton":"Bewerk","dragButton":"Verplaats","cutButton":"Knip","deleteButton":"Verwijder","drawCircleMarkerButton":"Plaats Marker","snappingButton":"Snap gesleepte marker naar andere lagen en hoekpunten","pinningButton":"Speld gedeelde hoekpunten samen"}}'),Oe=JSON.parse('{"tooltips":{"placeMarker":"Cliquez pour placer un marqueur","firstVertex":"Cliquez pour placer le premier sommet","continueLine":"Cliquez pour continuer \xe0 dessiner","finishLine":"Cliquez sur n\'importe quel marqueur pour terminer","finishPoly":"Cliquez sur le premier marqueur pour terminer","finishRect":"Cliquez pour terminer","startCircle":"Cliquez pour placer le centre du cercle","finishCircle":"Cliquez pour finir le cercle","placeCircleMarker":"Cliquez pour placer le marqueur circulaire"},"actions":{"finish":"Terminer","cancel":"Annuler","removeLastVertex":"Retirer le dernier sommet"},"buttonTitles":{"drawMarkerButton":"Placer des marqueurs","drawPolyButton":"Dessiner des polygones","drawLineButton":"Dessiner des polylignes","drawCircleButton":"Dessiner un cercle","drawRectButton":"Dessiner un rectangle","editButton":"\xc9diter des calques","dragButton":"D\xe9placer des calques","cutButton":"Couper des calques","deleteButton":"Supprimer des calques","drawCircleMarkerButton":"Dessiner un marqueur circulaire","snappingButton":"Glisser le marqueur vers d\'autres couches et sommets","pinningButton":"\xc9pingler ensemble les sommets partag\xe9s","rotateButton":"Tourner des calques"}}'),oe=JSON.parse('{"tooltips":{"placeMarker":"\u5355\u51fb\u653e\u7f6e\u6807\u8bb0","firstVertex":"\u5355\u51fb\u653e\u7f6e\u9996\u4e2a\u9876\u70b9","continueLine":"\u5355\u51fb\u7ee7\u7eed\u7ed8\u5236","finishLine":"\u5355\u51fb\u4efb\u4f55\u5b58\u5728\u7684\u6807\u8bb0\u4ee5\u5b8c\u6210","finishPoly":"\u5355\u51fb\u7b2c\u4e00\u4e2a\u6807\u8bb0\u4ee5\u5b8c\u6210","finishRect":"\u5355\u51fb\u5b8c\u6210","startCircle":"\u5355\u51fb\u653e\u7f6e\u5706\u5fc3","finishCircle":"\u5355\u51fb\u5b8c\u6210\u5706\u5f62","placeCircleMarker":"\u70b9\u51fb\u653e\u7f6e\u5706\u5f62\u6807\u8bb0"},"actions":{"finish":"\u5b8c\u6210","cancel":"\u53d6\u6d88","removeLastVertex":"\u79fb\u9664\u6700\u540e\u7684\u9876\u70b9"},"buttonTitles":{"drawMarkerButton":"\u7ed8\u5236\u6807\u8bb0","drawPolyButton":"\u7ed8\u5236\u591a\u8fb9\u5f62","drawLineButton":"\u7ed8\u5236\u7ebf\u6bb5","drawCircleButton":"\u7ed8\u5236\u5706\u5f62","drawRectButton":"\u7ed8\u5236\u957f\u65b9\u5f62","editButton":"\u7f16\u8f91\u56fe\u5c42","dragButton":"\u62d6\u62fd\u56fe\u5c42","cutButton":"\u526a\u5207\u56fe\u5c42","deleteButton":"\u5220\u9664\u56fe\u5c42","drawCircleMarkerButton":"\u753b\u5706\u5708\u6807\u8bb0","snappingButton":"\u5c06\u62d6\u52a8\u7684\u6807\u8bb0\u6355\u6349\u5230\u5176\u4ed6\u56fe\u5c42\u548c\u9876\u70b9","pinningButton":"\u5c06\u5171\u4eab\u9876\u70b9\u56fa\u5b9a\u5728\u4e00\u8d77"}}'),he=JSON.parse('{"tooltips":{"placeMarker":"\u55ae\u64ca\u653e\u7f6e\u6a19\u8a18","firstVertex":"\u55ae\u64ca\u653e\u7f6e\u7b2c\u4e00\u500b\u9802\u9ede","continueLine":"\u55ae\u64ca\u7e7c\u7e8c\u7e6a\u88fd","finishLine":"\u55ae\u64ca\u4efb\u4f55\u5b58\u5728\u7684\u6a19\u8a18\u4ee5\u5b8c\u6210","finishPoly":"\u55ae\u64ca\u7b2c\u4e00\u500b\u6a19\u8a18\u4ee5\u5b8c\u6210","finishRect":"\u55ae\u64ca\u5b8c\u6210","startCircle":"\u55ae\u64ca\u653e\u7f6e\u5713\u5fc3","finishCircle":"\u55ae\u64ca\u5b8c\u6210\u5713\u5f62","placeCircleMarker":"\u9ede\u64ca\u653e\u7f6e\u5713\u5f62\u6a19\u8a18"},"actions":{"finish":"\u5b8c\u6210","cancel":"\u53d6\u6d88","removeLastVertex":"\u79fb\u9664\u6700\u5f8c\u4e00\u500b\u9802\u9ede"},"buttonTitles":{"drawMarkerButton":"\u653e\u7f6e\u6a19\u8a18","drawPolyButton":"\u7e6a\u88fd\u591a\u908a\u5f62","drawLineButton":"\u7e6a\u88fd\u7dda\u6bb5","drawCircleButton":"\u7e6a\u88fd\u5713\u5f62","drawRectButton":"\u7e6a\u88fd\u65b9\u5f62","editButton":"\u7de8\u8f2f\u5716\u5f62","dragButton":"\u79fb\u52d5\u5716\u5f62","cutButton":"\u88c1\u5207\u5716\u5f62","deleteButton":"\u522a\u9664\u5716\u5f62","drawCircleMarkerButton":"\u756b\u5713\u5708\u6a19\u8a18","snappingButton":"\u5c07\u62d6\u52d5\u7684\u6a19\u8a18\u5c0d\u9f4a\u5230\u5176\u4ed6\u5716\u5c64\u548c\u9802\u9ede","pinningButton":"\u5c07\u5171\u4eab\u9802\u9ede\u56fa\u5b9a\u5728\u4e00\u8d77"}}'),z={en:U,de:$,it:ne,id:ve,ro:Ne,ru:Re,es:ye,nl:_e,fr:Oe,pt_br:JSON.parse('{"tooltips":{"placeMarker":"Clique para posicionar o marcador","firstVertex":"Clique para posicionar o primeiro v\xe9rtice","continueLine":"Clique para continuar desenhando","finishLine":"Clique em qualquer marcador existente para finalizar","finishPoly":"Clique no primeiro ponto para fechar o pol\xedgono","finishRect":"Clique para finalizar","startCircle":"Clique para posicionar o centro do c\xedrculo","finishCircle":"Clique para fechar o c\xedrculo","placeCircleMarker":"Clique para posicionar o marcador circular"},"actions":{"finish":"Finalizar","cancel":"Cancelar","removeLastVertex":"Remover \xfaltimo v\xe9rtice"},"buttonTitles":{"drawMarkerButton":"Desenhar um marcador","drawPolyButton":"Desenhar um pol\xedgono","drawLineButton":"Desenhar uma polilinha","drawCircleButton":"Desenhar um c\xedrculo","drawRectButton":"Desenhar um ret\xe2ngulo","editButton":"Editar camada(s)","dragButton":"Mover camada(s)","cutButton":"Recortar camada(s)","deleteButton":"Remover camada(s)","drawCircleMarkerButton":"Marcador de c\xedrculos de desenho","snappingButton":"Marcador arrastado para outras camadas e v\xe9rtices","pinningButton":"V\xe9rtices compartilhados de pinos juntos"}}'),zh:oe,zh_tw:he,pl:JSON.parse('{"tooltips":{"placeMarker":"Kliknij, aby ustawi\u0107 znacznik","firstVertex":"Kliknij, aby ustawi\u0107 pierwszy punkt","continueLine":"Kliknij, aby kontynuowa\u0107 rysowanie","finishLine":"Kliknij dowolny punkt, aby zako\u0144czy\u0107","finishPoly":"Kliknij pierwszy punkt, aby zako\u0144czy\u0107","finishRect":"Kliknij, aby zako\u0144czy\u0107","startCircle":"Kliknij, aby ustawi\u0107 \u015brodek ko\u0142a","finishCircle":"Kliknij, aby zako\u0144czy\u0107 rysowanie ko\u0142a","placeCircleMarker":"Kliknij, aby ustawi\u0107 okr\u0105g\u0142y znacznik"},"actions":{"finish":"Zako\u0144cz","cancel":"Anuluj","removeLastVertex":"Usu\u0144 ostatni punkt"},"buttonTitles":{"drawMarkerButton":"Narysuj znacznik","drawPolyButton":"Narysuj wielok\u0105t","drawLineButton":"Narysuj \u015bcie\u017ck\u0119","drawCircleButton":"Narysuj ko\u0142o","drawRectButton":"Narysuj prostok\u0105t","editButton":"Edytuj","dragButton":"Przesu\u0144","cutButton":"Wytnij","deleteButton":"Usu\u0144","drawCircleMarkerButton":"Narysuj okr\u0105g\u0142y znacznik","snappingButton":"Snap przeci\u0105gni\u0119ty marker na inne warstwy i wierzcho\u0142ki","pinningButton":"Sworze\u0144 wsp\xf3lne wierzcho\u0142ki razem"}}'),sv:JSON.parse('{"tooltips":{"placeMarker":"Klicka f\xf6r att placera mark\xf6r","firstVertex":"Klicka f\xf6r att placera f\xf6rsta h\xf6rnet","continueLine":"Klicka f\xf6r att forts\xe4tta rita","finishLine":"Klicka p\xe5 en existerande punkt f\xf6r att slutf\xf6ra","finishPoly":"Klicka p\xe5 den f\xf6rsta punkten f\xf6r att slutf\xf6ra","finishRect":"Klicka f\xf6r att slutf\xf6ra","startCircle":"Klicka f\xf6r att placera cirkelns centrum","finishCircle":"Klicka f\xf6r att slutf\xf6ra cirkeln","placeCircleMarker":"Klicka f\xf6r att placera cirkelmark\xf6r"},"actions":{"finish":"Slutf\xf6r","cancel":"Avbryt","removeLastVertex":"Ta bort sista h\xf6rnet"},"buttonTitles":{"drawMarkerButton":"Rita Mark\xf6r","drawPolyButton":"Rita Polygoner","drawLineButton":"Rita Linje","drawCircleButton":"Rita Cirkel","drawRectButton":"Rita Rektangel","editButton":"Redigera Lager","dragButton":"Dra Lager","cutButton":"Klipp i Lager","deleteButton":"Ta bort Lager","drawCircleMarkerButton":"Rita Cirkelmark\xf6r","snappingButton":"Sn\xe4pp dra mark\xf6ren till andra lager och h\xf6rn","pinningButton":"F\xe4st delade h\xf6rn tillsammans"}}'),el:JSON.parse('{"tooltips":{"placeMarker":"\u039a\u03ac\u03bd\u03c4\u03b5 \u03ba\u03bb\u03b9\u03ba \u03b3\u03b9\u03b1 \u03bd\u03b1 \u03c4\u03bf\u03c0\u03bf\u03b8\u03b5\u03c4\u03ae\u03c3\u03b5\u03c4\u03b5 \u0394\u03b5\u03af\u03ba\u03c4\u03b7","firstVertex":"\u039a\u03ac\u03bd\u03c4\u03b5 \u03ba\u03bb\u03b9\u03ba \u03b3\u03b9\u03b1 \u03bd\u03b1 \u03c4\u03bf\u03c0\u03bf\u03b8\u03b5\u03c4\u03ae\u03c3\u03b5\u03c4\u03b5 \u03c4\u03bf \u03c0\u03c1\u03ce\u03c4\u03bf \u03c3\u03b7\u03bc\u03b5\u03af\u03bf","continueLine":"\u039a\u03ac\u03bd\u03c4\u03b5 \u03ba\u03bb\u03b9\u03ba \u03b3\u03b9\u03b1 \u03bd\u03b1 \u03c3\u03c5\u03bd\u03b5\u03c7\u03af\u03c3\u03b5\u03c4\u03b5 \u03bd\u03b1 \u03c3\u03c7\u03b5\u03b4\u03b9\u03ac\u03b6\u03b5\u03c4\u03b5","finishLine":"\u039a\u03ac\u03bd\u03c4\u03b5 \u03ba\u03bb\u03b9\u03ba \u03c3\u03b5 \u03bf\u03c0\u03bf\u03b9\u03bf\u03bd\u03b4\u03ae\u03c0\u03bf\u03c4\u03b5 \u03c5\u03c0\u03ac\u03c1\u03c7\u03bf\u03bd \u03c3\u03b7\u03bc\u03b5\u03af\u03bf \u03b3\u03b9\u03b1 \u03bd\u03b1 \u03bf\u03bb\u03bf\u03ba\u03bb\u03b7\u03c1\u03c9\u03b8\u03b5\u03af","finishPoly":"\u039a\u03ac\u03bd\u03c4\u03b5 \u03ba\u03bb\u03b9\u03ba \u03c3\u03c4\u03bf \u03c0\u03c1\u03ce\u03c4\u03bf \u03c3\u03b7\u03bc\u03b5\u03af\u03bf \u03b3\u03b9\u03b1 \u03bd\u03b1 \u03c4\u03b5\u03bb\u03b5\u03b9\u03ce\u03c3\u03b5\u03c4\u03b5","finishRect":"\u039a\u03ac\u03bd\u03c4\u03b5 \u03ba\u03bb\u03b9\u03ba \u03b3\u03b9\u03b1 \u03bd\u03b1 \u03c4\u03b5\u03bb\u03b5\u03b9\u03ce\u03c3\u03b5\u03c4\u03b5","startCircle":"\u039a\u03ac\u03bd\u03c4\u03b5 \u03ba\u03bb\u03b9\u03ba \u03b3\u03b9\u03b1 \u03bd\u03b1 \u03c4\u03bf\u03c0\u03bf\u03b8\u03b5\u03c4\u03ae\u03c3\u03b5\u03c4\u03b5 \u03ba\u03ad\u03bd\u03c4\u03c1\u03bf \u039a\u03cd\u03ba\u03bb\u03bf\u03c5","finishCircle":"\u039a\u03ac\u03bd\u03c4\u03b5 \u03ba\u03bb\u03b9\u03ba \u03b3\u03b9\u03b1 \u03bd\u03b1 \u03bf\u03bb\u03bf\u03ba\u03bb\u03b7\u03c1\u03ce\u03c3\u03b5\u03c4\u03b5 \u03c4\u03bf\u03bd \u039a\u03cd\u03ba\u03bb\u03bf","placeCircleMarker":"\u039a\u03ac\u03bd\u03c4\u03b5 \u03ba\u03bb\u03b9\u03ba \u03b3\u03b9\u03b1 \u03bd\u03b1 \u03c4\u03bf\u03c0\u03bf\u03b8\u03b5\u03c4\u03ae\u03c3\u03b5\u03c4\u03b5 \u039a\u03c5\u03ba\u03bb\u03b9\u03ba\u03cc \u0394\u03b5\u03af\u03ba\u03c4\u03b7"},"actions":{"finish":"\u03a4\u03ad\u03bb\u03bf\u03c2","cancel":"\u0391\u03ba\u03cd\u03c1\u03c9\u03c3\u03b7","removeLastVertex":"\u039a\u03b1\u03c4\u03ac\u03c1\u03b3\u03b7\u03c3\u03b7 \u03c4\u03b5\u03bb\u03b5\u03c5\u03c4\u03b1\u03af\u03bf\u03c5 \u03c3\u03b7\u03bc\u03b5\u03af\u03bf\u03c5"},"buttonTitles":{"drawMarkerButton":"\u03a3\u03c7\u03b5\u03b4\u03af\u03b1\u03c3\u03b7 \u0394\u03b5\u03af\u03ba\u03c4\u03b7","drawPolyButton":"\u03a3\u03c7\u03b5\u03b4\u03af\u03b1\u03c3\u03b7 \u03a0\u03bf\u03bb\u03c5\u03b3\u03ce\u03bd\u03bf\u03c5","drawLineButton":"\u03a3\u03c7\u03b5\u03b4\u03af\u03b1\u03c3\u03b7 \u0393\u03c1\u03b1\u03bc\u03bc\u03ae\u03c2","drawCircleButton":"\u03a3\u03c7\u03b5\u03b4\u03af\u03b1\u03c3\u03b7 \u039a\u03cd\u03ba\u03bb\u03bf\u03c5","drawRectButton":"\u03a3\u03c7\u03b5\u03b4\u03af\u03b1\u03c3\u03b7 \u039f\u03c1\u03b8\u03bf\u03b3\u03c9\u03bd\u03af\u03bf\u03c5","editButton":"\u0395\u03c0\u03b5\u03be\u03b5\u03c1\u03b3\u03b1\u03c3\u03af\u03b1 \u0395\u03c0\u03b9\u03c0\u03ad\u03b4\u03c9\u03bd","dragButton":"\u039c\u03b5\u03c4\u03b1\u03c6\u03bf\u03c1\u03ac \u0395\u03c0\u03b9\u03c0\u03ad\u03b4\u03c9\u03bd","cutButton":"\u0391\u03c0\u03bf\u03ba\u03bf\u03c0\u03ae \u0395\u03c0\u03b9\u03c0\u03ad\u03b4\u03c9\u03bd","deleteButton":"\u039a\u03b1\u03c4\u03ac\u03c1\u03b3\u03b7\u03c3\u03b7 \u0395\u03c0\u03b9\u03c0\u03ad\u03b4\u03c9\u03bd","drawCircleMarkerButton":"\u03a3\u03c7\u03b5\u03b4\u03af\u03b1\u03c3\u03b7 \u039a\u03c5\u03ba\u03bb\u03b9\u03ba\u03bf\u03cd \u0394\u03b5\u03af\u03ba\u03c4\u03b7","snappingButton":"\u03a0\u03c1\u03bf\u03c3\u03ba\u03cc\u03bb\u03bb\u03b7\u03c3\u03b7 \u03c4\u03bf\u03c5 \u0394\u03b5\u03af\u03ba\u03c4\u03b7 \u03bc\u03b5\u03c4\u03b1\u03c6\u03bf\u03c1\u03ac\u03c2 \u03c3\u03b5 \u03ac\u03bb\u03bb\u03b1 \u0395\u03c0\u03af\u03c0\u03b5\u03b4\u03b1 \u03ba\u03b1\u03b9 \u039a\u03bf\u03c1\u03c5\u03c6\u03ad\u03c2","pinningButton":"\u03a0\u03b5\u03c1\u03b9\u03ba\u03bf\u03c0\u03ae \u03ba\u03bf\u03b9\u03bd\u03ce\u03bd \u03ba\u03bf\u03c1\u03c5\u03c6\u03ce\u03bd \u03bc\u03b1\u03b6\u03af"}}'),hu:JSON.parse('{"tooltips":{"placeMarker":"Kattintson a jel\xf6l\u0151 elhelyez\xe9s\xe9hez","firstVertex":"Kattintson az els\u0151 pont elhelyez\xe9s\xe9hez","continueLine":"Kattintson a k\xf6vetkez\u0151 pont elhelyez\xe9s\xe9hez","finishLine":"A befejez\xe9shez kattintson egy megl\xe9v\u0151 pontra","finishPoly":"A befejez\xe9shez kattintson az els\u0151 pontra","finishRect":"Kattintson a befejez\xe9shez","startCircle":"Kattintson a k\xf6r k\xf6z\xe9ppontj\xe1nak elhelyez\xe9s\xe9hez","finishCircle":"Kattintson a k\xf6r befejez\xe9s\xe9hez","placeCircleMarker":"Kattintson a k\xf6rjel\xf6l\u0151 elhelyez\xe9s\xe9hez"},"actions":{"finish":"Befejez\xe9s","cancel":"M\xe9gse","removeLastVertex":"Utols\xf3 pont elt\xe1vol\xedt\xe1sa"},"buttonTitles":{"drawMarkerButton":"Jel\xf6l\u0151 rajzol\xe1sa","drawPolyButton":"Poligon rajzol\xe1sa","drawLineButton":"Vonal rajzol\xe1sa","drawCircleButton":"K\xf6r rajzol\xe1sa","drawRectButton":"N\xe9gyzet rajzol\xe1sa","editButton":"Elemek szerkeszt\xe9se","dragButton":"Elemek mozgat\xe1sa","cutButton":"Elemek v\xe1g\xe1sa","deleteButton":"Elemek t\xf6rl\xe9se","drawCircleMarkerButton":"K\xf6r jel\xf6l\u0151 rajzol\xe1sa","snappingButton":"Kapcsolja a jel\xf6lt\u0151t m\xe1sik elemhez vagy ponthoz","pinningButton":"K\xf6z\xf6s pontok \xf6sszek\xf6t\xe9se"}}'),da:JSON.parse('{"tooltips":{"placeMarker":"Tryk for at placere en mark\xf8r","firstVertex":"Tryk for at placere det f\xf8rste punkt","continueLine":"Tryk for at forts\xe6tte linjen","finishLine":"Tryk p\xe5 et eksisterende punkt for at afslutte","finishPoly":"Tryk p\xe5 det f\xf8rste punkt for at afslutte","finishRect":"Tryk for at afslutte","startCircle":"Tryk for at placere cirklens center","finishCircle":"Tryk for at afslutte cirklen","placeCircleMarker":"Tryk for at placere en cirkelmark\xf8r"},"actions":{"finish":"Afslut","cancel":"Afbryd","removeLastVertex":"Fjern sidste punkt"},"buttonTitles":{"drawMarkerButton":"Placer mark\xf8r","drawPolyButton":"Tegn polygon","drawLineButton":"Tegn linje","drawCircleButton":"Tegn cirkel","drawRectButton":"Tegn firkant","editButton":"Rediger","dragButton":"Tr\xe6k","cutButton":"Klip","deleteButton":"Fjern","drawCircleMarkerButton":"Tegn cirkelmark\xf8r","snappingButton":"Fastg\xf8r trukket mark\xf8r til andre elementer","pinningButton":"Sammenl\xe6g delte elementer"}}'),no:JSON.parse('{"tooltips":{"placeMarker":"Klikk for \xe5 plassere punkt","firstVertex":"Klikk for \xe5 plassere f\xf8rste punkt","continueLine":"Klikk for \xe5 tegne videre","finishLine":"Klikk p\xe5 et eksisterende punkt for \xe5 fullf\xf8re","finishPoly":"Klikk f\xf8rste punkt for \xe5 fullf\xf8re","finishRect":"Klikk for \xe5 fullf\xf8re","startCircle":"Klikk for \xe5 sette sirkel midtpunkt","finishCircle":"Klikk for \xe5 fullf\xf8re sirkel","placeCircleMarker":"Klikk for \xe5 plassere sirkel"},"actions":{"finish":"Fullf\xf8r","cancel":"Kanseller","removeLastVertex":"Fjern forrige punkt"},"buttonTitles":{"drawMarkerButton":"Tegn Punkt","drawPolyButton":"Tegn Flate","drawLineButton":"Tegn Linje","drawCircleButton":"Tegn Sirkel","drawRectButton":"Tegn rektangel","editButton":"Rediger Objekter","dragButton":"Dra Objekter","cutButton":"Kutt Objekter","deleteButton":"Fjern Objekter","drawCircleMarkerButton":"Tegn sirkel-punkt","snappingButton":"Fest dratt punkt til andre objekter og punkt","pinningButton":"Pin delte punkt sammen"}}'),fa:JSON.parse('{"tooltips":{"placeMarker":"\u06a9\u0644\u06cc\u06a9 \u0628\u0631\u0627\u06cc \u062c\u0627\u0646\u0645\u0627\u06cc\u06cc \u0646\u0634\u0627\u0646","firstVertex":"\u06a9\u0644\u06cc\u06a9 \u0628\u0631\u0627\u06cc \u0631\u0633\u0645 \u0627\u0648\u0644\u06cc\u0646 \u0631\u0623\u0633","continueLine":"\u06a9\u0644\u06cc\u06a9 \u0628\u0631\u0627\u06cc \u0627\u062f\u0627\u0645\u0647 \u0631\u0633\u0645","finishLine":"\u06a9\u0644\u06cc\u06a9 \u0631\u0648\u06cc \u0647\u0631 \u0646\u0634\u0627\u0646 \u0645\u0648\u062c\u0648\u062f \u0628\u0631\u0627\u06cc \u067e\u0627\u06cc\u0627\u0646","finishPoly":"\u06a9\u0644\u06cc\u06a9 \u0631\u0648\u06cc \u0627\u0648\u0644\u06cc\u0646 \u0646\u0634\u0627\u0646 \u0628\u0631\u0627\u06cc \u067e\u0627\u06cc\u0627\u0646","finishRect":"\u06a9\u0644\u06cc\u06a9 \u0628\u0631\u0627\u06cc \u067e\u0627\u06cc\u0627\u0646","startCircle":"\u06a9\u0644\u06cc\u06a9 \u0628\u0631\u0627\u06cc \u0631\u0633\u0645 \u0645\u0631\u06a9\u0632 \u062f\u0627\u06cc\u0631\u0647","finishCircle":"\u06a9\u0644\u06cc\u06a9 \u0628\u0631\u0627\u06cc \u067e\u0627\u06cc\u0627\u0646 \u0631\u0633\u0645 \u062f\u0627\u06cc\u0631\u0647","placeCircleMarker":"\u06a9\u0644\u06cc\u06a9 \u0628\u0631\u0627\u06cc \u0631\u0633\u0645 \u0646\u0634\u0627\u0646 \u062f\u0627\u06cc\u0631\u0647","placeText":"\u06a9\u0644\u06cc\u06a9 \u0628\u0631\u0627\u06cc \u0646\u0648\u0634\u062a\u0646 \u0645\u062a\u0646"},"actions":{"finish":"\u067e\u0627\u06cc\u0627\u0646","cancel":"\u0644\u0641\u0648","removeLastVertex":"\u062d\u0630\u0641 \u0622\u062e\u0631\u06cc\u0646 \u0631\u0623\u0633"},"buttonTitles":{"drawMarkerButton":"\u062f\u0631\u062c \u0646\u0634\u0627\u0646","drawPolyButton":"\u0631\u0633\u0645 \u0686\u0646\u062f\u0636\u0644\u0639\u06cc","drawLineButton":"\u0631\u0633\u0645 \u062e\u0637","drawCircleButton":"\u0631\u0633\u0645 \u062f\u0627\u06cc\u0631\u0647","drawRectButton":"\u0631\u0633\u0645 \u0686\u0647\u0627\u0631\u0636\u0644\u0639\u06cc","editButton":"\u0648\u06cc\u0631\u0627\u06cc\u0634 \u0644\u0627\u06cc\u0647\u200c\u0647\u0627","dragButton":"\u062c\u0627\u0628\u062c\u0627\u06cc\u06cc \u0644\u0627\u06cc\u0647\u200c\u0647\u0627","cutButton":"\u0628\u0631\u0634 \u0644\u0627\u06cc\u0647\u200c\u0647\u0627","deleteButton":"\u062d\u0630\u0641 \u0644\u0627\u06cc\u0647\u200c\u0647\u0627","drawCircleMarkerButton":"\u0631\u0633\u0645 \u0646\u0634\u0627\u0646 \u062f\u0627\u06cc\u0631\u0647","snappingButton":"\u0646\u0634\u0627\u0646\u06af\u0631 \u0631\u0627 \u0628\u0647 \u0644\u0627\u06cc\u0647\u200c\u0647\u0627 \u0648 \u0631\u0626\u0648\u0633 \u062f\u06cc\u06af\u0631 \u0628\u06a9\u0634\u06cc\u062f","pinningButton":"\u0631\u0626\u0648\u0633 \u0645\u0634\u062a\u0631\u06a9 \u0631\u0627 \u0628\u0627 \u0647\u0645 \u067e\u06cc\u0646 \u06a9\u0646\u06cc\u062f","rotateButton":"\u0686\u0631\u062e\u0634 \u0644\u0627\u06cc\u0647","drawTextButton":"\u0631\u0633\u0645 \u0645\u062a\u0646"}}'),ua:JSON.parse('{"tooltips":{"placeMarker":"\u041d\u0430\u0442\u0438\u0441\u043d\u0456\u0442\u044c, \u0449\u043e\u0431 \u043d\u0430\u043d\u0435\u0441\u0442\u0438 \u043c\u0430\u0440\u043a\u0435\u0440","firstVertex":"\u041d\u0430\u0442\u0438\u0441\u043d\u0456\u0442\u044c, \u0449\u043e\u0431 \u043d\u0430\u043d\u0435\u0441\u0442\u0438 \u043f\u0435\u0440\u0448\u0443 \u0432\u0435\u0440\u0448\u0438\u043d\u0443","continueLine":"\u041d\u0430\u0442\u0438\u0441\u043d\u0456\u0442\u044c, \u0449\u043e\u0431 \u043f\u0440\u043e\u0434\u043e\u0432\u0436\u0438\u0442\u0438 \u043c\u0430\u043b\u044e\u0432\u0430\u0442\u0438","finishLine":"\u041d\u0430\u0442\u0438\u0441\u043d\u0456\u0442\u044c \u0431\u0443\u0434\u044c-\u044f\u043a\u0438\u0439 \u0456\u0441\u043d\u0443\u044e\u0447\u0438\u0439 \u043c\u0430\u0440\u043a\u0435\u0440 \u0434\u043b\u044f \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043d\u044f","finishPoly":"\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044c \u043f\u0435\u0440\u0448\u0438\u0439 \u043c\u0430\u0440\u043a\u0435\u0440, \u0449\u043e\u0431 \u0437\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u0438","finishRect":"\u041d\u0430\u0442\u0438\u0441\u043d\u0456\u0442\u044c, \u0449\u043e\u0431 \u0437\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u0438","startCircle":"\u041d\u0430\u0442\u0438\u0441\u043d\u0456\u0442\u044c, \u0449\u043e\u0431 \u0434\u043e\u0434\u0430\u0442\u0438 \u0446\u0435\u043d\u0442\u0440 \u043a\u043e\u043b\u0430","finishCircle":"\u041d\u0430\u0442\u0438\u0441\u043d\u0456\u0442\u044c, \u0449\u043e\u0431 \u0437\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u0438 \u043a\u043e\u043b\u043e","placeCircleMarker":"\u041d\u0430\u0442\u0438\u0441\u043d\u0456\u0442\u044c, \u0449\u043e\u0431 \u043d\u0430\u043d\u0435\u0441\u0442\u0438 \u043a\u0440\u0443\u0433\u043e\u0432\u0438\u0439 \u043c\u0430\u0440\u043a\u0435\u0440"},"actions":{"finish":"\u0417\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u0438","cancel":"\u0412\u0456\u0434\u043c\u0456\u043d\u0438\u0442\u0438","removeLastVertex":"\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u043f\u043e\u043f\u0435\u0440\u0435\u0434\u043d\u044e \u0432\u0435\u0440\u0448\u0438\u043d\u0443"},"buttonTitles":{"drawMarkerButton":"\u041c\u0430\u043b\u044e\u0432\u0430\u0442\u0438 \u043c\u0430\u0440\u043a\u0435\u0440","drawPolyButton":"\u041c\u0430\u043b\u044e\u0432\u0430\u0442\u0438 \u043f\u043e\u043b\u0456\u0433\u043e\u043d","drawLineButton":"\u041c\u0430\u043b\u044e\u0432\u0430\u0442\u0438 \u043a\u0440\u0438\u0432\u0443","drawCircleButton":"\u041c\u0430\u043b\u044e\u0432\u0430\u0442\u0438 \u043a\u043e\u043b\u043e","drawRectButton":"\u041c\u0430\u043b\u044e\u0432\u0430\u0442\u0438 \u043f\u0440\u044f\u043c\u043e\u043a\u0443\u0442\u043d\u0438\u043a","editButton":"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u0448\u0430\u0440\u0438","dragButton":"\u041f\u0435\u0440\u0435\u043d\u0435\u0441\u0442\u0438 \u0448\u0430\u0440\u0438","cutButton":"\u0412\u0438\u0440\u0456\u0437\u0430\u0442\u0438 \u0448\u0430\u0440\u0438","deleteButton":"\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u0448\u0430\u0440\u0438","drawCircleMarkerButton":"\u041c\u0430\u043b\u044e\u0432\u0430\u0442\u0438 \u043a\u0440\u0443\u0433\u043e\u0432\u0438\u0439 \u043c\u0430\u0440\u043a\u0435\u0440","snappingButton":"\u041f\u0440\u0438\u0432\u2019\u044f\u0437\u0430\u0442\u0438 \u043f\u0435\u0440\u0435\u0442\u044f\u0433\u043d\u0443\u0442\u0438\u0439 \u043c\u0430\u0440\u043a\u0435\u0440 \u0434\u043e \u0456\u043d\u0448\u0438\u0445 \u0448\u0430\u0440\u0456\u0432 \u0442\u0430 \u0432\u0435\u0440\u0448\u0438\u043d","pinningButton":"\u0417\u0432\'\u044f\u0437\u0430\u0442\u0438 \u0441\u043f\u0456\u043b\u044c\u043d\u0456 \u0432\u0435\u0440\u0448\u0438\u043d\u0438 \u0440\u0430\u0437\u043e\u043c"}}'),tr:JSON.parse('{"tooltips":{"placeMarker":"\u0130\u015faret\xe7i yerle\u015ftirmek i\xe7in t\u0131klay\u0131n","firstVertex":"\u0130lk tepe noktas\u0131n\u0131 yerle\u015ftirmek i\xe7in t\u0131klay\u0131n","continueLine":"\xc7izime devam etmek i\xe7in t\u0131klay\u0131n","finishLine":"Bitirmek i\xe7in mevcut herhangi bir i\u015faret\xe7iyi t\u0131klay\u0131n","finishPoly":"Bitirmek i\xe7in ilk i\u015faret\xe7iyi t\u0131klay\u0131n","finishRect":"Bitirmek i\xe7in t\u0131klay\u0131n","startCircle":"Daire merkezine yerle\u015ftirmek i\xe7in t\u0131klay\u0131n","finishCircle":"Daireyi bitirmek i\xe7in t\u0131klay\u0131n","placeCircleMarker":"Daire i\u015faret\xe7isi yerle\u015ftirmek i\xe7in t\u0131klay\u0131n"},"actions":{"finish":"Bitir","cancel":"\u0130ptal","removeLastVertex":"Son k\xf6\u015feyi kald\u0131r"},"buttonTitles":{"drawMarkerButton":"\xc7izim \u0130\u015faret\xe7isi","drawPolyButton":"\xc7okgenler \xe7iz","drawLineButton":"\xc7oklu \xe7izgi \xe7iz","drawCircleButton":"\xc7ember \xe7iz","drawRectButton":"Dikd\xf6rtgen \xe7iz","editButton":"Katmanlar\u0131 d\xfczenle","dragButton":"Katmanlar\u0131 s\xfcr\xfckle","cutButton":"Katmanlar\u0131 kes","deleteButton":"Katmanlar\u0131 kald\u0131r","drawCircleMarkerButton":"Daire i\u015faret\xe7isi \xe7iz","snappingButton":"S\xfcr\xfcklenen i\u015faret\xe7iyi di\u011fer katmanlara ve k\xf6\u015felere yap\u0131\u015ft\u0131r","pinningButton":"Payla\u015f\u0131lan k\xf6\u015feleri birbirine sabitle"}}'),cz:JSON.parse('{"tooltips":{"placeMarker":"Kliknut\xedm vytvo\u0159\xedte zna\u010dku","firstVertex":"Kliknut\xedm vytvo\u0159\xedte prvn\xed objekt","continueLine":"Kliknut\xedm pokra\u010dujte v kreslen\xed","finishLine":"Kliknut\xed na libovolnou existuj\xedc\xed zna\u010dku pro dokon\u010den\xed","finishPoly":"Vyberte prvn\xed bod pro dokon\u010den\xed","finishRect":"Klikn\u011bte pro dokon\u010den\xed","startCircle":"Kliknut\xedm p\u0159idejte st\u0159ed kruhu","finishCircle":"\u041d\u0430\u0436\u043c\u0438\u0442\u0435, \u0447\u0442\u043e\u0431\u044b \u0437\u0430\u0434\u0430\u0442\u044c \u0440\u0430\u0434\u0438\u0443\u0441","placeCircleMarker":"Kliknut\xedm nastavte polom\u011br"},"actions":{"finish":"Dokon\u010dit","cancel":"Zru\u0161it","removeLastVertex":"Zru\u0161it posledn\xed akci"},"buttonTitles":{"drawMarkerButton":"P\u0159idat zna\u010dku","drawPolyButton":"Nakreslit polygon","drawLineButton":"Nakreslit k\u0159ivku","drawCircleButton":"Nakreslit kruh","drawRectButton":"Nakreslit obd\xe9ln\xedk","editButton":"Upravit vrstvu","dragButton":"P\u0159eneste vrstvu","cutButton":"Vyjmout vrstvu","deleteButton":"Smazat vrstvu","drawCircleMarkerButton":"P\u0159idat kruhovou zna\u010dku","snappingButton":"Nav\xe1zat ta\u017enou zna\u010dku k dal\u0161\xedm vrstv\xe1m a vrchol\u016fm","pinningButton":"Spojit spole\u010dn\xe9 body dohromady"}}'),ja:JSON.parse('{"tooltips":{"placeMarker":"\u30af\u30ea\u30c3\u30af\u3057\u3066\u30de\u30fc\u30ab\u30fc\u3092\u914d\u7f6e","firstVertex":"\u30af\u30ea\u30c3\u30af\u3057\u3066\u6700\u521d\u306e\u9802\u70b9\u3092\u914d\u7f6e","continueLine":"\u30af\u30ea\u30c3\u30af\u3057\u3066\u63cf\u753b\u3092\u7d9a\u3051\u308b","finishLine":"\u4efb\u610f\u306e\u30de\u30fc\u30ab\u30fc\u3092\u30af\u30ea\u30c3\u30af\u3057\u3066\u7d42\u4e86","finishPoly":"\u6700\u521d\u306e\u30de\u30fc\u30ab\u30fc\u3092\u30af\u30ea\u30c3\u30af\u3057\u3066\u7d42\u4e86","finishRect":"\u30af\u30ea\u30c3\u30af\u3057\u3066\u7d42\u4e86","startCircle":"\u30af\u30ea\u30c3\u30af\u3057\u3066\u5186\u306e\u4e2d\u5fc3\u3092\u914d\u7f6e","finishCircle":"\u30af\u30ea\u30c3\u30af\u3057\u3066\u5186\u306e\u63cf\u753b\u3092\u7d42\u4e86","placeCircleMarker":"\u30af\u30ea\u30c3\u30af\u3057\u3066\u5186\u30de\u30fc\u30ab\u30fc\u3092\u914d\u7f6e","placeText":"\u30af\u30ea\u30c3\u30af\u3057\u3066\u30c6\u30ad\u30b9\u30c8\u3092\u914d\u7f6e"},"actions":{"finish":"\u7d42\u4e86","cancel":"\u30ad\u30e3\u30f3\u30bb\u30eb","removeLastVertex":"\u6700\u5f8c\u306e\u9802\u70b9\u3092\u524a\u9664"},"buttonTitles":{"drawMarkerButton":"\u30de\u30fc\u30ab\u30fc\u3092\u63cf\u753b","drawPolyButton":"\u30dd\u30ea\u30b4\u30f3\u3092\u63cf\u753b","drawLineButton":"\u6298\u308c\u7dda\u3092\u63cf\u753b","drawCircleButton":"\u5186\u3092\u63cf\u753b","drawRectButton":"\u77e9\u5f62\u3092\u63cf\u753b","editButton":"\u30ec\u30a4\u30e4\u30fc\u3092\u7de8\u96c6","dragButton":"\u30ec\u30a4\u30e4\u30fc\u3092\u30c9\u30e9\u30c3\u30b0","cutButton":"\u30ec\u30a4\u30e4\u30fc\u3092\u5207\u308a\u53d6\u308a","deleteButton":"\u30ec\u30a4\u30e4\u30fc\u3092\u524a\u9664","drawCircleMarkerButton":"\u5186\u30de\u30fc\u30ab\u30fc\u3092\u63cf\u753b","snappingButton":"\u30c9\u30e9\u30c3\u30b0\u3057\u305f\u30de\u30fc\u30ab\u30fc\u3092\u4ed6\u306e\u30ec\u30a4\u30e4\u30fc\u3084\u9802\u70b9\u306b\u30b9\u30ca\u30c3\u30d7\u3059\u308b","pinningButton":"\u5171\u6709\u3059\u308b\u9802\u70b9\u3092\u540c\u6642\u306b\u52d5\u304b\u3059","rotateButton":"\u30ec\u30a4\u30e4\u30fc\u3092\u56de\u8ee2","drawTextButton":"\u30c6\u30ad\u30b9\u30c8\u3092\u63cf\u753b"}}'),fi:JSON.parse('{"tooltips":{"placeMarker":"Klikkaa asettaaksesi merkin","firstVertex":"Klikkaa asettaakseni ensimm\xe4isen osuuden","continueLine":"Klikkaa jatkaaksesi piirt\xe4mist\xe4","finishLine":"Klikkaa olemassa olevaa merkki\xe4 lopettaaksesi","finishPoly":"Klikkaa ensimm\xe4ist\xe4 merkki\xe4 lopettaaksesi","finishRect":"Klikkaa lopettaaksesi","startCircle":"Klikkaa asettaaksesi ympyr\xe4n keskipisteen","finishCircle":"Klikkaa lopettaaksesi ympyr\xe4n","placeCircleMarker":"Klikkaa asettaaksesi ympyr\xe4merkin","placeText":"Klikkaa asettaaksesi tekstin"},"actions":{"finish":"Valmis","cancel":"Peruuta","removeLastVertex":"Poista viimeinen osuus"},"buttonTitles":{"drawMarkerButton":"Piirr\xe4 merkkej\xe4","drawPolyButton":"Piirr\xe4 monikulmioita","drawLineButton":"Piirr\xe4 viivoja","drawCircleButton":"Piirr\xe4 ympyr\xe4","drawRectButton":"Piirr\xe4 neliskulmioita","editButton":"Muokkaa","dragButton":"Siirr\xe4","cutButton":"Leikkaa","deleteButton":"Poista","drawCircleMarkerButton":"Piirr\xe4 ympyr\xe4merkki","snappingButton":"Kiinnit\xe4 siirrett\xe4v\xe4 merkki toisiin muotoihin","pinningButton":"Kiinnit\xe4 jaetut muodot yhteen","rotateButton":"K\xe4\xe4nn\xe4","drawTextButton":"Piirr\xe4 teksti\xe4"}}'),ko:JSON.parse('{"tooltips":{"placeMarker":"\ub9c8\ucee4 \uc704\uce58\ub97c \ud074\ub9ad\ud558\uc138\uc694","firstVertex":"\uccab\ubc88\uc9f8 \uaf2d\uc9c0\uc810 \uc704\uce58\uc744 \ud074\ub9ad\ud558\uc138\uc694","continueLine":"\uacc4\uc18d \uadf8\ub9ac\ub824\uba74 \ud074\ub9ad\ud558\uc138\uc694","finishLine":"\ub05d\ub0b4\ub824\uba74 \uae30\uc874 \ub9c8\ucee4\ub97c \ud074\ub9ad\ud558\uc138\uc694","finishPoly":"\ub05d\ub0b4\ub824\uba74 \ucc98\uc74c \ub9c8\ucee4\ub97c \ud074\ub9ad\ud558\uc138\uc694","finishRect":"\ub05d\ub0b4\ub824\uba74 \ud074\ub9ad\ud558\uc138\uc694","startCircle":"\uc6d0\uc758 \uc911\uc2ec\uc774 \ub420 \uc704\uce58\ub97c \ud074\ub9ad\ud558\uc138\uc694","finishCircle":"\uc6d0\uc744 \ub05d\ub0b4\ub824\uba74 \ud074\ub9ad\ud558\uc138\uc694","placeCircleMarker":"\uc6d0 \ub9c8\ucee4 \uc704\uce58\ub97c \ud074\ub9ad\ud558\uc138\uc694","placeText":"\ud14d\uc2a4\ud2b8 \uc704\uce58\ub97c \ud074\ub9ad\ud558\uc138\uc694"},"actions":{"finish":"\ub05d\ub0b4\uae30","cancel":"\ucde8\uc18c","removeLastVertex":"\ub9c8\uc9c0\ub9c9 \uaf2d\uc9c0\uc810 \uc81c\uac70"},"buttonTitles":{"drawMarkerButton":"\ub9c8\ucee4 \uadf8\ub9ac\uae30","drawPolyButton":"\ub2e4\uac01\ud615 \uadf8\ub9ac\uae30","drawLineButton":"\ub2e4\uac01\uc120 \uadf8\ub9ac\uae30","drawCircleButton":"\uc6d0 \uadf8\ub9ac\uae30","drawRectButton":"\uc9c1\uc0ac\uac01\ud615 \uadf8\ub9ac\uae30","editButton":"\ub808\uc774\uc5b4 \ud3b8\uc9d1\ud558\uae30","dragButton":"\ub808\uc774\uc5b4 \ub04c\uae30","cutButton":"\ub808\uc774\uc5b4 \uc790\ub974\uae30","deleteButton":"\ub808\uc774\uc5b4 \uc81c\uac70\ud558\uae30","drawCircleMarkerButton":"\uc6d0 \ub9c8\ucee4 \uadf8\ub9ac\uae30","snappingButton":"\uc7a1\uc544\ub048 \ub9c8\ucee4\ub97c \ub2e4\ub978 \ub808\uc774\uc5b4 \ubc0f \uaf2d\uc9c0\uc810\uc5d0 \ub4e4\ub7ec\ubd99\uac8c \ud558\uae30","pinningButton":"\uacf5\uc720 \uaf2d\uc9c0\uc810\uc744 \ud568\uaed8 \ucc0d\uae30","rotateButton":"\ub808\uc774\uc5b4 \ud68c\uc804\ud558\uae30","drawTextButton":"\ud14d\uc2a4\ud2b8 \uadf8\ub9ac\uae30"}}')};function R(m,v){var M=Object.keys(m);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(m);v&&(B=B.filter(function(X){return Object.getOwnPropertyDescriptor(m,X).enumerable})),M.push.apply(M,B)}return M}function V(m){for(var v=1;v<arguments.length;v++){var M=null!=arguments[v]?arguments[v]:{};v%2?R(Object(M),!0).forEach(function(B){J(m,B,M[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(M)):R(Object(M)).forEach(function(B){Object.defineProperty(m,B,Object.getOwnPropertyDescriptor(M,B))})}return m}function J(m,v,M){return v in m?Object.defineProperty(m,v,{value:M,enumerable:!0,configurable:!0,writable:!0}):m[v]=M,m}const Q={_globalEditModeEnabled:!1,enableGlobalEditMode:function(m){var v=V({},m);this._globalEditModeEnabled=!0,this.Toolbar.toggleButton("editMode",this.globalEditModeEnabled()),L.PM.Utils.findLayers(this.map).forEach(function(M){M.pm.enable(v)}),this.throttledReInitEdit||(this.throttledReInitEdit=L.Util.throttle(this.handleLayerAdditionInGlobalEditMode,100,this)),this._addedLayers={},this.map.on("layeradd",this._layerAdded,this),this.map.on("layeradd",this.throttledReInitEdit,this),this._fireGlobalEditModeToggled(!0)},disableGlobalEditMode:function(){this._globalEditModeEnabled=!1,L.PM.Utils.findLayers(this.map).forEach(function(m){m.pm.disable()}),this.map.off("layeradd",this.throttledReInitEdit,this),this.Toolbar.toggleButton("editMode",this.globalEditModeEnabled()),this._fireGlobalEditModeToggled(!1)},globalEditEnabled:function(){return this.globalEditModeEnabled()},globalEditModeEnabled:function(){return this._globalEditModeEnabled},toggleGlobalEditMode:function(){var m=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.globalOptions;this.globalEditModeEnabled()?this.disableGlobalEditMode():this.enableGlobalEditMode(m)},handleLayerAdditionInGlobalEditMode:function(){var m=this._addedLayers;for(var v in this._addedLayers={},m){var M=m[v];this._isRelevantForEdit(M)&&this.globalEditModeEnabled()&&M.pm.enable(V({},this.globalOptions))}},_layerAdded:function(m){var v=m.layer;this._addedLayers[L.stamp(v)]=v},_isRelevantForEdit:function(m){return m.pm&&!(m instanceof L.LayerGroup)&&(!L.PM.optIn&&!m.options.pmIgnore||L.PM.optIn&&!1===m.options.pmIgnore)&&!m._pmTempLayer&&m.pm.options.allowEditing}},ee={_globalDragModeEnabled:!1,enableGlobalDragMode:function(){var m=L.PM.Utils.findLayers(this.map);this._globalDragModeEnabled=!0,this._addedLayersDrag={},m.forEach(function(v){v.pm.enableLayerDrag()}),this.throttledReInitDrag||(this.throttledReInitDrag=L.Util.throttle(this.reinitGlobalDragMode,100,this)),this.map.on("layeradd",this._layerAddedDrag,this),this.map.on("layeradd",this.throttledReInitDrag,this),this.Toolbar.toggleButton("dragMode",this.globalDragModeEnabled()),this._fireGlobalDragModeToggled(!0)},disableGlobalDragMode:function(){var m=L.PM.Utils.findLayers(this.map);this._globalDragModeEnabled=!1,m.forEach(function(v){v.pm.disableLayerDrag()}),this.map.off("layeradd",this._layerAddedDrag,this),this.map.off("layeradd",this.throttledReInitDrag,this),this.Toolbar.toggleButton("dragMode",this.globalDragModeEnabled()),this._fireGlobalDragModeToggled(!1)},globalDragModeEnabled:function(){return!!this._globalDragModeEnabled},toggleGlobalDragMode:function(){this.globalDragModeEnabled()?this.disableGlobalDragMode():this.enableGlobalDragMode()},reinitGlobalDragMode:function(){var m=this._addedLayersDrag;for(var v in this._addedLayersDrag={},m){var M=m[v];this._isRelevantForDrag(M)&&this.globalDragModeEnabled()&&M.pm.enableLayerDrag()}},_layerAddedDrag:function(m){var v=m.layer;this._addedLayersDrag[L.stamp(v)]=v},_isRelevantForDrag:function(m){return m.pm&&!(m instanceof L.LayerGroup)&&(!L.PM.optIn&&!m.options.pmIgnore||L.PM.optIn&&!1===m.options.pmIgnore)&&!m._pmTempLayer&&m.pm.options.draggable}},ie={_globalRemovalModeEnabled:!1,enableGlobalRemovalMode:function(){var m=this;this._globalRemovalModeEnabled=!0,this.map.eachLayer(function(v){m._isRelevantForRemoval(v)&&(v.pm.disable(),v.on("click",m.removeLayer,m))}),this.throttledReInitRemoval||(this.throttledReInitRemoval=L.Util.throttle(this.reinitGlobalRemovalMode,100,this)),this.map.on("layeradd",this.throttledReInitRemoval,this),this.Toolbar.toggleButton("removalMode",this.globalRemovalModeEnabled()),this._fireGlobalRemovalModeToggled(!0)},disableGlobalRemovalMode:function(){var m=this;this._globalRemovalModeEnabled=!1,this.map.eachLayer(function(v){v.off("click",m.removeLayer,m)}),this.map.off("layeradd",this.throttledReInitRemoval,this),this.Toolbar.toggleButton("removalMode",this.globalRemovalModeEnabled()),this._fireGlobalRemovalModeToggled(!1)},globalRemovalEnabled:function(){return this.globalRemovalModeEnabled()},globalRemovalModeEnabled:function(){return!!this._globalRemovalModeEnabled},toggleGlobalRemovalMode:function(){this.globalRemovalModeEnabled()?this.disableGlobalRemovalMode():this.enableGlobalRemovalMode()},reinitGlobalRemovalMode:function(m){this._isRelevantForRemoval(m.layer)&&this.globalRemovalModeEnabled()&&(this.disableGlobalRemovalMode(),this.enableGlobalRemovalMode())},removeLayer:function(m){var v=m.target;this._isRelevantForRemoval(v)&&!v.pm.dragging()&&(v.removeFrom(this.map.pm._getContainingLayer()),v.remove(),v instanceof L.LayerGroup?(this._fireRemoveLayerGroup(v),this._fireRemoveLayerGroup(this.map,v)):(v.pm._fireRemove(v),v.pm._fireRemove(this.map,v)))},_isRelevantForRemoval:function(m){return m.pm&&!(m instanceof L.LayerGroup)&&(!L.PM.optIn&&!m.options.pmIgnore||L.PM.optIn&&!1===m.options.pmIgnore)&&!m._pmTempLayer&&m.pm.options.allowRemoval}},W={_globalRotateModeEnabled:!1,enableGlobalRotateMode:function(){var m=this;this._globalRotateModeEnabled=!0,L.PM.Utils.findLayers(this.map).filter(function(v){return v instanceof L.Polyline}).forEach(function(v){m._isRelevantForRotate(v)&&v.pm.enableRotate()}),this.throttledReInitRotate||(this.throttledReInitRotate=L.Util.throttle(this._reinitGlobalRotateMode,100,this)),this.map.on("layeradd",this.throttledReInitRotate,this),this.Toolbar.toggleButton("rotateMode",this.globalRotateModeEnabled()),this._fireGlobalRotateModeToggled()},disableGlobalRotateMode:function(){this._globalRotateModeEnabled=!1,L.PM.Utils.findLayers(this.map).filter(function(m){return m instanceof L.Polyline}).forEach(function(m){m.pm.disableRotate()}),this.map.off("layeradd",this.throttledReInitRotate,this),this.Toolbar.toggleButton("rotateMode",this.globalRotateModeEnabled()),this._fireGlobalRotateModeToggled()},globalRotateModeEnabled:function(){return!!this._globalRotateModeEnabled},toggleGlobalRotateMode:function(){this.globalRotateModeEnabled()?this.disableGlobalRotateMode():this.enableGlobalRotateMode()},_reinitGlobalRotateMode:function(m){this._isRelevantForRotate(m.layer)&&this.globalRotateModeEnabled()&&(this.disableGlobalRotateMode(),this.enableGlobalRotateMode())},_isRelevantForRotate:function(m){return m.pm&&!(m instanceof L.LayerGroup)&&(!L.PM.optIn&&!m.options.pmIgnore||L.PM.optIn&&!1===m.options.pmIgnore)&&!m._pmTempLayer&&m.pm.options.allowRotation}};function De(m,v){var M=Object.keys(m);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(m);v&&(B=B.filter(function(X){return Object.getOwnPropertyDescriptor(m,X).enumerable})),M.push.apply(M,B)}return M}function ge(m){for(var v=1;v<arguments.length;v++){var M=null!=arguments[v]?arguments[v]:{};v%2?De(Object(M),!0).forEach(function(B){Ee(m,B,M[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(M)):De(Object(M)).forEach(function(B){Object.defineProperty(m,B,Object.getOwnPropertyDescriptor(M,B))})}return m}function Ee(m,v,M){return v in m?Object.defineProperty(m,v,{value:M,enumerable:!0,configurable:!0,writable:!0}):m[v]=M,m}const Qe={_fireDrawStart:function(){this.__fire(this._map,"pm:drawstart",{shape:this._shape,workingLayer:this._layer},arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Draw",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})},_fireDrawEnd:function(){this.__fire(this._map,"pm:drawend",{shape:this._shape},arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Draw",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})},_fireCreate:function(m){this.__fire(this._map,"pm:create",{shape:this._shape,marker:m,layer:m},arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Draw",arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})},_fireCenterPlaced:function(){var m=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Draw",v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.__fire(this._layer,"pm:centerplaced",{shape:this._shape,workingLayer:"Draw"===m?this._layer:void 0,layer:"Draw"!==m?this._layer:void 0,latlng:this._layer.getLatLng()},m,v)},_fireCut:function(m,v,M){this.__fire(m,"pm:cut",{shape:this._shape,layer:v,originalLayer:M},arguments.length>3&&void 0!==arguments[3]?arguments[3]:"Draw",arguments.length>4&&void 0!==arguments[4]?arguments[4]:{})},_fireEdit:function(){var v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Edit",M=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.__fire(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._layer,"pm:edit",{layer:this._layer,shape:this.getShape()},v,M)},_fireEnable:function(){var m=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Edit",v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.__fire(this._layer,"pm:enable",{layer:this._layer,shape:this.getShape()},m,v)},_fireDisable:function(){var m=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Edit",v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.__fire(this._layer,"pm:disable",{layer:this._layer,shape:this.getShape()},m,v)},_fireUpdate:function(){var m=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Edit",v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.__fire(this._layer,"pm:update",{layer:this._layer,shape:this.getShape()},m,v)},_fireMarkerDragStart:function(m){var v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,M=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Edit",B=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};this.__fire(this._layer,"pm:markerdragstart",{layer:this._layer,markerEvent:m,shape:this.getShape(),indexPath:v},M,B)},_fireMarkerDrag:function(m){var v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,M=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Edit",B=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};this.__fire(this._layer,"pm:markerdrag",{layer:this._layer,markerEvent:m,shape:this.getShape(),indexPath:v},M,B)},_fireMarkerDragEnd:function(m){var v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,M=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,B=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"Edit",X=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};this.__fire(this._layer,"pm:markerdragend",{layer:this._layer,markerEvent:m,shape:this.getShape(),indexPath:v,intersectionReset:M},B,X)},_fireDragStart:function(){var m=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Edit",v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.__fire(this._layer,"pm:dragstart",{layer:this._layer,shape:this.getShape()},m,v)},_fireDrag:function(m){var v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Edit",M=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.__fire(this._layer,"pm:drag",ge(ge({},m),{},{shape:this.getShape()}),v,M)},_fireDragEnd:function(){var m=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Edit",v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.__fire(this._layer,"pm:dragend",{layer:this._layer,shape:this.getShape()},m,v)},_fireDragEnable:function(){var m=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Edit",v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.__fire(this._layer,"pm:dragenable",{layer:this._layer,shape:this.getShape()},m,v)},_fireDragDisable:function(){var m=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Edit",v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.__fire(this._layer,"pm:dragdisable",{layer:this._layer,shape:this.getShape()},m,v)},_fireRemove:function(m){var M=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Edit",B=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};this.__fire(m,"pm:remove",{layer:arguments.length>1&&void 0!==arguments[1]?arguments[1]:m,shape:this.getShape()},M,B)},_fireVertexAdded:function(m,v,M){var B=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"Edit",X=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};this.__fire(this._layer,"pm:vertexadded",{layer:this._layer,workingLayer:this._layer,marker:m,indexPath:v,latlng:M,shape:this.getShape()},B,X)},_fireVertexRemoved:function(m,v){var M=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Edit",B=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};this.__fire(this._layer,"pm:vertexremoved",{layer:this._layer,marker:m,indexPath:v,shape:this.getShape()},M,B)},_fireVertexClick:function(m,v){var M=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Edit",B=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};this.__fire(this._layer,"pm:vertexclick",{layer:this._layer,markerEvent:m,indexPath:v,shape:this.getShape()},M,B)},_fireIntersect:function(m){var v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Edit",M=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.__fire(this._layer,"pm:intersect",{layer:this._layer,intersection:m,shape:this.getShape()},v,M)},_fireLayerReset:function(m,v){var M=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Edit",B=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};this.__fire(this._layer,"pm:layerreset",{layer:this._layer,markerEvent:m,indexPath:v,shape:this.getShape()},M,B)},_fireChange:function(m){var v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Edit",M=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.__fire(this._layer,"pm:change",{layer:this._layer,latlngs:m,shape:this.getShape()},v,M)},_fireTextChange:function(m){var v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Edit",M=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.__fire(this._layer,"pm:textchange",{layer:this._layer,text:m,shape:this.getShape()},v,M)},_fireTextFocus:function(){var m=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Edit",v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.__fire(this._layer,"pm:textfocus",{layer:this._layer,shape:this.getShape()},m,v)},_fireTextBlur:function(){var m=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Edit",v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.__fire(this._layer,"pm:textblur",{layer:this._layer,shape:this.getShape()},m,v)},_fireSnapDrag:function(m,v){this.__fire(m,"pm:snapdrag",v,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Snapping",arguments.length>3&&void 0!==arguments[3]?arguments[3]:{})},_fireSnap:function(m,v){this.__fire(m,"pm:snap",v,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Snapping",arguments.length>3&&void 0!==arguments[3]?arguments[3]:{})},_fireUnsnap:function(m,v){this.__fire(m,"pm:unsnap",v,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Snapping",arguments.length>3&&void 0!==arguments[3]?arguments[3]:{})},_fireRotationEnable:function(m,v){var M=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Rotation",B=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};this.__fire(m,"pm:rotateenable",{layer:this._layer,helpLayer:this._rotatePoly,shape:this.getShape()},M,B)},_fireRotationDisable:function(m){var v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Rotation",M=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.__fire(m,"pm:rotatedisable",{layer:this._layer,shape:this.getShape()},v,M)},_fireRotationStart:function(m,v){this.__fire(m,"pm:rotatestart",{layer:this._rotationLayer,helpLayer:this._layer,startAngle:this._startAngle,originLatLngs:v},arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Rotation",arguments.length>3&&void 0!==arguments[3]?arguments[3]:{})},_fireRotation:function(m,v,M){var B=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this._rotationLayer,X=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"Rotation",Ce=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};this.__fire(m,"pm:rotate",{layer:B,helpLayer:this._layer,startAngle:this._startAngle,angle:B.pm.getAngle(),angleDiff:v,oldLatLngs:M,newLatLngs:B.getLatLngs()},X,Ce)},_fireRotationEnd:function(m,v,M){var B=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"Rotation",X=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};this.__fire(m,"pm:rotateend",{layer:this._rotationLayer,helpLayer:this._layer,startAngle:v,angle:this._rotationLayer.pm.getAngle(),originLatLngs:M,newLatLngs:this._rotationLayer.getLatLngs()},B,X)},_fireActionClick:function(m,v,M){this.__fire(this._map,"pm:actionclick",{text:m.text,action:m,btnName:v,button:M},arguments.length>3&&void 0!==arguments[3]?arguments[3]:"Toolbar",arguments.length>4&&void 0!==arguments[4]?arguments[4]:{})},_fireButtonClick:function(m,v){this.__fire(this._map,"pm:buttonclick",{btnName:m,button:v},arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Toolbar",arguments.length>3&&void 0!==arguments[3]?arguments[3]:{})},_fireLangChange:function(m,v,M,B){this.__fire(this.map,"pm:langchange",{oldLang:m,activeLang:v,fallback:M,translations:B},arguments.length>4&&void 0!==arguments[4]?arguments[4]:"Global",arguments.length>5&&void 0!==arguments[5]?arguments[5]:{})},_fireGlobalDragModeToggled:function(m){this.__fire(this.map,"pm:globaldragmodetoggled",{enabled:m,map:this.map},arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Global",arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})},_fireGlobalEditModeToggled:function(m){this.__fire(this.map,"pm:globaleditmodetoggled",{enabled:m,map:this.map},arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Global",arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})},_fireGlobalRemovalModeToggled:function(m){this.__fire(this.map,"pm:globalremovalmodetoggled",{enabled:m,map:this.map},arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Global",arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})},_fireGlobalCutModeToggled:function(){this.__fire(this._map,"pm:globalcutmodetoggled",{enabled:!!this._enabled,map:this._map},arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Global",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})},_fireGlobalDrawModeToggled:function(){this.__fire(this._map,"pm:globaldrawmodetoggled",{enabled:this._enabled,shape:this._shape,map:this._map},arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Global",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})},_fireGlobalRotateModeToggled:function(){var m=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Global",v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.__fire(this.map,"pm:globalrotatemodetoggled",{enabled:this.globalRotateModeEnabled(),map:this.map},m,v)},_fireRemoveLayerGroup:function(m){this.__fire(m,"pm:remove",{layer:arguments.length>1&&void 0!==arguments[1]?arguments[1]:m,shape:void 0},arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Edit",arguments.length>3&&void 0!==arguments[3]?arguments[3]:{})},_fireKeyeventEvent:function(m,v,M){this.__fire(this.map,"pm:keyevent",{event:m,eventType:v,focusOn:M},arguments.length>3&&void 0!==arguments[3]?arguments[3]:"Global",arguments.length>4&&void 0!==arguments[4]?arguments[4]:{})},__fire:function(m,v,M,B){var X=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};M=O()(M,X,{source:B}),L.PM.Utils._fireEvent(m,v,M)}},We={_lastEvents:{keydown:void 0,keyup:void 0,current:void 0},_initKeyListener:function(m){this.map=m,L.DomEvent.on(document,"keydown keyup",this._onKeyListener,this),L.DomEvent.on(window,"blur",this._onBlur,this)},_onKeyListener:function(m){var v="document";this.map.getContainer().contains(m.target)&&(v="map");var M={event:m,eventType:m.type,focusOn:v};this._lastEvents[m.type]=M,this._lastEvents.current=M,this.map.pm._fireKeyeventEvent(m,m.type,v)},_onBlur:function(m){m.altKey=!1;var v={event:m,eventType:m.type,focusOn:"document"};this._lastEvents[m.type]=v,this._lastEvents.current=v},getLastKeyEvent:function(){return this._lastEvents[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"current"]},isShiftKeyPressed:function(){var m;return null===(m=this._lastEvents.current)||void 0===m?void 0:m.event.shiftKey},isAltKeyPressed:function(){var m;return null===(m=this._lastEvents.current)||void 0===m?void 0:m.event.altKey},isCtrlKeyPressed:function(){var m;return null===(m=this._lastEvents.current)||void 0===m?void 0:m.event.ctrlKey},isMetaKeyPressed:function(){var m;return null===(m=this._lastEvents.current)||void 0===m?void 0:m.event.metaKey},getPressedKey:function(){var m;return null===(m=this._lastEvents.current)||void 0===m?void 0:m.event.key}};var we=x(7361),Me=x.n(we),be=x(8721),Se=x.n(be);function Fe(m){var v=L.PM.activeLang;return Se()(z,v)||(v="en"),Me()(z[v],m)}function me(m){for(var v=0;v<m.length;v+=1){var M=m[v];if(Array.isArray(M)){if(me(M))return!0}else if(null!=M&&""!==M)return!0}return!1}function rt(m){return m.reduce(function(v,M){if(0!==M.length){var B=Array.isArray(M)?rt(M):M;Array.isArray(B)?0!==B.length&&v.push(B):v.push(B)}return v},[])}function qe(m,v,M){for(var B,X,Ce,Pe=6356752.3142,Te=.0033528106647474805,ze=m.lng,Je=m.lat,ht=M,ut=Math.PI,Ct=v*ut/180,Lt=Math.sin(Ct),an=Math.cos(Ct),Ot=(1-Te)*Math.tan(Je*ut/180),Mn=1/Math.sqrt(1+Ot*Ot),$t=Ot*Mn,Jr=Math.atan2(Ot,an),gt=Mn*Lt,to=1-gt*gt,zn=272331606681.9453*to/(Pe*Pe),al=1+zn/16384*(4096+zn*(zn*(320-175*zn)-768)),Yi=zn/1024*(256+zn*(zn*(74-47*zn)-128)),No=ht/(Pe*al),no=2*Math.PI;Math.abs(No-no)>1e-12;)B=Math.cos(2*Jr+No),no=No,No=ht/(Pe*al)+Yi*(X=Math.sin(No))*(B+Yi/4*((Ce=Math.cos(No))*(2*B*B-1)-Yi/6*B*(4*X*X-3)*(4*B*B-3)));var la=$t*X-Mn*Ce*an,ts=Math.atan2($t*Ce+Mn*X*an,(1-Te)*Math.sqrt(gt*gt+la*la)),Ns=Te/16*to*(4+Te*(4-3*to)),mi=ze+180*(Math.atan2(X*Lt,Mn*Ce-$t*X*an)-(1-Ns)*Te*gt*(No+Ns*X*(B+Ns*Ce*(2*B*B-1))))/ut;return L.latLng(mi,180*ts/ut)}function dt(m,v,M,B){for(var X,Ce,Ie=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],Pe=[],Te=0;Te<M;Te+=1){if(Ie)X=qe(m,360*Te/M+B,v),Ce=L.latLng(X.lng,X.lat);else{var ze=m.lat+Math.cos(2*Te*Math.PI/M)*v,Je=m.lng+Math.sin(2*Te*Math.PI/M)*v;Ce=L.latLng(ze,Je)}Pe.push(Ce)}return Pe}function $e(m,v,M,B){var Ce,Pe,Te,ze,Je;return function(Ce,Ie,Pe){Ie=(Ie+360)%360;var Te=Math.PI/180,ze=180/Math.PI,ht=Ce.lng*Te,ut=Ce.lat*Te,Ct=Ie*Te,Lt=Math.sin(ut),an=Math.cos(ut),Ot=Math.cos(Pe/6378137),Mn=Math.sin(Pe/6378137),$t=Math.asin(Lt*Ot+an*Mn*Math.cos(Ct)),Jr=ht+Math.atan2(Math.sin(Ct)*Mn*an,Ot-Lt*Math.sin($t));return Jr=(Jr*=ze)>180?Jr-360:Jr<-180?Jr+360:Jr,L.latLng([$t*ze,Jr])}(v,(Pe=M,Te=(Ce=m).latLngToContainerPoint(v),ze=Ce.latLngToContainerPoint(Pe),(Je=180*Math.atan2(ze.y-Te.y,ze.x-Te.x)/Math.PI+90)+(Je<0?360:0)),B)}function Et(m){var v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m.getLatLngs();return m instanceof L.Polygon?L.polygon(v).getLatLngs():L.polyline(v).getLatLngs()}function Dt(m,v){var M,B;if(null!==(M=v.options.crs)&&void 0!==M&&null!==(B=M.projection)&&void 0!==B&&B.MAX_LATITUDE){var X,Ce,Ie=null===(X=v.options.crs)||void 0===X||null===(Ce=X.projection)||void 0===Ce?void 0:Ce.MAX_LATITUDE;m.lat=Math.max(Math.min(Ie,m.lat),-Ie)}return m}function Ft(m){return m.options.renderer||m._map&&(m._map._getPaneRenderer(m.options.pane)||m._map.options.renderer||m._map._renderer)||m._renderer}const yt=L.Class.extend({includes:[Q,ee,ie,W,Qe],initialize:function(m){this.map=m,this.Draw=new L.PM.Draw(m),this.Toolbar=new L.PM.Toolbar(m),this.Keyboard=We,this.globalOptions={snappable:!0,layerGroup:void 0,snappingOrder:["Marker","CircleMarker","Circle","Line","Polygon","Rectangle"],panes:{vertexPane:"markerPane",layerPane:"overlayPane",markerPane:"markerPane"},draggable:!0},this.Keyboard._initKeyListener(m)},setLang:function(){var m=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en",v=arguments.length>1?arguments[1]:void 0,M=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"en",B=L.PM.activeLang;v&&(z[m]=O()(z[M],v)),L.PM.activeLang=m,this.map.pm.Toolbar.reinit(),this._fireLangChange(B,m,M,z[m])},addControls:function(m){this.Toolbar.addControls(m)},removeControls:function(){this.Toolbar.removeControls()},toggleControls:function(){this.Toolbar.toggleControls()},controlsVisible:function(){return this.Toolbar.isVisible},enableDraw:function(){var m=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Polygon";"Poly"===m&&(m="Polygon"),this.Draw.enable(m,arguments.length>1?arguments[1]:void 0)},disableDraw:function(){var m=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Polygon";"Poly"===m&&(m="Polygon"),this.Draw.disable(m)},setPathOptions:function(m){var v=this,M=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},B=M.ignoreShapes||[],X=M.merge||!1;this.map.pm.Draw.shapes.forEach(function(Ce){-1===B.indexOf(Ce)&&v.map.pm.Draw[Ce].setPathOptions(m,X)})},getGlobalOptions:function(){return this.globalOptions},setGlobalOptions:function(m){var v=this,M=O()(this.globalOptions,m),B=!1;this.map.pm.Draw.CircleMarker.enabled()&&!!this.map.pm.Draw.CircleMarker.options.editable!=!!M.editable&&(this.map.pm.Draw.CircleMarker.disable(),B=!0),this.map.pm.Draw.shapes.forEach(function(X){v.map.pm.Draw[X].setOptions(M)}),B&&this.map.pm.Draw.CircleMarker.enable(),L.PM.Utils.findLayers(this.map).forEach(function(X){X.pm.setOptions(M)}),this.map.fire("pm:globaloptionschanged"),this.globalOptions=M,this.applyGlobalOptions()},applyGlobalOptions:function(){L.PM.Utils.findLayers(this.map).forEach(function(m){m.pm.enabled()&&m.pm.applyOptions()})},globalDrawModeEnabled:function(){return!!this.Draw.getActiveShape()},globalCutModeEnabled:function(){return!!this.Draw.Cut.enabled()},enableGlobalCutMode:function(m){return this.Draw.Cut.enable(m)},toggleGlobalCutMode:function(m){return this.Draw.Cut.toggle(m)},disableGlobalCutMode:function(){return this.Draw.Cut.disable()},getGeomanLayers:function(){var m=arguments.length>0&&void 0!==arguments[0]&&arguments[0],v=L.PM.Utils.findLayers(this.map);if(!m)return v;var M=L.featureGroup();return M._pmTempLayer=!0,v.forEach(function(B){M.addLayer(B)}),M},getGeomanDrawLayers:function(){var m=arguments.length>0&&void 0!==arguments[0]&&arguments[0],v=L.PM.Utils.findLayers(this.map).filter(function(B){return!0===B._drawnByGeoman});if(!m)return v;var M=L.featureGroup();return M._pmTempLayer=!0,v.forEach(function(B){M.addLayer(B)}),M},_getContainingLayer:function(){return this.globalOptions.layerGroup&&this.globalOptions.layerGroup instanceof L.LayerGroup?this.globalOptions.layerGroup:this.map},_isCRSSimple:function(){return this.map.options.crs===L.CRS.Simple},_touchEventCounter:0,_addTouchEvents:function(m){0===this._touchEventCounter&&(L.DomEvent.on(m,"touchmove",this._canvasTouchMove,this),L.DomEvent.on(m,"touchstart touchend touchcancel",this._canvasTouchClick,this)),this._touchEventCounter+=1},_removeTouchEvents:function(m){1===this._touchEventCounter&&(L.DomEvent.off(m,"touchmove",this._canvasTouchMove,this),L.DomEvent.off(m,"touchstart touchend touchcancel",this._canvasTouchClick,this)),this._touchEventCounter=this._touchEventCounter<=1?0:this._touchEventCounter-1},_canvasTouchMove:function(m){Ft(this.map)._onMouseMove(this._createMouseEvent("mousemove",m))},_canvasTouchClick:function(m){var v="";"touchstart"===m.type||"pointerdown"===m.type?v="mousedown":"touchend"===m.type||"pointerup"===m.type?v="mouseup":"touchcancel"!==m.type&&"pointercancel"!==m.type||(v="mouseup"),v&&Ft(this.map)._onClick(this._createMouseEvent(v,m))},_createMouseEvent:function(m,v){var M,B=v.touches[0]||v.changedTouches[0];try{M=new MouseEvent(m,{bubbles:v.bubbles,cancelable:v.cancelable,view:v.view,detail:B.detail,screenX:B.screenX,screenY:B.screenY,clientX:B.clientX,clientY:B.clientY,ctrlKey:v.ctrlKey,altKey:v.altKey,shiftKey:v.shiftKey,metaKey:v.metaKey,button:v.button,relatedTarget:v.relatedTarget})}catch{(M=document.createEvent("MouseEvents")).initMouseEvent(m,v.bubbles,v.cancelable,v.view,B.detail,B.screenX,B.screenY,B.clientX,B.clientY,v.ctrlKey,v.altKey,v.shiftKey,v.metaKey,v.button,v.relatedTarget)}return M}}),vt=L.Control.extend({includes:[Qe],options:{position:"topleft",disableByOtherButtons:!0},initialize:function(m){this._button=L.Util.extend({},this.options,m)},onAdd:function(m){return this._map=m,this._container=this._map.pm.Toolbar.options.oneBlock?this._map.pm.Toolbar._createContainer(this.options.position):"edit"===this._button.tool?this._map.pm.Toolbar.editContainer:"options"===this._button.tool?this._map.pm.Toolbar.optionsContainer:"custom"===this._button.tool?this._map.pm.Toolbar.customContainer:this._map.pm.Toolbar.drawContainer,this.buttonsDomNode=this._makeButton(this._button),this._container.appendChild(this.buttonsDomNode),this._container},onRemove:function(){return this.buttonsDomNode.remove(),this._container},getText:function(){return this._button.text},getIconUrl:function(){return this._button.iconUrl},destroy:function(){this._button={},this._update()},toggle:function(m){return this._button.toggleStatus="boolean"==typeof m?m:!this._button.toggleStatus,this._applyStyleClasses(),this._button.toggleStatus},toggled:function(){return this._button.toggleStatus},onCreate:function(){this.toggle(!1)},disable:function(){this.toggle(!1),this._button.disabled=!0,this._updateDisabled()},enable:function(){this._button.disabled=!1,this._updateDisabled()},_triggerClick:function(m){m&&m.preventDefault(),this._button.disabled||(this._button.onClick(m,{button:this,event:m}),this._clicked(m),this._button.afterClick(m,{button:this,event:m}))},_makeButton:function(m){var v=this,M=this.options.position.indexOf("right")>-1?"pos-right":"",B=L.DomUtil.create("div","button-container  ".concat(M),this._container);m.title&&B.setAttribute("title",m.title);var X=L.DomUtil.create("a","leaflet-buttons-control-button",B);X.setAttribute("role","button"),X.setAttribute("tabindex","0"),X.href="#";var Ce=L.DomUtil.create("div","leaflet-pm-actions-container ".concat(M),B),Ie=m.actions,Pe={cancel:{text:Fe("actions.cancel"),onClick:function(){this._triggerClick()}},finishMode:{text:Fe("actions.finish"),onClick:function(){this._triggerClick()}},removeLastVertex:{text:Fe("actions.removeLastVertex"),onClick:function(){this._map.pm.Draw[m.jsClass]._removeLastVertex()}},finish:{text:Fe("actions.finish"),onClick:function(ze){this._map.pm.Draw[m.jsClass]._finishShape(ze)}}};Ie.forEach(function(ze){var Je,ht="string"==typeof ze?ze:ze.name;if(Pe[ht])Je=Pe[ht];else{if(!ze.text)return;Je=ze}var ut=L.DomUtil.create("a","leaflet-pm-action ".concat(M," action-").concat(ht),Ce);ut.setAttribute("role","button"),ut.setAttribute("tabindex","0"),ut.href="#",ut.innerHTML=Je.text,L.DomEvent.disableClickPropagation(ut),L.DomEvent.on(ut,"click",L.DomEvent.stop),!m.disabled&&Je.onClick&&(L.DomEvent.addListener(ut,"click",function(Ct){Ct.preventDefault();var Lt="",an=v._map.pm.Toolbar.buttons;for(var Ot in an)if(an[Ot]._button===m){Lt=Ot;break}v._fireActionClick(Je,Lt,m)},v),L.DomEvent.addListener(ut,"click",Je.onClick,v))}),m.toggleStatus&&L.DomUtil.addClass(B,"active");var Te=L.DomUtil.create("div","control-icon",X);return m.iconUrl&&Te.setAttribute("src",m.iconUrl),m.className&&L.DomUtil.addClass(Te,m.className),L.DomEvent.disableClickPropagation(X),L.DomEvent.on(X,"click",L.DomEvent.stop),m.disabled||(L.DomEvent.addListener(X,"click",this._onBtnClick,this),L.DomEvent.addListener(X,"click",this._triggerClick,this)),m.disabled&&(L.DomUtil.addClass(X,"pm-disabled"),X.setAttribute("aria-disabled","true")),B},_applyStyleClasses:function(){this._container&&(this._button.toggleStatus&&!1!==this._button.cssToggle?(L.DomUtil.addClass(this.buttonsDomNode,"active"),L.DomUtil.addClass(this._container,"activeChild")):(L.DomUtil.removeClass(this.buttonsDomNode,"active"),L.DomUtil.removeClass(this._container,"activeChild")))},_onBtnClick:function(){this._button.disableOtherButtons&&this._map.pm.Toolbar.triggerClickOnToggledButtons(this);var m="",v=this._map.pm.Toolbar.buttons;for(var M in v)if(v[M]._button===this._button){m=M;break}this._fireButtonClick(m,this._button)},_clicked:function(){this._button.doToggle&&this.toggle()},_updateDisabled:function(){if(this._container){var m="pm-disabled",v=this.buttonsDomNode.children[0];this._button.disabled?(L.DomUtil.addClass(v,m),v.setAttribute("aria-disabled","true"),L.DomEvent.off(v,"click",this._triggerClick,this),L.DomEvent.off(v,"click",this._onBtnClick,this)):(L.DomUtil.removeClass(v,m),v.setAttribute("aria-disabled","false"),L.DomEvent.on(v,"click",this._triggerClick,this),L.DomEvent.on(v,"click",this._onBtnClick,this))}}});function dr(m,v){var M=Object.keys(m);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(m);v&&(B=B.filter(function(X){return Object.getOwnPropertyDescriptor(m,X).enumerable})),M.push.apply(M,B)}return M}function In(m){for(var v=1;v<arguments.length;v++){var M=null!=arguments[v]?arguments[v]:{};v%2?dr(Object(M),!0).forEach(function(B){jr(m,B,M[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(M)):dr(Object(M)).forEach(function(B){Object.defineProperty(m,B,Object.getOwnPropertyDescriptor(M,B))})}return m}function jr(m,v,M){return v in m?Object.defineProperty(m,v,{value:M,enumerable:!0,configurable:!0,writable:!0}):m[v]=M,m}function Jt(m){return(Jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(v){return typeof v}:function(v){return v&&"function"==typeof Symbol&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(m)}L.Control.PMButton=vt;const dn=L.Class.extend({options:{drawMarker:!0,drawRectangle:!0,drawPolyline:!0,drawPolygon:!0,drawCircle:!0,drawCircleMarker:!0,drawText:!0,editMode:!0,dragMode:!0,cutPolygon:!0,removalMode:!0,rotateMode:!0,snappingOption:!0,drawControls:!0,editControls:!0,optionsControls:!0,customControls:!0,oneBlock:!1,position:"topleft",positions:{draw:"",edit:"",options:"",custom:""}},customButtons:[],initialize:function(m){this.init(m)},reinit:function(){var m=this.isVisible;this.removeControls(),this._defineButtons(),m&&this.addControls()},init:function(m){this.map=m,this.buttons={},this.isVisible=!1,this.drawContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-draw leaflet-bar leaflet-control"),this.editContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-edit leaflet-bar leaflet-control"),this.optionsContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-options leaflet-bar leaflet-control"),this.customContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-custom leaflet-bar leaflet-control"),this._defineButtons()},_createContainer:function(m){var v="".concat(m,"Container");return this[v]||(this[v]=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-".concat(m," leaflet-bar leaflet-control"))),this[v]},getButtons:function(){return this.buttons},addControls:function(){var m=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options;typeof m.editPolygon<"u"&&(m.editMode=m.editPolygon),typeof m.deleteLayer<"u"&&(m.removalMode=m.deleteLayer),L.Util.setOptions(this,m),this.applyIconStyle(),this.isVisible=!0,this._showHideButtons()},applyIconStyle:function(){var m=this.getButtons(),v={geomanIcons:{drawMarker:"control-icon leaflet-pm-icon-marker",drawPolyline:"control-icon leaflet-pm-icon-polyline",drawRectangle:"control-icon leaflet-pm-icon-rectangle",drawPolygon:"control-icon leaflet-pm-icon-polygon",drawCircle:"control-icon leaflet-pm-icon-circle",drawCircleMarker:"control-icon leaflet-pm-icon-circle-marker",editMode:"control-icon leaflet-pm-icon-edit",dragMode:"control-icon leaflet-pm-icon-drag",cutPolygon:"control-icon leaflet-pm-icon-cut",removalMode:"control-icon leaflet-pm-icon-delete",drawText:"control-icon leaflet-pm-icon-text"}};for(var M in m)L.Util.setOptions(m[M],{className:v.geomanIcons[M]})},removeControls:function(){var m=this.getButtons();for(var v in m)m[v].remove();this.isVisible=!1},toggleControls:function(){var m=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options;this.isVisible?this.removeControls():this.addControls(m)},_addButton:function(m,v){return this.buttons[m]=v,this.options[m]=this.options[m]||!1,this.buttons[m]},triggerClickOnToggledButtons:function(m){for(var v in this.buttons){var M=this.buttons[v];M._button.disableByOtherButtons&&M!==m&&M.toggled()&&M._triggerClick()}},toggleButton:function(m,v){return"editPolygon"===m&&(m="editMode"),"deleteLayer"===m&&(m="removalMode"),(!(arguments.length>2&&void 0!==arguments[2])||arguments[2])&&this.triggerClickOnToggledButtons(this.buttons[m]),!!this.buttons[m]&&this.buttons[m].toggle(v)},_defineButtons:function(){var m=this,v={className:"control-icon leaflet-pm-icon-marker",title:Fe("buttonTitles.drawMarkerButton"),jsClass:"Marker",onClick:function(){},afterClick:function(Ct,Lt){m.map.pm.Draw[Lt.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},M={title:Fe("buttonTitles.drawPolyButton"),className:"control-icon leaflet-pm-icon-polygon",jsClass:"Polygon",onClick:function(){},afterClick:function(Ct,Lt){m.map.pm.Draw[Lt.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["finish","removeLastVertex","cancel"]},B={className:"control-icon leaflet-pm-icon-polyline",title:Fe("buttonTitles.drawLineButton"),jsClass:"Line",onClick:function(){},afterClick:function(Ct,Lt){m.map.pm.Draw[Lt.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["finish","removeLastVertex","cancel"]},X={title:Fe("buttonTitles.drawCircleButton"),className:"control-icon leaflet-pm-icon-circle",jsClass:"Circle",onClick:function(){},afterClick:function(Ct,Lt){m.map.pm.Draw[Lt.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},Ce={title:Fe("buttonTitles.drawCircleMarkerButton"),className:"control-icon leaflet-pm-icon-circle-marker",jsClass:"CircleMarker",onClick:function(){},afterClick:function(Ct,Lt){m.map.pm.Draw[Lt.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},Ie={title:Fe("buttonTitles.drawRectButton"),className:"control-icon leaflet-pm-icon-rectangle",jsClass:"Rectangle",onClick:function(){},afterClick:function(Ct,Lt){m.map.pm.Draw[Lt.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},Pe={title:Fe("buttonTitles.editButton"),className:"control-icon leaflet-pm-icon-edit",onClick:function(){},afterClick:function(){m.map.pm.toggleGlobalEditMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},Te={title:Fe("buttonTitles.dragButton"),className:"control-icon leaflet-pm-icon-drag",onClick:function(){},afterClick:function(){m.map.pm.toggleGlobalDragMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},ze={title:Fe("buttonTitles.cutButton"),className:"control-icon leaflet-pm-icon-cut",jsClass:"Cut",onClick:function(){},afterClick:function(Ct,Lt){m.map.pm.Draw[Lt.button._button.jsClass].toggle({snappable:!0,cursorMarker:!0,allowSelfIntersection:!1})},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finish","removeLastVertex","cancel"]},Je={title:Fe("buttonTitles.deleteButton"),className:"control-icon leaflet-pm-icon-delete",onClick:function(){},afterClick:function(){m.map.pm.toggleGlobalRemovalMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},ht={title:Fe("buttonTitles.rotateButton"),className:"control-icon leaflet-pm-icon-rotate",onClick:function(){},afterClick:function(){m.map.pm.toggleGlobalRotateMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},ut={className:"control-icon leaflet-pm-icon-text",title:Fe("buttonTitles.drawTextButton"),jsClass:"Text",onClick:function(){},afterClick:function(Ct,Lt){m.map.pm.Draw[Lt.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]};this._addButton("drawMarker",new L.Control.PMButton(v)),this._addButton("drawPolyline",new L.Control.PMButton(B)),this._addButton("drawRectangle",new L.Control.PMButton(Ie)),this._addButton("drawPolygon",new L.Control.PMButton(M)),this._addButton("drawCircle",new L.Control.PMButton(X)),this._addButton("drawCircleMarker",new L.Control.PMButton(Ce)),this._addButton("drawText",new L.Control.PMButton(ut)),this._addButton("editMode",new L.Control.PMButton(Pe)),this._addButton("dragMode",new L.Control.PMButton(Te)),this._addButton("cutPolygon",new L.Control.PMButton(ze)),this._addButton("removalMode",new L.Control.PMButton(Je)),this._addButton("rotateMode",new L.Control.PMButton(ht))},_showHideButtons:function(){if(this.isVisible){this.removeControls(),this.isVisible=!0;var m=this.getButtons(),v=[];for(var M in!1===this.options.drawControls&&(v=v.concat(Object.keys(m).filter(function(X){return!m[X]._button.tool}))),!1===this.options.editControls&&(v=v.concat(Object.keys(m).filter(function(X){return"edit"===m[X]._button.tool}))),!1===this.options.optionsControls&&(v=v.concat(Object.keys(m).filter(function(X){return"options"===m[X]._button.tool}))),!1===this.options.customControls&&(v=v.concat(Object.keys(m).filter(function(X){return"custom"===m[X]._button.tool}))),m)if(this.options[M]&&-1===v.indexOf(M)){var B=m[M]._button.tool;B||(B="draw"),m[M].setPosition(this._getBtnPosition(B)),m[M].addTo(this.map)}}},_getBtnPosition:function(m){return this.options.positions&&this.options.positions[m]?this.options.positions[m]:this.options.position},setBlockPosition:function(m,v){this.options.positions[m]=v,this._showHideButtons(),this.changeControlOrder()},getBlockPositions:function(){return this.options.positions},copyDrawControl:function(m,v){if(!v)throw new TypeError("Button has no name");"object"!==Jt(v)&&(v={name:v});var M=this._btnNameMapping(m);if(!v.name)throw new TypeError("Button has no name");if(this.buttons[v.name])throw new TypeError("Button with this name already exists");var B=this.map.pm.Draw.createNewDrawInstance(v.name,M);return v=In(In({},this.buttons[M]._button),v),{drawInstance:B,control:this.createCustomControl(v)}},createCustomControl:function(m){var v,M;if(!m.name)throw new TypeError("Button has no name");if(this.buttons[m.name])throw new TypeError("Button with this name already exists");m.onClick||(m.onClick=function(){}),m.afterClick||(m.afterClick=function(){}),!1!==m.toggle&&(m.toggle=!0),m.block&&(m.block=m.block.toLowerCase()),m.block&&"draw"!==m.block||(m.block=""),m.className?-1===m.className.indexOf("control-icon")&&(m.className="control-icon ".concat(m.className)):m.className="control-icon";var B={tool:m.block,className:m.className,title:m.title||"",jsClass:m.name,onClick:m.onClick,afterClick:m.afterClick,doToggle:m.toggle,toggleStatus:!1,disableOtherButtons:null===(v=m.disableOtherButtons)||void 0===v||v,disableByOtherButtons:null===(M=m.disableByOtherButtons)||void 0===M||M,cssToggle:m.toggle,position:this.options.position,actions:m.actions||[],disabled:!!m.disabled};!1!==this.options[m.name]&&(this.options[m.name]=!0);var X=this._addButton(m.name,new L.Control.PMButton(B));return this.changeControlOrder(),X},changeControlOrder:function(){var m=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],v=this._shapeMapping(),M=[];m.forEach(function(ze){M.push(v[ze]?v[ze]:ze)});var B=this.getButtons(),X={};M.forEach(function(ze){B[ze]&&(X[ze]=B[ze])}),Object.keys(B).filter(function(ze){return!B[ze]._button.tool}).forEach(function(ze){-1===M.indexOf(ze)&&(X[ze]=B[ze])}),Object.keys(B).filter(function(ze){return"edit"===B[ze]._button.tool}).forEach(function(ze){-1===M.indexOf(ze)&&(X[ze]=B[ze])}),Object.keys(B).filter(function(ze){return"options"===B[ze]._button.tool}).forEach(function(ze){-1===M.indexOf(ze)&&(X[ze]=B[ze])}),Object.keys(B).filter(function(ze){return"custom"===B[ze]._button.tool}).forEach(function(ze){-1===M.indexOf(ze)&&(X[ze]=B[ze])}),Object.keys(B).forEach(function(ze){-1===M.indexOf(ze)&&(X[ze]=B[ze])}),this.map.pm.Toolbar.buttons=X,this._showHideButtons()},getControlOrder:function(){var m=this.getButtons(),v=[];for(var M in m)v.push(M);return v},changeActionsOfControl:function(m,v){var M=this._btnNameMapping(m);if(!M)throw new TypeError("No name passed");if(!v)throw new TypeError("No actions passed");if(!this.buttons[M])throw new TypeError("Button with this name not exists");this.buttons[M]._button.actions=v,this.changeControlOrder()},setButtonDisabled:function(m,v){var M=this._btnNameMapping(m);v?this.buttons[M].disable():this.buttons[M].enable()},_shapeMapping:function(){return{Marker:"drawMarker",Circle:"drawCircle",Polygon:"drawPolygon",Rectangle:"drawRectangle",Polyline:"drawPolyline",Line:"drawPolyline",CircleMarker:"drawCircleMarker",Edit:"editMode",Drag:"dragMode",Cut:"cutPolygon",Removal:"removalMode",Rotate:"rotateMode",Text:"drawText"}},_btnNameMapping:function(m){var v=this._shapeMapping();return v[m]?v[m]:m}});function Xe(m,v){var M=Object.keys(m);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(m);v&&(B=B.filter(function(X){return Object.getOwnPropertyDescriptor(m,X).enumerable})),M.push.apply(M,B)}return M}function H(m){for(var v=1;v<arguments.length;v++){var M=null!=arguments[v]?arguments[v]:{};v%2?Xe(Object(M),!0).forEach(function(B){P(m,B,M[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(M)):Xe(Object(M)).forEach(function(B){Object.defineProperty(m,B,Object.getOwnPropertyDescriptor(M,B))})}return m}function P(m,v,M){return v in m?Object.defineProperty(m,v,{value:M,enumerable:!0,configurable:!0,writable:!0}):m[v]=M,m}const G={_initSnappableMarkers:function(){this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=void 0===this.options.snapSegment||this.options.snapSegment,this._assignEvents(this._markers),this._layer.off("pm:dragstart",this._unsnap,this),this._layer.on("pm:dragstart",this._unsnap,this)},_disableSnapping:function(){this._layer.off("pm:dragstart",this._unsnap,this)},_assignEvents:function(m){var v=this;m.forEach(function(M){Array.isArray(M)?v._assignEvents(M):(M.off("drag",v._handleSnapping,v),M.on("drag",v._handleSnapping,v),M.off("dragend",v._cleanupSnapping,v),M.on("dragend",v._cleanupSnapping,v))})},_cleanupSnapping:function(m){m&&(m.target._snapped=!1),delete this._snapList,this.throttledList&&(this._map.off("layeradd",this.throttledList,this),this.throttledList=void 0),this._map.off("pm:remove",this._handleSnapLayerRemoval,this),this.debugIndicatorLines&&this.debugIndicatorLines.forEach(function(v){v.remove()})},_handleThrottleSnapping:function(){this.throttledList&&this._createSnapList()},_handleSnapping:function(m){var v=this,M=m.target;if(M._snapped=!1,this.throttledList||(this.throttledList=L.Util.throttle(this._handleThrottleSnapping,100,this)),this._map.pm.Keyboard.isAltKeyPressed()||(void 0===this._snapList&&(this._createSnapList(),this._map.off("layeradd",this.throttledList,this),this._map.on("layeradd",this.throttledList,this)),this._snapList.length<=0))return!1;var X,B=this._calcClosestLayer(M.getLatLng(),this._snapList);if(0===Object.keys(B).length)return!1;X=B.layer instanceof L.Marker||B.layer instanceof L.CircleMarker||!this.options.snapSegment?B.latlng:this._checkPrioritiySnapping(B);var Ie=this.options.snapDistance,Pe={marker:M,shape:this._shape,snapLatLng:X,segment:B.segment,layer:this._layer,workingLayer:this._layer,layerInteractedWith:B.layer,distance:B.distance};if(this._fireSnapDrag(Pe.marker,Pe),this._fireSnapDrag(this._layer,Pe),B.distance<Ie){M._orgLatLng=M.getLatLng(),M.setLatLng(X),M._snapped=!0,M._snapInfo=Pe;var Te=this._snapLatLng||{},ze=X||{};Te.lat===ze.lat&&Te.lng===ze.lng||(v._snapLatLng=X,v._fireSnap(M,Pe),v._fireSnap(v._layer,Pe))}else this._snapLatLng&&(this._unsnap(Pe),M._snapped=!1,M._snapInfo=void 0,this._fireUnsnap(Pe.marker,Pe),this._fireUnsnap(this._layer,Pe));return!0},_createSnapList:function(){var m=this,v=[],M=[],B=this._map;B.off("pm:remove",this._handleSnapLayerRemoval,this),B.on("pm:remove",this._handleSnapLayerRemoval,this),B.eachLayer(function(X){if((X instanceof L.Polyline||X instanceof L.Marker||X instanceof L.CircleMarker||X instanceof L.ImageOverlay)&&!0!==X.options.snapIgnore){if(void 0===X.options.snapIgnore&&(!L.PM.optIn&&!0===X.options.pmIgnore||L.PM.optIn&&!1!==X.options.pmIgnore))return;(X instanceof L.Circle||X instanceof L.CircleMarker)&&X.pm&&X.pm._hiddenPolyCircle?v.push(X.pm._hiddenPolyCircle):X instanceof L.ImageOverlay&&(X=L.rectangle(X.getBounds())),v.push(X);var Ce=L.polyline([],{color:"red",pmIgnore:!0});Ce._pmTempLayer=!0,M.push(Ce),(X instanceof L.Circle||X instanceof L.CircleMarker)&&M.push(Ce)}}),v=(v=(v=v.filter(function(X){return m._layer!==X})).filter(function(X){return X._latlng||X._latlngs&&me(X._latlngs)})).filter(function(X){return!X._pmTempLayer}),this._otherSnapLayers?(this._otherSnapLayers.forEach(function(){var X=L.polyline([],{color:"red",pmIgnore:!0});X._pmTempLayer=!0,M.push(X)}),this._snapList=v.concat(this._otherSnapLayers)):this._snapList=v,this.debugIndicatorLines=M},_handleSnapLayerRemoval:function(m){var v=m.layer,M=this._snapList.findIndex(function(B){return B._leaflet_id===v._leaflet_id});this._snapList.splice(M,1)},_calcClosestLayer:function(m,v){return this._calcClosestLayers(m,v,1)[0]},_calcClosestLayers:function(m,v){var M=this,B=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,X=[],Ce={};v.forEach(function(Pe,Te){if(!Pe._parentCopy||Pe._parentCopy!==M._layer){var ze=M._calcLayerDistances(m,Pe);if(ze.distance=Math.floor(ze.distance),M.debugIndicatorLines){if(!M.debugIndicatorLines[Te]){var Je=L.polyline([],{color:"red",pmIgnore:!0});Je._pmTempLayer=!0,M.debugIndicatorLines[Te]=Je}M.debugIndicatorLines[Te].setLatLngs([m,ze.latlng])}1===B&&(void 0===Ce.distance||ze.distance<=Ce.distance)?(ze.distance<Ce.distance&&(X=[]),(Ce=ze).layer=Pe,X.push(Ce)):1!==B&&(Ce={},(Ce=ze).layer=Pe,X.push(Ce))}}),1!==B&&(X=X.sort(function(Pe,Te){return Pe.distance-Te.distance})),-1===B&&(B=X.length);var Ie=this._getClosestLayerByPriority(X,B);return L.Util.isArray(Ie)?Ie:[Ie]},_calcLayerDistances:function(m,v){var M=this._map,B=v instanceof L.Marker||v instanceof L.CircleMarker,X=v instanceof L.Polygon,Ce=m;if(B){var Ie=v.getLatLng();return{latlng:H({},Ie),distance:this._getDistance(M,Ie,Ce)}}return this._calcLatLngDistances(Ce,v.getLatLngs(),M,X)},_calcLatLngDistances:function(m,v,M){var B,X,Ce,Ie=this,Pe=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function Je(ht){ht.forEach(function(ut,Ct){if(Array.isArray(ut))Je(ut);else if(Ie.options.snapSegment){var an=ut,Ot=ht[Pe?Ct+1===ht.length?0:Ct+1:Ct+1===ht.length?void 0:Ct+1];if(Ot){var Mn=Ie._getDistanceToSegment(M,m,an,Ot);(void 0===X||Mn<X)&&(X=Mn,Ce=[an,Ot])}}else{var $t=Ie._getDistance(M,m,ut);(void 0===X||$t<X)&&(X=$t,B=ut)}})}(v),this.options.snapSegment?{latlng:H({},this._getClosestPointOnSegment(M,m,Ce[0],Ce[1])),segment:Ce,distance:X}:{latlng:B,distance:X}},_getClosestLayerByPriority:function(m){var v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;m=m.sort(function(Ie,Pe){return Ie._leaflet_id-Pe._leaflet_id});var X=0,Ce={};return(this._map.pm.globalOptions.snappingOrder||[]).concat(["Marker","CircleMarker","Circle","Line","Polygon","Rectangle"]).forEach(function(Ie){Ce[Ie]||(Ce[Ie]=X+=1)}),m.sort(function Rt(m,v){var M=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"asc";if(!v||0===Object.keys(v).length)return function(Te,ze){return Te-ze};for(var B,X=Object.keys(v),Ce=X.length-1,Ie={};Ce>=0;)Ie[(B=X[Ce]).toLowerCase()]=v[B],Ce-=1;function Pe(Te){return Te instanceof L.Marker?"Marker":Te instanceof L.Circle?"Circle":Te instanceof L.CircleMarker?"CircleMarker":Te instanceof L.Rectangle?"Rectangle":Te instanceof L.Polygon?"Polygon":Te instanceof L.Polyline?"Line":void 0}return function(Te,ze){var Je,ht;if("instanceofShape"===m){if(Je=Pe(Te.layer).toLowerCase(),ht=Pe(ze.layer).toLowerCase(),!Je||!ht)return 0}else{if(!Te.hasOwnProperty(m)||!ze.hasOwnProperty(m))return 0;Je=Te[m].toLowerCase(),ht=ze[m].toLowerCase()}var ut=Je in Ie?Ie[Je]:Number.MAX_SAFE_INTEGER,Ct=ht in Ie?Ie[ht]:Number.MAX_SAFE_INTEGER,Lt=0;return ut<Ct?Lt=-1:ut>Ct&&(Lt=1),"desc"===M?-1*Lt:Lt}}("instanceofShape",Ce)),1===v?m[0]||{}:m.slice(0,v)},_checkPrioritiySnapping:function(m){var v=this._map,M=m.segment[0],B=m.segment[1],X=m.latlng,Ce=this._getDistance(v,M,X),Ie=this._getDistance(v,B,X),Pe=Ce<Ie?M:B,Te=Ce<Ie?Ce:Ie;if(this.options.snapMiddle){var ze=L.PM.Utils.calcMiddleLatLng(v,M,B),Je=this._getDistance(v,ze,X);Je<Ce&&Je<Ie&&(Pe=ze,Te=Je)}return H({},Te<this.options.snapDistance?Pe:X)},_unsnap:function(){delete this._snapLatLng},_getClosestPointOnSegment:function(m,v,M,B){var X=m.getMaxZoom();X===1/0&&(X=m.getZoom());var Ce=m.project(v,X),Ie=m.project(M,X),Pe=m.project(B,X),Te=L.LineUtil.closestPointOnSegment(Ce,Ie,Pe);return m.unproject(Te,X)},_getDistanceToSegment:function(m,v,M,B){var X=m.latLngToLayerPoint(v),Ce=m.latLngToLayerPoint(M),Ie=m.latLngToLayerPoint(B);return L.LineUtil.pointToSegmentDistance(X,Ce,Ie)},_getDistance:function(m,v,M){return m.latLngToLayerPoint(v).distanceTo(m.latLngToLayerPoint(M))}},re=L.Class.extend({includes:[G,Qe],options:{snappable:!0,snapDistance:20,snapMiddle:!1,allowSelfIntersection:!0,tooltips:!0,templineStyle:{},hintlineStyle:{color:"#3388ff",dashArray:"5,5"},pathOptions:null,cursorMarker:!0,finishOn:null,markerStyle:{draggable:!0,icon:L.icon()},hideMiddleMarkers:!1,minRadiusCircle:null,maxRadiusCircle:null,minRadiusCircleMarker:null,maxRadiusCircleMarker:null,editable:!1,markerEditable:!0,continueDrawing:!1,snapSegment:!0,requireSnapToFinish:!1},setOptions:function(m){L.Util.setOptions(this,m),this.setStyle(this.options)},setStyle:function(){},getOptions:function(){return this.options},initialize:function(m){var v=this,M=new L.Icon.Default;M.options.tooltipAnchor=[0,0],this.options.markerStyle.icon=M,this._map=m,this.shapes=["Marker","CircleMarker","Line","Polygon","Rectangle","Circle","Cut","Text"],this.shapes.forEach(function(B){v[B]=new L.PM.Draw[B](v._map)}),this.Marker.setOptions({continueDrawing:!0}),this.CircleMarker.setOptions({continueDrawing:!0})},setPathOptions:function(m){this.options.pathOptions=arguments.length>1&&void 0!==arguments[1]&&arguments[1]?O()(this.options.pathOptions,m):m},getShapes:function(){return this.shapes},getShape:function(){return this._shape},enable:function(m,v){if(!m)throw new Error("Error: Please pass a shape as a parameter. Possible shapes are: ".concat(this.getShapes().join(",")));this.disable(),this[m].enable(v)},disable:function(){var m=this;this.shapes.forEach(function(v){m[v].disable()})},addControls:function(){var m=this;this.shapes.forEach(function(v){m[v].addButton()})},getActiveShape:function(){var m,v=this;return this.shapes.forEach(function(M){v[M]._enabled&&(m=M)}),m},_setGlobalDrawMode:function(){"Cut"===this._shape?this._fireGlobalCutModeToggled():this._fireGlobalDrawModeToggled(),L.PM.Utils.findLayers(this._map).forEach(this._enabled?function(v){L.PM.Utils.disablePopup(v)}:function(v){L.PM.Utils.enablePopup(v)})},createNewDrawInstance:function(m,v){var M=this._getShapeFromBtnName(v);if(this[m])throw new TypeError("Draw Type already exists");if(!L.PM.Draw[M])throw new TypeError("There is no class L.PM.Draw.".concat(M));return this[m]=new L.PM.Draw[M](this._map),this[m].toolbarButtonName=m,this[m]._shape=m,this.shapes.push(m),this[v]&&this[m].setOptions(this[v].options),this[m].setOptions(this[m].options),this[m]},_getShapeFromBtnName:function(m){var v={drawMarker:"Marker",drawCircle:"Circle",drawPolygon:"Polygon",drawPolyline:"Line",drawRectangle:"Rectangle",drawCircleMarker:"CircleMarker",editMode:"Edit",dragMode:"Drag",cutPolygon:"Cut",removalMode:"Removal",rotateMode:"Rotate",drawText:"Text"};return v[m]?v[m]:this[m]?this[m]._shape:m},_finishLayer:function(m){m.pm&&(m.pm.setOptions(this.options),m.pm._shape=this._shape,m.pm._map=this._map),this._addDrawnLayerProp(m)},_addDrawnLayerProp:function(m){m._drawnByGeoman=!0},_setPane:function(m,v){"layerPane"===v?m.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.layerPane||"overlayPane":"vertexPane"===v?m.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.vertexPane||"markerPane":"markerPane"===v&&(m.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.markerPane||"markerPane")},_isFirstLayer:function(){return 0===(this._map||this._layer._map).pm.getGeomanLayers().length}});re.Marker=re.extend({initialize:function(m){this._map=m,this._shape="Marker",this.toolbarButtonName="drawMarker"},enable:function(m){var v=this;L.Util.setOptions(this,m),this._enabled=!0,this._map.on("click",this._createMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._hintMarker=L.marker(this._map.getCenter(),this.options.markerStyle),this._setPane(this._hintMarker,"markerPane"),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this.options.tooltips&&this._hintMarker.bindTooltip(Fe("tooltips.placeMarker"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._layer=this._hintMarker,this._map.on("mousemove",this._syncHintMarker,this),this.options.markerEditable&&this._map.eachLayer(function(M){v.isRelevantMarker(M)&&M.pm.enable()}),this._fireDrawStart(),this._setGlobalDrawMode()},disable:function(){var m=this;this._enabled&&(this._enabled=!1,this._map.off("click",this._createMarker,this),this._hintMarker.remove(),this._map.off("mousemove",this._syncHintMarker,this),this._map.eachLayer(function(v){m.isRelevantMarker(v)&&v.pm.disable()}),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled:function(){return this._enabled},toggle:function(m){this.enabled()?this.disable():this.enable(m)},isRelevantMarker:function(m){return m instanceof L.Marker&&m.pm&&!m._pmTempLayer&&!m.pm._initTextMarker},_syncHintMarker:function(m){if(this._hintMarker.setLatLng(m.latlng),this.options.snappable){var v=m;v.target=this._hintMarker,this._handleSnapping(v)}this._fireChange(this._hintMarker.getLatLng(),"Draw")},_createMarker:function(m){if(m.latlng&&(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer())){this._hintMarker._snapped||this._hintMarker.setLatLng(m.latlng);var v=this._hintMarker.getLatLng(),M=new L.Marker(v,this.options.markerStyle);this._setPane(M,"markerPane"),this._finishLayer(M),M.pm||(M.options.draggable=!1),M.addTo(this._map.pm._getContainingLayer()),M.pm&&this.options.markerEditable?M.pm.enable():M.dragging&&M.dragging.disable(),this._fireCreate(M),this._cleanupSnapping(),this.options.continueDrawing||this.disable()}},setStyle:function(){var m,v;null!==(m=this.options.markerStyle)&&void 0!==m&&m.icon&&(null===(v=this._hintMarker)||void 0===v||v.setIcon(this.options.markerStyle.icon))}});var pe=6371008.8,Ve={centimeters:637100880,centimetres:637100880,degrees:57.22891354143274,feet:20902260.511392,inches:39.37*pe,kilometers:6371.0088,kilometres:6371.0088,meters:pe,metres:pe,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:pe/1852,radians:1,yards:6967335.223679999};function Ge(m,v,M){void 0===M&&(M={});var B={type:"Feature"};return(0===M.id||M.id)&&(B.id=M.id),M.bbox&&(B.bbox=M.bbox),B.properties=v||{},B.geometry=m,B}function He(m,v,M){if(void 0===M&&(M={}),!m)throw new Error("coordinates is required");if(!Array.isArray(m))throw new Error("coordinates must be an Array");if(m.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!on(m[0])||!on(m[1]))throw new Error("coordinates must contain numbers");return Ge({type:"Point",coordinates:m},v,M)}function wt(m,v,M){if(void 0===M&&(M={}),m.length<2)throw new Error("coordinates must be an array of two or more positions");return Ge({type:"LineString",coordinates:m},v,M)}function Pt(m,v){void 0===v&&(v={});var M={type:"FeatureCollection"};return v.id&&(M.id=v.id),v.bbox&&(M.bbox=v.bbox),M.features=m,M}function hn(m){return m%(2*Math.PI)*180/Math.PI}function Bt(m){return m%360*Math.PI/180}function on(m){return!isNaN(m)&&null!==m&&!Array.isArray(m)}function kn(m){var v,M,B={type:"FeatureCollection",features:[]};if("LineString"===(M="Feature"===m.type?m.geometry:m).type)v=[M.coordinates];else if("MultiLineString"===M.type)v=M.coordinates;else if("MultiPolygon"===M.type)v=[].concat.apply([],M.coordinates);else{if("Polygon"!==M.type)throw new Error("Input must be a LineString, MultiLineString, Polygon, or MultiPolygon Feature or Geometry");v=M.coordinates}return v.forEach(function(X){v.forEach(function(Ce){for(var Ie=0;Ie<X.length-1;Ie++)for(var Pe=Ie;Pe<Ce.length-1;Pe++)if(X!==Ce||1!==Math.abs(Ie-Pe)&&(0!==Ie||Pe!==X.length-2||X[Ie][0]!==X[X.length-1][0]||X[Ie][1]!==X[X.length-1][1])){var Te=Zn(X[Ie][0],X[Ie][1],X[Ie+1][0],X[Ie+1][1],Ce[Pe][0],Ce[Pe][1],Ce[Pe+1][0],Ce[Pe+1][1]);Te&&B.features.push(He([Te[0],Te[1]]))}})}),B}function Zn(m,v,M,B,X,Ce,Ie,Pe){var Te,ze,Je,ht,ut={x:null,y:null,onLine1:!1,onLine2:!1};return 0==(Te=(Pe-Ce)*(M-m)-(Ie-X)*(B-v))?null!==ut.x&&null!==ut.y&&ut:(ht=(M-m)*(ze=v-Ce)-(B-v)*(Je=m-X),ze=((Ie-X)*ze-(Pe-Ce)*Je)/Te,Je=ht/Te,ut.x=m+ze*(M-m),ut.y=v+ze*(B-v),ze>=0&&ze<=1&&(ut.onLine1=!0),Je>=0&&Je<=1&&(ut.onLine2=!0),!(!ut.onLine1||!ut.onLine2)&&[ut.x,ut.y])}function tr(m,v){var M=Object.keys(m);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(m);v&&(B=B.filter(function(X){return Object.getOwnPropertyDescriptor(m,X).enumerable})),M.push.apply(M,B)}return M}function nr(m){for(var v=1;v<arguments.length;v++){var M=null!=arguments[v]?arguments[v]:{};v%2?tr(Object(M),!0).forEach(function(B){Xr(m,B,M[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(M)):tr(Object(M)).forEach(function(B){Object.defineProperty(m,B,Object.getOwnPropertyDescriptor(M,B))})}return m}function Xr(m,v,M){return v in m?Object.defineProperty(m,v,{value:M,enumerable:!0,configurable:!0,writable:!0}):m[v]=M,m}function Xn(m,v){var M=Object.keys(m);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(m);v&&(B=B.filter(function(X){return Object.getOwnPropertyDescriptor(m,X).enumerable})),M.push.apply(M,B)}return M}function Mi(m){for(var v=1;v<arguments.length;v++){var M=null!=arguments[v]?arguments[v]:{};v%2?Xn(Object(M),!0).forEach(function(B){pr(m,B,M[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(M)):Xn(Object(M)).forEach(function(B){Object.defineProperty(m,B,Object.getOwnPropertyDescriptor(M,B))})}return m}function pr(m,v,M){return v in m?Object.defineProperty(m,v,{value:M,enumerable:!0,configurable:!0,writable:!0}):m[v]=M,m}function bt(m,v){var M=Object.keys(m);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(m);v&&(B=B.filter(function(X){return Object.getOwnPropertyDescriptor(m,X).enumerable})),M.push.apply(M,B)}return M}function Uo(m){for(var v=1;v<arguments.length;v++){var M=null!=arguments[v]?arguments[v]:{};v%2?bt(Object(M),!0).forEach(function(B){ho(m,B,M[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(M)):bt(Object(M)).forEach(function(B){Object.defineProperty(m,B,Object.getOwnPropertyDescriptor(M,B))})}return m}function ho(m,v,M){return v in m?Object.defineProperty(m,v,{value:M,enumerable:!0,configurable:!0,writable:!0}):m[v]=M,m}function sn(m){if(!m)throw new Error("coord is required");if(!Array.isArray(m)){if("Feature"===m.type&&null!==m.geometry&&"Point"===m.geometry.type)return m.geometry.coordinates;if("Point"===m.type)return m.coordinates}if(Array.isArray(m)&&m.length>=2&&!Array.isArray(m[0])&&!Array.isArray(m[1]))return m;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function si(m){if(Array.isArray(m))return m;if("Feature"===m.type){if(null!==m.geometry)return m.geometry.coordinates}else if(m.coordinates)return m.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function fo(m){return"Feature"===m.type?m.geometry:m}function Ko(m,v){return"FeatureCollection"===m.type?"FeatureCollection":"GeometryCollection"===m.type?"GeometryCollection":"Feature"===m.type&&null!==m.geometry?m.geometry.type:m.type}function Ks(m,v,M){if(null!==m)for(var B,X,Ce,Ie,Pe,Te,ze,Je,ht=0,ut=0,Ct=m.type,Lt="FeatureCollection"===Ct,an="Feature"===Ct,Ot=Lt?m.features.length:1,Mn=0;Mn<Ot;Mn++){Pe=(Je=!!(ze=Lt?m.features[Mn].geometry:an?m.geometry:m)&&"GeometryCollection"===ze.type)?ze.geometries.length:1;for(var $t=0;$t<Pe;$t++){var Jr=0,gt=0;if(null!==(Ie=Je?ze.geometries[$t]:ze)){Te=Ie.coordinates;var to=Ie.type;switch(ht=!M||"Polygon"!==to&&"MultiPolygon"!==to?0:1,to){case null:break;case"Point":if(!1===v(Te,ut,Mn,Jr,gt))return!1;ut++,Jr++;break;case"LineString":case"MultiPoint":for(B=0;B<Te.length;B++){if(!1===v(Te[B],ut,Mn,Jr,gt))return!1;ut++,"MultiPoint"===to&&Jr++}"LineString"===to&&Jr++;break;case"Polygon":case"MultiLineString":for(B=0;B<Te.length;B++){for(X=0;X<Te[B].length-ht;X++){if(!1===v(Te[B][X],ut,Mn,Jr,gt))return!1;ut++}"MultiLineString"===to&&Jr++,"Polygon"===to&&gt++}"Polygon"===to&&Jr++;break;case"MultiPolygon":for(B=0;B<Te.length;B++){for(gt=0,X=0;X<Te[B].length;X++){for(Ce=0;Ce<Te[B][X].length-ht;Ce++){if(!1===v(Te[B][X][Ce],ut,Mn,Jr,gt))return!1;ut++}gt++}Jr++}break;case"GeometryCollection":for(B=0;B<Ie.geometries.length;B++)if(!1===Ks(Ie.geometries[B],v,M))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function tl(m,v){if("Feature"===m.type)v(m,0);else if("FeatureCollection"===m.type)for(var M=0;M<m.features.length&&!1!==v(m.features[M],M);M++);}function Ol(m,v){!function du(m,v){var M,B,X,Ce,Ie,Pe,Te,ze,Je,ht,ut=0,Ct="FeatureCollection"===m.type,Lt="Feature"===m.type,an=Ct?m.features.length:1;for(M=0;M<an;M++){for(ze=Ct?m.features[M].properties:Lt?m.properties:{},Je=Ct?m.features[M].bbox:Lt?m.bbox:void 0,ht=Ct?m.features[M].id:Lt?m.id:void 0,Ie=(Te=!!(Pe=Ct?m.features[M].geometry:Lt?m.geometry:m)&&"GeometryCollection"===Pe.type)?Pe.geometries.length:1,X=0;X<Ie;X++)if(null!==(Ce=Te?Pe.geometries[X]:Pe))switch(Ce.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===v(Ce,ut,ze,Je,ht))return!1;break;case"GeometryCollection":for(B=0;B<Ce.geometries.length;B++)if(!1===v(Ce.geometries[B],ut,ze,Je,ht))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===v(null,ut,ze,Je,ht))return!1;ut++}}(m,function(M,B,X,Ce,Ie){var Pe,Te=null===M?null:M.type;switch(Te){case null:case"Point":case"LineString":case"Polygon":return!1!==v(Ge(M,X,{bbox:Ce,id:Ie}),B,0)&&void 0}switch(Te){case"MultiPoint":Pe="Point";break;case"MultiLineString":Pe="LineString";break;case"MultiPolygon":Pe="Polygon"}for(var ze=0;ze<M.coordinates.length;ze++)if(!1===v(Ge({type:Pe,coordinates:M.coordinates[ze]},X),B,ze))return!1})}re.Line=re.extend({initialize:function(m){this._map=m,this._shape="Line",this.toolbarButtonName="drawPolyline",this._doesSelfIntersect=!1},enable:function(m){L.Util.setOptions(this,m),this._enabled=!0,this._markers=[],this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.polyline([],nr(nr({},this.options.templineStyle),{},{pmIgnore:!1})),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._layerGroup.addLayer(this._layer),this._hintline=L.polyline([],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._layerGroup.addLayer(this._hintline),this._hintMarker=L.marker(this._map.getCenter(),{interactive:!1,zIndexOffset:100,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(Fe("tooltips.firstVertex"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._map._container.style.cursor="crosshair",this._map.on("click",this._createVertex,this),this.options.finishOn&&"snap"!==this.options.finishOn&&this._map.on(this.options.finishOn,this._finishShape,this),"dblclick"===this.options.finishOn&&(this.tempMapDoubleClickZoomState=this._map.doubleClickZoom._enabled,this.tempMapDoubleClickZoomState&&this._map.doubleClickZoom.disable()),this._map.on("mousemove",this._syncHintMarker,this),this._hintMarker.on("move",this._syncHintLine,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._otherSnapLayers=[],this._fireDrawStart(),this._setGlobalDrawMode()},disable:function(){this._enabled&&(this._enabled=!1,this._map._container.style.cursor="",this._map.off("click",this._createVertex,this),this._map.off("mousemove",this._syncHintMarker,this),this.options.finishOn&&"snap"!==this.options.finishOn&&this._map.off(this.options.finishOn,this._finishShape,this),this.tempMapDoubleClickZoomState&&this._map.doubleClickZoom.enable(),this._map.removeLayer(this._layerGroup),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled:function(){return this._enabled},toggle:function(m){this.enabled()?this.disable():this.enable(m)},_syncHintLine:function(){var m=this._layer.getLatLngs();m.length>0&&this._hintline.setLatLngs([m[m.length-1],this._hintMarker.getLatLng()])},_syncHintMarker:function(m){if(this._hintMarker.setLatLng(m.latlng),this.options.snappable){var v=m;v.target=this._hintMarker,this._handleSnapping(v)}this.options.allowSelfIntersection||this._handleSelfIntersection(!0,this._hintMarker.getLatLng());var M=this._layer._defaultShape().slice();M.push(this._hintMarker.getLatLng()),this._change(M)},hasSelfIntersection:function(){return kn(this._layer.toGeoJSON(15)).features.length>0},_handleSelfIntersection:function(m,v){var M=L.polyline(this._layer.getLatLngs());m&&(v||(v=this._hintMarker.getLatLng()),M.addLatLng(v));var B=kn(M.toGeoJSON(15));this._doesSelfIntersect=B.features.length>0,this._doesSelfIntersect?this._hintline.setStyle({color:"#f00000ff"}):this._hintline.isEmpty()||this._hintline.setStyle(this.options.hintlineStyle)},_createVertex:function(m){if(this.options.allowSelfIntersection||(this._handleSelfIntersection(!0,m.latlng),!this._doesSelfIntersect)){this._hintMarker._snapped||this._hintMarker.setLatLng(m.latlng);var v=this._hintMarker.getLatLng(),M=this._layer.getLatLngs(),B=M[M.length-1];if(v.equals(M[0])||M.length>0&&v.equals(B))this._finishShape();else{this._layer._latlngInfo=this._layer._latlngInfo||[],this._layer._latlngInfo.push({latlng:v,snapInfo:this._hintMarker._snapInfo}),this._layer.addLatLng(v);var X=this._createMarker(v);this._setTooltipText(),this._setHintLineAfterNewVertex(v),this._fireVertexAdded(X,void 0,v,"Draw"),this._change(this._layer.getLatLngs()),"snap"===this.options.finishOn&&this._hintMarker._snapped&&this._finishShape(m)}}},_setHintLineAfterNewVertex:function(m){this._hintline.setLatLngs([m,m])},_removeLastVertex:function(){var m=this._markers;if(m.length<=1)this.disable();else{var v=this._layer.getLatLngs(),M=m[m.length-1],B=L.PM.Utils.findDeepMarkerIndex(m,M).indexPath;m.pop(),this._layerGroup.removeLayer(M);var Ce=v.indexOf(m[m.length-1].getLatLng());v=v.slice(0,Ce+1),this._layer.setLatLngs(v),this._layer._latlngInfo.pop(),this._syncHintLine(),this._setTooltipText(),this._fireVertexRemoved(M,B,"Draw"),this._change(this._layer.getLatLngs())}},_finishShape:function(){if((this.options.allowSelfIntersection||(this._handleSelfIntersection(!1),!this._doesSelfIntersect))&&(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer())){var m=this._layer.getLatLngs();if(!(m.length<=1)){var v=L.polyline(m,this.options.pathOptions);this._setPane(v,"layerPane"),this._finishLayer(v),v.addTo(this._map.pm._getContainingLayer()),this._fireCreate(v),this.options.snappable&&this._cleanupSnapping(),this.disable(),this.options.continueDrawing&&this.enable()}}},_createMarker:function(m){var v=new L.Marker(m,{draggable:!1,icon:L.divIcon({className:"marker-icon"})});return this._setPane(v,"vertexPane"),v._pmTempLayer=!0,this._layerGroup.addLayer(v),this._markers.push(v),v.on("click",this._finishShape,this),v},_setTooltipText:function(){var m;m=Fe(this._layer.getLatLngs().flat().length<=1?"tooltips.continueLine":"tooltips.finishLine"),this._hintMarker.setTooltipContent(m)},_change:function(m){this._fireChange(m,"Draw")},setStyle:function(){var m,v;null===(m=this._layer)||void 0===m||m.setStyle(this.options.templineStyle),null===(v=this._hintline)||void 0===v||v.setStyle(this.options.hintlineStyle)}}),re.Polygon=re.Line.extend({initialize:function(m){this._map=m,this._shape="Polygon",this.toolbarButtonName="drawPolygon"},enable:function(m){L.PM.Draw.Line.prototype.enable.call(this,m),this._layer.pm._shape="Polygon"},_createMarker:function(m){var v=new L.Marker(m,{draggable:!1,icon:L.divIcon({className:"marker-icon"})});return this._setPane(v,"vertexPane"),v._pmTempLayer=!0,this._layerGroup.addLayer(v),this._markers.push(v),1===this._layer.getLatLngs().flat().length?(v.on("click",this._finishShape,this),this._tempSnapLayerIndex=this._otherSnapLayers.push(v)-1,this.options.snappable&&this._cleanupSnapping()):v.on("click",function(){return 1}),v},_setTooltipText:function(){var m;m=Fe(this._layer.getLatLngs().flat().length<=2?"tooltips.continueLine":"tooltips.finishPoly"),this._hintMarker.setTooltipContent(m)},_finishShape:function(){if((this.options.allowSelfIntersection||(this._handleSelfIntersection(!0,this._layer.getLatLngs()[0]),!this._doesSelfIntersect))&&(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer())){var m=this._layer.getLatLngs();if(!(m.length<=2)){var v=L.polygon(m,this.options.pathOptions);this._setPane(v,"layerPane"),this._finishLayer(v),v.addTo(this._map.pm._getContainingLayer()),this._fireCreate(v),this._cleanupSnapping(),this._otherSnapLayers.splice(this._tempSnapLayerIndex,1),delete this._tempSnapLayerIndex,this.disable(),this.options.continueDrawing&&this.enable()}}}}),re.Rectangle=re.extend({initialize:function(m){this._map=m,this._shape="Rectangle",this.toolbarButtonName="drawRectangle"},enable:function(m){if(L.Util.setOptions(this,m),this._enabled=!0,this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.rectangle([[0,0],[0,0]],this.options.pathOptions),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._startMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon rect-start-marker"}),draggable:!1,zIndexOffset:-100,opacity:this.options.cursorMarker?1:0}),this._setPane(this._startMarker,"vertexPane"),this._startMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._startMarker),this._hintMarker=L.marker(this._map.getCenter(),{zIndexOffset:150,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(Fe("tooltips.firstVertex"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this.options.cursorMarker){this._styleMarkers=[];for(var v=0;v<2;v+=1){var M=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon rect-style-marker"}),draggable:!1,zIndexOffset:100});this._setPane(M,"vertexPane"),M._pmTempLayer=!0,this._layerGroup.addLayer(M),this._styleMarkers.push(M)}}this._map._container.style.cursor="crosshair",this._map.on("click",this._placeStartingMarkers,this),this._map.on("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._otherSnapLayers=[],this._fireDrawStart(),this._setGlobalDrawMode()},disable:function(){this._enabled&&(this._enabled=!1,this._map._container.style.cursor="",this._map.off("click",this._finishShape,this),this._map.off("click",this._placeStartingMarkers,this),this._map.off("mousemove",this._syncHintMarker,this),this._map.removeLayer(this._layerGroup),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled:function(){return this._enabled},toggle:function(m){this.enabled()?this.disable():this.enable(m)},_placeStartingMarkers:function(m){this._hintMarker._snapped||this._hintMarker.setLatLng(m.latlng);var v=this._hintMarker.getLatLng();L.DomUtil.addClass(this._startMarker._icon,"visible"),this._startMarker.setLatLng(v),this.options.cursorMarker&&this._styleMarkers&&this._styleMarkers.forEach(function(M){L.DomUtil.addClass(M._icon,"visible"),M.setLatLng(v)}),this._map.off("click",this._placeStartingMarkers,this),this._map.on("click",this._finishShape,this),this._hintMarker.setTooltipContent(Fe("tooltips.finishRect")),this._setRectangleOrigin()},_setRectangleOrigin:function(){var m=this._startMarker.getLatLng();m&&(this._layerGroup.addLayer(this._layer),this._layer.setLatLngs([m,m]),this._hintMarker.on("move",this._syncRectangleSize,this))},_syncHintMarker:function(m){if(this._hintMarker.setLatLng(m.latlng),this.options.snappable){var v=m;v.target=this._hintMarker,this._handleSnapping(v)}var M=this._layerGroup&&this._layerGroup.hasLayer(this._layer)?this._layer.getLatLngs():[this._hintMarker.getLatLng()];this._fireChange(M,"Draw")},_syncRectangleSize:function(){var m=this,v=Dt(this._startMarker.getLatLng(),this._map),M=Dt(this._hintMarker.getLatLng(),this._map),B=L.PM.Utils._getRotatedRectangle(v,M,this.options.rectangleAngle||0,this._map);if(this._layer.setLatLngs(B),this.options.cursorMarker&&this._styleMarkers){var X=[];B.forEach(function(Ce){Ce.equals(v,1e-8)||Ce.equals(M,1e-8)||X.push(Ce)}),X.forEach(function(Ce,Ie){try{m._styleMarkers[Ie].setLatLng(Ce)}catch{}})}},_findCorners:function(){var m=this._layer.getBounds();return[m.getNorthWest(),m.getNorthEast(),m.getSouthEast(),m.getSouthWest()]},_finishShape:function(m){this._hintMarker._snapped||this._hintMarker.setLatLng(m.latlng);var v=this._hintMarker.getLatLng(),M=this._startMarker.getLatLng();if(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer()){var B=L.rectangle([M,v],this.options.pathOptions);if(this.options.rectangleAngle){var X=L.PM.Utils._getRotatedRectangle(M,v,this.options.rectangleAngle||0,this._map);B.setLatLngs(X),B.pm&&B.pm._setAngle(this.options.rectangleAngle||0)}this._setPane(B,"layerPane"),this._finishLayer(B),B.addTo(this._map.pm._getContainingLayer()),this._fireCreate(B),this.disable(),this.options.continueDrawing&&this.enable()}},setStyle:function(){var m;null===(m=this._layer)||void 0===m||m.setStyle(this.options.pathOptions)}}),re.Circle=re.extend({initialize:function(m){this._map=m,this._shape="Circle",this.toolbarButtonName="drawCircle"},enable:function(m){L.Util.setOptions(this,m),this.options.radius=0,this._enabled=!0,this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.circle(this._map.getCenter(),Mi(Mi({},this.options.templineStyle),{},{radius:0})),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._centerMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon"}),draggable:!1,zIndexOffset:100}),this._setPane(this._centerMarker,"vertexPane"),this._centerMarker._pmTempLayer=!0,this._hintMarker=L.marker(this._map.getCenter(),{zIndexOffset:110,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(Fe("tooltips.startCircle"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._hintline=L.polyline([],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._layerGroup.addLayer(this._hintline),this._map._container.style.cursor="crosshair",this._map.on("click",this._placeCenterMarker,this),this._map.on("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._otherSnapLayers=[],this._fireDrawStart(),this._setGlobalDrawMode()},disable:function(){this._enabled&&(this._enabled=!1,this._map._container.style.cursor="",this._map.off("click",this._finishShape,this),this._map.off("click",this._placeCenterMarker,this),this._map.off("mousemove",this._syncHintMarker,this),this._map.removeLayer(this._layerGroup),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled:function(){return this._enabled},toggle:function(m){this.enabled()?this.disable():this.enable(m)},_syncHintLine:function(){var m=this._centerMarker.getLatLng(),v=this._getNewDestinationOfHintMarker();this._hintline.setLatLngs([m,v])},_syncCircleRadius:function(){var m,v=this._centerMarker.getLatLng(),M=this._hintMarker.getLatLng();m=this._map.options.crs===L.CRS.Simple?this._map.distance(v,M):v.distanceTo(M),this._layer.setRadius(this.options.minRadiusCircle&&m<this.options.minRadiusCircle?this.options.minRadiusCircle:this.options.maxRadiusCircle&&m>this.options.maxRadiusCircle?this.options.maxRadiusCircle:m)},_syncHintMarker:function(m){if(this._hintMarker.setLatLng(m.latlng),this._hintMarker.setLatLng(this._getNewDestinationOfHintMarker()),this.options.snappable){var v=m;v.target=this._hintMarker,this._handleSnapping(v)}this._handleHintMarkerSnapping();var M=this._layerGroup&&this._layerGroup.hasLayer(this._centerMarker)?this._centerMarker.getLatLng():this._hintMarker.getLatLng();this._fireChange(M,"Draw")},_placeCenterMarker:function(m){this._layerGroup.addLayer(this._layer),this._layerGroup.addLayer(this._centerMarker),this._hintMarker._snapped||this._hintMarker.setLatLng(m.latlng);var v=this._hintMarker.getLatLng();this._layerGroup.addLayer(this._layer),this._centerMarker.setLatLng(v),this._map.off("click",this._placeCenterMarker,this),this._map.on("click",this._finishShape,this),this._placeCircleCenter()},_placeCircleCenter:function(){var m=this._centerMarker.getLatLng();m&&(this._layer.setLatLng(m),this._hintMarker.on("move",this._syncHintLine,this),this._hintMarker.on("move",this._syncCircleRadius,this),this._hintMarker.setTooltipContent(Fe("tooltips.finishCircle")),this._fireCenterPlaced(),this._fireChange(this._layer.getLatLng(),"Draw"))},_finishShape:function(m){if(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer()){this._hintMarker._snapped||this._hintMarker.setLatLng(m.latlng);var v,M=this._centerMarker.getLatLng(),B=this._hintMarker.getLatLng();v=this._map.options.crs===L.CRS.Simple?this._map.distance(M,B):M.distanceTo(B),this.options.minRadiusCircle&&v<this.options.minRadiusCircle?v=this.options.minRadiusCircle:this.options.maxRadiusCircle&&v>this.options.maxRadiusCircle&&(v=this.options.maxRadiusCircle);var X=Mi(Mi({},this.options.pathOptions),{},{radius:v}),Ce=L.circle(M,X);this._setPane(Ce,"layerPane"),this._finishLayer(Ce),Ce.addTo(this._map.pm._getContainingLayer()),Ce.pm&&Ce.pm._updateHiddenPolyCircle(),this._fireCreate(Ce),this.disable(),this.options.continueDrawing&&this.enable()}},_getNewDestinationOfHintMarker:function(){var m=this._hintMarker.getLatLng();if(!this._layerGroup.hasLayer(this._centerMarker))return m;var v=this._centerMarker.getLatLng(),M=v.distanceTo(m);return this.options.minRadiusCircle&&M<this.options.minRadiusCircle?m=$e(this._map,v,m,this.options.minRadiusCircle):this.options.maxRadiusCircle&&M>this.options.maxRadiusCircle&&(m=$e(this._map,v,m,this.options.maxRadiusCircle)),m},_handleHintMarkerSnapping:function(){if(this._hintMarker._snapped){var m=this._centerMarker.getLatLng(),v=this._hintMarker.getLatLng(),M=m.distanceTo(v);this._layerGroup.hasLayer(this._centerMarker)&&(this.options.minRadiusCircle&&M<this.options.minRadiusCircle||this.options.maxRadiusCircle&&M>this.options.maxRadiusCircle)&&this._hintMarker.setLatLng(this._hintMarker._orgLatLng)}this._hintMarker.setLatLng(this._getNewDestinationOfHintMarker())},setStyle:function(){var m,v;null===(m=this._layer)||void 0===m||m.setStyle(this.options.templineStyle),null===(v=this._hintline)||void 0===v||v.setStyle(this.options.hintlineStyle)}}),re.CircleMarker=re.Marker.extend({initialize:function(m){this._map=m,this._shape="CircleMarker",this.toolbarButtonName="drawCircleMarker",this._layerIsDragging=!1},enable:function(m){var v=this;if(L.Util.setOptions(this,m),this._enabled=!0,this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this.options.editable){var M={};L.extend(M,this.options.templineStyle),M.radius=0,this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.circleMarker(this._map.getCenter(),M),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._centerMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon"}),draggable:!1,zIndexOffset:100}),this._setPane(this._centerMarker,"vertexPane"),this._centerMarker._pmTempLayer=!0,this._hintMarker=L.marker(this._map.getCenter(),{zIndexOffset:110,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(Fe("tooltips.startCircle"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._hintline=L.polyline([],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._layerGroup.addLayer(this._hintline),this._map.on("click",this._placeCenterMarker,this),this._map._container.style.cursor="crosshair"}else this._map.on("click",this._createMarker,this),this._hintMarker=L.circleMarker(this._map.getCenter(),this.options.templineStyle),this._setPane(this._hintMarker,"layerPane"),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this._layer=this._hintMarker,this.options.tooltips&&this._hintMarker.bindTooltip(Fe("tooltips.placeCircleMarker"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip();this._map.on("mousemove",this._syncHintMarker,this),!this.options.editable&&this.options.markerEditable&&this._map.eachLayer(function(B){v.isRelevantMarker(B)&&B.pm.enable()}),this._layer.bringToBack(),this._fireDrawStart(),this._setGlobalDrawMode()},disable:function(){var m=this;this._enabled&&(this._enabled=!1,this.options.editable?(this._map._container.style.cursor="",this._map.off("click",this._finishShape,this),this._map.off("click",this._placeCenterMarker,this),this._map.removeLayer(this._layerGroup)):(this._map.off("click",this._createMarker,this),this._map.eachLayer(function(v){m.isRelevantMarker(v)&&v.pm.disable()}),this._hintMarker.remove()),this._map.off("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},_placeCenterMarker:function(m){this._layerGroup.addLayer(this._layer),this._layerGroup.addLayer(this._centerMarker),this._hintMarker._snapped||this._hintMarker.setLatLng(m.latlng);var v=this._hintMarker.getLatLng();this._layerGroup.addLayer(this._layer),this._centerMarker.setLatLng(v),this._map.off("click",this._placeCenterMarker,this),this._map.on("click",this._finishShape,this),this._placeCircleCenter()},_placeCircleCenter:function(){var m=this._centerMarker.getLatLng();m&&(this._layer.setLatLng(m),this._hintMarker.on("move",this._syncHintLine,this),this._hintMarker.on("move",this._syncCircleRadius,this),this._hintMarker.setTooltipContent(Fe("tooltips.finishCircle")),this._fireCenterPlaced(),this._fireChange(this._layer.getLatLng(),"Draw"))},_syncHintLine:function(){var m=this._centerMarker.getLatLng(),v=this._getNewDestinationOfHintMarker();this._hintline.setLatLngs([m,v])},_syncCircleRadius:function(){var m=this._centerMarker.getLatLng(),v=this._hintMarker.getLatLng(),M=this._map.project(m).distanceTo(this._map.project(v));this._layer.setRadius(this.options.minRadiusCircleMarker&&M<this.options.minRadiusCircleMarker?this.options.minRadiusCircleMarker:this.options.maxRadiusCircleMarker&&M>this.options.maxRadiusCircleMarker?this.options.maxRadiusCircleMarker:M)},_syncHintMarker:function(m){if(this._hintMarker.setLatLng(m.latlng),this._hintMarker.setLatLng(this._getNewDestinationOfHintMarker()),this.options.snappable){var v=m;v.target=this._hintMarker,this._handleSnapping(v)}this._handleHintMarkerSnapping();var M=this._layerGroup&&this._layerGroup.hasLayer(this._centerMarker)?this._centerMarker.getLatLng():this._hintMarker.getLatLng();this._fireChange(M,"Draw")},isRelevantMarker:function(m){return m instanceof L.CircleMarker&&!(m instanceof L.Circle)&&m.pm&&!m._pmTempLayer},_createMarker:function(m){if((!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer())&&m.latlng&&!this._layerIsDragging){this._hintMarker._snapped||this._hintMarker.setLatLng(m.latlng);var v=this._hintMarker.getLatLng(),M=L.circleMarker(v,this.options.pathOptions);this._setPane(M,"layerPane"),this._finishLayer(M),M.addTo(this._map.pm._getContainingLayer()),M.pm&&this.options.markerEditable&&M.pm.enable(),this._fireCreate(M),this._cleanupSnapping(),this.options.continueDrawing||this.disable()}},_finishShape:function(m){if(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer()){this._hintMarker._snapped||this._hintMarker.setLatLng(m.latlng);var v=this._centerMarker.getLatLng(),M=this._hintMarker.getLatLng(),B=this._map.project(v).distanceTo(this._map.project(M));this.options.editable&&(this.options.minRadiusCircleMarker&&B<this.options.minRadiusCircleMarker?B=this.options.minRadiusCircleMarker:this.options.maxRadiusCircleMarker&&B>this.options.maxRadiusCircleMarker&&(B=this.options.maxRadiusCircleMarker));var X=Uo(Uo({},this.options.pathOptions),{},{radius:B}),Ce=L.circleMarker(v,X);this._setPane(Ce,"layerPane"),this._finishLayer(Ce),Ce.addTo(this._map.pm._getContainingLayer()),Ce.pm&&Ce.pm._updateHiddenPolyCircle(),this._fireCreate(Ce),this.disable(),this.options.continueDrawing&&this.enable()}},_getNewDestinationOfHintMarker:function(){var m=this._hintMarker.getLatLng();if(this.options.editable){if(!this._layerGroup.hasLayer(this._centerMarker))return m;var v=this._centerMarker.getLatLng(),M=this._map.project(v).distanceTo(this._map.project(m));this.options.minRadiusCircleMarker&&M<this.options.minRadiusCircleMarker?m=$e(this._map,v,m,this._pxRadiusToMeter(this.options.minRadiusCircleMarker)):this.options.maxRadiusCircleMarker&&M>this.options.maxRadiusCircleMarker&&(m=$e(this._map,v,m,this._pxRadiusToMeter(this.options.maxRadiusCircleMarker)))}return m},_handleHintMarkerSnapping:function(){if(this.options.editable){if(this._hintMarker._snapped){var m=this._centerMarker.getLatLng(),v=this._hintMarker.getLatLng(),M=this._map.project(m).distanceTo(this._map.project(v));this._layerGroup.hasLayer(this._centerMarker)&&(this.options.minRadiusCircleMarker&&M<this.options.minRadiusCircleMarker||this.options.maxRadiusCircleMarker&&M>this.options.maxRadiusCircleMarker)&&this._hintMarker.setLatLng(this._hintMarker._orgLatLng)}this._hintMarker.setLatLng(this._getNewDestinationOfHintMarker())}},_pxRadiusToMeter:function(m){var v=this._centerMarker.getLatLng(),M=this._map.project(v),B=L.point(M.x+m,M.y);return this._map.unproject(B).distanceTo(v)},setStyle:function(){var m,v,M={};L.extend(M,this.options.templineStyle),this.options.editable&&(M.radius=0),null===(m=this._layer)||void 0===m||m.setStyle(M),null===(v=this._hintline)||void 0===v||v.setStyle(this.options.hintlineStyle)}});const Bi=function(m){if(!m)throw new Error("geojson is required");var v=[];return Ol(m,function(M){!function(B,X){var Ce=[],Ie=B.geometry;if(null!==Ie){switch(Ie.type){case"Polygon":Ce=si(Ie);break;case"LineString":Ce=[si(Ie)]}Ce.forEach(function(Pe){var Je,ht;(Je=B.properties,ht=[],Pe.reduce(function(ut,Ct){var Lt,an,Ot,Mn,$t,Jr,gt=wt([ut,Ct],Je);return gt.bbox=[(Ot=(Lt=ut)[0])<($t=(an=Ct)[0])?Ot:$t,(Mn=Lt[1])<(Jr=an[1])?Mn:Jr,Ot>$t?Ot:$t,Mn>Jr?Mn:Jr],ht.push(gt),Ct}),ht).forEach(function(ze){ze.id=X.length,X.push(ze)})})}}(M,v)}),Pt(v)};var rn=x(1787);function Na(m,v){var M=si(m),B=si(v);if(2!==M.length)throw new Error("<intersects> line1 must only contain 2 coordinates");if(2!==B.length)throw new Error("<intersects> line2 must only contain 2 coordinates");var X=M[0][0],Ce=M[0][1],Ie=M[1][0],Pe=M[1][1],Te=B[0][0],ze=B[0][1],Je=B[1][0],ht=B[1][1],ut=(ht-ze)*(Ie-X)-(Je-Te)*(Pe-Ce);if(0===ut)return null;var an=((Je-Te)*(Ce-ze)-(ht-ze)*(X-Te))/ut,Ot=((Ie-X)*(Ce-ze)-(Pe-Ce)*(X-Te))/ut;return an>=0&&an<=1&&Ot>=0&&Ot<=1?He([X+an*(Ie-X),Ce+an*(Pe-Ce)]):null}const ri=function(m,v){var M={},B=[];if("LineString"===m.type&&(m=Ge(m)),"LineString"===v.type&&(v=Ge(v)),"Feature"===m.type&&"Feature"===v.type&&null!==m.geometry&&null!==v.geometry&&"LineString"===m.geometry.type&&"LineString"===v.geometry.type&&2===m.geometry.coordinates.length&&2===v.geometry.coordinates.length){var X=Na(m,v);return X&&B.push(X),Pt(B)}var Ce=rn();return Ce.load(Bi(v)),tl(Bi(m),function(Ie){tl(Ce.search(Ie),function(Pe){var Te=Na(Ie,Pe);if(Te){var ze=si(Te).join(",");M[ze]||(M[ze]=!0,B.push(Te))}})}),Pt(B)},Fn=function(m,v,M){void 0===M&&(M={});var B=sn(m),X=sn(v),Ce=Bt(X[1]-B[1]),Ie=Bt(X[0]-B[0]),Pe=Bt(B[1]),Te=Bt(X[1]),ze=Math.pow(Math.sin(Ce/2),2)+Math.pow(Math.sin(Ie/2),2)*Math.cos(Pe)*Math.cos(Te);return function pt(m,v){void 0===v&&(v="kilometers");var M=Ve[v];if(!M)throw new Error(v+" units is invalid");return m*M}(2*Math.atan2(Math.sqrt(ze),Math.sqrt(1-ze)),M.units)};function Oo(m){var v=[1/0,1/0,-1/0,-1/0];return Ks(m,function(M){v[0]>M[0]&&(v[0]=M[0]),v[1]>M[1]&&(v[1]=M[1]),v[2]<M[0]&&(v[2]=M[0]),v[3]<M[1]&&(v[3]=M[1])}),v}Oo.default=Oo;const bo=Oo;function Qs(m,v,M){if(void 0===M&&(M={}),!0===M.final)return(Qs(v,m)+180)%360;var B=sn(m),X=sn(v),Ce=Bt(B[0]),Ie=Bt(X[0]),Pe=Bt(B[1]),Te=Bt(X[1]),ze=Math.sin(Ie-Ce)*Math.cos(Te),Je=Math.cos(Pe)*Math.sin(Te)-Math.sin(Pe)*Math.cos(Te)*Math.cos(Ie-Ce);return hn(Math.atan2(ze,Je))}function Ho(m,v,M,B){void 0===B&&(B={});var X=sn(m),Ce=Bt(X[0]),Ie=Bt(X[1]),Pe=Bt(M),Te=function kt(m,v){void 0===v&&(v="kilometers");var M=Ve[v];if(!M)throw new Error(v+" units is invalid");return m/M}(v,B.units),ze=Math.asin(Math.sin(Ie)*Math.cos(Te)+Math.cos(Ie)*Math.sin(Te)*Math.cos(Pe));return He([hn(Ce+Math.atan2(Math.sin(Pe)*Math.sin(Te)*Math.cos(Ie),Math.cos(Te)-Math.sin(Ie)*Math.sin(ze))),hn(ze)],B.properties)}const ws=function(m,v,M){void 0===M&&(M={});var B=He([1/0,1/0],{dist:1/0}),X=0;return Ol(m,function(Ce){for(var Ie=si(Ce),Pe=0;Pe<Ie.length-1;Pe++){var Te=He(Ie[Pe]);Te.properties.dist=Fn(v,Te,M);var ze=He(Ie[Pe+1]);ze.properties.dist=Fn(v,ze,M);var Je=Fn(Te,ze,M),ht=Math.max(Te.properties.dist,ze.properties.dist),ut=Qs(Te,ze),Ct=Ho(v,ht,ut+90,M),Lt=Ho(v,ht,ut-90,M),an=ri(wt([Ct.geometry.coordinates,Lt.geometry.coordinates]),wt([Te.geometry.coordinates,ze.geometry.coordinates])),Ot=null;an.features.length>0&&((Ot=an.features[0]).properties.dist=Fn(v,Ot,M),Ot.properties.location=X+Fn(Te,Ot,M)),Te.properties.dist<B.properties.dist&&((B=Te).properties.index=Pe,B.properties.location=X),ze.properties.dist<B.properties.dist&&((B=ze).properties.index=Pe+1,B.properties.location=X+Je),Ot&&Ot.properties.dist<B.properties.dist&&((B=Ot).properties.index=Pe),X+=Je}}),B};function jo(m,v){var M=[],B=rn();return Ol(v,function(X){if(M.forEach(function(Pe,Te){Pe.id=Te}),M.length){var Ce=B.search(X);if(Ce.features.length){var Ie=Gr(X,Ce);M=M.filter(function(Pe){return Pe.id!==Ie.id}),B.remove(Ie),tl(zi(Ie,X),function(Pe){M.push(Pe),B.insert(Pe)})}}else(M=zi(m,X).features).forEach(function(Pe){Pe.bbox||(Pe.bbox=function(m){var v=m[0],M=m[1],B=m[2],X=m[3];if(Fn(m.slice(0,2),[B,M])>=Fn(m.slice(0,2),[v,X])){var Ce=(M+X)/2;return[v,Ce-(B-v)/2,B,Ce+(B-v)/2]}var Ie=(v+B)/2;return[Ie-(X-M)/2,M,Ie+(X-M)/2,X]}(bo(Pe)))}),B.load(Pt(M))}),Pt(M)}function zi(m,v){var M=[],B=si(m)[0],X=si(m)[m.geometry.coordinates.length-1];if(Kn(B,sn(v))||Kn(X,sn(v)))return Pt([m]);var Ce=rn(),Ie=Bi(m);Ce.load(Ie);var Pe=Ce.search(v);if(!Pe.features.length)return Pt([m]);var ut,Ct,Te=Gr(v,Pe),ze=(Ct=ut=[B],tl(Ie,function(Lt,an){Ct=0===an&&void 0===ut?Lt:function(Je,ht,ut){var Ct=si(ht)[1],Lt=sn(v);return ut===Te.id?(Je.push(Lt),M.push(wt(Je)),Kn(Lt,Ct)?[Lt]:[Lt,Ct]):(Je.push(Ct),Je)}(Ct,Lt,an)}),Ct);return ze.length>1&&M.push(wt(ze)),Pt(M)}function Gr(m,v){if(!v.features.length)throw new Error("lines must contain features");if(1===v.features.length)return v.features[0];var M,B=1/0;return tl(v,function(X){var Ce=ws(X,m).properties.dist;Ce<B&&(M=X,B=Ce)}),M}function Kn(m,v){return m[0]===v[0]&&m[1]===v[1]}function po(m,v,M){if(void 0===M&&(M={}),!m)throw new Error("point is required");if(!v)throw new Error("polygon is required");var ut,Ct,B=sn(m),X=fo(v),Ie=v.bbox,Pe=X.coordinates;if(Ie&&0==((Ct=Ie)[0]<=(ut=B)[0]&&Ct[1]<=ut[1]&&Ct[2]>=ut[0]&&Ct[3]>=ut[1]))return!1;"Polygon"===X.type&&(Pe=[Pe]);for(var Te=!1,ze=0;ze<Pe.length&&!Te;ze++)if(Rs(B,Pe[ze][0],M.ignoreBoundary)){for(var Je=!1,ht=1;ht<Pe[ze].length&&!Je;)Rs(B,Pe[ze][ht],!M.ignoreBoundary)&&(Je=!0),ht++;Je||(Te=!0)}return Te}function Rs(m,v,M){var B=!1;v[0][0]===v[v.length-1][0]&&v[0][1]===v[v.length-1][1]&&(v=v.slice(0,v.length-1));for(var X=0,Ce=v.length-1;X<v.length;Ce=X++){var Ie=v[X][0],Pe=v[X][1],Te=v[Ce][0],ze=v[Ce][1];if(m[1]*(Ie-Te)+Pe*(Te-m[0])+ze*(m[0]-Ie)==0&&(Ie-m[0])*(Te-m[0])<=0&&(Pe-m[1])*(ze-m[1])<=0)return!M;Pe>m[1]!=ze>m[1]&&m[0]<(Te-Ie)*(m[1]-Pe)/(ze-Pe)+Ie&&(B=!B)}return B}function vi(m,v,M,B,X){var Ce=M[0],Ie=M[1],Pe=m[0],Te=m[1],ze=v[0],Je=v[1],ht=ze-Pe,ut=Je-Te,Ct=(M[0]-Pe)*ut-(M[1]-Te)*ht;if(null!==X){if(Math.abs(Ct)>X)return!1}else if(0!==Ct)return!1;return B?"start"===B?Math.abs(ht)>=Math.abs(ut)?ht>0?Pe<Ce&&Ce<=ze:ze<=Ce&&Ce<Pe:ut>0?Te<Ie&&Ie<=Je:Je<=Ie&&Ie<Te:"end"===B?Math.abs(ht)>=Math.abs(ut)?ht>0?Pe<=Ce&&Ce<ze:ze<Ce&&Ce<=Pe:ut>0?Te<=Ie&&Ie<Je:Je<Ie&&Ie<=Te:"both"===B&&(Math.abs(ht)>=Math.abs(ut)?ht>0?Pe<Ce&&Ce<ze:ze<Ce&&Ce<Pe:ut>0?Te<Ie&&Ie<Je:Je<Ie&&Ie<Te):Math.abs(ht)>=Math.abs(ut)?ht>0?Pe<=Ce&&Ce<=ze:ze<=Ce&&Ce<=Pe:ut>0?Te<=Ie&&Ie<=Je:Je<=Ie&&Ie<=Te}const Os=function(m,v,M){void 0===M&&(M={});for(var B=sn(m),X=si(v),Ce=0;Ce<X.length-1;Ce++){var Ie=!1;if(M.ignoreEndVertices&&(0===Ce&&(Ie="start"),Ce===X.length-2&&(Ie="end"),0===Ce&&Ce+1===X.length-1&&(Ie="both")),vi(X[Ce],X[Ce+1],B,Ie,typeof M.epsilon>"u"?null:M.epsilon))return!0}return!1};function Jo(m,v){return!(m[0]>v[0]||m[2]<v[2]||m[1]>v[1]||m[3]<v[3])}function Wi(m,v){return m[0]===v[0]&&m[1]===v[1]}function nl(m,v){return[(m[0]+v[0])/2,(m[1]+v[1])/2]}var rl=x(2676),Js=x.n(rl);function qn(m){var v={type:"Feature"};return v.geometry=m,v}function Cn(m){return"Feature"===m.type?m.geometry:m}function Ba(m){return m&&m.geometry&&m.geometry.coordinates?m.geometry.coordinates:m}function Do(m){return qn({type:"Polygon",coordinates:m})}function oa(m){return qn({type:"MultiPolygon",coordinates:m})}function Si(m){return Array.isArray(m)?1+Si(m[0]):-1}function zt(m){m instanceof L.Polyline&&(m=m.toGeoJSON(15));var v=Ba(m),M=Si(v),B=[];return M>1?v.forEach(function(X){B.push(qn({type:"LineString",coordinates:X}))}):B.push(m),B}function sa(m,v){(null==v||v>m.length)&&(v=m.length);for(var M=0,B=new Array(v);M<v;M++)B[M]=m[M];return B}function il(m,v){(null==v||v>m.length)&&(v=m.length);for(var M=0,B=new Array(v);M<v;M++)B[M]=m[M];return B}re.Cut=re.Polygon.extend({initialize:function(m){this._map=m,this._shape="Cut",this.toolbarButtonName="cutPolygon"},_finishShape:function(){var m=this;if(this._editedLayers=[],(this.options.allowSelfIntersection||(this._handleSelfIntersection(!0,this._layer.getLatLngs()[0]),!this._doesSelfIntersect))&&(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer())){var v=this._layer.getLatLngs();if(!(v.length<=2)){var M=L.polygon(v,this.options.pathOptions);M._latlngInfos=this._layer._latlngInfo,this.cut(M),this._cleanupSnapping(),this._otherSnapLayers.splice(this._tempSnapLayerIndex,1),delete this._tempSnapLayerIndex,this._editedLayers.forEach(function(B){var X=B.layer,Ce=B.originalLayer;m._fireCut(Ce,X,Ce),m._fireCut(m._map,X,Ce),Ce.pm._fireEdit()}),this._editedLayers=[],this.disable(),this.options.continueDrawing&&this.enable()}}},cut:function(m){var v=this,M=this._map._layers,B=m._latlngInfos||[];Object.keys(M).map(function(X){return M[X]}).filter(function(X){return X.pm}).filter(function(X){return!X._pmTempLayer}).filter(function(X){return!L.PM.optIn&&!X.options.pmIgnore||L.PM.optIn&&!1===X.options.pmIgnore}).filter(function(X){return X instanceof L.Polyline}).filter(function(X){return X!==m}).filter(function(X){return X.pm.options.allowCutting}).filter(function(X){return!(v.options.layersToCut&&L.Util.isArray(v.options.layersToCut)&&v.options.layersToCut.length>0)||v.options.layersToCut.indexOf(X)>-1}).filter(function(X){return!v._layerGroup.hasLayer(X)}).filter(function(X){try{var Ce=!!ri(m.toGeoJSON(15),X.toGeoJSON(15)).features.length>0;return Ce||X instanceof L.Polyline&&!(X instanceof L.Polygon)?Ce:(Ie=m.toGeoJSON(15),Pe=X.toGeoJSON(15),Te=Cn(Ie),ze=Cn(Pe),!(0===(Je=Js().intersection(Te.coordinates,ze.coordinates)).length||!(1===Je.length?Do(Je[0]):oa(Je))))}catch{return X instanceof L.Polygon&&console.error("You can't cut polygons with self-intersections"),!1}var Ie,Pe,Te,ze,Je}).forEach(function(X){var Ce;if(X instanceof L.Polygon){var Ie=(Ce=L.polygon(X.getLatLngs())).getLatLngs();B.forEach(function(ut){if(ut&&ut.snapInfo){var Ct=ut.latlng,Lt=v._calcClosestLayer(Ct,[Ce]);if(Lt&&Lt.segment&&Lt.distance<v.options.snapDistance){var an=Lt.segment;if(an&&2===an.length){var Ot=L.PM.Utils._getIndexFromSegment(Ie,an),$t=Ot.parentPath,Jr=Ot.newIndex;(Ot.indexPath.length>1?Me()(Ie,$t):Ie).splice(Jr,0,Ct)}}}})}else Ce=X;var Pe=v._cutLayer(m,Ce),Te=L.geoJSON(Pe,X.options);if(1===Te.getLayers().length){var ze=Te.getLayers();Te=function So(m,v){return function(M){if(Array.isArray(M))return M}(m)||function(M,B){var X=null==M?null:typeof Symbol<"u"&&M[Symbol.iterator]||M["@@iterator"];if(null!=X){var Ce,Ie,Pe=[],Te=!0,ze=!1;try{for(X=X.call(M);!(Te=(Ce=X.next()).done)&&(Pe.push(Ce.value),!B||Pe.length!==B);Te=!0);}catch(Je){ze=!0,Ie=Je}finally{try{Te||null==X.return||X.return()}finally{if(ze)throw Ie}}return Pe}}(m,v)||function(M,B){if(M){if("string"==typeof M)return sa(M,B);var X=Object.prototype.toString.call(M).slice(8,-1);if("Object"===X&&M.constructor&&(X=M.constructor.name),"Map"===X||"Set"===X)return Array.from(M);if("Arguments"===X||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(X))return sa(M,B)}}(m,v)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(ze,1)[0]}v._setPane(Te,"layerPane");var Je=Te.addTo(v._map.pm._getContainingLayer());if(Je.pm.enable(X.pm.options),Je.pm.disable(),X._pmTempLayer=!0,m._pmTempLayer=!0,X.remove(),X.removeFrom(v._map.pm._getContainingLayer()),m.remove(),m.removeFrom(v._map.pm._getContainingLayer()),Je.getLayers&&0===Je.getLayers().length&&v._map.pm.removeLayer({target:Je}),Je instanceof L.LayerGroup&&Je.eachLayer(function(ut){v._addDrawnLayerProp(ut)}),v._addDrawnLayerProp(Je),v.options.layersToCut&&L.Util.isArray(v.options.layersToCut)&&v.options.layersToCut.length>0){var ht=v.options.layersToCut.indexOf(X);ht>-1&&v.options.layersToCut.splice(ht,1)}v._editedLayers.push({layer:Je,originalLayer:X})})},_cutLayer:function(m,v){var M,B,X,Ce,Ie,Pe,Te=L.geoJSON();if(v instanceof L.Polygon)B=v.toGeoJSON(15),X=m.toGeoJSON(15),Ce=Cn(B),Ie=Cn(X),M=0===(Pe=Js().difference(Ce.coordinates,Ie.coordinates)).length?null:1===Pe.length?Do(Pe[0]):oa(Pe);else{var ze=zt(v);ze.forEach(function(Je){var ht=function(m,v){if(!m)throw new Error("line is required");if(!v)throw new Error("splitter is required");var M=Ko(m),B=Ko(v);if("LineString"!==M)throw new Error("line must be LineString");if("FeatureCollection"===B)throw new Error("splitter cannot be a FeatureCollection");if("GeometryCollection"===B)throw new Error("splitter cannot be a GeometryCollection");var X=function(m,v){void 0===v&&(v={});var M=v.precision,B=v.coordinates,X=v.mutate;if(M=null==M||isNaN(M)?6:M,B=null==B||isNaN(B)?3:B,!m)throw new Error("<geojson> is required");if("number"!=typeof M)throw new Error("<precision> must be a number");if("number"!=typeof B)throw new Error("<coordinates> must be a number");!1!==X&&void 0!==X||(m=JSON.parse(JSON.stringify(m)));var Ce=Math.pow(10,M);return Ks(m,function(Ie){!function(Pe,Te,ze){Pe.length>ze&&Pe.splice(ze,Pe.length);for(var Je=0;Je<Pe.length;Je++)Pe[Je]=Math.round(Pe[Je]*Te)/Te}(Ie,Ce,B)}),m}(v,{precision:7});switch(B){case"Point":return zi(m,X);case"MultiPoint":return jo(m,X);case"LineString":case"MultiLineString":case"Polygon":case"MultiPolygon":return jo(m,ri(m,X))}}(Je,m.toGeoJSON(15));(ht&&ht.features.length>0?L.geoJSON(ht):L.geoJSON(Je)).getLayers().forEach(function(ut){(function Go(m,v){var M=fo(m),B=fo(v),X=M.type,Ce=B.type,Ie=M.coordinates,Pe=B.coordinates;switch(X){case"Point":if("Point"===Ce)return Wi(Ie,Pe);throw new Error("feature2 "+Ce+" geometry not supported");case"MultiPoint":switch(Ce){case"Point":return function(Te,ze){var Je,ht=!1;for(Je=0;Je<Te.coordinates.length;Je++)if(Wi(Te.coordinates[Je],ze.coordinates)){ht=!0;break}return ht}(M,B);case"MultiPoint":return function(Te,ze){for(var Je=0,ht=ze.coordinates;Je<ht.length;Je++){for(var ut=ht[Je],Ct=!1,Lt=0,an=Te.coordinates;Lt<an.length;Lt++)if(Wi(ut,an[Lt])){Ct=!0;break}if(!Ct)return!1}return!0}(M,B);default:throw new Error("feature2 "+Ce+" geometry not supported")}case"LineString":switch(Ce){case"Point":return Os(B,M,{ignoreEndVertices:!0});case"LineString":return function(Te,ze){for(var Je=!1,ht=0,ut=ze.coordinates;ht<ut.length;ht++){var Ct=ut[ht];if(Os({type:"Point",coordinates:Ct},Te,{ignoreEndVertices:!0})&&(Je=!0),!Os({type:"Point",coordinates:Ct},Te,{ignoreEndVertices:!1}))return!1}return Je}(M,B);case"MultiPoint":return function(Te,ze){for(var Je=!1,ht=0,ut=ze.coordinates;ht<ut.length;ht++){var Ct=ut[ht];if(Os(Ct,Te,{ignoreEndVertices:!0})&&(Je=!0),!Os(Ct,Te))return!1}return!!Je}(M,B);default:throw new Error("feature2 "+Ce+" geometry not supported")}case"Polygon":switch(Ce){case"Point":return po(B,M,{ignoreBoundary:!0});case"LineString":return function(Te,ze){var Je=!1,ht=0;if(!Jo(bo(Te),bo(ze)))return!1;for(;ht<ze.coordinates.length-1;ht++)if(po({type:"Point",coordinates:nl(ze.coordinates[ht],ze.coordinates[ht+1])},Te,{ignoreBoundary:!0})){Je=!0;break}return Je}(M,B);case"Polygon":return function(Te,ze){if("Feature"===Te.type&&null===Te.geometry||"Feature"===ze.type&&null===ze.geometry)return!1;if(!Jo(bo(Te),bo(ze)))return!1;for(var Ct=0,Lt=fo(ze).coordinates;Ct<Lt.length;Ct++)for(var an=0,Ot=Lt[Ct];an<Ot.length;an++)if(!po(Ot[an],Te))return!1;return!0}(M,B);case"MultiPoint":return function(Te,ze){for(var Je=0,ht=ze.coordinates;Je<ht.length;Je++)if(!po(ht[Je],Te,{ignoreBoundary:!0}))return!1;return!0}(M,B);default:throw new Error("feature2 "+Ce+" geometry not supported")}default:throw new Error("feature1 "+X+" geometry not supported")}})(m.toGeoJSON(15),ut.toGeoJSON(15))||ut.addTo(Te)})}),M=ze.length>1?function Vt(m){var v=[];return m.eachLayer(function(M){v.push(Ba(M.toGeoJSON(15)))}),qn({type:"MultiLineString",coordinates:v})}(Te):Te.toGeoJSON(15)}return M},_change:L.Util.falseFn}),re.Text=re.extend({initialize:function(m){this._map=m,this._shape="Text",this.toolbarButtonName="drawText"},enable:function(m){L.Util.setOptions(this,m),this._enabled=!0,this._map.on("click",this._createMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._hintMarker=L.marker(this._map.getCenter(),{interactive:!1,zIndexOffset:100,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(Fe("tooltips.placeText"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._layer=this._hintMarker,this._map.on("mousemove",this._syncHintMarker,this),this._fireDrawStart(),this._setGlobalDrawMode()},disable:function(){this._enabled&&(this._enabled=!1,this._map.off("click",this._createMarker,this),this._hintMarker.remove(),this._map.off("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled:function(){return this._enabled},toggle:function(m){this.enabled()?this.disable():this.enable(m)},_syncHintMarker:function(m){if(this._hintMarker.setLatLng(m.latlng),this.options.snappable){var v=m;v.target=this._hintMarker,this._handleSnapping(v)}},_createMarker:function(m){var v;if(m.latlng&&(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer())){this._hintMarker._snapped||this._hintMarker.setLatLng(m.latlng);var M=this._hintMarker.getLatLng();if(this.textArea=this._createTextArea(),null!==(v=this.options.textOptions)&&void 0!==v&&v.className){var B,X=this.options.textOptions.className.split(" ");(B=this.textArea.classList).add.apply(B,function nn(m){return function(v){if(Array.isArray(v))return il(v)}(m)||function(v){if(typeof Symbol<"u"&&null!=v[Symbol.iterator]||null!=v["@@iterator"])return Array.from(v)}(m)||function(v,M){if(v){if("string"==typeof v)return il(v,M);var B=Object.prototype.toString.call(v).slice(8,-1);if("Object"===B&&v.constructor&&(B=v.constructor.name),"Map"===B||"Set"===B)return Array.from(v);if("Arguments"===B||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(B))return il(v,M)}}(m)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(X))}var Ce=this._createTextIcon(this.textArea),Ie=new L.Marker(M,{textMarker:!0,_textMarkerOverPM:!0,icon:Ce});if(this._setPane(Ie,"markerPane"),this._finishLayer(Ie),Ie.pm||(Ie.options.draggable=!1),Ie.addTo(this._map.pm._getContainingLayer()),Ie.pm){var Pe,Te,ze,Je,ht;Ie.pm.textArea=this.textArea,L.setOptions(Ie.pm,{removeIfEmpty:null===(Pe=null===(Te=this.options.textOptions)||void 0===Te?void 0:Te.removeIfEmpty)||void 0===Pe||Pe});var ut=null===(ze=null===(Je=this.options.textOptions)||void 0===Je?void 0:Je.focusAfterDraw)||void 0===ze||ze;Ie.pm._createTextMarker(ut),null!==(ht=this.options.textOptions)&&void 0!==ht&&ht.text&&Ie.pm.setText(this.options.textOptions.text)}this._fireCreate(Ie),this._cleanupSnapping(),this.disable(),this.options.continueDrawing&&this.enable()}},_createTextArea:function(){var m=document.createElement("textarea");return m.autofocus=!0,m.readOnly=!0,m.classList.add("pm-textarea","pm-disabled"),m},_createTextIcon:function(m){return L.divIcon({className:"pm-text-marker",html:m})}});const Nl={enableLayerDrag:function(){if(this.options.draggable&&this._layer._map){this.disable(),this._layerDragEnabled=!0,this._map||(this._map=this._layer._map),(this._layer instanceof L.Marker||this._layer instanceof L.ImageOverlay)&&L.DomEvent.on(this._getDOMElem(),"dragstart",this._stopDOMImageDrag),this._layer.dragging&&this._layer.dragging.disable(),this._tempDragCoord=null,Ft(this._layer)instanceof L.Canvas?(this._layer.on("mouseout",this.removeDraggingClass,this),this._layer.on("mouseover",this.addDraggingClass,this)):this.addDraggingClass(),this._originalMapDragState=this._layer._map.dragging._enabled,this._safeToCacheDragState=!0;var m=this._getDOMElem();m&&(Ft(this._layer)instanceof L.Canvas?(this._layer.on("touchstart mousedown",this._dragMixinOnMouseDown,this),this._map.pm._addTouchEvents(m)):L.DomEvent.on(m,"touchstart mousedown",this._simulateMouseDownEvent,this)),this._fireDragEnable()}},disableLayerDrag:function(){this._layerDragEnabled=!1,Ft(this._layer)instanceof L.Canvas?(this._layer.off("mouseout",this.removeDraggingClass,this),this._layer.off("mouseover",this.addDraggingClass,this)):this.removeDraggingClass(),this._originalMapDragState&&this._dragging&&this._map.dragging.enable(),this._safeToCacheDragState=!1,this._layer.dragging&&this._layer.dragging.disable();var m=this._getDOMElem();m&&(Ft(this._layer)instanceof L.Canvas?(this._layer.off("touchstart mousedown",this._dragMixinOnMouseDown,this),this._map.pm._removeTouchEvents(m)):L.DomEvent.off(m,"touchstart mousedown",this._simulateMouseDownEvent,this)),this._layerDragged&&this._fireUpdate(),this._layerDragged=!1,this._fireDragDisable()},dragging:function(){return this._dragging},layerDragEnabled:function(){return!!this._layerDragEnabled},_simulateMouseDownEvent:function(m){var v=m.touches?m.touches[0]:m,M={originalEvent:v,target:this._layer};return M.containerPoint=this._map.mouseEventToContainerPoint(v),M.latlng=this._map.containerPointToLatLng(M.containerPoint),this._dragMixinOnMouseDown(M),!1},_simulateMouseMoveEvent:function(m){var v=m.touches?m.touches[0]:m,M={originalEvent:v,target:this._layer};return M.containerPoint=this._map.mouseEventToContainerPoint(v),M.latlng=this._map.containerPointToLatLng(M.containerPoint),this._dragMixinOnMouseMove(M),!1},_simulateMouseUpEvent:function(m){var v={originalEvent:m.touches?m.touches[0]:m,target:this._layer};return-1===m.type.indexOf("touch")&&(v.containerPoint=this._map.mouseEventToContainerPoint(m),v.latlng=this._map.containerPointToLatLng(v.containerPoint)),this._dragMixinOnMouseUp(v),!1},_dragMixinOnMouseDown:function(m){if(!(m.originalEvent.button>0)){this._overwriteEventIfItComesFromMarker(m);var v=m._fromLayerSync,M=this._syncLayers("_dragMixinOnMouseDown",m);this._layer instanceof L.Marker&&(!this.options.snappable||v||M?this._disableSnapping():this._initSnappableMarkers()),this._layer instanceof L.CircleMarker&&!(this._layer instanceof L.Circle)&&(!this.options.snappable||v||M?this._layer.pm.options.editable?this._layer.pm._disableSnapping():this._layer.pm._disableSnappingDrag():this._layer.pm.options.editable||this._initSnappableMarkersDrag()),this._safeToCacheDragState&&(this._originalMapDragState=this._layer._map.dragging._enabled,this._safeToCacheDragState=!1),this._tempDragCoord=m.latlng,L.DomEvent.on(this._map.getContainer(),"touchend mouseup",this._simulateMouseUpEvent,this),L.DomEvent.on(this._map.getContainer(),"touchmove mousemove",this._simulateMouseMoveEvent,this)}},_dragMixinOnMouseMove:function(m){this._overwriteEventIfItComesFromMarker(m);var v=this._getDOMElem();this._syncLayers("_dragMixinOnMouseMove",m),this._dragging||(this._dragging=!0,L.DomUtil.addClass(v,"leaflet-pm-dragging"),this._layer instanceof L.Marker||this._layer.bringToFront(),this._originalMapDragState&&this._map.dragging.disable(),this._fireDragStart()),this._tempDragCoord||(this._tempDragCoord=m.latlng),this._onLayerDrag(m),this._layer instanceof L.CircleMarker&&this._layer.pm._updateHiddenPolyCircle()},_dragMixinOnMouseUp:function(m){var v=this,M=this._getDOMElem();return this._syncLayers("_dragMixinOnMouseUp",m),this._originalMapDragState&&this._map.dragging.enable(),this._safeToCacheDragState=!0,L.DomEvent.off(this._map.getContainer(),"touchmove mousemove",this._simulateMouseMoveEvent,this),L.DomEvent.off(this._map.getContainer(),"touchend mouseup",this._simulateMouseUpEvent,this),!!this._dragging&&(this._layer instanceof L.CircleMarker&&this._layer.pm._updateHiddenPolyCircle(),this._layerDragged=!0,window.setTimeout(function(){v._dragging=!1,M&&L.DomUtil.removeClass(M,"leaflet-pm-dragging"),v._fireDragEnd(),v._fireEdit(),v._layerEdited=!0},10),!0)},_onLayerDrag:function(m){var v=m.latlng,M=v.lat-this._tempDragCoord.lat,B=v.lng-this._tempDragCoord.lng,X=function Je(ht){return ht.map(function(ut){if(Array.isArray(ut))return Je(ut);var Ct={lat:ut.lat+M,lng:ut.lng+B};return(ut.alt||0===ut.alt)&&(Ct.alt=ut.alt),Ct})};if(this._layer instanceof L.Circle||this._layer instanceof L.CircleMarker&&this._layer.options.editable){var Ce=X([this._layer.getLatLng()]);this._layer.setLatLng(Ce[0]),this._fireChange(this._layer.getLatLng(),"Edit")}else if(this._layer instanceof L.CircleMarker||this._layer instanceof L.Marker){var Ie=this._layer.getLatLng();this._layer._snapped&&(Ie=this._layer._orgLatLng);var Pe=X([Ie]);this._layer.setLatLng(Pe[0]),this._fireChange(this._layer.getLatLng(),"Edit")}else if(this._layer instanceof L.ImageOverlay){var Te=X([this._layer.getBounds().getNorthWest(),this._layer.getBounds().getSouthEast()]);this._layer.setBounds(Te),this._fireChange(this._layer.getBounds(),"Edit")}else{var ze=X(this._layer.getLatLngs());this._layer.setLatLngs(ze),this._fireChange(this._layer.getLatLngs(),"Edit")}this._tempDragCoord=v,m.layer=this._layer,this._fireDrag(m)},addDraggingClass:function(){var m=this._getDOMElem();m&&L.DomUtil.addClass(m,"leaflet-pm-draggable")},removeDraggingClass:function(){var m=this._getDOMElem();m&&L.DomUtil.removeClass(m,"leaflet-pm-draggable")},_getDOMElem:function(){var m=null;return this._layer._path?m=this._layer._path:this._layer._renderer&&this._layer._renderer._container?m=this._layer._renderer._container:this._layer._image?m=this._layer._image:this._layer._icon&&(m=this._layer._icon),m},_overwriteEventIfItComesFromMarker:function(m){m.target.getLatLng&&(!m.target._radius||m.target._radius<=10)&&(m.containerPoint=this._map.mouseEventToContainerPoint(m.originalEvent),m.latlng=this._map.containerPointToLatLng(m.containerPoint))},_syncLayers:function(m,v){var M=this;if(this.enabled())return!1;if(!v._fromLayerSync&&this._layer===v.target&&this.options.syncLayersOnDrag){v._fromLayerSync=!0;var B=[];if(L.Util.isArray(this.options.syncLayersOnDrag))B=this.options.syncLayersOnDrag,this.options.syncLayersOnDrag.forEach(function(Ie){Ie instanceof L.LayerGroup&&(B=B.concat(Ie.pm.getLayers(!0)))});else if(!0===this.options.syncLayersOnDrag&&this._parentLayerGroup)for(var X in this._parentLayerGroup){var Ce=this._parentLayerGroup[X];Ce.pm&&(B=Ce.pm.getLayers(!0))}return L.Util.isArray(B)&&B.length>0&&(B=B.filter(function(Ie){return!!Ie.pm}).filter(function(Ie){return!!Ie.pm.options.draggable})).forEach(function(Ie){Ie!==M._layer&&Ie.pm[m]&&(Ie._snapped=!1,Ie.pm[m](v))}),B.length>0}return!1},_stopDOMImageDrag:function(m){return m.preventDefault(),!1}};function $n(m,v,M){var Pe,Te,B=M.getMaxZoom();if(B===1/0&&(B=M.getZoom()),L.Util.isArray(m)){var X=[];return m.forEach(function(Ce){X.push($n(Ce,v,M))}),X}return m instanceof L.LatLng?(Pe=M).unproject(v.transform(Pe.project(m,Te=B)),Te):null}function Wn(m,v){v instanceof L.Layer&&(v=v.getLatLng());var M=m.getMaxZoom();return M===1/0&&(M=m.getZoom()),m.project(v,M)}function rr(m,v){var M=m.getMaxZoom();return M===1/0&&(M=m.getZoom()),m.unproject(v,M)}var aa={_onRotateStart:function(m){this._preventRenderingMarkers(!0),this._rotationOriginLatLng=this._getRotationCenter().clone(),this._rotationOriginPoint=Wn(this._map,this._rotationOriginLatLng),this._rotationStartPoint=Wn(this._map,m.target.getLatLng()),this._initialRotateLatLng=Et(this._layer),this._startAngle=this.getAngle();var v=Et(this._rotationLayer,this._rotationLayer.pm._rotateOrgLatLng);this._fireRotationStart(this._rotationLayer,v),this._fireRotationStart(this._map,v)},_onRotate:function(m){var v=Wn(this._map,m.target.getLatLng()),M=this._rotationStartPoint,B=this._rotationOriginPoint,X=Math.atan2(v.y-B.y,v.x-B.x)-Math.atan2(M.y-B.y,M.x-B.x);this._layer.setLatLngs(this._rotateLayer(X,this._initialRotateLatLng,this._rotationOriginLatLng,L.PM.Matrix.init(),this._map));var Ce=this;!function ze(Je){var ht=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],ut=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;if(ut>-1&&ht.push(ut),L.Util.isArray(Je[0]))Je.forEach(function(Lt,an){return ze(Lt,ht.slice(),an)});else{var Ct=Me()(Ce._markers,ht);Je.forEach(function(Lt,an){Ct[an].setLatLng(Lt)})}}(this._layer.getLatLngs());var Ie=Et(this._rotationLayer);this._rotationLayer.setLatLngs(this._rotateLayer(X,this._rotationLayer.pm._rotateOrgLatLng,this._rotationOriginLatLng,L.PM.Matrix.init(),this._map));var Pe=180*X/Math.PI,Te=(Pe=Pe<0?Pe+360:Pe)+this._startAngle;this._setAngle(Te),this._rotationLayer.pm._setAngle(Te),this._fireRotation(this._rotationLayer,Pe,Ie),this._fireRotation(this._map,Pe,Ie),this._rotationLayer.pm._fireChange(this._rotationLayer.getLatLngs(),"Rotation")},_onRotateEnd:function(){var m=this._startAngle;delete this._rotationOriginLatLng,delete this._rotationOriginPoint,delete this._rotationStartPoint,delete this._initialRotateLatLng,delete this._startAngle;var v=Et(this._rotationLayer,this._rotationLayer.pm._rotateOrgLatLng);this._rotationLayer.pm._rotateOrgLatLng=Et(this._rotationLayer),this._fireRotationEnd(this._rotationLayer,m,v),this._fireRotationEnd(this._map,m,v),this._rotationLayer.pm._fireEdit(this._rotationLayer,"Rotation"),this._preventRenderingMarkers(!1),this._layerRotated=!0},_rotateLayer:function(m,v,M,B,X){var Ce=Wn(X,M);return this._matrix=B.clone().rotate(m,Ce).flip(),$n(v,this._matrix,X)},_setAngle:function(m){this._angle=(m=m<0?m+360:m)%360},_getRotationCenter:function(){var m=L.polygon(this._layer.getLatLngs(),{stroke:!1,fill:!1,pmIgnore:!0}).addTo(this._layer._map),v=m.getCenter();return m.removeFrom(this._layer._map),v},enableRotate:function(){this.options.allowRotation?(this.rotateEnabled()&&this.disableRotate(),this._rotatePoly=L.polygon(this._layer.getLatLngs(),{fill:!1,stroke:!1,pmIgnore:!1,snapIgnore:!0}),this._rotatePoly._pmTempLayer=!0,this._rotatePoly.addTo(this._layer._map),this._rotatePoly.pm._setAngle(this.getAngle()),this._rotatePoly.pm.setOptions(this._layer._map.pm.getGlobalOptions()),this._rotatePoly.pm.setOptions({rotate:!0,snappable:!1,hideMiddleMarkers:!0}),this._rotatePoly.pm._rotationLayer=this._layer,this._rotatePoly.pm.enable(),this._rotateOrgLatLng=Et(this._layer),this._rotateEnabled=!0,this._layer.on("remove",this.disableRotate,this),this._fireRotationEnable(this._layer),this._fireRotationEnable(this._layer._map)):this.disableRotate()},disableRotate:function(){this.rotateEnabled()&&(this._rotatePoly.pm._layerRotated&&this._fireUpdate(),this._rotatePoly.pm._layerRotated=!1,this._rotatePoly.pm.disable(),this._rotatePoly.remove(),this._rotatePoly.pm.setOptions({rotate:!1}),this._rotatePoly=void 0,this._rotateOrgLatLng=void 0,this._layer.off("remove",this.disableRotate,this),this._rotateEnabled=!1,this._fireRotationDisable(this._layer),this._fireRotationDisable(this._layer._map))},rotateEnabled:function(){return this._rotateEnabled},rotateLayer:function(m){var v=this.getAngle(),M=this._layer.getLatLngs(),B=m*(Math.PI/180);this._layer.setLatLngs(this._rotateLayer(B,this._layer.getLatLngs(),this._getRotationCenter(),L.PM.Matrix.init(),this._layer._map)),this._rotateOrgLatLng=L.polygon(this._layer.getLatLngs()).getLatLngs(),this._setAngle(this.getAngle()+m),this.rotateEnabled()&&this._rotatePoly&&this._rotatePoly.pm.enabled()&&(this._rotatePoly.setLatLngs(this._rotateLayer(B,this._rotatePoly.getLatLngs(),this._getRotationCenter(),L.PM.Matrix.init(),this._rotatePoly._map)),this._rotatePoly.pm._initMarkers());var X=this.getAngle()-v;X=X<0?X+360:X,this._startAngle=v,this._fireRotation(this._layer,X,M,this._layer),this._fireRotation(this._map||this._layer._map,X,M,this._layer),delete this._startAngle,this._fireChange(this._layer.getLatLngs(),"Rotation")},rotateLayerToAngle:function(m){var v=m-this.getAngle();this.rotateLayer(v)},getAngle:function(){return this._angle||0},setInitAngle:function(m){this._setAngle(m)}};const st=L.Class.extend({includes:[Nl,G,aa,Qe],options:{snappable:!0,snapDistance:20,allowSelfIntersection:!0,allowSelfIntersectionEdit:!1,preventMarkerRemoval:!1,removeLayerBelowMinVertexCount:!0,limitMarkersToCount:-1,hideMiddleMarkers:!1,snapSegment:!0,syncLayersOnDrag:!1,draggable:!0,allowEditing:!0,allowRemoval:!0,allowCutting:!0,allowRotation:!0,addVertexOn:"click",removeVertexOn:"contextmenu",removeVertexValidation:void 0,addVertexValidation:void 0,moveVertexValidation:void 0},setOptions:function(m){L.Util.setOptions(this,m)},getOptions:function(){return this.options},applyOptions:function(){},isPolygon:function(){return this._layer instanceof L.Polygon},getShape:function(){return this._shape},_setPane:function(m,v){"layerPane"===v?m.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.layerPane||"overlayPane":"vertexPane"===v?m.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.vertexPane||"markerPane":"markerPane"===v&&(m.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.markerPane||"markerPane")},remove:function(){(this._map||this._layer._map).pm.removeLayer({target:this._layer})},_vertexValidation:function(m,v){var M=v.target,X="";return"move"===m?X="moveVertexValidation":"add"===m?X="addVertexValidation":"remove"===m&&(X="removeVertexValidation"),this.options[X]&&"function"==typeof this.options[X]&&!this.options[X]({layer:this._layer,marker:M,event:v})?("move"===m&&(M._cancelDragEventChain=M.getLatLng()),!1):(M._cancelDragEventChain=null,!0)},_vertexValidationDrag:function(m){return!m._cancelDragEventChain||(m._latlng=m._cancelDragEventChain,m.update(),!1)},_vertexValidationDragEnd:function(m){return!m._cancelDragEventChain||(m._cancelDragEventChain=null,!1)}});function gn(m){return function(v){if(Array.isArray(v))return wo(v)}(m)||function(v){if(typeof Symbol<"u"&&null!=v[Symbol.iterator]||null!=v["@@iterator"])return Array.from(v)}(m)||function(v,M){if(v){if("string"==typeof v)return wo(v,M);var B=Object.prototype.toString.call(v).slice(8,-1);if("Object"===B&&v.constructor&&(B=v.constructor.name),"Map"===B||"Set"===B)return Array.from(v);if("Arguments"===B||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(B))return wo(v,M)}}(m)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wo(m,v){(null==v||v>m.length)&&(v=m.length);for(var M=0,B=new Array(v);M<v;M++)B[M]=m[M];return B}function Vi(m,v){(null==v||v>m.length)&&(v=m.length);for(var M=0,B=new Array(v);M<v;M++)B[M]=m[M];return B}function Bn(m,v){(null==v||v>m.length)&&(v=m.length);for(var M=0,B=new Array(v);M<v;M++)B[M]=m[M];return B}st.LayerGroup=L.Class.extend({initialize:function(m){var v=this;this._layerGroup=m,this._layers=this.getLayers(),this._getMap(),this._layers.forEach(function(M){return v._initLayer(M)}),this._layerGroup.on("layeradd",L.Util.throttle(function(M){if(!M.layer._pmTempLayer){v._layers=v.getLayers();var B=v._layers.filter(function(X){return!X.pm._parentLayerGroup||!(v._layerGroup._leaflet_id in X.pm._parentLayerGroup)});B.forEach(function(X){v._initLayer(X)}),B.length>0&&v._getMap()&&v._getMap().pm.globalEditModeEnabled()&&v.enabled()&&v.enable(v.getOptions())}},100,this),this),this._layerGroup.on("layerremove",function(M){v._removeLayerFromGroup(M.target)},this),this._layerGroup.on("layerremove",L.Util.throttle(function(M){M.target._pmTempLayer||(v._layers=v.getLayers())},100,this),this)},enable:function(m){var v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];0===v.length&&(this._layers=this.getLayers()),this._options=m,this._layers.forEach(function(M){M instanceof L.LayerGroup?-1===v.indexOf(M._leaflet_id)&&(v.push(M._leaflet_id),M.pm.enable(m,v)):M.pm.enable(m)})},disable:function(){var m=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];0===m.length&&(this._layers=this.getLayers()),this._layers.forEach(function(v){v instanceof L.LayerGroup?-1===m.indexOf(v._leaflet_id)&&(m.push(v._leaflet_id),v.pm.disable(m)):v.pm.disable()})},enabled:function(){var m=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return 0===m.length&&(this._layers=this.getLayers()),!!this._layers.find(function(M){return M instanceof L.LayerGroup?-1===m.indexOf(M._leaflet_id)&&(m.push(M._leaflet_id),M.pm.enabled(m)):M.pm.enabled()})},toggleEdit:function(m){var v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];0===v.length&&(this._layers=this.getLayers()),this._options=m,this._layers.forEach(function(M){M instanceof L.LayerGroup?-1===v.indexOf(M._leaflet_id)&&(v.push(M._leaflet_id),M.pm.toggleEdit(m,v)):M.pm.toggleEdit(m)})},_initLayer:function(m){var v=L.Util.stamp(this._layerGroup);m.pm._parentLayerGroup||(m.pm._parentLayerGroup={}),m.pm._parentLayerGroup[v]=this._layerGroup},_removeLayerFromGroup:function(m){if(m.pm&&m.pm._layerGroup){var v=L.Util.stamp(this._layerGroup);delete m.pm._layerGroup[v]}},dragging:function(){return this._layers=this.getLayers(),!!this._layers&&!!this._layers.find(function(v){return v.pm.dragging()})},getOptions:function(){return this.options},_getMap:function(){var m;return this._map||(null===(m=this._layers.find(function(v){return!!v._map}))||void 0===m?void 0:m._map)||null},getLayers:function(){var v=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],M=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],B=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],X=[];return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?this._layerGroup.getLayers().forEach(function(Ce){X.push(Ce),Ce instanceof L.LayerGroup&&-1===B.indexOf(Ce._leaflet_id)&&(B.push(Ce._leaflet_id),X=X.concat(Ce.pm.getLayers(!0,!0,!0,B)))}):X=this._layerGroup.getLayers(),M&&(X=X.filter(function(Ce){return!(Ce instanceof L.LayerGroup)})),v&&(X=(X=(X=X.filter(function(Ce){return!!Ce.pm})).filter(function(Ce){return!Ce._pmTempLayer})).filter(function(Ce){return!L.PM.optIn&&!Ce.options.pmIgnore||L.PM.optIn&&!1===Ce.options.pmIgnore})),X},setOptions:function(m){var v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];0===v.length&&(this._layers=this.getLayers()),this.options=m,this._layers.forEach(function(M){M.pm&&(M instanceof L.LayerGroup?-1===v.indexOf(M._leaflet_id)&&(v.push(M._leaflet_id),M.pm.setOptions(m,v)):M.pm.setOptions(m))})}}),st.Marker=st.extend({_shape:"Marker",initialize:function(m){this._layer=m,this._enabled=!1,this._layer.on("dragend",this._onDragEnd,this)},enable:function(){L.Util.setOptions(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{draggable:!0}),this.options.allowEditing&&this._layer._map?(this._map=this._layer._map,this.enabled()&&this.disable(),this.applyOptions(),this._layer.on("remove",this.disable,this),this._enabled=!0,this._fireEnable()):this.disable()},disable:function(){this.enabled()&&(this.disableLayerDrag(),this._layer.off("remove",this.disable,this),this._layer.off("contextmenu",this._removeMarker,this),this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable(),this._enabled=!1)},enabled:function(){return this._enabled},toggleEdit:function(m){this.enabled()?this.disable():this.enable(m)},applyOptions:function(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping(),this.options.draggable?this.enableLayerDrag():this.disableLayerDrag(),this.options.preventMarkerRemoval||this._layer.on("contextmenu",this._removeMarker,this)},_removeMarker:function(m){var v=m.target;v.remove(),this._fireRemove(v),this._fireRemove(this._map,v)},_onDragEnd:function(){this._fireEdit(),this._layerEdited=!0},_initSnappableMarkers:function(){var m=this._layer;this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=void 0===this.options.snapSegment||this.options.snapSegment,m.off("pm:drag",this._handleSnapping,this),m.on("pm:drag",this._handleSnapping,this),m.off("pm:dragend",this._cleanupSnapping,this),m.on("pm:dragend",this._cleanupSnapping,this),m.off("pm:dragstart",this._unsnap,this),m.on("pm:dragstart",this._unsnap,this)},_disableSnapping:function(){var m=this._layer;m.off("pm:drag",this._handleSnapping,this),m.off("pm:dragend",this._cleanupSnapping,this),m.off("pm:dragstart",this._unsnap,this)}}),st.Line=st.extend({includes:[{filterMarkerGroup:function(){this.markerCache=[],this.createCache(),this._layer.on("pm:edit",this.createCache,this),this.applyLimitFilters({}),this.throttledApplyLimitFilters||(this.throttledApplyLimitFilters=L.Util.throttle(this.applyLimitFilters,100,this)),this._layer.on("pm:disable",this._removeMarkerLimitEvents,this),this.options.limitMarkersToCount>-1&&(this._layer.on("pm:vertexremoved",this._initMarkers,this),this._map.on("mousemove",this.throttledApplyLimitFilters,this))},_removeMarkerLimitEvents:function(){this._map.off("mousemove",this.throttledApplyLimitFilters,this),this._layer.off("pm:edit",this.createCache,this),this._layer.off("pm:disable",this._removeMarkerLimitEvents,this),this._layer.off("pm:vertexremoved",this._initMarkers,this)},createCache:function(){var m=[].concat(gn(this._markerGroup.getLayers()),gn(this.markerCache));this.markerCache=m.filter(function(v,M,B){return B.indexOf(v)===M})},renderLimits:function(m){var v=this;this.markerCache.forEach(function(M){m.includes(M)?v._markerGroup.addLayer(M):v._markerGroup.removeLayer(M)})},applyLimitFilters:function(m){var v=m.latlng;if(!this._preventRenderMarkers){var B=gn(this._filterClosestMarkers(void 0===v?{lat:0,lng:0}:v));this.renderLimits(B)}},_filterClosestMarkers:function(m){var v=gn(this.markerCache),M=this.options.limitMarkersToCount;return-1===M?v:(v.sort(function(B,X){return B._latlng.distanceTo(m)-X._latlng.distanceTo(m)}),v.filter(function(B,X){return!(M>-1)||X<M}))},_preventRenderMarkers:!1,_preventRenderingMarkers:function(m){this._preventRenderMarkers=!!m}}],_shape:"Line",initialize:function(m){this._layer=m,this._enabled=!1},enable:function(m){L.Util.setOptions(this,m),this._map=this._layer._map,this._map&&(this.options.allowEditing?(this.enabled()&&this.disable(),this._enabled=!0,this._initMarkers(),this.applyOptions(),this._layer.on("remove",this.disable,this),this.options.allowSelfIntersection||this._layer.on("pm:vertexremoved",this._handleSelfIntersectionOnVertexRemoval,this),this.options.allowSelfIntersection?this.cachedColor=void 0:("#f00000ff"!==this._layer.options.color?(this.cachedColor=this._layer.options.color,this.isRed=!1):this.isRed=!0,this._handleLayerStyle()),this._fireEnable()):this.disable())},disable:function(){if(this.enabled()&&!this._dragging){this._enabled=!1,this._markerGroup.clearLayers(),this._markerGroup.removeFrom(this._map),this._layer.off("remove",this.disable,this),this.options.allowSelfIntersection||this._layer.off("pm:vertexremoved",this._handleSelfIntersectionOnVertexRemoval,this);var m=this._layer._path?this._layer._path:this._layer._renderer._container;L.DomUtil.removeClass(m,"leaflet-pm-draggable"),this._map.hasLayer(this._layer)&&!this.hasSelfIntersection()||L.DomUtil.removeClass(m,"leaflet-pm-invalid"),this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable()}},enabled:function(){return this._enabled},toggleEdit:function(m){return this.enabled()?this.disable():this.enable(m),this.enabled()},applyOptions:function(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping()},_initMarkers:function(){var m=this,v=this._map,M=this._layer.getLatLngs();this._markerGroup&&this._markerGroup.clearLayers(),this._markerGroup=new L.FeatureGroup,this._markerGroup._pmTempLayer=!0,this._markers=function B(X){if(Array.isArray(X[0]))return X.map(B,m);var Ce=X.map(m._createMarker,m);return!0!==m.options.hideMiddleMarkers&&X.map(function(Ie,Pe){var Te=m.isPolygon()?(Pe+1)%X.length:Pe+1;return m._createMiddleMarker(Ce[Pe],Ce[Te])}),Ce}(M),this.filterMarkerGroup(),v.addLayer(this._markerGroup)},_createMarker:function(m){var v=new L.Marker(m,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(v,"vertexPane"),v._pmTempLayer=!0,this.options.rotate?(v.on("dragstart",this._onRotateStart,this),v.on("drag",this._onRotate,this),v.on("dragend",this._onRotateEnd,this)):(v.on("click",this._onVertexClick,this),v.on("dragstart",this._onMarkerDragStart,this),v.on("move",this._onMarkerDrag,this),v.on("dragend",this._onMarkerDragEnd,this),this.options.preventMarkerRemoval||v.on(this.options.removeVertexOn,this._removeMarker,this)),this._markerGroup.addLayer(v),v},_createMiddleMarker:function(m,v){if(!m||!v)return!1;var M=L.PM.Utils.calcMiddleLatLng(this._map,m.getLatLng(),v.getLatLng()),B=this._createMarker(M),X=L.divIcon({className:"marker-icon marker-icon-middle"});return B.setIcon(X),B.leftM=m,B.rightM=v,m._middleMarkerNext=B,v._middleMarkerPrev=B,B.on(this.options.addVertexOn,this._onMiddleMarkerClick,this),B.on("movestart",this._onMiddleMarkerMoveStart,this),B},_onMiddleMarkerClick:function(m){var v=m.target;if(this._vertexValidation("add",m)){var M=L.divIcon({className:"marker-icon"});v.setIcon(M),this._addMarker(v,v.leftM,v.rightM)}},_onMiddleMarkerMoveStart:function(m){var v=m.target;v.on("moveend",this._onMiddleMarkerMoveEnd,this),this._vertexValidation("add",m)?(v._dragging=!0,this._addMarker(v,v.leftM,v.rightM)):v.on("move",this._onMiddleMarkerMovePrevent,this)},_onMiddleMarkerMovePrevent:function(m){this._vertexValidationDrag(m.target)},_onMiddleMarkerMoveEnd:function(m){var v=m.target;if(v.off("move",this._onMiddleMarkerMovePrevent,this),v.off("moveend",this._onMiddleMarkerMoveEnd,this),this._vertexValidationDragEnd(v)){var M=L.divIcon({className:"marker-icon"});v.setIcon(M),setTimeout(function(){delete v._dragging},100)}},_addMarker:function(m,v,M){m.off("movestart",this._onMiddleMarkerMoveStart,this),m.off(this.options.addVertexOn,this._onMiddleMarkerClick,this);var B=m.getLatLng(),X=this._layer._latlngs;delete m.leftM,delete m.rightM;var Ce=L.PM.Utils.findDeepMarkerIndex(this._markers,v),Ie=Ce.indexPath,Pe=Ce.index,Te=Ce.parentPath,ze=Ie.length>1?Me()(X,Te):X,Je=Ie.length>1?Me()(this._markers,Te):this._markers;ze.splice(Pe+1,0,B),Je.splice(Pe+1,0,m),this._layer.setLatLngs(X),!0!==this.options.hideMiddleMarkers&&(this._createMiddleMarker(v,m),this._createMiddleMarker(m,M)),this._fireEdit(),this._layerEdited=!0,this._fireChange(this._layer.getLatLngs(),"Edit"),this._fireVertexAdded(m,L.PM.Utils.findDeepMarkerIndex(this._markers,m).indexPath,B),this.options.snappable&&this._initSnappableMarkers()},hasSelfIntersection:function(){return kn(this._layer.toGeoJSON(15)).features.length>0},_handleSelfIntersectionOnVertexRemoval:function(){this._handleLayerStyle(!0),this.hasSelfIntersection()&&(this._layer.setLatLngs(this._coordsBeforeEdit),this._coordsBeforeEdit=null,this._initMarkers())},_handleLayerStyle:function(m){var v=this._layer;if(this.hasSelfIntersection()){if(!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._updateDisabledMarkerStyle(this._markers,!0),this.isRed)return;m?this._flashLayer():(v.setStyle({color:"#f00000ff"}),this.isRed=!0),this._fireIntersect(kn(this._layer.toGeoJSON(15)))}else v.setStyle({color:this.cachedColor}),this.isRed=!1,!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._updateDisabledMarkerStyle(this._markers,!1)},_flashLayer:function(){var m=this;this.cachedColor||(this.cachedColor=this._layer.options.color),this._layer.setStyle({color:"#f00000ff"}),this.isRed=!0,window.setTimeout(function(){m._layer.setStyle({color:m.cachedColor}),m.isRed=!1},200)},_updateDisabledMarkerStyle:function(m,v){var M=this;m.forEach(function(B){Array.isArray(B)?M._updateDisabledMarkerStyle(B,v):B._icon&&(v&&!M._checkMarkerAllowedToDrag(B)?L.DomUtil.addClass(B._icon,"vertexmarker-disabled"):L.DomUtil.removeClass(B._icon,"vertexmarker-disabled"))})},_removeMarker:function(m){var v=m.target;if(this._vertexValidation("remove",m)){this.options.allowSelfIntersection||(this._coordsBeforeEdit=Et(this._layer,this._layer.getLatLngs()));var M=this._layer.getLatLngs(),B=L.PM.Utils.findDeepMarkerIndex(this._markers,v),X=B.indexPath,Ce=B.index,Ie=B.parentPath;if(X){var Pe=X.length>1?Me()(M,Ie):M,Te=X.length>1?Me()(this._markers,Ie):this._markers;if(this.options.removeLayerBelowMinVertexCount||!(Pe.length<=2||this.isPolygon()&&Pe.length<=3)){Pe.splice(Ce,1),this._layer.setLatLngs(M),this.isPolygon()&&Pe.length<=2&&Pe.splice(0,Pe.length);var Je,ht,ze=!1;if(Pe.length<=1&&(Pe.splice(0,Pe.length),Ie.length>1&&X.length>1&&(M=rt(M)),this._layer.setLatLngs(M),this._initMarkers(),ze=!0),me(M)||this._layer.remove(),M=rt(M),this._layer.setLatLngs(M),this._markers=rt(this._markers),!ze&&(Te=X.length>1?Me()(this._markers,Ie):this._markers,v._middleMarkerPrev&&this._markerGroup.removeLayer(v._middleMarkerPrev),v._middleMarkerNext&&this._markerGroup.removeLayer(v._middleMarkerNext),this._markerGroup.removeLayer(v),Te))this.isPolygon()?(Je=(Ce+1)%Te.length,ht=(Ce+(Te.length-1))%Te.length):(ht=Ce-1<0?void 0:Ce-1,Je=Ce+1>=Te.length?void 0:Ce+1),Je!==ht&&!0!==this.options.hideMiddleMarkers&&this._createMiddleMarker(Te[ht],Te[Je]),Te.splice(Ce,1);this._fireEdit(),this._layerEdited=!0,this._fireVertexRemoved(v,X),this._fireChange(this._layer.getLatLngs(),"Edit")}else this._flashLayer()}}},updatePolygonCoordsFromMarkerDrag:function(m){var v=this._layer.getLatLngs(),M=m.getLatLng(),B=L.PM.Utils.findDeepMarkerIndex(this._markers,m),Ce=B.index,Ie=B.parentPath;(B.indexPath.length>1?Me()(v,Ie):v).splice(Ce,1,M),this._layer.setLatLngs(v)},_getNeighborMarkers:function(m){var v=L.PM.Utils.findDeepMarkerIndex(this._markers,m),B=v.index,X=v.parentPath,Ce=v.indexPath.length>1?Me()(this._markers,X):this._markers;return{prevMarker:Ce[(B+(Ce.length-1))%Ce.length],nextMarker:Ce[(B+1)%Ce.length]}},_checkMarkerAllowedToDrag:function(m){var v=this._getNeighborMarkers(m),B=v.nextMarker,X=L.polyline([v.prevMarker.getLatLng(),m.getLatLng()]),Ce=L.polyline([m.getLatLng(),B.getLatLng()]),Ie=ri(this._layer.toGeoJSON(15),X.toGeoJSON(15)).features.length,Pe=ri(this._layer.toGeoJSON(15),Ce.toGeoJSON(15)).features.length;return m.getLatLng()===this._markers[0][0].getLatLng()?Pe+=1:m.getLatLng()===this._markers[0][this._markers[0].length-1].getLatLng()&&(Ie+=1),!(Ie<=2&&Pe<=2)},_onMarkerDragStart:function(m){var v=m.target;if(this.cachedColor||(this.cachedColor=this._layer.options.color),this._vertexValidation("move",m)){var M=L.PM.Utils.findDeepMarkerIndex(this._markers,v).indexPath;this._fireMarkerDragStart(m,M),this.options.allowSelfIntersection||(this._coordsBeforeEdit=Et(this._layer,this._layer.getLatLngs())),this._markerAllowedToDrag=!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this.hasSelfIntersection()?this._checkMarkerAllowedToDrag(v):null}},_onMarkerDrag:function(m){var v=m.target;if(this._vertexValidationDrag(v)){var M=L.PM.Utils.findDeepMarkerIndex(this._markers,v),B=M.indexPath,X=M.index,Ce=M.parentPath;if(B){if(!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this.hasSelfIntersection()&&!1===this._markerAllowedToDrag)return this._layer.setLatLngs(this._coordsBeforeEdit),this._initMarkers(),void this._handleLayerStyle();this.updatePolygonCoordsFromMarkerDrag(v);var Ie=B.length>1?Me()(this._markers,Ce):this._markers,Pe=(X+1)%Ie.length,Te=(X+(Ie.length-1))%Ie.length,ze=v.getLatLng(),Je=Ie[Te].getLatLng(),ht=Ie[Pe].getLatLng();if(v._middleMarkerNext){var ut=L.PM.Utils.calcMiddleLatLng(this._map,ze,ht);v._middleMarkerNext.setLatLng(ut)}if(v._middleMarkerPrev){var Ct=L.PM.Utils.calcMiddleLatLng(this._map,ze,Je);v._middleMarkerPrev.setLatLng(Ct)}this.options.allowSelfIntersection||this._handleLayerStyle(),this._fireMarkerDrag(m,B),this._fireChange(this._layer.getLatLngs(),"Edit")}}},_onMarkerDragEnd:function(m){var v=m.target;if(this._vertexValidationDragEnd(v)){var M=L.PM.Utils.findDeepMarkerIndex(this._markers,v).indexPath,B=this.hasSelfIntersection();B&&this.options.allowSelfIntersectionEdit&&this._markerAllowedToDrag&&(B=!1);var X=!this.options.allowSelfIntersection&&B;if(this._fireMarkerDragEnd(m,M,X),X)return this._layer.setLatLngs(this._coordsBeforeEdit),this._coordsBeforeEdit=null,this._initMarkers(),this.options.snappable&&this._initSnappableMarkers(),this._handleLayerStyle(),void this._fireLayerReset(m,M);!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._handleLayerStyle(),this._fireEdit(),this._layerEdited=!0,this._fireChange(this._layer.getLatLngs(),"Edit")}},_onVertexClick:function(m){var v=m.target;if(!v._dragging){var M=L.PM.Utils.findDeepMarkerIndex(this._markers,v).indexPath;this._fireVertexClick(m,M)}}}),st.Polygon=st.Line.extend({_shape:"Polygon",_checkMarkerAllowedToDrag:function(m){var v=this._getNeighborMarkers(m),B=v.nextMarker,X=L.polyline([v.prevMarker.getLatLng(),m.getLatLng()]),Ce=L.polyline([m.getLatLng(),B.getLatLng()]),Ie=ri(this._layer.toGeoJSON(15),X.toGeoJSON(15)).features.length,Pe=ri(this._layer.toGeoJSON(15),Ce.toGeoJSON(15)).features.length;return!(Ie<=2&&Pe<=2)}}),st.Rectangle=st.Polygon.extend({_shape:"Rectangle",_initMarkers:function(){var m=this,v=this._map,M=this._findCorners();this._markerGroup&&this._markerGroup.clearLayers(),this._markerGroup=new L.FeatureGroup,this._markerGroup._pmTempLayer=!0,v.addLayer(this._markerGroup),this._markers=[],this._markers[0]=M.map(this._createMarker,this);var B=function sl(m,v){return function(M){if(Array.isArray(M))return M}(m)||function(M,B){var X=null==M?null:typeof Symbol<"u"&&M[Symbol.iterator]||M["@@iterator"];if(null!=X){var Ce,Ie,Pe=[],Te=!0,ze=!1;try{for(X=X.call(M);!(Te=(Ce=X.next()).done)&&(Pe.push(Ce.value),!B||Pe.length!==B);Te=!0);}catch(Je){ze=!0,Ie=Je}finally{try{Te||null==X.return||X.return()}finally{if(ze)throw Ie}}return Pe}}(m,v)||function(M,B){if(M){if("string"==typeof M)return Vi(M,B);var X=Object.prototype.toString.call(M).slice(8,-1);if("Object"===X&&M.constructor&&(X=M.constructor.name),"Map"===X||"Set"===X)return Array.from(M);if("Arguments"===X||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(X))return Vi(M,B)}}(m,v)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(this._markers,1);this._cornerMarkers=B[0],this._layer.getLatLngs()[0].forEach(function(X,Ce){var Ie=m._cornerMarkers.find(function(Pe){return Pe._index===Ce});Ie&&Ie.setLatLng(X)})},applyOptions:function(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping(),this._addMarkerEvents()},_createMarker:function(m,v){var M=new L.Marker(m,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(M,"vertexPane"),M._origLatLng=m,M._index=v,M._pmTempLayer=!0,this._markerGroup.addLayer(M),M},_addMarkerEvents:function(){var m=this;this._markers[0].forEach(function(v){v.on("dragstart",m._onMarkerDragStart,m),v.on("drag",m._onMarkerDrag,m),v.on("dragend",m._onMarkerDragEnd,m),m.options.preventMarkerRemoval||v.on("contextmenu",m._removeMarker,m)})},_removeMarker:function(){return null},_onMarkerDragStart:function(m){if(this._vertexValidation("move",m)){var v=m.target;v._oppositeCornerLatLng=this._cornerMarkers.find(function(B){return B._index===(v._index+2)%4}).getLatLng(),v._snapped=!1,this._fireMarkerDragStart(m)}},_onMarkerDrag:function(m){var v=m.target;this._vertexValidationDrag(v)&&void 0!==v._index&&(this._adjustRectangleForMarkerMove(v),this._fireMarkerDrag(m),this._fireChange(this._layer.getLatLngs(),"Edit"))},_onMarkerDragEnd:function(m){this._vertexValidationDragEnd(m.target)&&(this._cornerMarkers.forEach(function(M){delete M._oppositeCornerLatLng}),this._fireMarkerDragEnd(m),this._fireEdit(),this._layerEdited=!0,this._fireChange(this._layer.getLatLngs(),"Edit"))},_adjustRectangleForMarkerMove:function(m){L.extend(m._origLatLng,m._latlng);var v=L.PM.Utils._getRotatedRectangle(m.getLatLng(),m._oppositeCornerLatLng,this._angle||0,this._map);this._layer.setLatLngs(v),this._adjustAllMarkers(),this._layer.redraw()},_adjustAllMarkers:function(){var m=this,v=this._layer.getLatLngs()[0];v&&4!==v.length&&v.length>0?(v.forEach(function(M,B){m._cornerMarkers[B].setLatLng(M)}),this._cornerMarkers.slice(v.length).forEach(function(M){M.setLatLng(v[0])})):v&&v.length?this._cornerMarkers.forEach(function(M){M.setLatLng(v[M._index])}):console.error("The layer has no LatLngs")},_findCorners:function(){var m=this._layer.getLatLngs()[0];return L.PM.Utils._getRotatedRectangle(m[0],m[2],this._angle||0,this._map)}}),st.Circle=st.extend({_shape:"Circle",initialize:function(m){this._layer=m,this._enabled=!1,this._updateHiddenPolyCircle()},enable:function(m){L.Util.setOptions(this,m),this._map=this._layer._map,this.options.allowEditing?(this.enabled()||this.disable(),this._enabled=!0,this._initMarkers(),this.applyOptions(),this._layer.on("remove",this.disable,this),this._updateHiddenPolyCircle(),this._fireEnable()):this.disable()},disable:function(){this.enabled()&&!this._dragging&&(this._centerMarker.off("dragstart",this._onCircleDragStart,this),this._centerMarker.off("drag",this._onCircleDrag,this),this._centerMarker.off("dragend",this._onCircleDragEnd,this),this._outerMarker.off("drag",this._handleOuterMarkerSnapping,this),this._layer.off("remove",this.disable,this),this._enabled=!1,this._helperLayers.clearLayers(),L.DomUtil.removeClass(this._layer._path?this._layer._path:this._layer._renderer._container,"leaflet-pm-draggable"),this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable())},enabled:function(){return this._enabled},toggleEdit:function(m){this.enabled()?this.disable():this.enable(m)},_initMarkers:function(){var m=this._map;this._helperLayers&&this._helperLayers.clearLayers(),this._helperLayers=new L.FeatureGroup,this._helperLayers._pmTempLayer=!0,this._helperLayers.addTo(m);var v=this._layer.getLatLng(),B=this._getLatLngOnCircle(v,this._layer._radius);this._centerMarker=this._createCenterMarker(v),this._outerMarker=this._createOuterMarker(B),this._markers=[this._centerMarker,this._outerMarker],this._createHintLine(this._centerMarker,this._outerMarker)},applyOptions:function(){this.options.snappable?(this._initSnappableMarkers(),this._outerMarker.on("drag",this._handleOuterMarkerSnapping,this),this._outerMarker.on("move",this._syncHintLine,this),this._outerMarker.on("move",this._syncCircleRadius,this),this._centerMarker.on("move",this._moveCircle,this)):this._disableSnapping()},_createHintLine:function(m,v){var M=m.getLatLng(),B=v.getLatLng();this._hintline=L.polyline([M,B],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._helperLayers.addLayer(this._hintline)},_createCenterMarker:function(m){var v=this._createMarker(m);return L.DomUtil.addClass(v._icon,"leaflet-pm-draggable"),v.on("drag",this._moveCircle,this),v.on("dragstart",this._onCircleDragStart,this),v.on("drag",this._onCircleDrag,this),v.on("dragend",this._onCircleDragEnd,this),v},_createOuterMarker:function(m){var v=this._createMarker(m);return v.on("drag",this._resizeCircle,this),v},_createMarker:function(m){var v=new L.Marker(m,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(v,"vertexPane"),v._origLatLng=m,v._pmTempLayer=!0,v.on("dragstart",this._onMarkerDragStart,this),v.on("drag",this._onMarkerDrag,this),v.on("dragend",this._onMarkerDragEnd,this),this._helperLayers.addLayer(v),v},_resizeCircle:function(){this._outerMarker.setLatLng(this._getNewDestinationOfOuterMarker()),this._syncHintLine(),this._syncCircleRadius()},_moveCircle:function(m){if(!m.target._cancelDragEventChain){var v=m.latlng;this._layer.setLatLng(v);var B=this._getLatLngOnCircle(v,this._layer._radius);this._outerMarker._latlng=B,this._outerMarker.update(),this._syncHintLine(),this._updateHiddenPolyCircle(),this._fireCenterPlaced("Edit"),this._fireChange(this._layer.getLatLng(),"Edit")}},_syncCircleRadius:function(){var m=this._centerMarker.getLatLng(),v=this._outerMarker.getLatLng(),M=this._map.distance(m,v);this._layer.setRadius(this.options.minRadiusCircle&&M<this.options.minRadiusCircle?this.options.minRadiusCircle:this.options.maxRadiusCircle&&M>this.options.maxRadiusCircle?this.options.maxRadiusCircle:M),this._updateHiddenPolyCircle(),this._fireChange(this._layer.getLatLng(),"Edit")},_syncHintLine:function(){var m=this._centerMarker.getLatLng(),v=this._outerMarker.getLatLng();this._hintline.setLatLngs([m,v])},_disableSnapping:function(){var m=this;this._markers.forEach(function(v){v.off("move",m._syncHintLine,m),v.off("move",m._syncCircleRadius,m),v.off("drag",m._handleSnapping,m),v.off("dragend",m._cleanupSnapping,m)}),this._layer.off("pm:dragstart",this._unsnap,this)},_onMarkerDragStart:function(m){this._vertexValidation("move",m)&&this._fireMarkerDragStart(m)},_onMarkerDrag:function(m){this._vertexValidationDrag(m.target)&&this._fireMarkerDrag(m)},_onMarkerDragEnd:function(m){this._vertexValidationDragEnd(m.target)&&(this._fireEdit(),this._layerEdited=!0,this._fireMarkerDragEnd(m))},_onCircleDragStart:function(m){this._vertexValidationDrag(m.target)?(delete this._vertexValidationReset,this._fireDragStart()):this._vertexValidationReset=!0},_onCircleDrag:function(m){this._vertexValidationReset||this._fireDrag(m)},_onCircleDragEnd:function(){this._vertexValidationReset?delete this._vertexValidationReset:this._fireDragEnd()},_updateHiddenPolyCircle:function(){var m=this._map&&this._map.pm._isCRSSimple();this._hiddenPolyCircle?this._hiddenPolyCircle.setLatLngs(L.PM.Utils.circleToPolygon(this._layer,200,!m).getLatLngs()):this._hiddenPolyCircle=L.PM.Utils.circleToPolygon(this._layer,200,!m),this._hiddenPolyCircle._parentCopy||(this._hiddenPolyCircle._parentCopy=this._layer)},_getLatLngOnCircle:function(m,v){var M=this._map.project(m),B=L.point(M.x+v,M.y);return this._map.unproject(B)},_getNewDestinationOfOuterMarker:function(){var m=this._centerMarker.getLatLng(),v=this._outerMarker.getLatLng(),M=this._map.distance(m,v);return this.options.minRadiusCircle&&M<this.options.minRadiusCircle?v=$e(this._map,m,v,this.options.minRadiusCircle):this.options.maxRadiusCircle&&M>this.options.maxRadiusCircle&&(v=$e(this._map,m,v,this.options.maxRadiusCircle)),v},_handleOuterMarkerSnapping:function(){if(this._outerMarker._snapped){var m=this._centerMarker.getLatLng(),v=this._outerMarker.getLatLng(),M=this._map.distance(m,v);(this.options.minRadiusCircle&&M<this.options.minRadiusCircle||this.options.maxRadiusCircle&&M>this.options.maxRadiusCircle)&&this._outerMarker.setLatLng(this._outerMarker._orgLatLng)}this._outerMarker.setLatLng(this._getNewDestinationOfOuterMarker())}}),st.CircleMarker=st.extend({_shape:"CircleMarker",initialize:function(m){this._layer=m,this._enabled=!1,this._updateHiddenPolyCircle()},enable:function(){L.Util.setOptions(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{draggable:!0,snappable:!0}),this.options.allowEditing&&this._layer._map?(this._map=this._layer._map,this.enabled()&&this.disable(),this.applyOptions(),this._layer.on("remove",this.disable,this),this._enabled=!0,this._layer.on("pm:dragstart",this._onDragStart,this),this._layer.on("pm:drag",this._onMarkerDrag,this),this._layer.on("pm:dragend",this._onMarkerDragEnd,this),this._updateHiddenPolyCircle(),this._fireEnable()):this.disable()},disable:function(){this._dragging||(this._helperLayers&&this._helperLayers.clearLayers(),this._map||(this._map=this._layer._map),this._map||(this.options.editable?(this._map.off("move",this._syncMarkers,this),this._outerMarker&&this._outerMarker.on("drag",this._handleOuterMarkerSnapping,this)):this._map.off("move",this._updateHiddenPolyCircle,this)),this.disableLayerDrag(),this._layer.off("contextmenu",this._removeMarker,this),this._layer.off("remove",this.disable,this),this.enabled()&&(this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable()),this._enabled=!1)},enabled:function(){return this._enabled},toggleEdit:function(m){this.enabled()?this.disable():this.enable(m)},applyOptions:function(){!this.options.editable&&this.options.draggable?this.enableLayerDrag():this.disableLayerDrag(),this.options.editable?(this._initMarkers(),this._map.on("move",this._syncMarkers,this)):this._map.on("move",this._updateHiddenPolyCircle,this),this.options.snappable?this.options.editable?(this._initSnappableMarkers(),this._centerMarker.on("drag",this._moveCircle,this),this.options.editable&&this._outerMarker.on("drag",this._handleOuterMarkerSnapping,this),this._outerMarker.on("move",this._syncHintLine,this),this._outerMarker.on("move",this._syncCircleRadius,this)):this._initSnappableMarkersDrag():this.options.editable?this._disableSnapping():this._disableSnappingDrag(),this.options.preventMarkerRemoval||this._layer.on("contextmenu",this._removeMarker,this)},_initMarkers:function(){var m=this._map;this._helperLayers&&this._helperLayers.clearLayers(),this._helperLayers=new L.FeatureGroup,this._helperLayers._pmTempLayer=!0,this._helperLayers.addTo(m);var v=this._layer.getLatLng(),B=this._getLatLngOnCircle(v,this._layer._radius);this._centerMarker=this._createCenterMarker(v),this._outerMarker=this._createOuterMarker(B),this._markers=[this._centerMarker,this._outerMarker],this._createHintLine(this._centerMarker,this._outerMarker)},_getLatLngOnCircle:function(m,v){var M=this._map.project(m),B=L.point(M.x+v,M.y);return this._map.unproject(B)},_createHintLine:function(m,v){var M=m.getLatLng(),B=v.getLatLng();this._hintline=L.polyline([M,B],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._helperLayers.addLayer(this._hintline)},_createCenterMarker:function(m){var v=this._createMarker(m);return this.options.draggable?L.DomUtil.addClass(v._icon,"leaflet-pm-draggable"):v.dragging.disable(),v},_createOuterMarker:function(m){var v=this._createMarker(m);return v.on("drag",this._resizeCircle,this),v},_createMarker:function(m){var v=new L.Marker(m,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(v,"vertexPane"),v._origLatLng=m,v._pmTempLayer=!0,v.on("dragstart",this._onMarkerDragStart,this),v.on("drag",this._onMarkerDrag,this),v.on("dragend",this._onMarkerDragEnd,this),this._helperLayers.addLayer(v),v},_moveCircle:function(){var m=this._centerMarker.getLatLng();this._layer.setLatLng(m);var M=this._getLatLngOnCircle(m,this._layer._radius);this._outerMarker._latlng=M,this._outerMarker.update(),this._syncHintLine(),this._updateHiddenPolyCircle(),this._fireCenterPlaced("Edit"),this._fireChange(this._layer.getLatLng(),"Edit")},_syncMarkers:function(){var m=this._layer.getLatLng(),M=this._getLatLngOnCircle(m,this._layer._radius);this._outerMarker.setLatLng(M),this._centerMarker.setLatLng(m),this._syncHintLine(),this._updateHiddenPolyCircle()},_resizeCircle:function(){this._outerMarker.setLatLng(this._getNewDestinationOfOuterMarker()),this._syncHintLine(),this._syncCircleRadius()},_syncCircleRadius:function(){var m=this._centerMarker.getLatLng(),v=this._outerMarker.getLatLng(),M=this._map.project(m).distanceTo(this._map.project(v));this._layer.setRadius(this.options.minRadiusCircleMarker&&M<this.options.minRadiusCircleMarker?this.options.minRadiusCircleMarker:this.options.maxRadiusCircleMarker&&M>this.options.maxRadiusCircleMarker?this.options.maxRadiusCircleMarker:M),this._updateHiddenPolyCircle(),this._fireChange(this._layer.getLatLng(),"Edit")},_syncHintLine:function(){var m=this._centerMarker.getLatLng(),v=this._outerMarker.getLatLng();this._hintline.setLatLngs([m,v])},_removeMarker:function(){this.options.editable&&this.disable(),this._layer.remove(),this._fireRemove(this._layer),this._fireRemove(this._map,this._layer)},_onDragStart:function(){this._map.pm.Draw.CircleMarker._layerIsDragging=!0},_onMarkerDragStart:function(m){this._vertexValidation("move",m)&&this._fireMarkerDragStart(m)},_onMarkerDrag:function(m){var v=m.target;v instanceof L.Marker&&!this._vertexValidationDrag(v)||this._fireMarkerDrag(m)},_onMarkerDragEnd:function(m){this._map.pm.Draw.CircleMarker._layerIsDragging=!1,this._vertexValidationDragEnd(m.target)&&(this.options.editable&&(this._fireEdit(),this._layerEdited=!0),this._fireMarkerDragEnd(m))},_initSnappableMarkersDrag:function(){var m=this._layer;this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=void 0===this.options.snapSegment||this.options.snapSegment,m.off("pm:drag",this._handleSnapping,this),m.on("pm:drag",this._handleSnapping,this),m.off("pm:dragend",this._cleanupSnapping,this),m.on("pm:dragend",this._cleanupSnapping,this),m.off("pm:dragstart",this._unsnap,this),m.on("pm:dragstart",this._unsnap,this)},_disableSnappingDrag:function(){var m=this._layer;m.off("pm:drag",this._handleSnapping,this),m.off("pm:dragend",this._cleanupSnapping,this),m.off("pm:dragstart",this._unsnap,this)},_updateHiddenPolyCircle:function(){var m=this._layer._map||this._map;if(m){var v=L.PM.Utils.pxRadiusToMeterRadius(this._layer.getRadius(),m,this._layer.getLatLng()),M=L.circle(this._layer.getLatLng(),this._layer.options);M.setRadius(v);var B=m&&m.pm._isCRSSimple();this._hiddenPolyCircle?this._hiddenPolyCircle.setLatLngs(L.PM.Utils.circleToPolygon(M,200,!B).getLatLngs()):this._hiddenPolyCircle=L.PM.Utils.circleToPolygon(M,200,!B),this._hiddenPolyCircle._parentCopy||(this._hiddenPolyCircle._parentCopy=this._layer)}},_getNewDestinationOfOuterMarker:function(){var m=this._centerMarker.getLatLng(),v=this._outerMarker.getLatLng(),M=this._map.project(m).distanceTo(this._map.project(v));return this.options.minRadiusCircleMarker&&M<this.options.minRadiusCircleMarker?v=$e(this._map,m,v,L.PM.Utils.pxRadiusToMeterRadius(this.options.minRadiusCircleMarker,this._map,m)):this.options.maxRadiusCircleMarker&&M>this.options.maxRadiusCircleMarker&&(v=$e(this._map,m,v,L.PM.Utils.pxRadiusToMeterRadius(this.options.maxRadiusCircleMarker,this._map,m))),v},_handleOuterMarkerSnapping:function(){if(this._outerMarker._snapped){var m=this._centerMarker.getLatLng(),v=this._outerMarker.getLatLng(),M=this._map.project(m).distanceTo(this._map.project(v));(this.options.minRadiusCircleMarker&&M<this.options.minRadiusCircleMarker||this.options.maxRadiusCircleMarker&&M>this.options.maxRadiusCircleMarker)&&this._outerMarker.setLatLng(this._outerMarker._orgLatLng)}this._outerMarker.setLatLng(this._getNewDestinationOfOuterMarker())}}),st.ImageOverlay=st.extend({_shape:"ImageOverlay",initialize:function(m){this._layer=m,this._enabled=!1},toggleEdit:function(m){this.enabled()?this.disable():this.enable(m)},enabled:function(){return this._enabled},enable:function(){L.Util.setOptions(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{draggable:!0,snappable:!0}),this._map=this._layer._map,this._map&&(this.options.allowEditing?(this.enabled()||this.disable(),this.enableLayerDrag(),this._layer.on("remove",this.disable,this),this._enabled=!0,this._otherSnapLayers=this._findCorners(),this._fireEnable()):this.disable())},disable:function(){this._dragging||(this._map||(this._map=this._layer._map),this.disableLayerDrag(),this._layer.off("remove",this.disable,this),this.enabled()||(this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable()),this._enabled=!1)},_findCorners:function(){var m=this._layer.getBounds();return[m.getNorthWest(),m.getNorthEast(),m.getSouthEast(),m.getSouthWest()]}}),st.Text=st.extend({_shape:"Text",initialize:function(m){this._layer=m,this._enabled=!1},enable:function(m){L.Util.setOptions(this,m),this.textArea&&(this.options.allowEditing&&this._layer._map?(this._map=this._layer._map,this.enabled()&&this.disable(),this.applyOptions(),this._safeToCacheDragState=!0,this._focusChange(),this.textArea.readOnly=!1,this.textArea.classList.remove("pm-disabled"),this._layer.on("remove",this.disable,this),L.DomEvent.on(this.textArea,"input",this._autoResize,this),L.DomEvent.on(this.textArea,"focus",this._focusChange,this),L.DomEvent.on(this.textArea,"blur",this._focusChange,this),this._layer.on("dblclick",L.DomEvent.stop),L.DomEvent.off(this.textArea,"mousedown",this._preventTextSelection),this._enabled=!0,this._fireEnable()):this.disable())},disable:function(){if(this.enabled()){this._layer.off("remove",this.disable,this),L.DomEvent.off(this.textArea,"input",this._autoResize,this),L.DomEvent.off(this.textArea,"focus",this._focusChange,this),L.DomEvent.off(this.textArea,"blur",this._focusChange,this),L.DomEvent.off(document,"click",this._documentClick,this),this._focusChange(),this.textArea.readOnly=!0,this.textArea.classList.add("pm-disabled");var m=document.activeElement;this.textArea.focus(),this.textArea.selectionStart=0,this.textArea.selectionEnd=0,L.DomEvent.on(this.textArea,"mousedown",this._preventTextSelection),m.focus(),this._disableOnBlurActive=!1,this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable(),this._enabled=!1}},enabled:function(){return this._enabled},toggleEdit:function(m){this.enabled()?this.disable():this.enable(m)},applyOptions:function(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping()},_initSnappableMarkers:function(){var m=this._layer;this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=void 0===this.options.snapSegment||this.options.snapSegment,m.off("pm:drag",this._handleSnapping,this),m.on("pm:drag",this._handleSnapping,this),m.off("pm:dragend",this._cleanupSnapping,this),m.on("pm:dragend",this._cleanupSnapping,this),m.off("pm:dragstart",this._unsnap,this),m.on("pm:dragstart",this._unsnap,this)},_disableSnapping:function(){var m=this._layer;m.off("pm:drag",this._handleSnapping,this),m.off("pm:dragend",this._cleanupSnapping,this),m.off("pm:dragstart",this._unsnap,this)},_autoResize:function(){this.textArea.style.height="1px",this.textArea.style.width="1px";var v=this.textArea.scrollWidth>16?this.textArea.scrollWidth:16;this.textArea.style.height="".concat(this.textArea.scrollHeight>21?this.textArea.scrollHeight:21,"px"),this.textArea.style.width="".concat(v,"px"),this._layer.options.text=this.getText(),this._fireTextChange(this.getText())},_disableOnBlur:function(){var m=this;this._disableOnBlurActive=!0,setTimeout(function(){m.enabled()&&L.DomEvent.on(document,"click",m._documentClick,m)},100)},_documentClick:function(m){m.target!==this.textArea&&(this.disable(),!this.getText()&&this.options.removeIfEmpty&&this.remove())},_focusChange:function(){var v=this._hasFocus;this._hasFocus="focus"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).type,!v!=!this._hasFocus&&(this._hasFocus?(this._applyFocus(),this._focusText=this.getText(),this._fireTextFocus()):(this._removeFocus(),this._fireTextBlur(),this._focusText!==this.getText()&&(this._fireEdit(),this._layerEdited=!0)))},_applyFocus:function(){this.textArea.classList.add("pm-hasfocus"),this._map.dragging&&(this._safeToCacheDragState&&(this._originalMapDragState=this._map.dragging._enabled,this._safeToCacheDragState=!1),this._map.dragging.disable())},_removeFocus:function(){this._map.dragging&&(this._originalMapDragState&&this._map.dragging.enable(),this._safeToCacheDragState=!0),this.textArea.classList.remove("pm-hasfocus")},focus:function(){if(!this.enabled())throw new TypeError("Layer is not enabled");this.textArea.focus()},blur:function(){if(!this.enabled())throw new TypeError("Layer is not enabled");this.textArea.blur(),this._disableOnBlurActive&&this.disable()},hasFocus:function(){return this._hasFocus},getElement:function(){return this.textArea},setText:function(m){this.textArea.value=m,this._autoResize()},getText:function(){return this.textArea.value},_initTextMarker:function(){if(this.textArea=L.PM.Draw.Text.prototype._createTextArea.call(this),this.options.className){var m,v=this.options.className.split(" ");(m=this.textArea.classList).add.apply(m,function nt(m){return function(v){if(Array.isArray(v))return Bn(v)}(m)||function(v){if(typeof Symbol<"u"&&null!=v[Symbol.iterator]||null!=v["@@iterator"])return Array.from(v)}(m)||function(v,M){if(v){if("string"==typeof v)return Bn(v,M);var B=Object.prototype.toString.call(v).slice(8,-1);if("Object"===B&&v.constructor&&(B=v.constructor.name),"Map"===B||"Set"===B)return Array.from(v);if("Arguments"===B||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(B))return Bn(v,M)}}(m)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(v))}var M=L.PM.Draw.Text.prototype._createTextIcon.call(this,this.textArea);this._layer.setIcon(M),this._layer.once("add",this._createTextMarker,this)},_createTextMarker:function(){var m=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._layer.off("add",this._createTextMarker,this),this._layer.getElement().tabIndex=-1,this.textArea.wrap="off",this.textArea.style.overflow="hidden",this.textArea.style.height=L.DomUtil.getStyle(this.textArea,"font-size"),this.textArea.style.width="1px",this._layer.options.text&&this.setText(this._layer.options.text),this._autoResize(),!0===m&&(this.enable(),this.focus(),this._disableOnBlur())},_preventTextSelection:function(m){m.preventDefault()}});var Zt=function(m,v,M,B,X,Ce){this._matrix=[m,v,M,B,X,Ce]};Zt.init=function(){return new L.PM.Matrix(1,0,0,1,0,0)},Zt.prototype={transform:function(m){return this._transform(m.clone())},_transform:function(m){var v=this._matrix,M=m.x,B=m.y;return m.x=v[0]*M+v[1]*B+v[4],m.y=v[2]*M+v[3]*B+v[5],m},untransform:function(m){var v=this._matrix;return new L.Point((m.x/v[0]-v[4])/v[0],(m.y/v[2]-v[5])/v[2])},clone:function(){var m=this._matrix;return new L.PM.Matrix(m[0],m[1],m[2],m[3],m[4],m[5])},translate:function(m){return void 0===m?new L.Point(this._matrix[4],this._matrix[5]):("number"==typeof m?(v=m,M=m):(v=m.x,M=m.y),this._add(1,0,0,1,v,M));var v,M},scale:function(m,v){return void 0===m?new L.Point(this._matrix[0],this._matrix[3]):(v=v||L.point(0,0),"number"==typeof m?(M=m,B=m):(M=m.x,B=m.y),this._add(M,0,0,B,v.x,v.y)._add(1,0,0,1,-v.x,-v.y));var M,B},rotate:function(m,v){var M=Math.cos(m),B=Math.sin(m);return v=v||new L.Point(0,0),this._add(M,B,-B,M,v.x,v.y)._add(1,0,0,1,-v.x,-v.y)},flip:function(){return this._matrix[1]*=-1,this._matrix[2]*=-1,this},_add:function(m,v,M,B,X,Ce){var Ie,Pe=[[],[],[]],Te=this._matrix,ze=[[Te[0],Te[2],Te[4]],[Te[1],Te[3],Te[5]],[0,0,1]],Je=[[m,M,X],[v,B,Ce],[0,0,1]];m&&m instanceof L.PM.Matrix&&(Je=[[(Te=m._matrix)[0],Te[2],Te[4]],[Te[1],Te[3],Te[5]],[0,0,1]]);for(var ht=0;ht<3;ht+=1)for(var ut=0;ut<3;ut+=1){Ie=0;for(var Ct=0;Ct<3;Ct+=1)Ie+=ze[ht][Ct]*Je[Ct][ut];Pe[ht][ut]=Ie}return this._matrix=[Pe[0][0],Pe[1][0],Pe[0][1],Pe[1][1],Pe[0][2],Pe[1][2]],this}};var ac={calcMiddleLatLng:function(m,v,M){var B=m.project(v),X=m.project(M);return m.unproject(B._add(X)._divideBy(2))},findLayers:function(m){var v=[];return m.eachLayer(function(M){(M instanceof L.Polyline||M instanceof L.Marker||M instanceof L.Circle||M instanceof L.CircleMarker||M instanceof L.ImageOverlay)&&v.push(M)}),v=(v=(v=v.filter(function(M){return!!M.pm})).filter(function(M){return!M._pmTempLayer})).filter(function(M){return!L.PM.optIn&&!M.options.pmIgnore||L.PM.optIn&&!1===M.options.pmIgnore})},circleToPolygon:function(m){for(var v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:60,M=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],Ce=dt(m.getLatLng(),m.getRadius(),v,0,M),Ie=[],Pe=0;Pe<Ce.length;Pe+=1)Ie.push([Ce[Pe].lat,Ce[Pe].lng]);return L.polygon(Ie,m.options)},disablePopup:function(m){m.getPopup()&&(m._tempPopupCopy=m.getPopup(),m.unbindPopup())},enablePopup:function(m){m._tempPopupCopy&&(m.bindPopup(m._tempPopupCopy),delete m._tempPopupCopy)},_fireEvent:function(m,v,M){var B=arguments.length>3&&void 0!==arguments[3]&&arguments[3];m.fire(v,M,B),this.getAllParentGroups(m).groups.forEach(function(Ie){Ie.fire(v,M,B)})},getAllParentGroups:function(m){var v=[],M=[];return!m._pmLastGroupFetch||!m._pmLastGroupFetch.time||(new Date).getTime()-m._pmLastGroupFetch.time>1e3?(function B(X){for(var Ce in X._eventParents)if(-1===v.indexOf(Ce)){v.push(Ce);var Ie=X._eventParents[Ce];M.push(Ie),B(Ie)}}(m),m._pmLastGroupFetch={time:(new Date).getTime(),groups:M,groupIds:v},{groupIds:v,groups:M}):{groups:m._pmLastGroupFetch.groups,groupIds:m._pmLastGroupFetch.groupIds}},createGeodesicPolygon:dt,getTranslation:Fe,findDeepCoordIndex:function(m,v){var M,B=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];m.some(function Ie(Pe){return function(Te,ze){var Je=Pe.concat(ze);if(B){if(Te.lat&&Te.lat===v.lat&&Te.lng===v.lng)return M=Je,!0}else if(Te.lat&&L.latLng(Te).equals(v))return M=Je,!0;return Array.isArray(Te)&&Te.some(Ie(Je))}}([]));var Ce={};return M&&(Ce={indexPath:M,index:M[M.length-1],parentPath:M.slice(0,M.length-1)}),Ce},findDeepMarkerIndex:function(m,v){var M;m.some(function X(Ce){return function(Ie,Pe){var Te=Ce.concat(Pe);return Ie._leaflet_id===v._leaflet_id?(M=Te,!0):Array.isArray(Ie)&&Ie.some(X(Te))}}([]));var B={};return M&&(B={indexPath:M,index:M[M.length-1],parentPath:M.slice(0,M.length-1)}),B},_getIndexFromSegment:function(m,v){if(v&&2===v.length){var M=this.findDeepCoordIndex(m,v[0]),B=this.findDeepCoordIndex(m,v[1]),X=Math.max(M.index,B.index);return 0!==M.index&&0!==B.index||1===X||(X+=1),{indexA:M,indexB:B,newIndex:X,indexPath:M.indexPath,parentPath:M.parentPath}}return null},_getRotatedRectangle:function(m,v,M,B){var X=Wn(B,m),Ce=Wn(B,v),Ie=M*Math.PI/180,Pe=Math.cos(Ie),Te=Math.sin(Ie),ze=(Ce.x-X.x)*Pe+(Ce.y-X.y)*Te,Je=(Ce.y-X.y)*Pe-(Ce.x-X.x)*Te,ht=ze*Pe+X.x,ut=ze*Te+X.y,Ct=-Je*Te+X.x,Lt=Je*Pe+X.y;return[rr(B,X),rr(B,{x:ht,y:ut}),rr(B,Ce),rr(B,{x:Ct,y:Lt})]},pxRadiusToMeterRadius:function(m,v,M){var B=v.project(M),X=L.point(B.x+m,B.y);return v.distance(v.unproject(X),M)}};L.PM=L.PM||{version:"2.14.2",Map:yt,Toolbar:dn,Draw:re,Edit:st,Utils:ac,Matrix:Zt,activeLang:"en",optIn:!1,initialize:function(m){this.addInitHooks(m)},setOptIn:function(m){this.optIn=!!m},addInitHooks:function(){L.Map.addInitHook(function(){this.pm=void 0,L.PM.optIn?!1===this.options.pmIgnore&&(this.pm=new L.PM.Map(this)):this.options.pmIgnore||(this.pm=new L.PM.Map(this)),this.pm&&this.pm.setGlobalOptions({})}),L.LayerGroup.addInitHook(function(){this.pm=void 0,L.PM.optIn?!1===this.options.pmIgnore&&(this.pm=new L.PM.Edit.LayerGroup(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.LayerGroup(this))}),L.Marker.addInitHook(function(){this.pm=void 0,L.PM.optIn?!1===this.options.pmIgnore&&(this.options.textMarker?(this.pm=new L.PM.Edit.Text(this),this.options._textMarkerOverPM||this.pm._initTextMarker(),delete this.options._textMarkerOverPM):this.pm=new L.PM.Edit.Marker(this)):this.options.pmIgnore||(this.options.textMarker?(this.pm=new L.PM.Edit.Text(this),this.options._textMarkerOverPM||this.pm._initTextMarker(),delete this.options._textMarkerOverPM):this.pm=new L.PM.Edit.Marker(this))}),L.CircleMarker.addInitHook(function(){this.pm=void 0,L.PM.optIn?!1===this.options.pmIgnore&&(this.pm=new L.PM.Edit.CircleMarker(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.CircleMarker(this))}),L.Polyline.addInitHook(function(){this.pm=void 0,L.PM.optIn?!1===this.options.pmIgnore&&(this.pm=new L.PM.Edit.Line(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Line(this))}),L.Polygon.addInitHook(function(){this.pm=void 0,L.PM.optIn?!1===this.options.pmIgnore&&(this.pm=new L.PM.Edit.Polygon(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Polygon(this))}),L.Rectangle.addInitHook(function(){this.pm=void 0,L.PM.optIn?!1===this.options.pmIgnore&&(this.pm=new L.PM.Edit.Rectangle(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Rectangle(this))}),L.Circle.addInitHook(function(){this.pm=void 0,L.PM.optIn?!1===this.options.pmIgnore&&(this.pm=new L.PM.Edit.Circle(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Circle(this))}),L.ImageOverlay.addInitHook(function(){this.pm=void 0,L.PM.optIn?!1===this.options.pmIgnore&&(this.pm=new L.PM.Edit.ImageOverlay(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.ImageOverlay(this))})},reInitLayer:function(m){var v=this;m instanceof L.LayerGroup&&m.eachLayer(function(M){v.reInitLayer(M)}),m.pm||L.PM.optIn&&!1!==m.options.pmIgnore||m.options.pmIgnore||(m instanceof L.Map?m.pm=new L.PM.Map(m):m instanceof L.Marker?m.options.textMarker?(m.pm=new L.PM.Edit.Text(m),m.pm._initTextMarker(),m.pm._createTextMarker(!1)):m.pm=new L.PM.Edit.Marker(m):m instanceof L.Circle?m.pm=new L.PM.Edit.Circle(m):m instanceof L.CircleMarker?m.pm=new L.PM.Edit.CircleMarker(m):m instanceof L.Rectangle?m.pm=new L.PM.Edit.Rectangle(m):m instanceof L.Polygon?m.pm=new L.PM.Edit.Polygon(m):m instanceof L.Polyline?m.pm=new L.PM.Edit.Line(m):m instanceof L.LayerGroup?m.pm=new L.PM.Edit.LayerGroup(m):m instanceof L.ImageOverlay&&(m.pm=new L.PM.Edit.ImageOverlay(m)))}},"1.7.1"===L.version&&L.Canvas.include({_onClick:function(m){for(var v,M,B=this._map.mouseEventToLayerPoint(m),X=this._drawFirst;X;X=X.next)(v=X.layer).options.interactive&&v._containsPoint(B)&&("click"!==m.type&&"preclick"!==m.type||!this._map._draggableMoved(v))&&(M=v);M&&(L.DomEvent.fakeStop(m),this._fireEvent([M],m))}}),L.PM.initialize()},7107:()=>{Array.prototype.findIndex=Array.prototype.findIndex||function(F){if(null===this)throw new TypeError("Array.prototype.findIndex called on null or undefined");if("function"!=typeof F)throw new TypeError("callback must be a function");for(var w=Object(this),x=w.length>>>0,I=arguments[1],O=0;O<x;O++)if(F.call(I,w[O],O,w))return O;return-1},Array.prototype.find=Array.prototype.find||function(F){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof F)throw new TypeError("callback must be a function");for(var w=Object(this),x=w.length>>>0,I=arguments[1],O=0;O<x;O++){var U=w[O];if(F.call(I,U,O,w))return U}},"function"!=typeof Object.assign&&(Object.assign=function(F){"use strict";if(null==F)throw new TypeError("Cannot convert undefined or null to object");F=Object(F);for(var w=1;w<arguments.length;w++){var x=arguments[w];if(null!=x)for(var I in x)Object.prototype.hasOwnProperty.call(x,I)&&(F[I]=x[I])}return F}),[Element.prototype,CharacterData.prototype,DocumentType.prototype].forEach(function(F){F.hasOwnProperty("remove")||Object.defineProperty(F,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){this.parentNode.removeChild(this)}})}),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(F,w){if(null==this)throw new TypeError('"this" is null or not defined');var x=Object(this),I=x.length>>>0;if(0===I)return!1;for(var O,U,$=0|w,ne=Math.max($>=0?$:I-Math.abs($),0);ne<I;){if((O=x[ne])===(U=F)||"number"==typeof O&&"number"==typeof U&&isNaN(O)&&isNaN(U))return!0;ne++}return!1}})},1787:(F,w,x)=>{var I=x(2582),O=x(4102),U=x(1540),$=x(9705).Z,ne=U.featureEach,ve=O.featureCollection;function Ne(Re){var ye=new I(Re);return ye.insert=function(_e){if("Feature"!==_e.type)throw new Error("invalid feature");return _e.bbox=_e.bbox?_e.bbox:$(_e),I.prototype.insert.call(this,_e)},ye.load=function(_e){var Oe=[];return Array.isArray(_e)?_e.forEach(function(oe){if("Feature"!==oe.type)throw new Error("invalid features");oe.bbox=oe.bbox?oe.bbox:$(oe),Oe.push(oe)}):ne(_e,function(oe){if("Feature"!==oe.type)throw new Error("invalid features");oe.bbox=oe.bbox?oe.bbox:$(oe),Oe.push(oe)}),I.prototype.load.call(this,Oe)},ye.remove=function(_e,Oe){if("Feature"!==_e.type)throw new Error("invalid feature");return _e.bbox=_e.bbox?_e.bbox:$(_e),I.prototype.remove.call(this,_e,Oe)},ye.clear=function(){return I.prototype.clear.call(this)},ye.search=function(_e){var Oe=I.prototype.search.call(this,this.toBBox(_e));return ve(Oe)},ye.collides=function(_e){return I.prototype.collides.call(this,this.toBBox(_e))},ye.all=function(){var _e=I.prototype.all.call(this);return ve(_e)},ye.toJSON=function(){return I.prototype.toJSON.call(this)},ye.fromJSON=function(_e){return I.prototype.fromJSON.call(this,_e)},ye.toBBox=function(_e){var Oe;if(_e.bbox)Oe=_e.bbox;else if(Array.isArray(_e)&&4===_e.length)Oe=_e;else if(Array.isArray(_e)&&6===_e.length)Oe=[_e[0],_e[1],_e[3],_e[4]];else if("Feature"===_e.type)Oe=$(_e);else{if("FeatureCollection"!==_e.type)throw new Error("invalid geojson");Oe=$(_e)}return{minX:Oe[0],minY:Oe[1],maxX:Oe[2],maxY:Oe[3]}},ye}F.exports=Ne,F.exports.default=Ne},1989:(F,w,x)=>{var I=x(1789),O=x(401),U=x(7667),$=x(1327),ne=x(1866);function ve(Ne){var Re=-1,ye=null==Ne?0:Ne.length;for(this.clear();++Re<ye;){var _e=Ne[Re];this.set(_e[0],_e[1])}}ve.prototype.clear=I,ve.prototype.delete=O,ve.prototype.get=U,ve.prototype.has=$,ve.prototype.set=ne,F.exports=ve},8407:(F,w,x)=>{var I=x(7040),O=x(4125),U=x(2117),$=x(7518),ne=x(4705);function ve(Ne){var Re=-1,ye=null==Ne?0:Ne.length;for(this.clear();++Re<ye;){var _e=Ne[Re];this.set(_e[0],_e[1])}}ve.prototype.clear=I,ve.prototype.delete=O,ve.prototype.get=U,ve.prototype.has=$,ve.prototype.set=ne,F.exports=ve},7071:(F,w,x)=>{var I=x(852)(x(5639),"Map");F.exports=I},3369:(F,w,x)=>{var I=x(4785),O=x(1285),U=x(6e3),$=x(9916),ne=x(5265);function ve(Ne){var Re=-1,ye=null==Ne?0:Ne.length;for(this.clear();++Re<ye;){var _e=Ne[Re];this.set(_e[0],_e[1])}}ve.prototype.clear=I,ve.prototype.delete=O,ve.prototype.get=U,ve.prototype.has=$,ve.prototype.set=ne,F.exports=ve},6384:(F,w,x)=>{var I=x(8407),O=x(7465),U=x(3779),$=x(7599),ne=x(4758),ve=x(4309);function Ne(Re){var ye=this.__data__=new I(Re);this.size=ye.size}Ne.prototype.clear=O,Ne.prototype.delete=U,Ne.prototype.get=$,Ne.prototype.has=ne,Ne.prototype.set=ve,F.exports=Ne},2705:(F,w,x)=>{var I=x(5639).Symbol;F.exports=I},1149:(F,w,x)=>{var I=x(5639).Uint8Array;F.exports=I},6874:F=>{F.exports=function(w,x,I){switch(I.length){case 0:return w.call(x);case 1:return w.call(x,I[0]);case 2:return w.call(x,I[0],I[1]);case 3:return w.call(x,I[0],I[1],I[2])}return w.apply(x,I)}},4636:(F,w,x)=>{var I=x(2545),O=x(5694),U=x(1469),$=x(4144),ne=x(5776),ve=x(6719),Ne=Object.prototype.hasOwnProperty;F.exports=function(Re,ye){var _e=U(Re),Oe=!_e&&O(Re),oe=!_e&&!Oe&&$(Re),he=!_e&&!Oe&&!oe&&ve(Re),z=_e||Oe||oe||he,R=z?I(Re.length,String):[],V=R.length;for(var J in Re)!ye&&!Ne.call(Re,J)||z&&("length"==J||oe&&("offset"==J||"parent"==J)||he&&("buffer"==J||"byteLength"==J||"byteOffset"==J)||ne(J,V))||R.push(J);return R}},9932:F=>{F.exports=function(w,x){for(var I=-1,O=null==w?0:w.length,U=Array(O);++I<O;)U[I]=x(w[I],I,w);return U}},6556:(F,w,x)=>{var I=x(9465),O=x(7813);F.exports=function(U,$,ne){(void 0!==ne&&!O(U[$],ne)||void 0===ne&&!($ in U))&&I(U,$,ne)}},4865:(F,w,x)=>{var I=x(9465),O=x(7813),U=Object.prototype.hasOwnProperty;F.exports=function($,ne,ve){var Ne=$[ne];U.call($,ne)&&O(Ne,ve)&&(void 0!==ve||ne in $)||I($,ne,ve)}},8470:(F,w,x)=>{var I=x(7813);F.exports=function(O,U){for(var $=O.length;$--;)if(I(O[$][0],U))return $;return-1}},9465:(F,w,x)=>{var I=x(8777);F.exports=function(O,U,$){"__proto__"==U&&I?I(O,U,{configurable:!0,enumerable:!0,value:$,writable:!0}):O[U]=$}},3118:(F,w,x)=>{var I=x(3218),O=Object.create,U=function(){function $(){}return function(ne){if(!I(ne))return{};if(O)return O(ne);$.prototype=ne;var ve=new $;return $.prototype=void 0,ve}}();F.exports=U},8483:(F,w,x)=>{var I=x(5063)();F.exports=I},7786:(F,w,x)=>{var I=x(1811),O=x(327);F.exports=function(U,$){for(var ne=0,ve=($=I($,U)).length;null!=U&&ne<ve;)U=U[O($[ne++])];return ne&&ne==ve?U:void 0}},4239:(F,w,x)=>{var I=x(2705),O=x(9607),U=x(2333),$=I?I.toStringTag:void 0;F.exports=function(ne){return null==ne?void 0===ne?"[object Undefined]":"[object Null]":$&&$ in Object(ne)?O(ne):U(ne)}},8565:F=>{var w=Object.prototype.hasOwnProperty;F.exports=function(x,I){return null!=x&&w.call(x,I)}},9454:(F,w,x)=>{var I=x(4239),O=x(7005);F.exports=function(U){return O(U)&&"[object Arguments]"==I(U)}},8458:(F,w,x)=>{var I=x(3560),O=x(5346),U=x(3218),$=x(346),ne=/^\[object .+?Constructor\]$/,_e=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");F.exports=function(Oe){return!(!U(Oe)||O(Oe))&&(I(Oe)?_e:ne).test($(Oe))}},8749:(F,w,x)=>{var I=x(4239),O=x(1780),U=x(7005),$={};$["[object Float32Array]"]=$["[object Float64Array]"]=$["[object Int8Array]"]=$["[object Int16Array]"]=$["[object Int32Array]"]=$["[object Uint8Array]"]=$["[object Uint8ClampedArray]"]=$["[object Uint16Array]"]=$["[object Uint32Array]"]=!0,$["[object Arguments]"]=$["[object Array]"]=$["[object ArrayBuffer]"]=$["[object Boolean]"]=$["[object DataView]"]=$["[object Date]"]=$["[object Error]"]=$["[object Function]"]=$["[object Map]"]=$["[object Number]"]=$["[object Object]"]=$["[object RegExp]"]=$["[object Set]"]=$["[object String]"]=$["[object WeakMap]"]=!1,F.exports=function(ne){return U(ne)&&O(ne.length)&&!!$[I(ne)]}},313:(F,w,x)=>{var I=x(3218),O=x(5726),U=x(3498),$=Object.prototype.hasOwnProperty;F.exports=function(ne){if(!I(ne))return U(ne);var ve=O(ne),Ne=[];for(var Re in ne)("constructor"!=Re||!ve&&$.call(ne,Re))&&Ne.push(Re);return Ne}},2980:(F,w,x)=>{var I=x(6384),O=x(6556),U=x(8483),$=x(9783),ne=x(3218),ve=x(1704),Ne=x(6390);F.exports=function Re(ye,_e,Oe,oe,he){ye!==_e&&U(_e,function(z,R){if(he||(he=new I),ne(z))$(ye,_e,R,Oe,Re,oe,he);else{var V=oe?oe(Ne(ye,R),z,R+"",ye,_e,he):void 0;void 0===V&&(V=z),O(ye,R,V)}},ve)}},9783:(F,w,x)=>{var I=x(6556),O=x(4626),U=x(7133),$=x(278),ne=x(8517),ve=x(5694),Ne=x(1469),Re=x(9246),ye=x(4144),_e=x(3560),Oe=x(3218),oe=x(8630),he=x(6719),z=x(6390),R=x(9881);F.exports=function(V,J,Q,ee,ie,W,De){var ge=z(V,Q),Ee=z(J,Q),de=De.get(Ee);if(de)I(V,Q,de);else{var Qe=W?W(ge,Ee,Q+"",V,J,De):void 0,We=void 0===Qe;if(We){var we=Ne(Ee),Me=!we&&ye(Ee),be=!we&&!Me&&he(Ee);Qe=Ee,we||Me||be?Ne(ge)?Qe=ge:Re(ge)?Qe=$(ge):Me?(We=!1,Qe=O(Ee,!0)):be?(We=!1,Qe=U(Ee,!0)):Qe=[]:oe(Ee)||ve(Ee)?(Qe=ge,ve(ge)?Qe=R(ge):Oe(ge)&&!_e(ge)||(Qe=ne(Ee))):We=!1}We&&(De.set(Ee,Qe),ie(Qe,Ee,ee,W,De),De.delete(Ee)),I(V,Q,Qe)}}},5976:(F,w,x)=>{var I=x(6557),O=x(5357),U=x(61);F.exports=function($,ne){return U(O($,ne,I),$+"")}},6560:(F,w,x)=>{var I=x(5703),O=x(8777),U=x(6557);F.exports=O?function(ne,ve){return O(ne,"toString",{configurable:!0,enumerable:!1,value:I(ve),writable:!0})}:U},2545:F=>{F.exports=function(w,x){for(var I=-1,O=Array(w);++I<w;)O[I]=x(I);return O}},531:(F,w,x)=>{var I=x(2705),O=x(9932),U=x(1469),$=x(3448),ne=I?I.prototype:void 0,ve=ne?ne.toString:void 0;F.exports=function Ne(Re){if("string"==typeof Re)return Re;if(U(Re))return O(Re,Ne)+"";if($(Re))return ve?ve.call(Re):"";var ye=Re+"";return"0"==ye&&1/Re==-1/0?"-0":ye}},1717:F=>{F.exports=function(w){return function(x){return w(x)}}},1811:(F,w,x)=>{var I=x(1469),O=x(5403),U=x(5514),$=x(9833);F.exports=function(ne,ve){return I(ne)?ne:O(ne,ve)?[ne]:U($(ne))}},4318:(F,w,x)=>{var I=x(1149);F.exports=function(O){var U=new O.constructor(O.byteLength);return new I(U).set(new I(O)),U}},4626:(F,w,x)=>{F=x.nmd(F);var I=x(5639),O=w&&!w.nodeType&&w,U=O&&F&&!F.nodeType&&F,$=U&&U.exports===O?I.Buffer:void 0,ne=$?$.allocUnsafe:void 0;F.exports=function(ve,Ne){if(Ne)return ve.slice();var Re=ve.length,ye=ne?ne(Re):new ve.constructor(Re);return ve.copy(ye),ye}},7133:(F,w,x)=>{var I=x(4318);F.exports=function(O,U){var $=U?I(O.buffer):O.buffer;return new O.constructor($,O.byteOffset,O.length)}},278:F=>{F.exports=function(w,x){var I=-1,O=w.length;for(x||(x=Array(O));++I<O;)x[I]=w[I];return x}},8363:(F,w,x)=>{var I=x(4865),O=x(9465);F.exports=function(U,$,ne,ve){var Ne=!ne;ne||(ne={});for(var Re=-1,ye=$.length;++Re<ye;){var _e=$[Re],Oe=ve?ve(ne[_e],U[_e],_e,ne,U):void 0;void 0===Oe&&(Oe=U[_e]),Ne?O(ne,_e,Oe):I(ne,_e,Oe)}return ne}},4429:(F,w,x)=>{var I=x(5639)["__core-js_shared__"];F.exports=I},1463:(F,w,x)=>{var I=x(5976),O=x(6612);F.exports=function(U){return I(function($,ne){var ve=-1,Ne=ne.length,Re=Ne>1?ne[Ne-1]:void 0,ye=Ne>2?ne[2]:void 0;for(Re=U.length>3&&"function"==typeof Re?(Ne--,Re):void 0,ye&&O(ne[0],ne[1],ye)&&(Re=Ne<3?void 0:Re,Ne=1),$=Object($);++ve<Ne;){var _e=ne[ve];_e&&U($,_e,ve,Re)}return $})}},5063:F=>{F.exports=function(w){return function(x,I,O){for(var U=-1,$=Object(x),ne=O(x),ve=ne.length;ve--;){var Ne=ne[w?ve:++U];if(!1===I($[Ne],Ne,$))break}return x}}},8777:(F,w,x)=>{var I=x(852),O=function(){try{var U=I(Object,"defineProperty");return U({},"",{}),U}catch{}}();F.exports=O},1957:(F,w,x)=>{F.exports="object"==typeof x.g&&x.g&&x.g.Object===Object&&x.g},5050:(F,w,x)=>{var I=x(7019);F.exports=function(O,U){var $=O.__data__;return I(U)?$["string"==typeof U?"string":"hash"]:$.map}},852:(F,w,x)=>{var I=x(8458),O=x(7801);F.exports=function(U,$){var ne=O(U,$);return I(ne)?ne:void 0}},5924:(F,w,x)=>{var I=x(5569)(Object.getPrototypeOf,Object);F.exports=I},9607:(F,w,x)=>{var I=x(2705),O=Object.prototype,U=O.hasOwnProperty,$=O.toString,ne=I?I.toStringTag:void 0;F.exports=function(ve){var Ne=U.call(ve,ne),Re=ve[ne];try{ve[ne]=void 0;var ye=!0}catch{}var _e=$.call(ve);return ye&&(Ne?ve[ne]=Re:delete ve[ne]),_e}},7801:F=>{F.exports=function(w,x){return w?.[x]}},222:(F,w,x)=>{var I=x(1811),O=x(5694),U=x(1469),$=x(5776),ne=x(1780),ve=x(327);F.exports=function(Ne,Re,ye){for(var _e=-1,Oe=(Re=I(Re,Ne)).length,oe=!1;++_e<Oe;){var he=ve(Re[_e]);if(!(oe=null!=Ne&&ye(Ne,he)))break;Ne=Ne[he]}return oe||++_e!=Oe?oe:!!(Oe=null==Ne?0:Ne.length)&&ne(Oe)&&$(he,Oe)&&(U(Ne)||O(Ne))}},1789:(F,w,x)=>{var I=x(4536);F.exports=function(){this.__data__=I?I(null):{},this.size=0}},401:F=>{F.exports=function(w){var x=this.has(w)&&delete this.__data__[w];return this.size-=x?1:0,x}},7667:(F,w,x)=>{var I=x(4536),O=Object.prototype.hasOwnProperty;F.exports=function(U){var $=this.__data__;if(I){var ne=$[U];return"__lodash_hash_undefined__"===ne?void 0:ne}return O.call($,U)?$[U]:void 0}},1327:(F,w,x)=>{var I=x(4536),O=Object.prototype.hasOwnProperty;F.exports=function(U){var $=this.__data__;return I?void 0!==$[U]:O.call($,U)}},1866:(F,w,x)=>{var I=x(4536);F.exports=function(O,U){var $=this.__data__;return this.size+=this.has(O)?0:1,$[O]=I&&void 0===U?"__lodash_hash_undefined__":U,this}},8517:(F,w,x)=>{var I=x(3118),O=x(5924),U=x(5726);F.exports=function($){return"function"!=typeof $.constructor||U($)?{}:I(O($))}},5776:F=>{var w=/^(?:0|[1-9]\d*)$/;F.exports=function(x,I){var O=typeof x;return!!(I=I??9007199254740991)&&("number"==O||"symbol"!=O&&w.test(x))&&x>-1&&x%1==0&&x<I}},6612:(F,w,x)=>{var I=x(7813),O=x(8612),U=x(5776),$=x(3218);F.exports=function(ne,ve,Ne){if(!$(Ne))return!1;var Re=typeof ve;return!!("number"==Re?O(Ne)&&U(ve,Ne.length):"string"==Re&&ve in Ne)&&I(Ne[ve],ne)}},5403:(F,w,x)=>{var I=x(1469),O=x(3448),U=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,$=/^\w*$/;F.exports=function(ne,ve){if(I(ne))return!1;var Ne=typeof ne;return!("number"!=Ne&&"symbol"!=Ne&&"boolean"!=Ne&&null!=ne&&!O(ne))||$.test(ne)||!U.test(ne)||null!=ve&&ne in Object(ve)}},7019:F=>{F.exports=function(w){var x=typeof w;return"string"==x||"number"==x||"symbol"==x||"boolean"==x?"__proto__"!==w:null===w}},5346:(F,w,x)=>{var I,O=x(4429),U=(I=/[^.]+$/.exec(O&&O.keys&&O.keys.IE_PROTO||""))?"Symbol(src)_1."+I:"";F.exports=function($){return!!U&&U in $}},5726:F=>{var w=Object.prototype;F.exports=function(x){var I=x&&x.constructor;return x===("function"==typeof I&&I.prototype||w)}},7040:F=>{F.exports=function(){this.__data__=[],this.size=0}},4125:(F,w,x)=>{var I=x(8470),O=Array.prototype.splice;F.exports=function(U){var $=this.__data__,ne=I($,U);return!(ne<0||(ne==$.length-1?$.pop():O.call($,ne,1),--this.size,0))}},2117:(F,w,x)=>{var I=x(8470);F.exports=function(O){var U=this.__data__,$=I(U,O);return $<0?void 0:U[$][1]}},7518:(F,w,x)=>{var I=x(8470);F.exports=function(O){return I(this.__data__,O)>-1}},4705:(F,w,x)=>{var I=x(8470);F.exports=function(O,U){var $=this.__data__,ne=I($,O);return ne<0?(++this.size,$.push([O,U])):$[ne][1]=U,this}},4785:(F,w,x)=>{var I=x(1989),O=x(8407),U=x(7071);F.exports=function(){this.size=0,this.__data__={hash:new I,map:new(U||O),string:new I}}},1285:(F,w,x)=>{var I=x(5050);F.exports=function(O){var U=I(this,O).delete(O);return this.size-=U?1:0,U}},6e3:(F,w,x)=>{var I=x(5050);F.exports=function(O){return I(this,O).get(O)}},9916:(F,w,x)=>{var I=x(5050);F.exports=function(O){return I(this,O).has(O)}},5265:(F,w,x)=>{var I=x(5050);F.exports=function(O,U){var $=I(this,O),ne=$.size;return $.set(O,U),this.size+=$.size==ne?0:1,this}},4523:(F,w,x)=>{var I=x(8306);F.exports=function(O){var U=I(O,function(ne){return 500===$.size&&$.clear(),ne}),$=U.cache;return U}},4536:(F,w,x)=>{var I=x(852)(Object,"create");F.exports=I},3498:F=>{F.exports=function(w){var x=[];if(null!=w)for(var I in Object(w))x.push(I);return x}},1167:(F,w,x)=>{F=x.nmd(F);var I=x(1957),O=w&&!w.nodeType&&w,U=O&&F&&!F.nodeType&&F,$=U&&U.exports===O&&I.process,ne=function(){try{return U&&U.require&&U.require("util").types||$&&$.binding&&$.binding("util")}catch{}}();F.exports=ne},2333:F=>{var w=Object.prototype.toString;F.exports=function(x){return w.call(x)}},5569:F=>{F.exports=function(w,x){return function(I){return w(x(I))}}},5357:(F,w,x)=>{var I=x(6874),O=Math.max;F.exports=function(U,$,ne){return $=O(void 0===$?U.length-1:$,0),function(){for(var ve=arguments,Ne=-1,Re=O(ve.length-$,0),ye=Array(Re);++Ne<Re;)ye[Ne]=ve[$+Ne];Ne=-1;for(var _e=Array($+1);++Ne<$;)_e[Ne]=ve[Ne];return _e[$]=ne(ye),I(U,this,_e)}}},5639:(F,w,x)=>{var I=x(1957),O="object"==typeof self&&self&&self.Object===Object&&self,U=I||O||Function("return this")();F.exports=U},6390:F=>{F.exports=function(w,x){if(("constructor"!==x||"function"!=typeof w[x])&&"__proto__"!=x)return w[x]}},61:(F,w,x)=>{var I=x(6560),O=x(1275)(I);F.exports=O},1275:F=>{var w=Date.now;F.exports=function(x){var I=0,O=0;return function(){var U=w(),$=16-(U-O);if(O=U,$>0){if(++I>=800)return arguments[0]}else I=0;return x.apply(void 0,arguments)}}},7465:(F,w,x)=>{var I=x(8407);F.exports=function(){this.__data__=new I,this.size=0}},3779:F=>{F.exports=function(w){var x=this.__data__,I=x.delete(w);return this.size=x.size,I}},7599:F=>{F.exports=function(w){return this.__data__.get(w)}},4758:F=>{F.exports=function(w){return this.__data__.has(w)}},4309:(F,w,x)=>{var I=x(8407),O=x(7071),U=x(3369);F.exports=function($,ne){var ve=this.__data__;if(ve instanceof I){var Ne=ve.__data__;if(!O||Ne.length<199)return Ne.push([$,ne]),this.size=++ve.size,this;ve=this.__data__=new U(Ne)}return ve.set($,ne),this.size=ve.size,this}},5514:(F,w,x)=>{var I=x(4523),O=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,U=/\\(\\)?/g,$=I(function(ne){var ve=[];return 46===ne.charCodeAt(0)&&ve.push(""),ne.replace(O,function(Ne,Re,ye,_e){ve.push(ye?_e.replace(U,"$1"):Re||Ne)}),ve});F.exports=$},327:(F,w,x)=>{var I=x(3448);F.exports=function(O){if("string"==typeof O||I(O))return O;var U=O+"";return"0"==U&&1/O==-1/0?"-0":U}},346:F=>{var w=Function.prototype.toString;F.exports=function(x){if(null!=x){try{return w.call(x)}catch{}try{return x+""}catch{}}return""}},5703:F=>{F.exports=function(w){return function(){return w}}},7813:F=>{F.exports=function(w,x){return w===x||w!=w&&x!=x}},7361:(F,w,x)=>{var I=x(7786);F.exports=function(O,U,$){var ne=null==O?void 0:I(O,U);return void 0===ne?$:ne}},8721:(F,w,x)=>{var I=x(8565),O=x(222);F.exports=function(U,$){return null!=U&&O(U,$,I)}},6557:F=>{F.exports=function(w){return w}},5694:(F,w,x)=>{var I=x(9454),O=x(7005),U=Object.prototype,$=U.hasOwnProperty,ne=U.propertyIsEnumerable,ve=I(function(){return arguments}())?I:function(Ne){return O(Ne)&&$.call(Ne,"callee")&&!ne.call(Ne,"callee")};F.exports=ve},1469:F=>{F.exports=Array.isArray},8612:(F,w,x)=>{var I=x(3560),O=x(1780);F.exports=function(U){return null!=U&&O(U.length)&&!I(U)}},9246:(F,w,x)=>{var I=x(8612),O=x(7005);F.exports=function(U){return O(U)&&I(U)}},4144:(F,w,x)=>{F=x.nmd(F);var I=x(5639),O=x(5062),U=w&&!w.nodeType&&w,$=U&&F&&!F.nodeType&&F,ne=$&&$.exports===U?I.Buffer:void 0;F.exports=(ne?ne.isBuffer:void 0)||O},3560:(F,w,x)=>{var I=x(4239),O=x(3218);F.exports=function(U){if(!O(U))return!1;var $=I(U);return"[object Function]"==$||"[object GeneratorFunction]"==$||"[object AsyncFunction]"==$||"[object Proxy]"==$}},1780:F=>{F.exports=function(w){return"number"==typeof w&&w>-1&&w%1==0&&w<=9007199254740991}},3218:F=>{F.exports=function(w){var x=typeof w;return null!=w&&("object"==x||"function"==x)}},7005:F=>{F.exports=function(w){return null!=w&&"object"==typeof w}},8630:(F,w,x)=>{var I=x(4239),O=x(5924),U=x(7005),ve=Function.prototype.toString,Ne=Object.prototype.hasOwnProperty,Re=ve.call(Object);F.exports=function(ye){if(!U(ye)||"[object Object]"!=I(ye))return!1;var _e=O(ye);if(null===_e)return!0;var Oe=Ne.call(_e,"constructor")&&_e.constructor;return"function"==typeof Oe&&Oe instanceof Oe&&ve.call(Oe)==Re}},3448:(F,w,x)=>{var I=x(4239),O=x(7005);F.exports=function(U){return"symbol"==typeof U||O(U)&&"[object Symbol]"==I(U)}},6719:(F,w,x)=>{var I=x(8749),O=x(1717),U=x(1167),$=U&&U.isTypedArray,ne=$?O($):I;F.exports=ne},1704:(F,w,x)=>{var I=x(4636),O=x(313),U=x(8612);F.exports=function($){return U($)?I($,!0):O($)}},8306:(F,w,x)=>{var I=x(3369);function O(U,$){if("function"!=typeof U||null!=$&&"function"!=typeof $)throw new TypeError("Expected a function");var ne=function(){var ve=arguments,Ne=$?$.apply(this,ve):ve[0],Re=ne.cache;if(Re.has(Ne))return Re.get(Ne);var ye=U.apply(this,ve);return ne.cache=Re.set(Ne,ye)||Re,ye};return ne.cache=new(O.Cache||I),ne}O.Cache=I,F.exports=O},2492:(F,w,x)=>{var I=x(2980),O=x(1463)(function(U,$,ne){I(U,$,ne)});F.exports=O},5062:F=>{F.exports=function(){return!1}},9881:(F,w,x)=>{var I=x(8363),O=x(1704);F.exports=function(U){return I(U,O(U))}},9833:(F,w,x)=>{var I=x(531);F.exports=function(O){return null==O?"":I(O)}},2676:function(F){F.exports=function(){"use strict";function w(H,P){if(!(H instanceof P))throw new TypeError("Cannot call a class as a function")}function x(H,P){for(var T=0;T<P.length;T++){var G=P[T];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(H,G.key,G)}}function I(H,P,T){return P&&x(H.prototype,P),T&&x(H,T),H}var O=function H(P,T){this.next=null,this.key=P,this.data=T,this.left=null,this.right=null};function U(H,P){return H>P?1:H<P?-1:0}function $(H,P,T){for(var G=new O(null,null),re=G,pe=G;;){var Ve=T(H,P.key);if(Ve<0){if(null===P.left)break;if(T(H,P.left.key)<0){var Ge=P.left;if(P.left=Ge.right,Ge.right=P,null===(P=Ge).left)break}pe.left=P,pe=P,P=P.left}else{if(!(Ve>0)||null===P.right||T(H,P.right.key)>0&&(P.right=(Ge=P.right).left,Ge.left=P,null===(P=Ge).right))break;re.right=P,re=P,P=P.right}}return re.right=P.left,pe.left=P.right,P.left=G.right,P.right=G.left,P}function ne(H,P,T,G){var re=new O(H,P);if(null===T)return re.left=re.right=null,re;var pe=G(H,(T=$(H,T,G)).key);return pe<0?(re.left=T.left,re.right=T,T.left=null):pe>=0&&(re.right=T.right,re.left=T,T.right=null),re}function ve(H,P,T){var G=null,re=null;if(P){var pe=T((P=$(H,P,T)).key,H);0===pe?(G=P.left,re=P.right):pe<0?(re=P.right,P.right=null,G=P):(G=P.left,P.left=null,re=P)}return{left:G,right:re}}function Re(H,P,T,G,re){if(H){G(P+(T?"\u2514\u2500\u2500 ":"\u251c\u2500\u2500 ")+re(H)+"\n");var pe=P+(T?"    ":"\u2502   ");H.left&&Re(H.left,pe,!1,G,re),H.right&&Re(H.right,pe,!0,G,re)}}var ye=function(){function H(P){void 0===P&&(P=U),this._root=null,this._size=0,this._comparator=P}return H.prototype.insert=function(P,T){return this._size++,this._root=ne(P,T,this._root,this._comparator)},H.prototype.add=function(P,T){var G=new O(P,T);null===this._root&&(G.left=G.right=null,this._size++,this._root=G);var re=this._comparator,pe=$(P,this._root,re),Ve=re(P,pe.key);return 0===Ve?this._root=pe:(Ve<0?(G.left=pe.left,G.right=pe,pe.left=null):Ve>0&&(G.right=pe.right,G.left=pe,pe.right=null),this._size++,this._root=G),this._root},H.prototype.remove=function(P){this._root=this._remove(P,this._root,this._comparator)},H.prototype._remove=function(P,T,G){var re;return null===T?null:0===G(P,(T=$(P,T,G)).key)?(null===T.left?re=T.right:(re=$(P,T.left,G)).right=T.right,this._size--,re):T},H.prototype.pop=function(){var P=this._root;if(P){for(;P.left;)P=P.left;return this._root=$(P.key,this._root,this._comparator),this._root=this._remove(P.key,this._root,this._comparator),{key:P.key,data:P.data}}return null},H.prototype.findStatic=function(P){for(var T=this._root,G=this._comparator;T;){var re=G(P,T.key);if(0===re)return T;T=re<0?T.left:T.right}return null},H.prototype.find=function(P){return this._root&&(this._root=$(P,this._root,this._comparator),0!==this._comparator(P,this._root.key))?null:this._root},H.prototype.contains=function(P){for(var T=this._root,G=this._comparator;T;){var re=G(P,T.key);if(0===re)return!0;T=re<0?T.left:T.right}return!1},H.prototype.forEach=function(P,T){for(var G=this._root,re=[],pe=!1;!pe;)null!==G?(re.push(G),G=G.left):0!==re.length?(G=re.pop(),P.call(T,G),G=G.right):pe=!0;return this},H.prototype.range=function(P,T,G,re){for(var pe=[],Ve=this._comparator,Ge=this._root;0!==pe.length||Ge;)if(Ge)pe.push(Ge),Ge=Ge.left;else{if(Ve((Ge=pe.pop()).key,T)>0)break;if(Ve(Ge.key,P)>=0&&G.call(re,Ge))return this;Ge=Ge.right}return this},H.prototype.keys=function(){var P=[];return this.forEach(function(T){return P.push(T.key)}),P},H.prototype.values=function(){var P=[];return this.forEach(function(T){return P.push(T.data)}),P},H.prototype.min=function(){return this._root?this.minNode(this._root).key:null},H.prototype.max=function(){return this._root?this.maxNode(this._root).key:null},H.prototype.minNode=function(P){if(void 0===P&&(P=this._root),P)for(;P.left;)P=P.left;return P},H.prototype.maxNode=function(P){if(void 0===P&&(P=this._root),P)for(;P.right;)P=P.right;return P},H.prototype.at=function(P){for(var T=this._root,G=!1,re=0,pe=[];!G;)if(T)pe.push(T),T=T.left;else if(pe.length>0){if(T=pe.pop(),re===P)return T;re++,T=T.right}else G=!0;return null},H.prototype.next=function(P){var T=this._root,G=null;if(P.right){for(G=P.right;G.left;)G=G.left;return G}for(var re=this._comparator;T;){var pe=re(P.key,T.key);if(0===pe)break;pe<0?(G=T,T=T.left):T=T.right}return G},H.prototype.prev=function(P){var T=this._root,G=null;if(null!==P.left){for(G=P.left;G.right;)G=G.right;return G}for(var re=this._comparator;T;){var pe=re(P.key,T.key);if(0===pe)break;pe<0?T=T.left:(G=T,T=T.right)}return G},H.prototype.clear=function(){return this._root=null,this._size=0,this},H.prototype.toList=function(){return function oe(H){for(var P=H,T=[],G=!1,re=new O(null,null),pe=re;!G;)P?(T.push(P),P=P.left):T.length>0?P=(P=pe=pe.next=T.pop()).right:G=!0;return pe.next=null,re.next}(this._root)},H.prototype.load=function(P,T,G){void 0===T&&(T=[]),void 0===G&&(G=!1);var re=P.length,pe=this._comparator;if(G&&R(P,T,0,re-1,pe),null===this._root)this._root=_e(P,T,0,re),this._size=re;else{var Ve=function z(H,P,T){for(var G=new O(null,null),re=G,pe=H,Ve=P;null!==pe&&null!==Ve;)T(pe.key,Ve.key)<0?(re.next=pe,pe=pe.next):(re.next=Ve,Ve=Ve.next),re=re.next;return null!==pe?re.next=pe:null!==Ve&&(re.next=Ve),G.next}(this.toList(),function Oe(H,P){for(var T=new O(null,null),G=T,re=0;re<H.length;re++)G=G.next=new O(H[re],P[re]);return G.next=null,T.next}(P,T),pe);this._root=he({head:Ve},0,re=this._size+re)}return this},H.prototype.isEmpty=function(){return null===this._root},Object.defineProperty(H.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"root",{get:function(){return this._root},enumerable:!0,configurable:!0}),H.prototype.toString=function(P){void 0===P&&(P=function(G){return String(G.key)});var T=[];return Re(this._root,"",!0,function(G){return T.push(G)},P),T.join("")},H.prototype.update=function(P,T,G){var re=this._comparator,pe=ve(P,this._root,re),Ve=pe.left,Ge=pe.right;re(P,T)<0?Ge=ne(T,G,Ge,re):Ve=ne(T,G,Ve,re),this._root=function Ne(H,P,T){return null===P?H:(null===H||((P=$(H.key,P,T)).left=H),P)}(Ve,Ge,re)},H.prototype.split=function(P){return ve(P,this._root,this._comparator)},H}();function _e(H,P,T,G){var re=G-T;if(re>0){var pe=T+Math.floor(re/2),He=new O(H[pe],P[pe]);return He.left=_e(H,P,T,pe),He.right=_e(H,P,pe+1,G),He}return null}function he(H,P,T){var G=T-P;if(G>0){var re=P+Math.floor(G/2),pe=he(H,P,re),Ve=H.head;return Ve.left=pe,H.head=H.head.next,Ve.right=he(H,re+1,T),Ve}return null}function R(H,P,T,G,re){if(!(T>=G)){for(var pe=H[T+G>>1],Ve=T-1,Ge=G+1;;){do{Ve++}while(re(H[Ve],pe)<0);do{Ge--}while(re(H[Ge],pe)>0);if(Ve>=Ge)break;var He=H[Ve];H[Ve]=H[Ge],H[Ge]=He,He=P[Ve],P[Ve]=P[Ge],P[Ge]=He}R(H,P,T,Ge,re),R(H,P,Ge+1,G,re)}}var V=function(H,P){return H.ll.x<=P.x&&P.x<=H.ur.x&&H.ll.y<=P.y&&P.y<=H.ur.y},J=function(H,P){return P.ur.x<H.ll.x||H.ur.x<P.ll.x||P.ur.y<H.ll.y||H.ur.y<P.ll.y?null:{ll:{x:H.ll.x<P.ll.x?P.ll.x:H.ll.x,y:H.ll.y<P.ll.y?P.ll.y:H.ll.y},ur:{x:H.ur.x<P.ur.x?H.ur.x:P.ur.x,y:H.ur.y<P.ur.y?H.ur.y:P.ur.y}}},Q=Number.EPSILON;void 0===Q&&(Q=Math.pow(2,-52));var ee=Q*Q,ie=function(H,P){if(-Q<H&&H<Q&&-Q<P&&P<Q)return 0;var T=H-P;return T*T<ee*H*P?0:H<P?-1:1},W=function(){function H(){w(this,H),this.reset()}return I(H,[{key:"reset",value:function(){this.xRounder=new De,this.yRounder=new De}},{key:"round",value:function(P,T){return{x:this.xRounder.round(P),y:this.yRounder.round(T)}}}]),H}(),De=function(){function H(){w(this,H),this.tree=new ye,this.round(0)}return I(H,[{key:"round",value:function(P){var T=this.tree.add(P),G=this.tree.prev(T);if(null!==G&&0===ie(T.key,G.key))return this.tree.remove(P),G.key;var re=this.tree.next(T);return null!==re&&0===ie(T.key,re.key)?(this.tree.remove(P),re.key):P}}]),H}(),ge=new W,Ee=function(H,P){return H.x*P.y-H.y*P.x},de=function(H,P){return H.x*P.x+H.y*P.y},Qe=function(H,P,T){var pe=Ee({x:P.x-H.x,y:P.y-H.y},{x:T.x-H.x,y:T.y-H.y});return ie(pe,0)},We=function(H){return Math.sqrt(de(H,H))},we=function(H,P,T){var G={x:P.x-H.x,y:P.y-H.y},re={x:T.x-H.x,y:T.y-H.y};return Ee(re,G)/We(re)/We(G)},Me=function(H,P,T){var G={x:P.x-H.x,y:P.y-H.y},re={x:T.x-H.x,y:T.y-H.y};return de(re,G)/We(re)/We(G)},be=function(H,P,T){return 0===P.y?null:{x:H.x+P.x/P.y*(T-H.y),y:T}},Se=function(H,P,T){return 0===P.x?null:{x:T,y:H.y+P.y/P.x*(T-H.x)}},me=function(){function H(P,T){w(this,H),void 0===P.events?P.events=[this]:P.events.push(this),this.point=P,this.isLeft=T}return I(H,null,[{key:"compare",value:function(P,T){var G=H.comparePoints(P.point,T.point);return 0!==G?G:(P.point!==T.point&&P.link(T),P.isLeft!==T.isLeft?P.isLeft?1:-1:qe.compare(P.segment,T.segment))}},{key:"comparePoints",value:function(P,T){return P.x<T.x?-1:P.x>T.x?1:P.y<T.y?-1:P.y>T.y?1:0}}]),I(H,[{key:"link",value:function(P){if(P.point===this.point)throw new Error("Tried to link already linked events");for(var T=P.point.events,G=0,re=T.length;G<re;G++){var pe=T[G];this.point.events.push(pe),pe.point=this.point}this.checkForConsuming()}},{key:"checkForConsuming",value:function(){for(var P=this.point.events.length,T=0;T<P;T++){var G=this.point.events[T];if(void 0===G.segment.consumedBy)for(var re=T+1;re<P;re++){var pe=this.point.events[re];void 0===pe.consumedBy&&G.otherSE.point.events===pe.otherSE.point.events&&G.segment.consume(pe.segment)}}}},{key:"getAvailableLinkedEvents",value:function(){for(var P=[],T=0,G=this.point.events.length;T<G;T++){var re=this.point.events[T];re!==this&&!re.segment.ringOut&&re.segment.isInResult()&&P.push(re)}return P}},{key:"getLeftmostComparator",value:function(P){var T=this,G=new Map,re=function(pe){var Ve=pe.otherSE;G.set(pe,{sine:we(T.point,P.point,Ve.point),cosine:Me(T.point,P.point,Ve.point)})};return function(pe,Ve){G.has(pe)||re(pe),G.has(Ve)||re(Ve);var Ge=G.get(pe),He=Ge.sine,wt=Ge.cosine,Pt=G.get(Ve),pt=Pt.sine,kt=Pt.cosine;return He>=0&&pt>=0?wt<kt?1:wt>kt?-1:0:He<0&&pt<0?wt<kt?-1:wt>kt?1:0:pt<He?-1:pt>He?1:0}}}]),H}(),rt=0,qe=function(){function H(P,T,G,re){w(this,H),this.id=++rt,this.leftSE=P,P.segment=this,P.otherSE=T,this.rightSE=T,T.segment=this,T.otherSE=P,this.rings=G,this.windings=re}return I(H,null,[{key:"compare",value:function(P,T){var G=P.leftSE.point.x,re=T.leftSE.point.x,pe=P.rightSE.point.x,Ve=T.rightSE.point.x;if(Ve<G)return 1;if(pe<re)return-1;var Ge=P.leftSE.point.y,He=T.leftSE.point.y,wt=P.rightSE.point.y,Pt=T.rightSE.point.y;if(G<re){if(He<Ge&&He<wt)return 1;if(He>Ge&&He>wt)return-1;var pt=P.comparePoint(T.leftSE.point);if(pt<0)return 1;if(pt>0)return-1;var kt=T.comparePoint(P.rightSE.point);return 0!==kt?kt:-1}if(G>re){if(Ge<He&&Ge<Pt)return-1;if(Ge>He&&Ge>Pt)return 1;var hn=T.comparePoint(P.leftSE.point);if(0!==hn)return hn;var Bt=P.comparePoint(T.rightSE.point);return Bt<0?1:Bt>0?-1:1}if(Ge<He)return-1;if(Ge>He)return 1;if(pe<Ve){var on=T.comparePoint(P.rightSE.point);if(0!==on)return on}if(pe>Ve){var kn=P.comparePoint(T.rightSE.point);if(kn<0)return 1;if(kn>0)return-1}if(pe!==Ve){var Zn=wt-Ge,tr=pe-G,nr=Pt-He,Xr=Ve-re;if(Zn>tr&&nr<Xr)return 1;if(Zn<tr&&nr>Xr)return-1}return pe>Ve?1:pe<Ve||wt<Pt?-1:wt>Pt?1:P.id<T.id?-1:P.id>T.id?1:0}}]),I(H,[{key:"replaceRightSE",value:function(P){this.rightSE=P,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}},{key:"bbox",value:function(){var P=this.leftSE.point.y,T=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:P<T?P:T},ur:{x:this.rightSE.point.x,y:P>T?P:T}}}},{key:"vector",value:function(){return{x:this.rightSE.point.x-this.leftSE.point.x,y:this.rightSE.point.y-this.leftSE.point.y}}},{key:"isAnEndpoint",value:function(P){return P.x===this.leftSE.point.x&&P.y===this.leftSE.point.y||P.x===this.rightSE.point.x&&P.y===this.rightSE.point.y}},{key:"comparePoint",value:function(P){if(this.isAnEndpoint(P))return 0;var T=this.leftSE.point,G=this.rightSE.point,re=this.vector();if(T.x===G.x)return P.x===T.x?0:P.x<T.x?1:-1;if(P.x===T.x+(P.y-T.y)/re.y*re.x)return 0;var He=T.y+(P.x-T.x)/re.x*re.y;return P.y===He?0:P.y<He?-1:1}},{key:"getIntersection",value:function(P){var T=this.bbox(),G=P.bbox(),re=J(T,G);if(null===re)return null;var pe=this.leftSE.point,Ve=this.rightSE.point,Ge=P.leftSE.point,He=P.rightSE.point,wt=V(T,Ge)&&0===this.comparePoint(Ge),Pt=V(G,pe)&&0===P.comparePoint(pe),pt=V(T,He)&&0===this.comparePoint(He),kt=V(G,Ve)&&0===P.comparePoint(Ve);if(Pt&&wt)return kt&&!pt?Ve:!kt&&pt?He:null;if(Pt)return pt&&pe.x===He.x&&pe.y===He.y?null:pe;if(wt)return kt&&Ve.x===Ge.x&&Ve.y===Ge.y?null:Ge;if(kt&&pt)return null;if(kt)return Ve;if(pt)return He;var hn=function(H,P,T,G){if(0===P.x)return Se(T,G,H.x);if(0===G.x)return Se(H,P,T.x);if(0===P.y)return be(T,G,H.y);if(0===G.y)return be(H,P,T.y);var re=Ee(P,G);if(0==re)return null;var pe={x:T.x-H.x,y:T.y-H.y},Ve=Ee(pe,P)/re,Ge=Ee(pe,G)/re;return{x:(H.x+Ge*P.x+(T.x+Ve*G.x))/2,y:(H.y+Ge*P.y+(T.y+Ve*G.y))/2}}(pe,this.vector(),Ge,P.vector());return null===hn?null:V(re,hn)?ge.round(hn.x,hn.y):null}},{key:"split",value:function(P){var T=[],G=void 0!==P.events,re=new me(P,!0),pe=new me(P,!1),Ve=this.rightSE;this.replaceRightSE(pe),T.push(pe),T.push(re);var Ge=new H(re,Ve,this.rings.slice(),this.windings.slice());return me.comparePoints(Ge.leftSE.point,Ge.rightSE.point)>0&&Ge.swapEvents(),me.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),G&&(re.checkForConsuming(),pe.checkForConsuming()),T}},{key:"swapEvents",value:function(){var P=this.rightSE;this.rightSE=this.leftSE,this.leftSE=P,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(var T=0,G=this.windings.length;T<G;T++)this.windings[T]*=-1}},{key:"consume",value:function(P){for(var T=this,G=P;T.consumedBy;)T=T.consumedBy;for(;G.consumedBy;)G=G.consumedBy;var re=H.compare(T,G);if(0!==re){if(re>0){var pe=T;T=G,G=pe}if(T.prev===G){var Ve=T;T=G,G=Ve}for(var Ge=0,He=G.rings.length;Ge<He;Ge++){var wt=G.rings[Ge],Pt=G.windings[Ge],pt=T.rings.indexOf(wt);-1===pt?(T.rings.push(wt),T.windings.push(Pt)):T.windings[pt]+=Pt}G.rings=null,G.windings=null,G.consumedBy=T,G.leftSE.consumedBy=T.leftSE,G.rightSE.consumedBy=T.rightSE}}},{key:"prevInResult",value:function(){return void 0!==this._prevInResult||(this._prevInResult=this.prev?this.prev.isInResult()?this.prev:this.prev.prevInResult():null),this._prevInResult}},{key:"beforeState",value:function(){return void 0!==this._beforeState||(this._beforeState=this.prev?(this.prev.consumedBy||this.prev).afterState():{rings:[],windings:[],multiPolys:[]}),this._beforeState}},{key:"afterState",value:function(){if(void 0!==this._afterState)return this._afterState;var P=this.beforeState();this._afterState={rings:P.rings.slice(0),windings:P.windings.slice(0),multiPolys:[]};for(var T=this._afterState.rings,G=this._afterState.windings,re=this._afterState.multiPolys,pe=0,Ve=this.rings.length;pe<Ve;pe++){var Ge=this.rings[pe],He=this.windings[pe],wt=T.indexOf(Ge);-1===wt?(T.push(Ge),G.push(He)):G[wt]+=He}for(var Pt=[],pt=[],kt=0,hn=T.length;kt<hn;kt++)if(0!==G[kt]){var Bt=T[kt],on=Bt.poly;if(-1===pt.indexOf(on))if(Bt.isExterior)Pt.push(on);else{-1===pt.indexOf(on)&&pt.push(on);var kn=Pt.indexOf(Bt.poly);-1!==kn&&Pt.splice(kn,1)}}for(var Zn=0,tr=Pt.length;Zn<tr;Zn++){var nr=Pt[Zn].multiPoly;-1===re.indexOf(nr)&&re.push(nr)}return this._afterState}},{key:"isInResult",value:function(){if(this.consumedBy)return!1;if(void 0!==this._isInResult)return this._isInResult;var P=this.beforeState().multiPolys,T=this.afterState().multiPolys;switch(In.type){case"union":this._isInResult=0===P.length!=(0===T.length);break;case"intersection":var pe,Ve;P.length<T.length?(pe=P.length,Ve=T.length):(pe=T.length,Ve=P.length),this._isInResult=Ve===In.numMultiPolys&&pe<Ve;break;case"xor":var Ge=Math.abs(P.length-T.length);this._isInResult=Ge%2==1;break;case"difference":var He=function(wt){return 1===wt.length&&wt[0].isSubject};this._isInResult=He(P)!==He(T);break;default:throw new Error("Unrecognized operation type found ".concat(In.type))}return this._isInResult}}],[{key:"fromRing",value:function(P,T,G){var re,pe,Ve,Ge=me.comparePoints(P,T);if(Ge<0)re=P,pe=T,Ve=1;else{if(!(Ge>0))throw new Error("Tried to create degenerate segment at [".concat(P.x,", ").concat(P.y,"]"));re=T,pe=P,Ve=-1}return new H(new me(re,!0),new me(pe,!1),[G],[Ve])}}]),H}(),dt=function(){function H(P,T,G){if(w(this,H),!Array.isArray(P)||0===P.length)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=T,this.isExterior=G,this.segments=[],"number"!=typeof P[0][0]||"number"!=typeof P[0][1])throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var re=ge.round(P[0][0],P[0][1]);this.bbox={ll:{x:re.x,y:re.y},ur:{x:re.x,y:re.y}};for(var pe=re,Ve=1,Ge=P.length;Ve<Ge;Ve++){if("number"!=typeof P[Ve][0]||"number"!=typeof P[Ve][1])throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var He=ge.round(P[Ve][0],P[Ve][1]);He.x===pe.x&&He.y===pe.y||(this.segments.push(qe.fromRing(pe,He,this)),He.x<this.bbox.ll.x&&(this.bbox.ll.x=He.x),He.y<this.bbox.ll.y&&(this.bbox.ll.y=He.y),He.x>this.bbox.ur.x&&(this.bbox.ur.x=He.x),He.y>this.bbox.ur.y&&(this.bbox.ur.y=He.y),pe=He)}re.x===pe.x&&re.y===pe.y||this.segments.push(qe.fromRing(pe,re,this))}return I(H,[{key:"getSweepEvents",value:function(){for(var P=[],T=0,G=this.segments.length;T<G;T++){var re=this.segments[T];P.push(re.leftSE),P.push(re.rightSE)}return P}}]),H}(),$e=function(){function H(P,T){if(w(this,H),!Array.isArray(P))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new dt(P[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(var G=1,re=P.length;G<re;G++){var pe=new dt(P[G],this,!1);pe.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=pe.bbox.ll.x),pe.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=pe.bbox.ll.y),pe.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=pe.bbox.ur.x),pe.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=pe.bbox.ur.y),this.interiorRings.push(pe)}this.multiPoly=T}return I(H,[{key:"getSweepEvents",value:function(){for(var P=this.exteriorRing.getSweepEvents(),T=0,G=this.interiorRings.length;T<G;T++)for(var re=this.interiorRings[T].getSweepEvents(),pe=0,Ve=re.length;pe<Ve;pe++)P.push(re[pe]);return P}}]),H}(),Rt=function(){function H(P,T){if(w(this,H),!Array.isArray(P))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{"number"==typeof P[0][0][0]&&(P=[P])}catch{}this.polys=[],this.bbox={ll:{x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY},ur:{x:Number.NEGATIVE_INFINITY,y:Number.NEGATIVE_INFINITY}};for(var G=0,re=P.length;G<re;G++){var pe=new $e(P[G],this);pe.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=pe.bbox.ll.x),pe.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=pe.bbox.ll.y),pe.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=pe.bbox.ur.x),pe.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=pe.bbox.ur.y),this.polys.push(pe)}this.isSubject=T}return I(H,[{key:"getSweepEvents",value:function(){for(var P=[],T=0,G=this.polys.length;T<G;T++)for(var re=this.polys[T].getSweepEvents(),pe=0,Ve=re.length;pe<Ve;pe++)P.push(re[pe]);return P}}]),H}(),Et=function(){function H(P){w(this,H),this.events=P;for(var T=0,G=P.length;T<G;T++)P[T].segment.ringOut=this;this.poly=null}return I(H,null,[{key:"factory",value:function(P){for(var T=[],G=0,re=P.length;G<re;G++){var pe=P[G];if(pe.isInResult()&&!pe.ringOut){for(var Ve=null,Ge=pe.leftSE,He=pe.rightSE,wt=[Ge],Pt=Ge.point,pt=[];Ve=Ge,wt.push(Ge=He),Ge.point!==Pt;)for(;;){var kt=Ge.getAvailableLinkedEvents();if(0===kt.length){var hn=wt[0].point,Bt=wt[wt.length-1].point;throw new Error("Unable to complete output ring starting at [".concat(hn.x,",")+" ".concat(hn.y,"]. Last matching segment found ends at")+" [".concat(Bt.x,", ").concat(Bt.y,"]."))}if(1===kt.length){He=kt[0].otherSE;break}for(var on=null,kn=0,Zn=pt.length;kn<Zn;kn++)if(pt[kn].point===Ge.point){on=kn;break}if(null===on){pt.push({index:wt.length,point:Ge.point});var tr=Ge.getLeftmostComparator(Ve);He=kt.sort(tr)[0].otherSE;break}var nr=pt.splice(on)[0],Xr=wt.splice(nr.index);Xr.unshift(Xr[0].otherSE),T.push(new H(Xr.reverse()))}T.push(new H(wt))}}return T}}]),I(H,[{key:"getGeom",value:function(){for(var P=this.events[0].point,T=[P],G=1,re=this.events.length-1;G<re;G++){var pe=this.events[G].point;0!==Qe(pe,P,this.events[G+1].point)&&(T.push(pe),P=pe)}if(1===T.length)return null;0===Qe(T[0],P,T[1])&&T.shift(),T.push(T[0]);for(var wt=this.isExteriorRing()?1:-1,Pt=this.isExteriorRing()?0:T.length-1,pt=this.isExteriorRing()?T.length:-1,kt=[],hn=Pt;hn!=pt;hn+=wt)kt.push([T[hn].x,T[hn].y]);return kt}},{key:"isExteriorRing",value:function(){if(void 0===this._isExteriorRing){var P=this.enclosingRing();this._isExteriorRing=!P||!P.isExteriorRing()}return this._isExteriorRing}},{key:"enclosingRing",value:function(){return void 0===this._enclosingRing&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}},{key:"_calcEnclosingRing",value:function(){for(var P=this.events[0],T=1,G=this.events.length;T<G;T++){var re=this.events[T];me.compare(P,re)>0&&(P=re)}for(var pe=P.segment.prevInResult(),Ve=pe?pe.prevInResult():null;;){if(!pe)return null;if(!Ve)return pe.ringOut;if(Ve.ringOut!==pe.ringOut)return Ve.ringOut.enclosingRing()!==pe.ringOut?pe.ringOut:pe.ringOut.enclosingRing();pe=Ve.prevInResult(),Ve=pe?pe.prevInResult():null}}}]),H}(),Dt=function(){function H(P){w(this,H),this.exteriorRing=P,P.poly=this,this.interiorRings=[]}return I(H,[{key:"addInterior",value:function(P){this.interiorRings.push(P),P.poly=this}},{key:"getGeom",value:function(){var P=[this.exteriorRing.getGeom()];if(null===P[0])return null;for(var T=0,G=this.interiorRings.length;T<G;T++){var re=this.interiorRings[T].getGeom();null!==re&&P.push(re)}return P}}]),H}(),Ft=function(){function H(P){w(this,H),this.rings=P,this.polys=this._composePolys(P)}return I(H,[{key:"getGeom",value:function(){for(var P=[],T=0,G=this.polys.length;T<G;T++){var re=this.polys[T].getGeom();null!==re&&P.push(re)}return P}},{key:"_composePolys",value:function(P){for(var T=[],G=0,re=P.length;G<re;G++){var pe=P[G];if(!pe.poly)if(pe.isExteriorRing())T.push(new Dt(pe));else{var Ve=pe.enclosingRing();Ve.poly||T.push(new Dt(Ve)),Ve.poly.addInterior(pe)}}return T}}]),H}(),yt=function(){function H(P){var T=arguments.length>1&&void 0!==arguments[1]?arguments[1]:qe.compare;w(this,H),this.queue=P,this.tree=new ye(T),this.segments=[]}return I(H,[{key:"process",value:function(P){var T=P.segment,G=[];if(P.consumedBy)return P.isLeft?this.queue.remove(P.otherSE):this.tree.remove(T),G;var re=P.isLeft?this.tree.insert(T):this.tree.find(T);if(!re)throw new Error("Unable to find segment #".concat(T.id," ")+"[".concat(T.leftSE.point.x,", ").concat(T.leftSE.point.y,"] -> ")+"[".concat(T.rightSE.point.x,", ").concat(T.rightSE.point.y,"] ")+"in SweepLine tree. Please submit a bug report.");for(var pe=re,Ve=re,Ge=void 0,He=void 0;void 0===Ge;)null===(pe=this.tree.prev(pe))?Ge=null:void 0===pe.key.consumedBy&&(Ge=pe.key);for(;void 0===He;)null===(Ve=this.tree.next(Ve))?He=null:void 0===Ve.key.consumedBy&&(He=Ve.key);if(P.isLeft){var wt=null;if(Ge){var Pt=Ge.getIntersection(T);if(null!==Pt&&(T.isAnEndpoint(Pt)||(wt=Pt),!Ge.isAnEndpoint(Pt)))for(var pt=this._splitSafely(Ge,Pt),kt=0,hn=pt.length;kt<hn;kt++)G.push(pt[kt])}var Bt=null;if(He){var on=He.getIntersection(T);if(null!==on&&(T.isAnEndpoint(on)||(Bt=on),!He.isAnEndpoint(on)))for(var kn=this._splitSafely(He,on),Zn=0,tr=kn.length;Zn<tr;Zn++)G.push(kn[Zn])}if(null!==wt||null!==Bt){var nr;nr=null===wt?Bt:null===Bt||me.comparePoints(wt,Bt)<=0?wt:Bt,this.queue.remove(T.rightSE),G.push(T.rightSE);for(var Xr=T.split(nr),Xn=0,Mi=Xr.length;Xn<Mi;Xn++)G.push(Xr[Xn])}G.length>0?(this.tree.remove(T),G.push(P)):(this.segments.push(T),T.prev=Ge)}else{if(Ge&&He){var pr=Ge.getIntersection(He);if(null!==pr){if(!Ge.isAnEndpoint(pr))for(var bt=this._splitSafely(Ge,pr),Uo=0,ho=bt.length;Uo<ho;Uo++)G.push(bt[Uo]);if(!He.isAnEndpoint(pr))for(var sn=this._splitSafely(He,pr),si=0,fo=sn.length;si<fo;si++)G.push(sn[si])}}this.tree.remove(T)}return G}},{key:"_splitSafely",value:function(P,T){this.tree.remove(P);var G=P.rightSE;this.queue.remove(G);var re=P.split(T);return re.push(G),void 0===P.consumedBy&&this.tree.insert(P),re}}]),H}(),vt=typeof process<"u"&&process.env.POLYGON_CLIPPING_MAX_QUEUE_SIZE||1e6,dr=typeof process<"u"&&process.env.POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS||1e6,In=new(function(){function H(){w(this,H)}return I(H,[{key:"run",value:function(P,T,G){In.type=P,ge.reset();for(var re=[new Rt(T,!0)],pe=0,Ve=G.length;pe<Ve;pe++)re.push(new Rt(G[pe],!1));if(In.numMultiPolys=re.length,"difference"===In.type)for(var Ge=re[0],He=1;He<re.length;)null!==J(re[He].bbox,Ge.bbox)?He++:re.splice(He,1);if("intersection"===In.type)for(var wt=0,Pt=re.length;wt<Pt;wt++)for(var pt=re[wt],kt=wt+1,hn=re.length;kt<hn;kt++)if(null===J(pt.bbox,re[kt].bbox))return[];for(var Bt=new ye(me.compare),on=0,kn=re.length;on<kn;on++)for(var Zn=re[on].getSweepEvents(),tr=0,nr=Zn.length;tr<nr;tr++)if(Bt.insert(Zn[tr]),Bt.size>vt)throw new Error("Infinite loop when putting segment endpoints in a priority queue (queue size too big). Please file a bug report.");for(var Xr=new yt(Bt),Xn=Bt.size,Mi=Bt.pop();Mi;){var pr=Mi.key;if(Bt.size===Xn){var bt=pr.segment;throw new Error("Unable to pop() ".concat(pr.isLeft?"left":"right"," SweepEvent ")+"[".concat(pr.point.x,", ").concat(pr.point.y,"] from segment #").concat(bt.id," ")+"[".concat(bt.leftSE.point.x,", ").concat(bt.leftSE.point.y,"] -> ")+"[".concat(bt.rightSE.point.x,", ").concat(bt.rightSE.point.y,"] from queue. ")+"Please file a bug report.")}if(Bt.size>vt)throw new Error("Infinite loop when passing sweep line over endpoints (queue size too big). Please file a bug report.");if(Xr.segments.length>dr)throw new Error("Infinite loop when passing sweep line over endpoints (too many sweep line segments). Please file a bug report.");for(var Uo=Xr.process(pr),ho=0,sn=Uo.length;ho<sn;ho++){var si=Uo[ho];void 0===si.consumedBy&&Bt.insert(si)}Xn=Bt.size,Mi=Bt.pop()}ge.reset();var fo=Et.factory(Xr.segments);return new Ft(fo).getGeom()}}]),H}());return{union:function(H){for(var P=arguments.length,T=new Array(P>1?P-1:0),G=1;G<P;G++)T[G-1]=arguments[G];return In.run("union",H,T)},intersection:function(H){for(var P=arguments.length,T=new Array(P>1?P-1:0),G=1;G<P;G++)T[G-1]=arguments[G];return In.run("intersection",H,T)},xor:function(H){for(var P=arguments.length,T=new Array(P>1?P-1:0),G=1;G<P;G++)T[G-1]=arguments[G];return In.run("xor",H,T)},difference:function(H){for(var P=arguments.length,T=new Array(P>1?P-1:0),G=1;G<P;G++)T[G-1]=arguments[G];return In.run("difference",H,T)}}}()},2582:function(F){F.exports=function(){"use strict";function w(R,V,J,Q,ee){!function ie(W,De,ge,Ee,de){for(;Ee>ge;){if(Ee-ge>600){var Qe=Ee-ge+1,We=De-ge+1,we=Math.log(Qe),Me=.5*Math.exp(2*we/3),be=.5*Math.sqrt(we*Me*(Qe-Me)/Qe)*(We-Qe/2<0?-1:1);ie(W,De,Math.max(ge,Math.floor(De-We*Me/Qe+be)),Math.min(Ee,Math.floor(De+(Qe-We)*Me/Qe+be)),de)}var Se=W[De],Fe=ge,me=Ee;for(x(W,ge,De),de(W[Ee],Se)>0&&x(W,ge,Ee);Fe<me;){for(x(W,Fe,me),Fe++,me--;de(W[Fe],Se)<0;)Fe++;for(;de(W[me],Se)>0;)me--}0===de(W[ge],Se)?x(W,ge,me):x(W,++me,Ee),me<=De&&(ge=me+1),De<=me&&(Ee=me-1)}}(R,V,J||0,Q||R.length-1,ee||I)}function x(R,V,J){var Q=R[V];R[V]=R[J],R[J]=Q}function I(R,V){return R<V?-1:R>V?1:0}var O=function(R){void 0===R&&(R=9),this._maxEntries=Math.max(4,R),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function U(R,V,J){if(!J)return V.indexOf(R);for(var Q=0;Q<V.length;Q++)if(J(R,V[Q]))return Q;return-1}function $(R,V){ne(R,0,R.children.length,V,R)}function ne(R,V,J,Q,ee){ee||(ee=he(null)),ee.minX=1/0,ee.minY=1/0,ee.maxX=-1/0,ee.maxY=-1/0;for(var ie=V;ie<J;ie++){var W=R.children[ie];ve(ee,R.leaf?Q(W):W)}return ee}function ve(R,V){return R.minX=Math.min(R.minX,V.minX),R.minY=Math.min(R.minY,V.minY),R.maxX=Math.max(R.maxX,V.maxX),R.maxY=Math.max(R.maxY,V.maxY),R}function Ne(R,V){return R.minX-V.minX}function Re(R,V){return R.minY-V.minY}function ye(R){return(R.maxX-R.minX)*(R.maxY-R.minY)}function _e(R){return R.maxX-R.minX+(R.maxY-R.minY)}function Oe(R,V){return R.minX<=V.minX&&R.minY<=V.minY&&V.maxX<=R.maxX&&V.maxY<=R.maxY}function oe(R,V){return V.minX<=R.maxX&&V.minY<=R.maxY&&V.maxX>=R.minX&&V.maxY>=R.minY}function he(R){return{children:R,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function z(R,V,J,Q,ee){for(var ie=[V,J];ie.length;)if(!((J=ie.pop())-(V=ie.pop())<=Q)){var W=V+Math.ceil((J-V)/Q/2)*Q;w(R,W,V,J,ee),ie.push(V,W,W,J)}}return O.prototype.all=function(){return this._all(this.data,[])},O.prototype.search=function(R){var V=this.data,J=[];if(!oe(R,V))return J;for(var Q=this.toBBox,ee=[];V;){for(var ie=0;ie<V.children.length;ie++){var W=V.children[ie],De=V.leaf?Q(W):W;oe(R,De)&&(V.leaf?J.push(W):Oe(R,De)?this._all(W,J):ee.push(W))}V=ee.pop()}return J},O.prototype.collides=function(R){var V=this.data;if(!oe(R,V))return!1;for(var J=[];V;){for(var Q=0;Q<V.children.length;Q++){var ee=V.children[Q],ie=V.leaf?this.toBBox(ee):ee;if(oe(R,ie)){if(V.leaf||Oe(R,ie))return!0;J.push(ee)}}V=J.pop()}return!1},O.prototype.load=function(R){if(!R||!R.length)return this;if(R.length<this._minEntries){for(var V=0;V<R.length;V++)this.insert(R[V]);return this}var J=this._build(R.slice(),0,R.length-1,0);if(this.data.children.length)if(this.data.height===J.height)this._splitRoot(this.data,J);else{if(this.data.height<J.height){var Q=this.data;this.data=J,J=Q}this._insert(J,this.data.height-J.height-1,!0)}else this.data=J;return this},O.prototype.insert=function(R){return R&&this._insert(R,this.data.height-1),this},O.prototype.clear=function(){return this.data=he([]),this},O.prototype.remove=function(R,V){if(!R)return this;for(var J,Q,ee,ie=this.data,W=this.toBBox(R),De=[],ge=[];ie||De.length;){if(ie||(ie=De.pop(),Q=De[De.length-1],J=ge.pop(),ee=!0),ie.leaf){var Ee=U(R,ie.children,V);if(-1!==Ee)return ie.children.splice(Ee,1),De.push(ie),this._condense(De),this}ee||ie.leaf||!Oe(ie,W)?Q?(J++,ie=Q.children[J],ee=!1):ie=null:(De.push(ie),ge.push(J),J=0,Q=ie,ie=ie.children[0])}return this},O.prototype.toBBox=function(R){return R},O.prototype.compareMinX=function(R,V){return R.minX-V.minX},O.prototype.compareMinY=function(R,V){return R.minY-V.minY},O.prototype.toJSON=function(){return this.data},O.prototype.fromJSON=function(R){return this.data=R,this},O.prototype._all=function(R,V){for(var J=[];R;)R.leaf?V.push.apply(V,R.children):J.push.apply(J,R.children),R=J.pop();return V},O.prototype._build=function(R,V,J,Q){var ee,ie=J-V+1,W=this._maxEntries;if(ie<=W)return $(ee=he(R.slice(V,J+1)),this.toBBox),ee;Q||(Q=Math.ceil(Math.log(ie)/Math.log(W)),W=Math.ceil(ie/Math.pow(W,Q-1))),(ee=he([])).leaf=!1,ee.height=Q;var De=Math.ceil(ie/W),ge=De*Math.ceil(Math.sqrt(W));z(R,V,J,ge,this.compareMinX);for(var Ee=V;Ee<=J;Ee+=ge){var de=Math.min(Ee+ge-1,J);z(R,Ee,de,De,this.compareMinY);for(var Qe=Ee;Qe<=de;Qe+=De){var We=Math.min(Qe+De-1,de);ee.children.push(this._build(R,Qe,We,Q-1))}}return $(ee,this.toBBox),ee},O.prototype._chooseSubtree=function(R,V,J,Q){for(;Q.push(V),!V.leaf&&Q.length-1!==J;){for(var ee=1/0,ie=1/0,W=void 0,De=0;De<V.children.length;De++){var ge=V.children[De],Ee=ye(ge),de=(Qe=R,We=ge,(Math.max(We.maxX,Qe.maxX)-Math.min(We.minX,Qe.minX))*(Math.max(We.maxY,Qe.maxY)-Math.min(We.minY,Qe.minY))-Ee);de<ie?(ie=de,ee=Ee<ee?Ee:ee,W=ge):de===ie&&Ee<ee&&(ee=Ee,W=ge)}V=W||V.children[0]}var Qe,We;return V},O.prototype._insert=function(R,V,J){var Q=J?R:this.toBBox(R),ee=[],ie=this._chooseSubtree(Q,this.data,V,ee);for(ie.children.push(R),ve(ie,Q);V>=0&&ee[V].children.length>this._maxEntries;)this._split(ee,V),V--;this._adjustParentBBoxes(Q,ee,V)},O.prototype._split=function(R,V){var J=R[V],Q=J.children.length,ee=this._minEntries;this._chooseSplitAxis(J,ee,Q);var ie=this._chooseSplitIndex(J,ee,Q),W=he(J.children.splice(ie,J.children.length-ie));W.height=J.height,W.leaf=J.leaf,$(J,this.toBBox),$(W,this.toBBox),V?R[V-1].children.push(W):this._splitRoot(J,W)},O.prototype._splitRoot=function(R,V){this.data=he([R,V]),this.data.height=R.height+1,this.data.leaf=!1,$(this.data,this.toBBox)},O.prototype._chooseSplitIndex=function(R,V,J){for(var Q,ee,ie,W,De,ge,Ee,de=1/0,Qe=1/0,We=V;We<=J-V;We++){var we=ne(R,0,We,this.toBBox),Me=ne(R,We,J,this.toBBox),be=(ee=we,ie=Me,W=Math.max(ee.minX,ie.minX),De=Math.max(ee.minY,ie.minY),ge=Math.min(ee.maxX,ie.maxX),Ee=Math.min(ee.maxY,ie.maxY),Math.max(0,ge-W)*Math.max(0,Ee-De)),Se=ye(we)+ye(Me);be<de?(de=be,Q=We,Qe=Se<Qe?Se:Qe):be===de&&Se<Qe&&(Qe=Se,Q=We)}return Q||J-V},O.prototype._chooseSplitAxis=function(R,V,J){var Q=R.leaf?this.compareMinX:Ne,ee=R.leaf?this.compareMinY:Re;this._allDistMargin(R,V,J,Q)<this._allDistMargin(R,V,J,ee)&&R.children.sort(Q)},O.prototype._allDistMargin=function(R,V,J,Q){R.children.sort(Q);for(var ee=this.toBBox,ie=ne(R,0,V,ee),W=ne(R,J-V,J,ee),De=_e(ie)+_e(W),ge=V;ge<J-V;ge++){var Ee=R.children[ge];ve(ie,R.leaf?ee(Ee):Ee),De+=_e(ie)}for(var de=J-V-1;de>=V;de--){var Qe=R.children[de];ve(W,R.leaf?ee(Qe):Qe),De+=_e(W)}return De},O.prototype._adjustParentBBoxes=function(R,V,J){for(var Q=J;Q>=0;Q--)ve(V[Q],R)},O.prototype._condense=function(R){for(var V=R.length-1,J=void 0;V>=0;V--)0===R[V].children.length?V>0?(J=R[V-1].children).splice(J.indexOf(R[V]),1):this.clear():$(R[V],this.toBBox)},O}()}},Ye={};function fe(F){var w=Ye[F];if(void 0!==w)return w.exports;var x=Ye[F]={id:F,loaded:!1,exports:{}};return ft[F].call(x.exports,x,x.exports,fe),x.loaded=!0,x.exports}fe.n=F=>{var w=F&&F.__esModule?()=>F.default:()=>F;return fe.d(w,{a:w}),w},fe.d=(F,w)=>{for(var x in w)fe.o(w,x)&&!fe.o(F,x)&&Object.defineProperty(F,x,{enumerable:!0,get:w[x]})},fe.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch{if("object"==typeof window)return window}}(),fe.o=(F,w)=>Object.prototype.hasOwnProperty.call(F,w),fe.nmd=F=>(F.paths=[],F.children||(F.children=[]),F),fe(5975)})()},2415:(ft,Ye,fe)=>{"use strict";function F(e){return"function"==typeof e}function w(e){const t=e(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const x=w(e=>function(t){e(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function I(e,n){if(e){const t=e.indexOf(n);0<=t&&e.splice(t,1)}}class O{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const o of t)o.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(F(r))try{r()}catch(o){n=o instanceof x?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{ne(o)}catch(a){n=n??[],a instanceof x?n=[...n,...a.errors]:n.push(a)}}if(n)throw new x(n)}}add(n){var t;if(n&&n!==this)if(this.closed)ne(n);else{if(n instanceof O){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(n)}}_hasParent(n){const{_parentage:t}=this;return t===n||Array.isArray(t)&&t.includes(n)}_addParent(n){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(n),t):t?[t,n]:n}_removeParent(n){const{_parentage:t}=this;t===n?this._parentage=null:Array.isArray(t)&&I(t,n)}remove(n){const{_finalizers:t}=this;t&&I(t,n),n instanceof O&&n._removeParent(this)}}O.EMPTY=(()=>{const e=new O;return e.closed=!0,e})();const U=O.EMPTY;function $(e){return e instanceof O||e&&"closed"in e&&F(e.remove)&&F(e.add)&&F(e.unsubscribe)}function ne(e){F(e)?e():e.unsubscribe()}const ve={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Ne={setTimeout(e,n,...t){const{delegate:r}=Ne;return r?.setTimeout?r.setTimeout(e,n,...t):setTimeout(e,n,...t)},clearTimeout(e){const{delegate:n}=Ne;return(n?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Re(e){Ne.setTimeout(()=>{const{onUnhandledError:n}=ve;if(!n)throw e;n(e)})}function ye(){}const _e=he("C",void 0,void 0);function he(e,n,t){return{kind:e,value:n,error:t}}let z=null;function R(e){if(ve.useDeprecatedSynchronousErrorHandling){const n=!z;if(n&&(z={errorThrown:!1,error:null}),e(),n){const{errorThrown:t,error:r}=z;if(z=null,t)throw r}}else e()}class J extends O{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,$(n)&&n.add(this)):this.destination=de}static create(n,t,r){return new W(n,t,r)}next(n){this.isStopped?Ee(function oe(e){return he("N",e,void 0)}(n),this):this._next(n)}error(n){this.isStopped?Ee(function Oe(e){return he("E",void 0,e)}(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?Ee(_e,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Q=Function.prototype.bind;function ee(e,n){return Q.call(e,n)}class ie{constructor(n){this.partialObserver=n}next(n){const{partialObserver:t}=this;if(t.next)try{t.next(n)}catch(r){De(r)}}error(n){const{partialObserver:t}=this;if(t.error)try{t.error(n)}catch(r){De(r)}else De(n)}complete(){const{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(t){De(t)}}}class W extends J{constructor(n,t,r){let i;if(super(),F(n)||!n)i={next:n??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&ve.useDeprecatedNextContext?(o=Object.create(n),o.unsubscribe=()=>this.unsubscribe(),i={next:n.next&&ee(n.next,o),error:n.error&&ee(n.error,o),complete:n.complete&&ee(n.complete,o)}):i=n}this.destination=new ie(i)}}function De(e){ve.useDeprecatedSynchronousErrorHandling?function V(e){ve.useDeprecatedSynchronousErrorHandling&&z&&(z.errorThrown=!0,z.error=e)}(e):Re(e)}function Ee(e,n){const{onStoppedNotification:t}=ve;t&&Ne.setTimeout(()=>t(e,n))}const de={closed:!0,next:ye,error:function ge(e){throw e},complete:ye},Qe="function"==typeof Symbol&&Symbol.observable||"@@observable";function We(e){return e}function Me(e){return 0===e.length?We:1===e.length?e[0]:function(t){return e.reduce((r,i)=>i(r),t)}}let be=(()=>{class e{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new e;return r.source=this,r.operator=t,r}subscribe(t,r,i){const o=function me(e){return e&&e instanceof J||function Fe(e){return e&&F(e.next)&&F(e.error)&&F(e.complete)}(e)&&$(e)}(t)?t:new W(t,r,i);return R(()=>{const{operator:a,source:u}=this;o.add(a?a.call(o,u):u?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=Se(r))((i,o)=>{const a=new W({next:u=>{try{t(u)}catch(h){o(h),a.unsubscribe()}},error:o,complete:i});this.subscribe(a)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[Qe](){return this}pipe(...t){return Me(t)(this)}toPromise(t){return new(t=Se(t))((r,i)=>{let o;this.subscribe(a=>o=a,a=>i(a),()=>r(o))})}}return e.create=n=>new e(n),e})();function Se(e){var n;return null!==(n=e??ve.Promise)&&void 0!==n?n:Promise}const rt=w(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let qe=(()=>{class e extends be{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new dt(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new rt}next(t){R(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){R(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){R(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:o}=this;return r||i?U:(this.currentObservers=null,o.push(t),new O(()=>{this.currentObservers=null,I(o,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){const t=new be;return t.source=this,t}}return e.create=(n,t)=>new dt(n,t),e})();class dt extends qe{constructor(n,t){super(),this.destination=n,this.source=t}next(n){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,n)}error(n){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,n)}complete(){var n,t;null===(t=null===(n=this.destination)||void 0===n?void 0:n.complete)||void 0===t||t.call(n)}_subscribe(n){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(n))&&void 0!==r?r:U}}class $e extends qe{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const t=super._subscribe(n);return!t.closed&&n.next(this._value),t}getValue(){const{hasError:n,thrownError:t,_value:r}=this;if(n)throw t;return this._throwIfClosed(),r}next(n){super.next(this._value=n)}}function Rt(e){return F(e?.lift)}function Et(e){return n=>{if(Rt(n))return n.lift(function(t){try{return e(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Dt(e,n,t,r,i){return new Ft(e,n,t,r,i)}class Ft extends J{constructor(n,t,r,i,o,a){super(n),this.onFinalize=o,this.shouldUnsubscribe=a,this._next=t?function(u){try{t(u)}catch(h){n.error(h)}}:super._next,this._error=i?function(u){try{i(u)}catch(h){n.error(h)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(u){n.error(u)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(n=this.onFinalize)||void 0===n||n.call(this))}}}function yt(e,n){return Et((t,r)=>{let i=0;t.subscribe(Dt(r,o=>{r.next(e.call(n,o,i++))}))})}function hn(e){return this instanceof hn?(this.v=e,this):new hn(e)}function kn(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=function He(e){var n="function"==typeof Symbol&&Symbol.iterator,t=n&&e[n],r=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=e[o]&&function(a){return new Promise(function(u,h){!function i(o,a,u,h){Promise.resolve(h).then(function(f){o({value:f,done:u})},a)}(u,h,(a=e[o](a)).done,a.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const si=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function fo(e){return F(e?.then)}function Ko(e){return F(e[Qe])}function Ks(e){return Symbol.asyncIterator&&F(e?.[Symbol.asyncIterator])}function tl(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Ol=function du(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Bi(e){return F(e?.[Ol])}function rn(e){return function Bt(e,n,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(e,n||[]),o=[];return i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i;function a(C){r[C]&&(i[C]=function(D){return new Promise(function(q,j){o.push([C,D,q,j])>1||u(C,D)})})}function u(C,D){try{!function h(C){C.value instanceof hn?Promise.resolve(C.value.v).then(f,_):b(o[0][2],C)}(r[C](D))}catch(q){b(o[0][3],q)}}function f(C){u("next",C)}function _(C){u("throw",C)}function b(C,D){C(D),o.shift(),o.length&&u(o[0][0],o[0][1])}}(this,arguments,function*(){const t=e.getReader();try{for(;;){const{value:r,done:i}=yield hn(t.read());if(i)return yield hn(void 0);yield yield hn(r)}}finally{t.releaseLock()}})}function Na(e){return F(e?.getReader)}function ri(e){if(e instanceof be)return e;if(null!=e){if(Ko(e))return function Fn(e){return new be(n=>{const t=e[Qe]();if(F(t.subscribe))return t.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(si(e))return function Qo(e){return new be(n=>{for(let t=0;t<e.length&&!n.closed;t++)n.next(e[t]);n.complete()})}(e);if(fo(e))return function Oo(e){return new be(n=>{e.then(t=>{n.closed||(n.next(t),n.complete())},t=>n.error(t)).then(null,Re)})}(e);if(Ks(e))return Di(e);if(Bi(e))return function bo(e){return new be(n=>{for(const t of e)if(n.next(t),n.closed)return;n.complete()})}(e);if(Na(e))return function Qs(e){return Di(rn(e))}(e)}throw tl(e)}function Di(e){return new be(n=>{(function Ho(e,n){var t,r,i,o;return function re(e,n,t,r){return new(t||(t=Promise))(function(o,a){function u(_){try{f(r.next(_))}catch(b){a(b)}}function h(_){try{f(r.throw(_))}catch(b){a(b)}}function f(_){_.done?o(_.value):function i(o){return o instanceof t?o:new t(function(a){a(o)})}(_.value).then(u,h)}f((r=r.apply(e,n||[])).next())})}(this,void 0,void 0,function*(){try{for(t=kn(e);!(r=yield t.next()).done;)if(n.next(r.value),n.closed)return}catch(a){i={error:a}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}n.complete()})})(e,n).catch(t=>n.error(t))})}function ws(e,n,t,r=0,i=!1){const o=n.schedule(function(){t(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function zi(e,n,t=1/0){return F(n)?zi((r,i)=>yt((o,a)=>n(r,o,i,a))(ri(e(r,i))),t):("number"==typeof n&&(t=n),Et((r,i)=>function jo(e,n,t,r,i,o,a,u){const h=[];let f=0,_=0,b=!1;const C=()=>{b&&!h.length&&!f&&n.complete()},D=j=>f<r?q(j):h.push(j),q=j=>{o&&n.next(j),f++;let ae=!1;ri(t(j,_++)).subscribe(Dt(n,se=>{i?.(se),o?D(se):n.next(se)},()=>{ae=!0},void 0,()=>{if(ae)try{for(f--;h.length&&f<r;){const se=h.shift();a?ws(n,a,()=>q(se)):q(se)}C()}catch(se){n.error(se)}}))};return e.subscribe(Dt(n,D,()=>{b=!0,C()})),()=>{u?.()}}(r,i,e,t)))}function Gr(e=1/0){return zi(We,e)}const Kn=new be(e=>e.complete());function Rs(e){return e&&F(e.schedule)}function vi(e){return e[e.length-1]}function Os(e){return F(vi(e))?e.pop():void 0}function Go(e){return Rs(vi(e))?e.pop():void 0}function Wi(e,n=0){return Et((t,r)=>{t.subscribe(Dt(r,i=>ws(r,e,()=>r.next(i),n),()=>ws(r,e,()=>r.complete(),n),i=>ws(r,e,()=>r.error(i),n)))})}function nl(e,n=0){return Et((t,r)=>{r.add(e.schedule(()=>t.subscribe(r),n))})}function Ba(e,n){if(!e)throw new Error("Iterable cannot be null");return new be(t=>{ws(t,n,()=>{const r=e[Symbol.asyncIterator]();ws(t,n,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function Si(e,n){return n?function oa(e,n){if(null!=e){if(Ko(e))return function rl(e,n){return ri(e).pipe(nl(n),Wi(n))}(e,n);if(si(e))return function qn(e,n){return new be(t=>{let r=0;return n.schedule(function(){r===e.length?t.complete():(t.next(e[r++]),t.closed||this.schedule())})})}(e,n);if(fo(e))return function Js(e,n){return ri(e).pipe(nl(n),Wi(n))}(e,n);if(Ks(e))return Ba(e,n);if(Bi(e))return function Cn(e,n){return new be(t=>{let r;return ws(t,n,()=>{r=e[Ol](),ws(t,n,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(a){return void t.error(a)}o?t.complete():t.next(i)},0,!0)}),()=>F(r?.return)&&r.return()})}(e,n);if(Na(e))return function Do(e,n){return Ba(rn(e),n)}(e,n)}throw tl(e)}(e,n):ri(e)}function zt(...e){const n=Go(e),t=function Jo(e,n){return"number"==typeof vi(e)?e.pop():n}(e,1/0),r=e;return r.length?1===r.length?ri(r[0]):Gr(t)(Si(r,n)):Kn}function Vt(...e){return Si(e,Go(e))}function So(e={}){const{connector:n=(()=>new qe),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=e;return o=>{let a,u,h,f=0,_=!1,b=!1;const C=()=>{u?.unsubscribe(),u=void 0},D=()=>{C(),a=h=void 0,_=b=!1},q=()=>{const j=a;D(),j?.unsubscribe()};return Et((j,ae)=>{f++,!b&&!_&&C();const se=h=h??n();ae.add(()=>{f--,0===f&&!b&&!_&&(u=sa(q,i))}),se.subscribe(ae),!a&&f>0&&(a=new W({next:K=>se.next(K),error:K=>{b=!0,C(),u=sa(D,t,K),se.error(K)},complete:()=>{_=!0,C(),u=sa(D,r),se.complete()}}),ri(j).subscribe(a))})(o)}}function sa(e,n,...t){if(!0===n)return void e();if(!1===n)return;const r=new W({next:()=>{r.unsubscribe(),e()}});return ri(n(...t)).subscribe(r)}function nn(e,n){return Et((t,r)=>{let i=null,o=0,a=!1;const u=()=>a&&!i&&r.complete();t.subscribe(Dt(r,h=>{i?.unsubscribe();let f=0;const _=o++;ri(e(h,_)).subscribe(i=Dt(r,b=>r.next(n?n(h,b,_,f++):b),()=>{i=null,u()}))},()=>{a=!0,u()}))})}function il(e,n=We){return e=e??Nl,Et((t,r)=>{let i,o=!0;t.subscribe(Dt(r,a=>{const u=n(a);(o||!e(i,u))&&(o=!1,i=u,r.next(a))}))})}function Nl(e,n){return e===n}function $n(e){for(let n in e)if(e[n]===$n)return n;throw Error("Could not find renamed property on target object.")}function Wn(e,n){for(const t in n)n.hasOwnProperty(t)&&!e.hasOwnProperty(t)&&(e[t]=n[t])}function rr(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(rr).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const n=e.toString();if(null==n)return""+n;const t=n.indexOf("\n");return-1===t?n:n.substring(0,t)}function aa(e,n){return null==e||""===e?null===n?"":n:null==n||""===n?e:e+" "+n}const ol=$n({__forward_ref__:$n});function st(e){return e.__forward_ref__=st,e.toString=function(){return rr(this())},e}function gn(e){return wo(e)?e():e}function wo(e){return"function"==typeof e&&e.hasOwnProperty(ol)&&e.__forward_ref__===st}function es(e){return e&&!!e.\u0275providers}const Vi="https://g.co/ng/security#xss";class nt extends Error{constructor(n,t){super(function Bn(e,n){return`NG0${Math.abs(e)}${n?": "+n:""}`}(n,t)),this.code=n}}function Zt(e){return"string"==typeof e?e:null==e?"":String(e)}function v(e,n){throw new nt(-201,!1)}function an(e,n){null==e&&function Ot(e,n,t,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${t} ${r} ${n} <=Actual]`))}(n,e,null,"!=")}function gt(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function zn(e){return{providers:e.providers||[],imports:e.imports||[]}}function al(e){return No(e,ts)||No(e,mi)}function No(e,n){return e.hasOwnProperty(n)?e[n]:null}function la(e){return e&&(e.hasOwnProperty(Ns)||e.hasOwnProperty(qt))?e[Ns]:null}const ts=$n({\u0275prov:$n}),Ns=$n({\u0275inj:$n}),mi=$n({ngInjectableDef:$n}),qt=$n({ngInjectorDef:$n});var Qn=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(Qn||{});let ll;function Li(e){const n=ll;return ll=e,n}function Ea(e,n,t){const r=al(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&Qn.Optional?null:void 0!==n?n:void v(rr(e))}const ci=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),ai={},Va="__NG_DI_FLAG__",Fo="ngTempTokenPath",Gn=/\n/gm,mr="__source";let Ma;function Ri(e){const n=Ma;return Ma=e,n}function uc(e,n=Qn.Default){if(void 0===Ma)throw new nt(-203,!1);return null===Ma?Ea(e,void 0,n):Ma.get(e,n&Qn.Optional?null:void 0,n)}function et(e,n=Qn.Default){return(function Ui(){return ll}()||uc)(gn(e),n)}function Mt(e,n=Qn.Default){return et(e,ua(n))}function ua(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Fs(e){const n=[];for(let t=0;t<e.length;t++){const r=gn(e[t]);if(Array.isArray(r)){if(0===r.length)throw new nt(900,!1);let i,o=Qn.Default;for(let a=0;a<r.length;a++){const u=r[a],h=xo(u);"number"==typeof h?-1===h?i=u.token:o|=h:i=u}n.push(et(i,o))}else n.push(et(r))}return n}function Lo(e,n){return e[Va]=n,e.prototype[Va]=n,e}function xo(e){return e[Va]}function ro(e){return{toString:e}.toString()}var ns=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(ns||{}),bi=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(bi||{});const Hi={},Rn=[],xs=$n({\u0275cmp:$n}),Es=$n({\u0275dir:$n}),Bs=$n({\u0275pipe:$n}),ji=$n({\u0275mod:$n}),Da=$n({\u0275fac:$n}),cs=$n({__NG_ELEMENT_ID__:$n}),io=$n({__NG_ENV_ID__:$n});function Sa(e,n,t){let r=e.length;for(;;){const i=e.indexOf(n,t);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){const o=n.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}t=i+1}}function rs(e,n,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const o=t[r++],a=t[r++],u=t[r++];e.setAttribute(n,a,u,o)}else{const o=i,a=t[++r];Ii(o)?e.setProperty(n,o,a):e.setAttribute(n,o,a),r++}}return r}function cc(e){return 3===e||4===e||6===e}function Ii(e){return 64===e.charCodeAt(0)}function Bl(e,n){if(null!==n&&0!==n.length)if(null===e||0===e.length)e=n.slice();else{let t=-1;for(let r=0;r<n.length;r++){const i=n[r];"number"==typeof i?t=i:0===t||ca(e,t,i,null,-1===t||2===t?n[++r]:null)}}return e}function ca(e,n,t,r,i){let o=0,a=e.length;if(-1===n)a=-1;else for(;o<e.length;){const u=e[o++];if("number"==typeof u){if(u===n){a=-1;break}if(u>n){a=o-1;break}}}for(;o<e.length;){const u=e[o];if("number"==typeof u)break;if(u===t){if(null===r)return void(null!==i&&(e[o+1]=i));if(r===e[o+1])return void(e[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==a&&(e.splice(a,0,n),o=a+1),e.splice(o++,0,t),null!==r&&e.splice(o++,0,r),null!==i&&e.splice(o++,0,i)}const El="ng-template";function La(e,n,t){let r=0,i=!0;for(;r<e.length;){let o=e[r++];if("string"==typeof o&&i){const a=e[r++];if(t&&"class"===o&&-1!==Sa(a.toLowerCase(),n,0))return!0}else{if(1===o){for(;r<e.length&&"string"==typeof(o=e[r++]);)if(o.toLowerCase()===n)return!0;return!1}"number"==typeof o&&(i=!1)}}return!1}function zl(e){return 4===e.type&&e.value!==El}function ul(e,n,t){return n===(4!==e.type||t?e.value:El)}function zs(e,n,t){let r=4;const i=e.attrs||[],o=function da(e){for(let n=0;n<e.length;n++)if(cc(e[n]))return n;return e.length}(i);let a=!1;for(let u=0;u<n.length;u++){const h=n[u];if("number"!=typeof h){if(!a)if(4&r){if(r=2|1&r,""!==h&&!ul(e,h,t)||""===h&&1===n.length){if(Kr(r))return!1;a=!0}}else{const f=8&r?h:n[++u];if(8&r&&null!==e.attrs){if(!La(e.attrs,f,t)){if(Kr(r))return!1;a=!0}continue}const b=cl(8&r?"class":h,i,zl(e),t);if(-1===b){if(Kr(r))return!1;a=!0;continue}if(""!==f){let C;C=b>o?"":i[b+1].toLowerCase();const D=8&r?C:null;if(D&&-1!==Sa(D,f,0)||2&r&&f!==C){if(Kr(r))return!1;a=!0}}}}else{if(!a&&!Kr(r)&&!Kr(h))return!1;if(a&&Kr(h))continue;a=!1,r=h|1&r}}return Kr(r)||a}function Kr(e){return 0==(1&e)}function cl(e,n,t,r){if(null===n)return-1;let i=0;if(r||!t){let o=!1;for(;i<n.length;){const a=n[i];if(a===e)return i;if(3===a||6===a)o=!0;else{if(1===a||2===a){let u=n[++i];for(;"string"==typeof u;)u=n[++i];continue}if(4===a)break;if(0===a){i+=4;continue}}i+=o?1:2}return-1}return function hu(e,n){let t=e.indexOf(4);if(t>-1)for(t++;t<e.length;){const r=e[t];if("number"==typeof r)return-1;if(r===n)return t;t++}return-1}(n,e)}function oo(e,n,t=!1){for(let r=0;r<n.length;r++)if(zs(e,n[r],t))return!0;return!1}function dl(e,n){e:for(let t=0;t<n.length;t++){const r=n[t];if(e.length===r.length){for(let i=0;i<e.length;i++)if(e[i]!==r[i])continue e;return!0}}return!1}function Ia(e,n){return e?":not("+n.trim()+")":n}function Vs(e){let n=e[0],t=1,r=2,i="",o=!1;for(;t<e.length;){let a=e[t];if("string"==typeof a)if(2&r){const u=e[++t];i+="["+a+(u.length>0?'="'+u+'"':"")+"]"}else 8&r?i+="."+a:4&r&&(i+=" "+a);else""!==i&&!Kr(a)&&(n+=Ia(o,i),i=""),r=a,o=o||!Kr(r);t++}return""!==i&&(n+=Ia(o,i)),n}function Dn(e){return ro(()=>{const n=fu(e),t={...n,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===ns.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||bi.Emulated,styles:e.styles||Rn,_:null,schemas:e.schemas||null,tView:null,id:""};Hs(t);const r=e.dependencies;return t.directiveDefs=ei(r,!1),t.pipeDefs=ei(r,!0),t.id=function Ha(e){let n=0;const t=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const i of t)n=Math.imul(31,n)+i.charCodeAt(0)<<0;return n+=2147483648,"c"+n}(t),t})}function Ua(e){return fr(e)||gi(e)}function os(e){return null!==e}function wn(e){return ro(()=>({type:e.type,bootstrap:e.bootstrap||Rn,declarations:e.declarations||Rn,imports:e.imports||Rn,exports:e.exports||Rn,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function ss(e,n){if(null==e)return Hi;const t={};for(const r in e)if(e.hasOwnProperty(r)){let i=e[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),t[i]=r,n&&(n[i]=o)}return t}function _t(e){return ro(()=>{const n=fu(e);return Hs(n),n})}function fr(e){return e[xs]||null}function gi(e){return e[Es]||null}function di(e){return e[Bs]||null}function Qr(e,n){const t=e[ji]||null;if(!t&&!0===n)throw new Error(`Type ${rr(e)} does not have '\u0275mod' property.`);return t}function fu(e){const n={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:e.inputs||Hi,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||Rn,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ss(e.inputs,n),outputs:ss(e.outputs)}}function Hs(e){e.features?.forEach(n=>n(e))}function ei(e,n){if(!e)return null;const t=n?di:Ua;return()=>("function"==typeof e?e():e).map(r=>t(r)).filter(os)}const hi=0,Ut=1,En=2,Hn=3,so=4,li=5,$o=6,hl=7,ir=8,ds=9,Pa=10,Ln=11,js=12,Zi=13,Gi=14,Oi=15,c=16,g=17,E=18,k=19,Y=20,le=21,Ue=22,tt=23,at=24,ct=25,bn=1,Vn=2,Pi=7,qi=9,ki=11;function ln(e){return Array.isArray(e)&&"object"==typeof e[bn]}function lo(e){return Array.isArray(e)&&!0===e[bn]}function ja(e){return 0!=(4&e.flags)}function Ds(e){return e.componentOffset>-1}function Po(e){return 1==(1&e.flags)}function ii(e){return!!e.template}function Co(e){return 0!=(512&e[En])}function fs(e,n){return e.hasOwnProperty(Da)?e[Da]:null}let JN=ci.WeakRef??class QN{constructor(n){this.ref=n}deref(){return this.ref}},tF=0,Vl=null,Ip=!1;function Ss(e){const n=Vl;return Vl=e,n}class Rx{constructor(){this.id=tF++,this.ref=function eF(e){return new JN(e)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[n,t]of this.producers){const r=t.producerNode.deref();if(null!=r&&t.atTrackingVersion===this.trackingVersion){if(r.producerPollStatus(t.seenValueVersion))return!0}else this.producers.delete(n),r?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const n=Ip;Ip=!0;try{for(const[t,r]of this.consumers){const i=r.consumerNode.deref();null!=i&&i.trackingVersion===r.atTrackingVersion?i.onConsumerDependencyMayHaveChanged():(this.consumers.delete(t),i?.producers.delete(this.id))}}finally{Ip=n}}producerAccessed(){if(Ip)throw new Error("");if(null===Vl)return;let n=Vl.producers.get(this.id);void 0===n?(n={consumerNode:Vl.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:Vl.trackingVersion},Vl.producers.set(this.id,n),this.consumers.set(Vl.id,n)):(n.seenValueVersion=this.valueVersion,n.atTrackingVersion=Vl.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==Vl?.consumerAllowSignalWrites}producerPollStatus(n){return this.valueVersion!==n||(this.onProducerUpdateValueVersion(),this.valueVersion!==n)}}let Ox=null;const Fx=()=>{};class oF extends Rx{constructor(n,t,r){super(),this.watch=n,this.schedule=t,this.dirty=!1,this.cleanupFn=Fx,this.registerOnCleanup=i=>{this.cleanupFn=i},this.consumerAllowSignalWrites=r}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const n=Ss(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=Fx,this.watch(this.registerOnCleanup)}finally{Ss(n)}}cleanup(){this.cleanupFn()}}class sF{constructor(n,t,r){this.previousValue=n,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function ps(){return Bx}function Bx(e){return e.type.prototype.ngOnChanges&&(e.setInput=lF),aF}function aF(){const e=Vx(this),n=e?.current;if(n){const t=e.previous;if(t===Hi)e.previous=n;else for(let r in n)t[r]=n[r];e.current=null,this.ngOnChanges(n)}}function lF(e,n,t,r){const i=this.declaredInputs[t],o=Vx(e)||function uF(e,n){return e[zx]=n}(e,{previous:Hi,current:null}),a=o.current||(o.current={}),u=o.previous,h=u[i];a[i]=new sF(h&&h.currentValue,n,u===Hi),e[r]=n}ps.ngInherit=!0;const zx="__ngSimpleChanges__";function Vx(e){return e[zx]||null}const Ul=function(e,n,t){};function _o(e){for(;Array.isArray(e);)e=e[hi];return e}function kp(e,n){return _o(n[e])}function Ta(e,n){return _o(n[e.index])}function jx(e,n){return e.data[n]}function Ga(e,n){const t=n[e];return ln(t)?t:t[hi]}function zu(e,n){return null==n?null:e[n]}function Gx(e){e[g]=0}function gF(e){1024&e[En]||(e[En]|=1024,$x(e,1))}function qx(e){1024&e[En]&&(e[En]&=-1025,$x(e,-1))}function $x(e,n){let t=e[Hn];if(null===t)return;t[li]+=n;let r=t;for(t=t[Hn];null!==t&&(1===n&&1===r[li]||-1===n&&0===r[li]);)t[li]+=n,r=t,t=t[Hn]}const Un={lFrame:rE(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Zx(){return Un.bindingsEnabled}function $c(){return null!==Un.skipHydrationRootTNode}function xt(){return Un.lFrame.lView}function ui(){return Un.lFrame.tView}function Wc(e){return Un.lFrame.contextLView=e,e[ir]}function Yc(e){return Un.lFrame.contextLView=null,e}function Gs(){let e=Xx();for(;null!==e&&64===e.type;)e=e.parent;return e}function Xx(){return Un.lFrame.currentTNode}function Hl(e,n){const t=Un.lFrame;t.currentTNode=e,t.isParent=n}function vy(){return Un.lFrame.isParent}function by(){Un.lFrame.isParent=!1}function Zc(){return Un.lFrame.bindingIndex++}function LF(e,n){const t=Un.lFrame;t.bindingIndex=t.bindingRootIndex=e,wy(n)}function wy(e){Un.lFrame.currentDirectiveIndex=e}function xy(e){const n=Un.lFrame.currentDirectiveIndex;return-1===n?null:e[n]}function eE(){return Un.lFrame.currentQueryIndex}function Ey(e){Un.lFrame.currentQueryIndex=e}function PF(e){const n=e[Ut];return 2===n.type?n.declTNode:1===n.type?e[$o]:null}function tE(e,n,t){if(t&Qn.SkipSelf){let i=n,o=e;for(;!(i=i.parent,null!==i||t&Qn.Host||(i=PF(o),null===i||(o=o[Gi],10&i.type))););if(null===i)return!1;n=i,e=o}const r=Un.lFrame=nE();return r.currentTNode=n,r.lView=e,!0}function Cy(e){const n=nE(),t=e[Ut];Un.lFrame=n,n.currentTNode=t.firstChild,n.lView=e,n.tView=t,n.contextLView=e,n.bindingIndex=t.bindingStartIndex,n.inI18n=!1}function nE(){const e=Un.lFrame,n=null===e?null:e.child;return null===n?rE(e):n}function rE(e){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=n),n}function iE(){const e=Un.lFrame;return Un.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const oE=iE;function My(){const e=iE();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function fa(){return Un.lFrame.selectedIndex}function hc(e){Un.lFrame.selectedIndex=e}function To(){const e=Un.lFrame;return jx(e.tView,e.selectedIndex)}let aE=!0;function Ap(){return aE}function Vu(e){aE=e}function Rp(e,n){for(let t=n.directiveStart,r=n.directiveEnd;t<r;t++){const o=e.data[t].type.prototype,{ngAfterContentInit:a,ngAfterContentChecked:u,ngAfterViewInit:h,ngAfterViewChecked:f,ngOnDestroy:_}=o;a&&(e.contentHooks??=[]).push(-t,a),u&&((e.contentHooks??=[]).push(t,u),(e.contentCheckHooks??=[]).push(t,u)),h&&(e.viewHooks??=[]).push(-t,h),f&&((e.viewHooks??=[]).push(t,f),(e.viewCheckHooks??=[]).push(t,f)),null!=_&&(e.destroyHooks??=[]).push(t,_)}}function Op(e,n,t){lE(e,n,3,t)}function Np(e,n,t,r){(3&e[En])===t&&lE(e,n,t,r)}function Dy(e,n){let t=e[En];(3&t)===n&&(t&=8191,t+=1,e[En]=t)}function lE(e,n,t,r){const o=r??-1,a=n.length-1;let u=0;for(let h=void 0!==r?65535&e[g]:0;h<a;h++)if("number"==typeof n[h+1]){if(u=n[h],null!=r&&u>=r)break}else n[h]<0&&(e[g]+=65536),(u<o||-1==o)&&(BF(e,t,n,h),e[g]=(4294901760&e[g])+h+2),h++}function uE(e,n){Ul(4,e,n);const t=Ss(null);try{n.call(e)}finally{Ss(t),Ul(5,e,n)}}function BF(e,n,t,r){const i=t[r]<0,o=t[r+1],u=e[i?-t[r]:t[r]];i?e[En]>>13<e[g]>>16&&(3&e[En])===n&&(e[En]+=8192,uE(u,o)):uE(u,o)}const Xc=-1;class gh{constructor(n,t,r){this.factory=n,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function cE(e){return e!==Xc}function Fp(e){return 32767&e}function Bp(e,n){let t=function HF(e){return e>>16}(e),r=n;for(;t>0;)r=r[Gi],t--;return r}let Ly=!0;function zp(e){const n=Ly;return Ly=e,n}const dE=255,hE=5;let jF=0;const jl={};function Vp(e,n){const t=fE(e,n);if(-1!==t)return t;const r=n[Ut];r.firstCreatePass&&(e.injectorIndex=n.length,Iy(r.data,e),Iy(n,null),Iy(r.blueprint,null));const i=Py(e,n),o=e.injectorIndex;if(cE(i)){const a=Fp(i),u=Bp(i,n),h=u[Ut].data;for(let f=0;f<8;f++)n[o+f]=u[a+f]|h[a+f]}return n[o+8]=i,o}function Iy(e,n){e.push(0,0,0,0,0,0,0,0,n)}function fE(e,n){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===n[e.injectorIndex+8]?-1:e.injectorIndex}function Py(e,n){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let t=0,r=null,i=n;for(;null!==i;){if(r=bE(i),null===r)return Xc;if(t++,i=i[Gi],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return Xc}function Ty(e,n,t){!function GF(e,n,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(cs)&&(r=t[cs]),null==r&&(r=t[cs]=jF++);const i=r&dE;n.data[e+(i>>hE)]|=1<<i}(e,n,t)}function pE(e,n,t){if(t&Qn.Optional||void 0!==e)return e;v()}function mE(e,n,t,r){if(t&Qn.Optional&&void 0===r&&(r=null),!(t&(Qn.Self|Qn.Host))){const i=e[ds],o=Li(void 0);try{return i?i.get(n,r,t&Qn.Optional):Ea(n,r,t&Qn.Optional)}finally{Li(o)}}return pE(r,0,t)}function gE(e,n,t,r=Qn.Default,i){if(null!==e){if(2048&n[En]&&!(r&Qn.Self)){const a=function ZF(e,n,t,r,i){let o=e,a=n;for(;null!==o&&null!==a&&2048&a[En]&&!(512&a[En]);){const u=_E(o,a,t,r|Qn.Self,jl);if(u!==jl)return u;let h=o.parent;if(!h){const f=a[Y];if(f){const _=f.get(t,jl,r);if(_!==jl)return _}h=bE(a),a=a[Gi]}o=h}return i}(e,n,t,r,jl);if(a!==jl)return a}const o=_E(e,n,t,r,jl);if(o!==jl)return o}return mE(n,t,r,i)}function _E(e,n,t,r,i){const o=function WF(e){if("string"==typeof e)return e.charCodeAt(0)||0;const n=e.hasOwnProperty(cs)?e[cs]:void 0;return"number"==typeof n?n>=0?n&dE:YF:n}(t);if("function"==typeof o){if(!tE(n,e,r))return r&Qn.Host?pE(i,0,r):mE(n,t,r,i);try{const a=o(r);if(null!=a||r&Qn.Optional)return a;v()}finally{oE()}}else if("number"==typeof o){let a=null,u=fE(e,n),h=Xc,f=r&Qn.Host?n[Oi][$o]:null;for((-1===u||r&Qn.SkipSelf)&&(h=-1===u?Py(e,n):n[u+8],h!==Xc&&vE(r,!1)?(a=n[Ut],u=Fp(h),n=Bp(h,n)):u=-1);-1!==u;){const _=n[Ut];if(yE(o,u,_.data)){const b=$F(u,n,t,a,r,f);if(b!==jl)return b}h=n[u+8],h!==Xc&&vE(r,n[Ut].data[u+8]===f)&&yE(o,u,n)?(a=_,u=Fp(h),n=Bp(h,n)):u=-1}}return i}function $F(e,n,t,r,i,o){const a=n[Ut],u=a.data[e+8],_=Up(u,a,t,null==r?Ds(u)&&Ly:r!=a&&0!=(3&u.type),i&Qn.Host&&o===u);return null!==_?fc(n,a,_,u):jl}function Up(e,n,t,r,i){const o=e.providerIndexes,a=n.data,u=1048575&o,h=e.directiveStart,_=o>>20,C=i?u+_:e.directiveEnd;for(let D=r?u:u+_;D<C;D++){const q=a[D];if(D<h&&t===q||D>=h&&q.type===t)return D}if(i){const D=a[h];if(D&&ii(D)&&D.type===t)return h}return null}function fc(e,n,t,r){let i=e[t];const o=n.data;if(function zF(e){return e instanceof gh}(i)){const a=i;a.resolving&&function ac(e,n){const t=n?`. Dependency path: ${n.join(" > ")} > ${e}`:"";throw new nt(-200,`Circular dependency in DI detected for ${e}${t}`)}(function qr(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Zt(e)}(o[t]));const u=zp(a.canSeeViewProviders);a.resolving=!0;const h=a.injectImpl?Li(a.injectImpl):null;tE(e,r,Qn.Default);try{i=e[t]=a.factory(void 0,o,e,r),n.firstCreatePass&&t>=r.directiveStart&&function FF(e,n,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=n.type.prototype;if(r){const a=Bx(n);(t.preOrderHooks??=[]).push(e,a),(t.preOrderCheckHooks??=[]).push(e,a)}i&&(t.preOrderHooks??=[]).push(0-e,i),o&&((t.preOrderHooks??=[]).push(e,o),(t.preOrderCheckHooks??=[]).push(e,o))}(t,o[t],n)}finally{null!==h&&Li(h),zp(u),a.resolving=!1,oE()}}return i}function yE(e,n,t){return!!(t[n+(e>>hE)]&1<<e)}function vE(e,n){return!(e&Qn.Self||e&Qn.Host&&n)}class Kc{constructor(n,t){this._tNode=n,this._lView=t}get(n,t,r){return gE(this._tNode,this._lView,n,ua(r),t)}}function YF(){return new Kc(Gs(),xt())}function ni(e){return ro(()=>{const n=e.prototype.constructor,t=n[Da]||ky(n),r=Object.prototype;let i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){const o=i[Da]||ky(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function ky(e){return wo(e)?()=>{const n=ky(gn(e));return n&&n()}:fs(e)}function bE(e){const n=e[Ut],t=n.type;return 2===t?n.declTNode:1===t?e[$o]:null}function pc(e){return function qF(e,n){if("class"===n)return e.classes;if("style"===n)return e.styles;const t=e.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const o=t[i];if(cc(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(o===n)return t[i+1];i+=2}}}return null}(Gs(),e)}const Jc="__parameters__";function td(e,n,t){return ro(()=>{const r=function Ay(e){return function(...t){if(e){const r=e(...t);for(const i in r)this[i]=r[i]}}}(n);function i(...o){if(this instanceof i)return r.apply(this,o),this;const a=new i(...o);return u.annotation=a,u;function u(h,f,_){const b=h.hasOwnProperty(Jc)?h[Jc]:Object.defineProperty(h,Jc,{value:[]})[Jc];for(;b.length<=_;)b.push(null);return(b[_]=b[_]||[]).push(a),h}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}function yh(e,n){e.forEach(t=>Array.isArray(t)?yh(t,n):n(t))}function xE(e,n,t){n>=e.length?e.push(t):e.splice(n,0,t)}function Hp(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}function vh(e,n){const t=[];for(let r=0;r<e;r++)t.push(n);return t}function qa(e,n,t){let r=rd(e,n);return r>=0?e[1|r]=t:(r=~r,function n2(e,n,t,r){let i=e.length;if(i==n)e.push(t,r);else if(1===i)e.push(r,e[0]),e[0]=t;else{for(i--,e.push(e[i-1],e[i]);i>n;)e[i]=e[i-2],i--;e[n]=t,e[n+1]=r}}(e,r,n,t)),r}function Ry(e,n){const t=rd(e,n);if(t>=0)return e[1|t]}function rd(e,n){return function EE(e,n,t){let r=0,i=e.length>>t;for(;i!==r;){const o=r+(i-r>>1),a=e[o<<t];if(n===a)return o<<t;a>n?i=o:r=o+1}return~(i<<t)}(e,n,1)}const mc=Lo(td("Optional"),8),bh=Lo(td("SkipSelf"),4);function Yp(e){return 128==(128&e.flags)}var Uu=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Uu||{});const C2=/^>|^->|<!--|-->|--!>|<!-$/g,M2=/(<|>)/,D2="\u200b$1\u200b";const zy=new Map;let S2=0;const Uy="__ngContext__";function ta(e,n){ln(n)?(e[Uy]=n[k],function I2(e){zy.set(e[k],e)}(n)):e[Uy]=n}let Hy;function jy(e,n){return Hy(e,n)}function Eh(e){const n=e[Hn];return lo(n)?n[Hn]:n}function jE(e){return qE(e[js])}function GE(e){return qE(e[so])}function qE(e){for(;null!==e&&!lo(e);)e=e[so];return e}function sd(e,n,t,r,i){if(null!=r){let o,a=!1;lo(r)?o=r:ln(r)&&(a=!0,r=r[hi]);const u=_o(r);0===e&&null!==t?null==i?XE(n,t,u):gc(n,t,u,i||null,!0):1===e&&null!==t?gc(n,t,u,i||null,!0):2===e?function em(e,n,t){const r=Qp(e,n);r&&function Y2(e,n,t,r){e.removeChild(n,t,r)}(e,r,n,t)}(n,u,a):3===e&&n.destroyNode(u),null!=o&&function K2(e,n,t,r,i){const o=t[Pi];o!==_o(t)&&sd(n,e,r,o,i);for(let u=ki;u<t.length;u++){const h=t[u];Mh(h[Ut],h,e,n,r,o)}}(n,e,o,t,i)}}function Gy(e,n){return e.createComment(function OE(e){return e.replace(C2,n=>n.replace(M2,D2))}(n))}function Kp(e,n,t){return e.createElement(n,t)}function WE(e,n){const t=e[qi],r=t.indexOf(n);qx(n),t.splice(r,1)}function qy(e,n){if(e.length<=ki)return;const t=ki+n,r=e[t];if(r){const i=r[c];null!==i&&i!==e&&WE(i,r),n>0&&(e[t-1][so]=r[so]);const o=Hp(e,ki+n);!function V2(e,n){Mh(e,n,n[Ln],2,null,null),n[hi]=null,n[$o]=null}(r[Ut],r);const a=o[E];null!==a&&a.detachView(o[Ut]),r[Hn]=null,r[so]=null,r[En]&=-129}return r}function YE(e,n){if(!(256&n[En])){const t=n[Ln];n[tt]?.destroy(),n[at]?.destroy(),t.destroyNode&&Mh(e,n,t,3,null,null),function j2(e){let n=e[js];if(!n)return $y(e[Ut],e);for(;n;){let t=null;if(ln(n))t=n[js];else{const r=n[ki];r&&(t=r)}if(!t){for(;n&&!n[so]&&n!==e;)ln(n)&&$y(n[Ut],n),n=n[Hn];null===n&&(n=e),ln(n)&&$y(n[Ut],n),t=n&&n[so]}n=t}}(n)}}function $y(e,n){if(!(256&n[En])){n[En]&=-129,n[En]|=256,function W2(e,n){let t;if(null!=e&&null!=(t=e.destroyHooks))for(let r=0;r<t.length;r+=2){const i=n[t[r]];if(!(i instanceof gh)){const o=t[r+1];if(Array.isArray(o))for(let a=0;a<o.length;a+=2){const u=i[o[a]],h=o[a+1];Ul(4,u,h);try{h.call(u)}finally{Ul(5,u,h)}}else{Ul(4,i,o);try{o.call(i)}finally{Ul(5,i,o)}}}}}(e,n),function $2(e,n){const t=e.cleanup,r=n[hl];if(null!==t)for(let o=0;o<t.length-1;o+=2)if("string"==typeof t[o]){const a=t[o+3];a>=0?r[a]():r[-a].unsubscribe(),o+=2}else t[o].call(r[t[o+1]]);null!==r&&(n[hl]=null);const i=n[le];if(null!==i){n[le]=null;for(let o=0;o<i.length;o++)(0,i[o])()}}(e,n),1===n[Ut].type&&n[Ln].destroy();const t=n[c];if(null!==t&&lo(n[Hn])){t!==n[Hn]&&WE(t,n);const r=n[E];null!==r&&r.detachView(e)}!function P2(e){zy.delete(e[k])}(n)}}function Wy(e,n,t){return function ZE(e,n,t){let r=n;for(;null!==r&&40&r.type;)r=(n=r).parent;if(null===r)return t[hi];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=e.data[r.directiveStart+i];if(o===bi.None||o===bi.Emulated)return null}return Ta(r,t)}}(e,n.parent,t)}function gc(e,n,t,r,i){e.insertBefore(n,t,r,i)}function XE(e,n,t){e.appendChild(n,t)}function KE(e,n,t,r,i){null!==r?gc(e,n,t,r,i):XE(e,n,t)}function Qp(e,n){return e.parentNode(n)}function QE(e,n,t){return eC(e,n,t)}let Yy,tm,Qy,eC=function JE(e,n,t){return 40&e.type?Ta(e,t):null};function Jp(e,n,t,r){const i=Wy(e,r,n),o=n[Ln],u=QE(r.parent||n[$o],r,n);if(null!=i)if(Array.isArray(t))for(let h=0;h<t.length;h++)KE(o,i,t[h],u,!1);else KE(o,i,t,u,!1);void 0!==Yy&&Yy(o,r,n,t,i)}function Ch(e,n){if(null!==n){const t=n.type;if(3&t)return Ta(n,e);if(4&t)return Zy(-1,e[n.index]);if(8&t){const r=n.child;if(null!==r)return Ch(e,r);{const i=e[n.index];return lo(i)?Zy(-1,i):_o(i)}}if(32&t)return jy(n,e)()||_o(e[n.index]);{const r=nC(e,n);return null!==r?Array.isArray(r)?r[0]:Ch(Eh(e[Oi]),r):Ch(e,n.next)}}return null}function nC(e,n){return null!==n?e[Oi][$o].projection[n.projection]:null}function Zy(e,n){const t=ki+e+1;if(t<n.length){const r=n[t],i=r[Ut].firstChild;if(null!==i)return Ch(r,i)}return n[Pi]}function Xy(e,n,t,r,i,o,a){for(;null!=t;){const u=r[t.index],h=t.type;if(a&&0===n&&(u&&ta(_o(u),r),t.flags|=2),32!=(32&t.flags))if(8&h)Xy(e,n,t.child,r,i,o,!1),sd(n,e,i,u,o);else if(32&h){const f=jy(t,r);let _;for(;_=f();)sd(n,e,i,_,o);sd(n,e,i,u,o)}else 16&h?iC(e,n,r,t,i,o):sd(n,e,i,u,o);t=a?t.projectionNext:t.next}}function Mh(e,n,t,r,i,o){Xy(t,r,e.firstChild,n,i,o,!1)}function iC(e,n,t,r,i,o){const a=t[Oi],h=a[$o].projection[r.projection];if(Array.isArray(h))for(let f=0;f<h.length;f++)sd(n,e,i,h[f],o);else{let f=h;const _=a[Hn];Yp(r)&&(f.flags|=128),Xy(e,n,f,_,i,o,!0)}}function oC(e,n,t){""===t?e.removeAttribute(n,"class"):e.setAttribute(n,"class",t)}function sC(e,n,t){const{mergedAttrs:r,classes:i,styles:o}=t;null!==r&&rs(e,n,r),null!==i&&oC(e,n,i),null!==o&&function J2(e,n,t){e.setAttribute(n,"style",t)}(e,n,o)}function ad(e){return function Ky(){if(void 0===tm&&(tm=null,ci.trustedTypes))try{tm=ci.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return tm}()?.createHTML(e)||e}class _c{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Vi})`}}class iB extends _c{getTypeName(){return"HTML"}}class oB extends _c{getTypeName(){return"Style"}}class sB extends _c{getTypeName(){return"Script"}}class aB extends _c{getTypeName(){return"URL"}}class lB extends _c{getTypeName(){return"ResourceURL"}}function $a(e){return e instanceof _c?e.changingThisBreaksApplicationSecurity:e}function Gl(e,n){const t=function uB(e){return e instanceof _c&&e.getTypeName()||null}(e);if(null!=t&&t!==n){if("ResourceURL"===t&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${t} (see ${Vi})`)}return t===n}class mB{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const t=(new window.DOMParser).parseFromString(ad(n),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(n):(t.removeChild(t.firstChild),t)}catch{return null}}}class gB{constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){const t=this.inertDocument.createElement("template");return t.innerHTML=ad(n),t}}const yB=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function rm(e){return(e=String(e)).match(yB)?e:"unsafe:"+e}function gu(e){const n={};for(const t of e.split(","))n[t]=!0;return n}function Sh(...e){const n={};for(const t of e)for(const r in t)t.hasOwnProperty(r)&&(n[r]=!0);return n}const dC=gu("area,br,col,hr,img,wbr"),hC=gu("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),fC=gu("rp,rt"),ev=Sh(dC,Sh(hC,gu("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Sh(fC,gu("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Sh(fC,hC)),tv=gu("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),pC=Sh(tv,gu("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),gu("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),vB=gu("script,style,template");class bB{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let t=n.firstChild,r=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let i=this.checkClobberedElement(t,t.nextSibling);if(i){t=i;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(n){const t=n.nodeName.toLowerCase();if(!ev.hasOwnProperty(t))return this.sanitizedSomething=!0,!vB.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const r=n.attributes;for(let i=0;i<r.length;i++){const o=r.item(i),a=o.name,u=a.toLowerCase();if(!pC.hasOwnProperty(u)){this.sanitizedSomething=!0;continue}let h=o.value;tv[u]&&(h=rm(h)),this.buf.push(" ",a,'="',mC(h),'"')}return this.buf.push(">"),!0}endElement(n){const t=n.nodeName.toLowerCase();ev.hasOwnProperty(t)&&!dC.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(n){this.buf.push(mC(n))}checkClobberedElement(n,t){if(t&&(n.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return t}}const wB=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,xB=/([^\#-~ |!])/g;function mC(e){return e.replace(/&/g,"&amp;").replace(wB,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(xB,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let im;function gC(e,n){let t=null;try{im=im||function cC(e){const n=new gB(e);return function _B(){try{return!!(new window.DOMParser).parseFromString(ad(""),"text/html")}catch{return!1}}()?new mB(n):n}(e);let r=n?String(n):"";t=im.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=t.innerHTML,t=im.getInertBodyElement(r)}while(r!==o);return ad((new bB).sanitizeChildren(nv(t)||t))}finally{if(t){const r=nv(t)||t;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function nv(e){return"content"in e&&function EB(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var qs=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(qs||{});function rv(e){const n=function Lh(){const e=xt();return e&&e[Pa].sanitizer}();return n?n.sanitize(qs.URL,e)||"":Gl(e,"URL")?$a(e):rm(Zt(e))}class St{constructor(n,t){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=gt({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Ih=new St("ENVIRONMENT_INITIALIZER"),vC=new St("INJECTOR",-1),bC=new St("INJECTOR_DEF_TYPES");class wC{get(n,t=ai){if(t===ai){const r=new Error(`NullInjectorError: No provider for ${rr(n)}!`);throw r.name="NullInjectorError",r}return t}}function PB(...e){return{\u0275providers:xC(0,e),\u0275fromNgModule:!0}}function xC(e,...n){const t=[],r=new Set;let i;return yh(n,o=>{const a=o;ov(a,t,[],r)&&(i||=[],i.push(a))}),void 0!==i&&EC(i,t),t}function EC(e,n){for(let t=0;t<e.length;t++){const{providers:i}=e[t];sv(i,o=>{n.push(o)})}}function ov(e,n,t,r){if(!(e=gn(e)))return!1;let i=null,o=la(e);const a=!o&&fr(e);if(o||a){if(a&&!a.standalone)return!1;i=e}else{const h=e.ngModule;if(o=la(h),!o)return!1;i=h}const u=r.has(i);if(a){if(u)return!1;if(r.add(i),a.dependencies){const h="function"==typeof a.dependencies?a.dependencies():a.dependencies;for(const f of h)ov(f,n,t,r)}}else{if(!o)return!1;{if(null!=o.imports&&!u){let f;r.add(i);try{yh(o.imports,_=>{ov(_,n,t,r)&&(f||=[],f.push(_))})}finally{}void 0!==f&&EC(f,n)}if(!u){const f=fs(i)||(()=>new i);n.push({provide:i,useFactory:f,deps:Rn},{provide:bC,useValue:i,multi:!0},{provide:Ih,useValue:()=>et(i),multi:!0})}const h=o.providers;null==h||u||sv(h,_=>{n.push(_)})}}return i!==e&&void 0!==e.providers}function sv(e,n){for(let t of e)es(t)&&(t=t.\u0275providers),Array.isArray(t)?sv(t,n):n(t)}const TB=$n({provide:String,useValue:$n});function av(e){return null!==e&&"object"==typeof e&&TB in e}function yc(e){return"function"==typeof e}const lv=new St("Set Injector scope."),om={},AB={};let uv;function sm(){return void 0===uv&&(uv=new wC),uv}class ql{}class cv extends ql{get destroyed(){return this._destroyed}constructor(n,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,hv(n,a=>this.processProvider(a)),this.records.set(vC,ld(void 0,this)),i.has("environment")&&this.records.set(ql,ld(void 0,this));const o=this.records.get(lv);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(bC.multi,Rn,Qn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const t of n)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const t=Ri(this),r=Li(void 0);try{return n()}finally{Ri(t),Li(r)}}get(n,t=ai,r=Qn.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(io))return n[io](this);r=ua(r);const i=Ri(this),o=Li(void 0);try{if(!(r&Qn.SkipSelf)){let u=this.records.get(n);if(void 0===u){const h=function BB(e){return"function"==typeof e||"object"==typeof e&&e instanceof St}(n)&&al(n);u=h&&this.injectableDefInScope(h)?ld(dv(n),om):null,this.records.set(n,u)}if(null!=u)return this.hydrate(n,u)}return(r&Qn.Self?sm():this.parent).get(n,t=r&Qn.Optional&&t===ai?null:t)}catch(a){if("NullInjectorError"===a.name){if((a[Fo]=a[Fo]||[]).unshift(rr(n)),i)throw a;return function ph(e,n,t,r){const i=e[Fo];throw n[mr]&&i.unshift(n[mr]),e.message=function ea(e,n,t,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let i=rr(n);if(Array.isArray(n))i=n.map(rr).join(" -> ");else if("object"==typeof n){let o=[];for(let a in n)if(n.hasOwnProperty(a)){let u=n[a];o.push(a+":"+("string"==typeof u?JSON.stringify(u):rr(u)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${e.replace(Gn,"\n  ")}`}("\n"+e.message,i,t,r),e.ngTokenPath=i,e[Fo]=null,e}(a,n,"R3InjectorError",this.source)}throw a}finally{Li(o),Ri(i)}}resolveInjectorInitializers(){const n=Ri(this),t=Li(void 0);try{const r=this.get(Ih.multi,Rn,Qn.Self);for(const i of r)i()}finally{Ri(n),Li(t)}}toString(){const n=[],t=this.records;for(const r of t.keys())n.push(rr(r));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new nt(205,!1)}processProvider(n){let t=yc(n=gn(n))?n:gn(n&&n.provide);const r=function OB(e){return av(e)?ld(void 0,e.useValue):ld(DC(e),om)}(n);if(yc(n)||!0!==n.multi)this.records.get(t);else{let i=this.records.get(t);i||(i=ld(void 0,om,!0),i.factory=()=>Fs(i.multi),this.records.set(t,i)),t=n,i.multi.push(n)}this.records.set(t,r)}hydrate(n,t){return t.value===om&&(t.value=AB,t.value=t.factory()),"object"==typeof t.value&&t.value&&function FB(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(n){if(!n.providedIn)return!1;const t=gn(n.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(n){const t=this._onDestroyHooks.indexOf(n);-1!==t&&this._onDestroyHooks.splice(t,1)}}function dv(e){const n=al(e),t=null!==n?n.factory:fs(e);if(null!==t)return t;if(e instanceof St)throw new nt(204,!1);if(e instanceof Function)return function RB(e){const n=e.length;if(n>0)throw vh(n,"?"),new nt(204,!1);const t=function no(e){return e&&(e[ts]||e[mi])||null}(e);return null!==t?()=>t.factory(e):()=>new e}(e);throw new nt(204,!1)}function DC(e,n,t){let r;if(yc(e)){const i=gn(e);return fs(i)||dv(i)}if(av(e))r=()=>gn(e.useValue);else if(function MC(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...Fs(e.deps||[]));else if(function CC(e){return!(!e||!e.useExisting)}(e))r=()=>et(gn(e.useExisting));else{const i=gn(e&&(e.useClass||e.provide));if(!function NB(e){return!!e.deps}(e))return fs(i)||dv(i);r=()=>new i(...Fs(e.deps))}return r}function ld(e,n,t=!1){return{factory:e,value:n,multi:t?[]:void 0}}function hv(e,n){for(const t of e)Array.isArray(t)?hv(t,n):t&&es(t)?hv(t.\u0275providers,n):n(t)}const am=new St("AppId",{providedIn:"root",factory:()=>zB}),zB="ng",SC=new St("Platform Initializer"),Hu=new St("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),_u=new St("AnimationModuleType"),fv=new St("CSP nonce",{providedIn:"root",factory:()=>function Dh(){if(void 0!==Qy)return Qy;if(typeof document<"u")return document;throw new nt(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let IC=(e,n)=>null;function PC(e,n){return IC(e,n)}class YB{}class AC{}class XB{resolveComponentFactory(n){throw function ZB(e){const n=Error(`No component factory found for ${rr(e)}.`);return n.ngComponent=e,n}(n)}}let cd=(()=>{class e{}return e.NULL=new XB,e})();function KB(){return dd(Gs(),xt())}function dd(e,n){return new or(Ta(e,n))}let or=(()=>{class e{constructor(t){this.nativeElement=t}}return e.__NG_ELEMENT_ID__=KB,e})();function QB(e){return e instanceof or?e.nativeElement:e}class kh{}let yu=(()=>{class e{constructor(){this.destroyNode=null}}return e.__NG_ELEMENT_ID__=()=>function JB(){const e=xt(),t=Ga(Gs().index,e);return(ln(t)?t:e)[Ln]}(),e})(),ez=(()=>{class e{}return e.\u0275prov=gt({token:e,providedIn:"root",factory:()=>null}),e})();class vc{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const tz=new vc("16.1.6"),Cv={};function Ah(e){for(;e;){e[En]|=64;const n=Eh(e);if(Co(e)&&!n)return e;e=n}return null}function Mv(e){return e.ngOriginalError}class $l{constructor(){this._console=console}handleError(n){const t=this._findOriginalError(n);this._console.error("ERROR",n),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(n){let t=n&&Mv(n);for(;t&&Mv(t);)t=Mv(t);return t||null}}const FC=new St("",{providedIn:"root",factory:()=>!1});function BC(e){return e.ownerDocument.defaultView}function vu(e){return e instanceof Function?e():e}class jC extends Rx{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(n){this._lView=n}onConsumerDependencyMayHaveChanged(){Ah(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(n,t,r){const i=Ss(this);this.trackingVersion++;try{n(t,r)}finally{Ss(i)}}destroy(){this.trackingVersion++}}let fm=null;function GC(){return fm??=new jC,fm}function qC(e,n){return e[n]??GC()}function $C(e,n){const t=GC();t.hasReadASignal&&(e[n]=fm,t.lView=e,fm=new jC)}const Jn={};function On(e){WC(ui(),xt(),fa()+e,!1)}function WC(e,n,t,r){if(!r)if(3==(3&n[En])){const o=e.preOrderCheckHooks;null!==o&&Op(n,o,t)}else{const o=e.preOrderHooks;null!==o&&Np(n,o,0,t)}hc(t)}function KC(e,n=null,t=null,r){const i=QC(e,n,t,r);return i.resolveInjectorInitializers(),i}function QC(e,n=null,t=null,r,i=new Set){const o=[t||Rn,PB(e)];return r=r||("object"==typeof e?void 0:rr(e)),new cv(o,n||sm(),r||null,i)}let $s=(()=>{class e{static create(t,r){if(Array.isArray(t))return KC({name:""},r,t,"");{const i=t.name??"";return KC({name:i},t.parent,t.providers,i)}}}return e.THROW_IF_NOT_FOUND=ai,e.NULL=new wC,e.\u0275prov=gt({token:e,providedIn:"any",factory:()=>et(vC)}),e.__NG_ELEMENT_ID__=-1,e})();function Be(e,n=Qn.Default){const t=xt();return null===t?et(e,n):gE(Gs(),t,gn(e),n)}function Dv(){throw new Error("invalid")}function pm(e,n,t,r,i,o,a,u,h,f,_){const b=n.blueprint.slice();return b[hi]=i,b[En]=140|r,(null!==f||e&&2048&e[En])&&(b[En]|=2048),Gx(b),b[Hn]=b[Gi]=e,b[ir]=t,b[Pa]=a||e&&e[Pa],b[Ln]=u||e&&e[Ln],b[ds]=h||e&&e[ds]||null,b[$o]=o,b[k]=function L2(){return S2++}(),b[Ue]=_,b[Y]=f,b[Oi]=2==n.type?e[Oi]:b,b}function fd(e,n,t,r,i){let o=e.data[n];if(null===o)o=function Sv(e,n,t,r,i){const o=Xx(),a=vy(),h=e.data[n]=function wz(e,n,t,r,i,o){let a=n?n.injectorIndex:-1,u=0;return $c()&&(u|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:a,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:u,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,a?o:o&&o.parent,t,n,r,i);return null===e.firstChild&&(e.firstChild=h),null!==o&&(a?null==o.child&&null!==h.parent&&(o.child=h):null===o.next&&(o.next=h,h.prev=o)),h}(e,n,t,r,i),function SF(){return Un.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=t,o.value=r,o.attrs=i;const a=function mh(){const e=Un.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}();o.injectorIndex=null===a?-1:a.injectorIndex}return Hl(o,!0),o}function Rh(e,n,t,r){if(0===t)return-1;const i=n.length;for(let o=0;o<t;o++)n.push(r),e.blueprint.push(r),e.data.push(null);return i}function JC(e,n,t,r,i){const o=qC(n,tt),a=fa(),u=2&r;try{if(hc(-1),u&&n.length>ct&&WC(e,n,ct,!1),Ul(u?2:0,i),u)o.runInContext(t,r,i);else{const f=Ss(null);try{t(r,i)}finally{Ss(f)}}}finally{u&&null===n[tt]&&$C(n,tt),hc(a),Ul(u?3:1,i)}}function Lv(e,n,t){if(ja(n)){const r=Ss(null);try{const o=n.directiveEnd;for(let a=n.directiveStart;a<o;a++){const u=e.data[a];u.contentQueries&&u.contentQueries(1,t[a],a)}}finally{Ss(r)}}}function Iv(e,n,t){Zx()&&(function Lz(e,n,t,r){const i=t.directiveStart,o=t.directiveEnd;Ds(t)&&function Oz(e,n,t){const r=Ta(n,e),i=eM(t);let a=16;t.signals?a=4096:t.onPush&&(a=64);const u=mm(e,pm(e,i,null,a,r,n,null,e[Pa].rendererFactory.createRenderer(r,t),null,null,null));e[n.index]=u}(n,t,e.data[i+t.componentOffset]),e.firstCreatePass||Vp(t,n),ta(r,n);const a=t.initialInputs;for(let u=i;u<o;u++){const h=e.data[u],f=fc(n,e,u,t);ta(f,n),null!==a&&Nz(0,u-i,f,h,0,a),ii(h)&&(Ga(t.index,n)[ir]=fc(n,e,u,t))}}(e,n,t,Ta(t,n)),64==(64&t.flags)&&oM(e,n,t))}function Pv(e,n,t=Ta){const r=n.localNames;if(null!==r){let i=n.index+1;for(let o=0;o<r.length;o+=2){const a=r[o+1],u=-1===a?t(n,e):e[a];e[i++]=u}}}function eM(e){const n=e.tView;return null===n||n.incompleteFirstPass?e.tView=Tv(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):n}function Tv(e,n,t,r,i,o,a,u,h,f,_){const b=ct+r,C=b+i,D=function mz(e,n){const t=[];for(let r=0;r<n;r++)t.push(r<e?null:Jn);return t}(b,C),q="function"==typeof f?f():f;return D[Ut]={type:e,blueprint:D,template:t,queries:null,viewQuery:u,declTNode:n,data:D.slice().fill(null,b),bindingStartIndex:b,expandoStartIndex:C,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof a?a():a,firstChild:null,schemas:h,consts:q,incompleteFirstPass:!1,ssrId:_}}let tM=e=>null;function nM(e,n,t,r){for(let i in e)if(e.hasOwnProperty(i)){t=null===t?{}:t;const o=e[i];null===r?rM(t,n,i,o):r.hasOwnProperty(i)&&rM(t,n,r[i],o)}return t}function rM(e,n,t,r){e.hasOwnProperty(t)?e[t].push(n,r):e[t]=[n,r]}function Wa(e,n,t,r,i,o,a,u){const h=Ta(n,t);let _,f=n.inputs;!u&&null!=f&&(_=f[r])?(Nv(e,t,_,r,i),Ds(n)&&function Cz(e,n){const t=Ga(n,e);16&t[En]||(t[En]|=64)}(t,n.index)):3&n.type&&(r=function Ez(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),i=null!=a?a(i,n.value||"",r):i,o.setProperty(h,r,i))}function kv(e,n,t,r){if(Zx()){const i=null===r?null:{"":-1},o=function Pz(e,n){const t=e.directiveRegistry;let r=null,i=null;if(t)for(let o=0;o<t.length;o++){const a=t[o];if(oo(n,a.selectors,!1))if(r||(r=[]),ii(a))if(null!==a.findHostDirectiveDefs){const u=[];i=i||new Map,a.findHostDirectiveDefs(a,u,i),r.unshift(...u,a),Av(e,n,u.length)}else r.unshift(a),Av(e,n,0);else i=i||new Map,a.findHostDirectiveDefs?.(a,r,i),r.push(a)}return null===r?null:[r,i]}(e,t);let a,u;null===o?a=u=null:[a,u]=o,null!==a&&iM(e,n,t,a,i,u),i&&function Tz(e,n,t){if(n){const r=e.localNames=[];for(let i=0;i<n.length;i+=2){const o=t[n[i+1]];if(null==o)throw new nt(-301,!1);r.push(n[i],o)}}}(t,r,i)}t.mergedAttrs=Bl(t.mergedAttrs,t.attrs)}function iM(e,n,t,r,i,o){for(let f=0;f<r.length;f++)Ty(Vp(t,n),e,r[f].type);!function Az(e,n,t){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+t,e.providerIndexes=n}(t,e.data.length,r.length);for(let f=0;f<r.length;f++){const _=r[f];_.providersResolver&&_.providersResolver(_)}let a=!1,u=!1,h=Rh(e,n,r.length,null);for(let f=0;f<r.length;f++){const _=r[f];t.mergedAttrs=Bl(t.mergedAttrs,_.hostAttrs),Rz(e,t,n,h,_),kz(h,_,i),null!==_.contentQueries&&(t.flags|=4),(null!==_.hostBindings||null!==_.hostAttrs||0!==_.hostVars)&&(t.flags|=64);const b=_.type.prototype;!a&&(b.ngOnChanges||b.ngOnInit||b.ngDoCheck)&&((e.preOrderHooks??=[]).push(t.index),a=!0),!u&&(b.ngOnChanges||b.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(t.index),u=!0),h++}!function xz(e,n,t){const i=n.directiveEnd,o=e.data,a=n.attrs,u=[];let h=null,f=null;for(let _=n.directiveStart;_<i;_++){const b=o[_],C=t?t.get(b):null,q=C?C.outputs:null;h=nM(b.inputs,_,h,C?C.inputs:null),f=nM(b.outputs,_,f,q);const j=null===h||null===a||zl(n)?null:Fz(h,_,a);u.push(j)}null!==h&&(h.hasOwnProperty("class")&&(n.flags|=8),h.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=u,n.inputs=h,n.outputs=f}(e,t,o)}function oM(e,n,t){const r=t.directiveStart,i=t.directiveEnd,o=t.index,a=function IF(){return Un.lFrame.currentDirectiveIndex}();try{hc(o);for(let u=r;u<i;u++){const h=e.data[u],f=n[u];wy(u),(null!==h.hostBindings||0!==h.hostVars||null!==h.hostAttrs)&&Iz(h,f)}}finally{hc(-1),wy(a)}}function Iz(e,n){null!==e.hostBindings&&e.hostBindings(1,n)}function Av(e,n,t){n.componentOffset=t,(e.components??=[]).push(n.index)}function kz(e,n,t){if(t){if(n.exportAs)for(let r=0;r<n.exportAs.length;r++)t[n.exportAs[r]]=e;ii(n)&&(t[""]=e)}}function Rz(e,n,t,r,i){e.data[r]=i;const o=i.factory||(i.factory=fs(i.type)),a=new gh(o,ii(i),Be);e.blueprint[r]=a,t[r]=a,function Dz(e,n,t,r,i){const o=i.hostBindings;if(o){let a=e.hostBindingOpCodes;null===a&&(a=e.hostBindingOpCodes=[]);const u=~n.index;(function Sz(e){let n=e.length;for(;n>0;){const t=e[--n];if("number"==typeof t&&t<0)return t}return 0})(a)!=u&&a.push(u),a.push(t,r,o)}}(e,n,r,Rh(e,t,i.hostVars,Jn),i)}function Wl(e,n,t,r,i,o){const a=Ta(e,n);!function Rv(e,n,t,r,i,o,a){if(null==o)e.removeAttribute(n,i,t);else{const u=null==a?Zt(o):a(o,r||"",i);e.setAttribute(n,i,u,t)}}(n[Ln],a,o,e.value,t,r,i)}function Nz(e,n,t,r,i,o){const a=o[n];if(null!==a)for(let u=0;u<a.length;)sM(r,t,a[u++],a[u++],a[u++])}function sM(e,n,t,r,i){const o=Ss(null);try{const a=e.inputTransforms;null!==a&&a.hasOwnProperty(r)&&(i=a[r].call(n,i)),null!==e.setInput?e.setInput(n,i,t,r):n[r]=i}finally{Ss(o)}}function Fz(e,n,t){let r=null,i=0;for(;i<t.length;){const o=t[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(e.hasOwnProperty(o)){null===r&&(r=[]);const a=e[o];for(let u=0;u<a.length;u+=2)if(a[u]===n){r.push(o,a[u+1],t[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function aM(e,n,t,r){return[e,!0,!1,n,null,0,r,t,null,null,null]}function lM(e,n){const t=e.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const o=t[r+1];if(-1!==o){const a=e.data[o];Ey(t[r]),a.contentQueries(2,n[o],o)}}}function mm(e,n){return e[js]?e[Zi][so]=n:e[js]=n,e[Zi]=n,n}function Ov(e,n,t){Ey(0);const r=Ss(null);try{n(e,t)}finally{Ss(r)}}function uM(e){return e[hl]||(e[hl]=[])}function cM(e){return e.cleanup||(e.cleanup=[])}function dM(e,n,t){return(null===e||ii(e))&&(t=function dF(e){for(;Array.isArray(e);){if("object"==typeof e[bn])return e;e=e[hi]}return null}(t[n.index])),t[Ln]}function hM(e,n){const t=e[ds],r=t?t.get($l,null):null;r&&r.handleError(n)}function Nv(e,n,t,r,i){for(let o=0;o<t.length;){const a=t[o++],u=t[o++];sM(e.data[a],n[a],r,u,i)}}function Bz(e,n){const t=Ga(n,e),r=t[Ut];!function zz(e,n){for(let t=n.length;t<e.blueprint.length;t++)n.push(e.blueprint[t])}(r,t);const i=t[hi];null!==i&&null===t[Ue]&&(t[Ue]=PC(i,t[ds])),Fv(r,t,t[ir])}function Fv(e,n,t){Cy(n);try{const r=e.viewQuery;null!==r&&Ov(1,r,t);const i=e.template;null!==i&&JC(e,n,i,1,t),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&lM(e,n),e.staticViewQueries&&Ov(2,e.viewQuery,t);const o=e.components;null!==o&&function Vz(e,n){for(let t=0;t<n.length;t++)Bz(e,n[t])}(n,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{n[En]&=-5,My()}}let fM=(()=>{class e{constructor(){this.all=new Set,this.queue=new Map}create(t,r,i){const o=typeof Zone>"u"?null:Zone.current,a=new oF(t,f=>{this.all.has(f)&&this.queue.set(f,o)},i);let u;this.all.add(a),a.notify();const h=()=>{a.cleanup(),u?.(),this.all.delete(a),this.queue.delete(a)};return u=r?.onDestroy(h),{destroy:h}}flush(){if(0!==this.queue.size)for(const[t,r]of this.queue)this.queue.delete(t),r?r.run(()=>t.run()):t.run()}get isQueueEmpty(){return 0===this.queue.size}}return e.\u0275prov=gt({token:e,providedIn:"root",factory:()=>new e}),e})();function gm(e,n,t){let r=t?e.styles:null,i=t?e.classes:null,o=0;if(null!==n)for(let a=0;a<n.length;a++){const u=n[a];"number"==typeof u?o=u:1==o?i=aa(i,u):2==o&&(r=aa(r,u+": "+n[++a]+";"))}t?e.styles=r:e.stylesWithoutHost=r,t?e.classes=i:e.classesWithoutHost=i}function Oh(e,n,t,r,i=!1){for(;null!==t;){const o=n[t.index];if(null!==o&&r.push(_o(o)),lo(o)){for(let u=ki;u<o.length;u++){const h=o[u],f=h[Ut].firstChild;null!==f&&Oh(h[Ut],h,f,r)}o[Pi]!==o[hi]&&r.push(o[Pi])}const a=t.type;if(8&a)Oh(e,n,t.child,r);else if(32&a){const u=jy(t,n);let h;for(;h=u();)r.push(h)}else if(16&a){const u=nC(n,t);if(Array.isArray(u))r.push(...u);else{const h=Eh(n[Oi]);Oh(h[Ut],h,u,r,!0)}}t=i?t.projectionNext:t.next}return r}function _m(e,n,t,r=!0){const i=n[Pa].rendererFactory;i.begin&&i.begin();try{pM(e,n,e.template,t)}catch(a){throw r&&hM(n,a),a}finally{i.end&&i.end(),n[Pa].effectManager?.flush()}}function pM(e,n,t,r){const i=n[En];if(256!=(256&i)){n[Pa].effectManager?.flush(),Cy(n);try{Gx(n),function Qx(e){return Un.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==t&&JC(e,n,t,2,r);const a=3==(3&i);if(a){const f=e.preOrderCheckHooks;null!==f&&Op(n,f,null)}else{const f=e.preOrderHooks;null!==f&&Np(n,f,0,null),Dy(n,0)}if(function qz(e){for(let n=jE(e);null!==n;n=GE(n)){if(!n[Vn])continue;const t=n[qi];for(let r=0;r<t.length;r++){gF(t[r])}}}(n),mM(n,2),null!==e.contentQueries&&lM(e,n),a){const f=e.contentCheckHooks;null!==f&&Op(n,f)}else{const f=e.contentHooks;null!==f&&Np(n,f,1),Dy(n,1)}!function pz(e,n){const t=e.hostBindingOpCodes;if(null===t)return;const r=qC(n,at);try{for(let i=0;i<t.length;i++){const o=t[i];if(o<0)hc(~o);else{const a=o,u=t[++i],h=t[++i];LF(u,a),r.runInContext(h,2,n[a])}}}finally{null===n[at]&&$C(n,at),hc(-1)}}(e,n);const u=e.components;null!==u&&_M(n,u,0);const h=e.viewQuery;if(null!==h&&Ov(2,h,r),a){const f=e.viewCheckHooks;null!==f&&Op(n,f)}else{const f=e.viewHooks;null!==f&&Np(n,f,2),Dy(n,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),n[En]&=-73,qx(n)}finally{My()}}}function mM(e,n){for(let t=jE(e);null!==t;t=GE(t))for(let r=ki;r<t.length;r++)gM(t[r],n)}function $z(e,n,t){gM(Ga(n,e),t)}function gM(e,n){if(!function pF(e){return 128==(128&e[En])}(e))return;const t=e[Ut];if(80&e[En]&&0===n||1024&e[En]||2===n)pM(t,e,t.template,e[ir]);else if(e[li]>0){mM(e,1);const i=e[Ut].components;null!==i&&_M(e,i,1)}}function _M(e,n,t){for(let r=0;r<n.length;r++)$z(e,n[r],t)}class Nh{get rootNodes(){const n=this._lView,t=n[Ut];return Oh(t,n,t.firstChild,[])}constructor(n,t){this._lView=n,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ir]}set context(n){this._lView[ir]=n}get destroyed(){return 256==(256&this._lView[En])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[Hn];if(lo(n)){const t=n[8],r=t?t.indexOf(this):-1;r>-1&&(qy(n,r),Hp(t,r))}this._attachedToViewContainer=!1}YE(this._lView[Ut],this._lView)}onDestroy(n){!function Wx(e,n){if(256==(256&e[En]))throw new nt(911,!1);null===e[le]&&(e[le]=[]),e[le].push(n)}(this._lView,n)}markForCheck(){Ah(this._cdRefInjectingView||this._lView)}detach(){this._lView[En]&=-129}reattach(){this._lView[En]|=128}detectChanges(){_m(this._lView[Ut],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new nt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function H2(e,n){Mh(e,n,n[Ln],2,null,null)}(this._lView[Ut],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new nt(902,!1);this._appRef=n}}class Wz extends Nh{constructor(n){super(n),this._view=n}detectChanges(){const n=this._view;_m(n[Ut],n,n[ir],!1)}checkNoChanges(){}get context(){return null}}class yM extends cd{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const t=fr(n);return new Fh(t,this.ngModule)}}function vM(e){const n=[];for(let t in e)e.hasOwnProperty(t)&&n.push({propName:e[t],templateName:t});return n}class Zz{constructor(n,t){this.injector=n,this.parentInjector=t}get(n,t,r){r=ua(r);const i=this.injector.get(n,Cv,r);return i!==Cv||t===Cv?i:this.parentInjector.get(n,t,r)}}class Fh extends AC{get inputs(){const n=this.componentDef,t=n.inputTransforms,r=vM(n.inputs);if(null!==t)for(const i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return vM(this.componentDef.outputs)}constructor(n,t){super(),this.componentDef=n,this.ngModule=t,this.componentType=n.type,this.selector=function Eo(e){return e.map(Vs).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!t}create(n,t,r,i){let o=(i=i||this.ngModule)instanceof ql?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const a=o?new Zz(n,o):n,u=a.get(kh,null);if(null===u)throw new nt(407,!1);const _={rendererFactory:u,sanitizer:a.get(ez,null),effectManager:a.get(fM,null)},b=u.createRenderer(null,this.componentDef),C=this.componentDef.selectors[0][0]||"div",D=r?function gz(e,n,t,r){const o=r.get(FC,!1)||t===bi.ShadowDom,a=e.selectRootElement(n,o);return function _z(e){tM(e)}(a),a}(b,r,this.componentDef.encapsulation,a):Kp(b,C,function Yz(e){const n=e.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(C)),ae=this.componentDef.signals?4608:this.componentDef.onPush?576:528,se=Tv(0,null,null,1,0,null,null,null,null,null,null),K=pm(null,se,null,ae,null,null,_,b,a,null,null);let ce,Le;Cy(K);try{const Ae=this.componentDef;let Ze,Ke=null;Ae.findHostDirectiveDefs?(Ze=[],Ke=new Map,Ae.findHostDirectiveDefs(Ae,Ze,Ke),Ze.push(Ae)):Ze=[Ae];const it=function Kz(e,n){const t=e[Ut],r=ct;return e[r]=n,fd(t,r,2,"#host",null)}(K,D),ke=function Qz(e,n,t,r,i,o,a){const u=i[Ut];!function Jz(e,n,t,r){for(const i of e)n.mergedAttrs=Bl(n.mergedAttrs,i.hostAttrs);null!==n.mergedAttrs&&(gm(n,n.mergedAttrs,!0),null!==t&&sC(r,t,n))}(r,e,n,a);let h=null;null!==n&&(h=PC(n,i[ds]));const f=o.rendererFactory.createRenderer(n,t);let _=16;t.signals?_=4096:t.onPush&&(_=64);const b=pm(i,eM(t),null,_,i[e.index],e,o,f,null,null,h);return u.firstCreatePass&&Av(u,e,r.length-1),mm(i,b),i[e.index]=b}(it,D,Ae,Ze,K,_,b);Le=jx(se,ct),D&&function t3(e,n,t,r){if(r)rs(e,t,["ng-version",tz.full]);else{const{attrs:i,classes:o}=function Cs(e){const n=[],t=[];let r=1,i=2;for(;r<e.length;){let o=e[r];if("string"==typeof o)2===i?""!==o&&n.push(o,e[++r]):8===i&&t.push(o);else{if(!Kr(i))break;i=o}r++}return{attrs:n,classes:t}}(n.selectors[0]);i&&rs(e,t,i),o&&o.length>0&&oC(e,t,o.join(" "))}}(b,Ae,D,r),void 0!==t&&function n3(e,n,t){const r=e.projection=[];for(let i=0;i<n.length;i++){const o=t[i];r.push(null!=o?Array.from(o):null)}}(Le,this.ngContentSelectors,t),ce=function e3(e,n,t,r,i,o){const a=Gs(),u=i[Ut],h=Ta(a,i);iM(u,i,a,t,null,r);for(let _=0;_<t.length;_++)ta(fc(i,u,a.directiveStart+_,a),i);oM(u,i,a),h&&ta(h,i);const f=fc(i,u,a.directiveStart+a.componentOffset,a);if(e[ir]=i[ir]=f,null!==o)for(const _ of o)_(f,n);return Lv(u,a,e),f}(ke,Ae,Ze,Ke,K,[r3]),Fv(se,K,null)}finally{My()}return new Xz(this.componentType,ce,dd(Le,K),K,Le)}}class Xz extends YB{constructor(n,t,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new Wz(i),this.componentType=n}setInput(n,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),t))return;const o=this._rootLView;Nv(o[Ut],o,i,n,t),this.previousInputValues.set(n,t),Ah(Ga(this._tNode.index,o))}}get injector(){return new Kc(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function r3(){const e=Gs();Rp(xt()[Ut],e)}function cn(e){let n=function bM(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),t=!0;const r=[e];for(;n;){let i;if(ii(e))i=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new nt(903,!1);i=n.\u0275dir}if(i){if(t){r.push(i);const a=e;a.inputs=ym(e.inputs),a.inputTransforms=ym(e.inputTransforms),a.declaredInputs=ym(e.declaredInputs),a.outputs=ym(e.outputs);const u=i.hostBindings;u&&l3(e,u);const h=i.viewQuery,f=i.contentQueries;if(h&&s3(e,h),f&&a3(e,f),Wn(e.inputs,i.inputs),Wn(e.declaredInputs,i.declaredInputs),Wn(e.outputs,i.outputs),null!==i.inputTransforms&&(null===a.inputTransforms&&(a.inputTransforms={}),Wn(a.inputTransforms,i.inputTransforms)),ii(i)&&i.data.animation){const _=e.data;_.animation=(_.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let a=0;a<o.length;a++){const u=o[a];u&&u.ngInherit&&u(e),u===cn&&(t=!1)}}n=Object.getPrototypeOf(n)}!function o3(e){let n=0,t=null;for(let r=e.length-1;r>=0;r--){const i=e[r];i.hostVars=n+=i.hostVars,i.hostAttrs=Bl(i.hostAttrs,t=Bl(t,i.hostAttrs))}}(r)}function ym(e){return e===Hi?{}:e===Rn?[]:e}function s3(e,n){const t=e.viewQuery;e.viewQuery=t?(r,i)=>{n(r,i),t(r,i)}:n}function a3(e,n){const t=e.contentQueries;e.contentQueries=t?(r,i,o)=>{n(r,i,o),t(r,i,o)}:n}function l3(e,n){const t=e.hostBindings;e.hostBindings=t?(r,i)=>{n(r,i),t(r,i)}:n}function vm(e){return!!Bv(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function Bv(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function na(e,n,t){return!Object.is(e[n],t)&&(e[n]=t,!0)}function gs(e,n,t,r){const i=xt();return na(i,Zc(),n)&&(ui(),Wl(To(),i,e,n,t,r)),gs}function Yn(e,n,t,r,i,o,a,u){const h=xt(),f=ui(),_=e+ct,b=f.firstCreatePass?function A3(e,n,t,r,i,o,a,u,h){const f=n.consts,_=fd(n,e,4,a||null,zu(f,u));kv(n,t,_,zu(f,h)),Rp(n,_);const b=_.tView=Tv(2,_,r,i,o,n.directiveRegistry,n.pipeRegistry,null,n.schemas,f,null);return null!==n.queries&&(n.queries.template(n,_),b.queries=n.queries.embeddedTView(_)),_}(_,f,h,n,t,r,i,o,a):f.data[_];Hl(b,!1);const C=FM(f,h,b,e);Ap()&&Jp(f,h,C,b),ta(C,h),mm(h,h[_]=aM(C,h,C,b)),Po(b)&&Iv(f,h,b),null!=a&&Pv(h,b,u)}let FM=function BM(e,n,t,r){return Vu(!0),n[Ln].createComment("")};function Gv(e){return function qc(e,n){return e[n]}(function DF(){return Un.lFrame.contextLView}(),ct+e)}function er(e,n,t){const r=xt();return na(r,Zc(),n)&&Wa(ui(),To(),r,e,n,r[Ln],t,!1),er}function qv(e,n,t,r,i){const a=i?"class":"style";Nv(e,t,n.inputs[a],a,r)}function Wt(e,n,t,r){const i=xt(),o=ui(),a=ct+e,u=i[Ln],h=o.firstCreatePass?function F3(e,n,t,r,i,o){const a=n.consts,h=fd(n,e,2,r,zu(a,i));return kv(n,t,h,zu(a,o)),null!==h.attrs&&gm(h,h.attrs,!1),null!==h.mergedAttrs&&gm(h,h.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,h),h}(a,o,i,n,t,r):o.data[a],f=zM(o,i,h,u,n,e);i[a]=f;const _=Po(h);return Hl(h,!0),sC(u,f,h),32!=(32&h.flags)&&Ap()&&Jp(o,i,f,h),0===function yF(){return Un.lFrame.elementDepthCount}()&&ta(f,i),function vF(){Un.lFrame.elementDepthCount++}(),_&&(Iv(o,i,h),Lv(o,h,i)),null!==r&&Pv(i,h),Wt}function en(){let e=Gs();vy()?by():(e=e.parent,Hl(e,!1));const n=e;(function wF(e){return Un.skipHydrationRootTNode===e})(n)&&function MF(){Un.skipHydrationRootTNode=null}(),function bF(){Un.lFrame.elementDepthCount--}();const t=ui();return t.firstCreatePass&&(Rp(t,e),ja(e)&&t.queries.elementEnd(e)),null!=n.classesWithoutHost&&function VF(e){return 0!=(8&e.flags)}(n)&&qv(t,n,xt(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function UF(e){return 0!=(16&e.flags)}(n)&&qv(t,n,xt(),n.stylesWithoutHost,!1),en}function Ni(e,n,t,r){return Wt(e,n,t,r),en(),Ni}let zM=(e,n,t,r,i,o)=>(Vu(!0),Kp(r,i,function sE(){return Un.lFrame.currentNamespace}()));function Zl(e,n,t){const r=xt(),i=ui(),o=e+ct,a=i.firstCreatePass?function V3(e,n,t,r,i){const o=n.consts,a=zu(o,r),u=fd(n,e,8,"ng-container",a);return null!==a&&gm(u,a,!0),kv(n,t,u,zu(o,i)),null!==n.queries&&n.queries.elementStart(n,u),u}(o,i,r,n,t):i.data[o];Hl(a,!0);const u=VM(i,r,a,e);return r[o]=u,Ap()&&Jp(i,r,u,a),ta(u,r),Po(a)&&(Iv(i,r,a),Lv(i,a,r)),null!=t&&Pv(r,a),Zl}function Xl(){let e=Gs();const n=ui();return vy()?by():(e=e.parent,Hl(e,!1)),n.firstCreatePass&&(Rp(n,e),ja(e)&&n.queries.elementEnd(e)),Xl}function Kl(e,n,t){return Zl(e,n,t),Xl(),Kl}let VM=(e,n,t,r)=>(Vu(!0),Gy(n[Ln],""));function Hh(){return xt()}function jh(e){return!!e&&"function"==typeof e.then}function UM(e){return!!e&&"function"==typeof e.subscribe}function Ai(e,n,t,r){const i=xt(),o=ui(),a=Gs();return HM(o,i,i[Ln],a,e,n,r),Ai}function Cm(e,n){const t=Gs(),r=xt(),i=ui();return HM(i,r,dM(xy(i.data),t,r),t,e,n),Cm}function HM(e,n,t,r,i,o,a){const u=Po(r),f=e.firstCreatePass&&cM(e),_=n[ir],b=uM(n);let C=!0;if(3&r.type||a){const j=Ta(r,n),ae=a?a(j):j,se=b.length,K=a?Le=>a(_o(Le[r.index])):r.index;let ce=null;if(!a&&u&&(ce=function j3(e,n,t,r){const i=e.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const a=i[o];if(a===t&&i[o+1]===r){const u=n[hl],h=i[o+2];return u.length>h?u[h]:null}"string"==typeof a&&(o+=2)}return null}(e,n,i,r.index)),null!==ce)(ce.__ngLastListenerFn__||ce).__ngNextListenerFn__=o,ce.__ngLastListenerFn__=o,C=!1;else{o=GM(r,n,_,o,!1);const Le=t.listen(ae,i,o);b.push(o,Le),f&&f.push(i,K,se,se+1)}}else o=GM(r,n,_,o,!1);const D=r.outputs;let q;if(C&&null!==D&&(q=D[i])){const j=q.length;if(j)for(let ae=0;ae<j;ae+=2){const Ae=n[q[ae]][q[ae+1]].subscribe(o),Ze=b.length;b.push(o,Ae),f&&f.push(i,r.index,Ze,-(Ze+1))}}}function jM(e,n,t,r){try{return Ul(6,n,t),!1!==t(r)}catch(i){return hM(e,i),!1}finally{Ul(7,n,t)}}function GM(e,n,t,r,i){return function o(a){if(a===Function)return r;Ah(e.componentOffset>-1?Ga(e.index,n):n);let h=jM(n,t,r,a),f=o.__ngNextListenerFn__;for(;f;)h=jM(n,t,f,a)&&h,f=f.__ngNextListenerFn__;return i&&!1===h&&a.preventDefault(),h}}function yo(e=1){return function TF(e){return(Un.lFrame.contextLView=function kF(e,n){for(;e>0;)n=n[Gi],e--;return n}(e,Un.lFrame.contextLView))[ir]}(e)}function G3(e,n){let t=null;const r=function is(e){const n=e.attrs;if(null!=n){const t=n.indexOf(5);if(!(1&t))return n[t+1]}return null}(e);for(let i=0;i<n.length;i++){const o=n[i];if("*"!==o){if(null===r?oo(e,o,!0):dl(r,o))return i}else t=i}return t}function Ls(e){const n=xt()[Oi][$o];if(!n.projection){const r=n.projection=vh(e?e.length:1,null),i=r.slice();let o=n.child;for(;null!==o;){const a=e?G3(o,e):0;null!==a&&(i[a]?i[a].projectionNext=o:r[a]=o,i[a]=o),o=o.next}}}function _r(e,n=0,t){const r=xt(),i=ui(),o=fd(i,ct+e,16,null,t||null);null===o.projection&&(o.projection=n),by(),(!r[Ue]||$c())&&32!=(32&o.flags)&&function X2(e,n,t){iC(n[Ln],0,n,t,Wy(e,t,n),QE(t.parent||n[$o],t,n))}(i,r,o)}function Mm(e,n){return e<<17|n<<2}function ju(e){return e>>17&32767}function Wv(e){return 2|e}function wc(e){return(131068&e)>>2}function Yv(e,n){return-131069&e|n<<2}function Zv(e){return 1|e}function eD(e,n,t,r,i){const o=e[t+1],a=null===n;let u=r?ju(o):wc(o),h=!1;for(;0!==u&&(!1===h||a);){const _=e[u+1];X3(e[u],n)&&(h=!0,e[u+1]=r?Zv(_):Wv(_)),u=r?ju(_):wc(_)}h&&(e[t+1]=r?Wv(o):Zv(o))}function X3(e,n){return null===e||null==n||(Array.isArray(e)?e[1]:e)===n||!(!Array.isArray(e)||"string"!=typeof n)&&rd(e,n)>=0}function wu(e,n,t){return Ml(e,n,t,!1),wu}function Xi(e,n){return Ml(e,n,null,!0),Xi}function Ml(e,n,t,r){const i=xt(),o=ui(),a=function mu(e){const n=Un.lFrame,t=n.bindingIndex;return n.bindingIndex=n.bindingIndex+e,t}(2);o.firstUpdatePass&&function lD(e,n,t,r){const i=e.data;if(null===i[t+1]){const o=i[fa()],a=function aD(e,n){return n>=e.expandoStartIndex}(e,t);(function hD(e,n){return 0!=(e.flags&(n?8:16))})(o,r)&&null===n&&!a&&(n=!1),n=function oV(e,n,t,r){const i=xy(e);let o=r?n.residualClasses:n.residualStyles;if(null===i)0===(r?n.classBindings:n.styleBindings)&&(t=Gh(t=Xv(null,e,n,t,r),n.attrs,r),o=null);else{const a=n.directiveStylingLast;if(-1===a||e[a]!==i)if(t=Xv(i,e,n,t,r),null===o){let h=function sV(e,n,t){const r=t?n.classBindings:n.styleBindings;if(0!==wc(r))return e[ju(r)]}(e,n,r);void 0!==h&&Array.isArray(h)&&(h=Xv(null,e,n,h[1],r),h=Gh(h,n.attrs,r),function aV(e,n,t,r){e[ju(t?n.classBindings:n.styleBindings)]=r}(e,n,r,h))}else o=function lV(e,n,t){let r;const i=n.directiveEnd;for(let o=1+n.directiveStylingLast;o<i;o++)r=Gh(r,e[o].hostAttrs,t);return Gh(r,n.attrs,t)}(e,n,r)}return void 0!==o&&(r?n.residualClasses=o:n.residualStyles=o),t}(i,o,n,r),function Y3(e,n,t,r,i,o){let a=o?n.classBindings:n.styleBindings,u=ju(a),h=wc(a);e[r]=t;let _,f=!1;if(Array.isArray(t)?(_=t[1],(null===_||rd(t,_)>0)&&(f=!0)):_=t,i)if(0!==h){const C=ju(e[u+1]);e[r+1]=Mm(C,u),0!==C&&(e[C+1]=Yv(e[C+1],r)),e[u+1]=function $3(e,n){return 131071&e|n<<17}(e[u+1],r)}else e[r+1]=Mm(u,0),0!==u&&(e[u+1]=Yv(e[u+1],r)),u=r;else e[r+1]=Mm(h,0),0===u?u=r:e[h+1]=Yv(e[h+1],r),h=r;f&&(e[r+1]=Wv(e[r+1])),eD(e,_,r,!0),eD(e,_,r,!1),function Z3(e,n,t,r,i){const o=i?e.residualClasses:e.residualStyles;null!=o&&"string"==typeof n&&rd(o,n)>=0&&(t[r+1]=Zv(t[r+1]))}(n,_,e,r,o),a=Mm(u,h),o?n.classBindings=a:n.styleBindings=a}(i,o,n,t,a,r)}}(o,e,a,r),n!==Jn&&na(i,a,n)&&function cD(e,n,t,r,i,o,a,u){if(!(3&n.type))return;const h=e.data,f=h[u+1],_=function W3(e){return 1==(1&e)}(f)?dD(h,n,t,i,wc(f),a):void 0;Dm(_)||(Dm(o)||function q3(e){return 2==(2&e)}(f)&&(o=dD(h,null,t,i,u,a)),function Q2(e,n,t,r,i){if(n)i?e.addClass(t,r):e.removeClass(t,r);else{let o=-1===r.indexOf("-")?void 0:Uu.DashCase;null==i?e.removeStyle(t,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Uu.Important),e.setStyle(t,r,i,o))}}(r,a,kp(fa(),t),i,o))}(o,o.data[fa()],i,i[Ln],e,i[a+1]=function hV(e,n){return null==e||""===e||("string"==typeof n?e+=n:"object"==typeof e&&(e=rr($a(e)))),e}(n,t),r,a)}function Xv(e,n,t,r,i){let o=null;const a=t.directiveEnd;let u=t.directiveStylingLast;for(-1===u?u=t.directiveStart:u++;u<a&&(o=n[u],r=Gh(r,o.hostAttrs,i),o!==e);)u++;return null!==e&&(t.directiveStylingLast=u),r}function Gh(e,n,t){const r=t?1:2;let i=-1;if(null!==n)for(let o=0;o<n.length;o++){const a=n[o];"number"==typeof a?i=a:i===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),qa(e,a,!!t||n[++o]))}return void 0===e?null:e}function dD(e,n,t,r,i,o){const a=null===n;let u;for(;i>0;){const h=e[i],f=Array.isArray(h),_=f?h[1]:h,b=null===_;let C=t[i+1];C===Jn&&(C=b?Rn:void 0);let D=b?Ry(C,r):_===r?C:void 0;if(f&&!Dm(D)&&(D=Ry(h,r)),Dm(D)&&(u=D,a))return u;const q=e[i+1];i=a?ju(q):wc(q)}if(null!==n){let h=o?n.residualClasses:n.residualStyles;null!=h&&(u=Ry(h,r))}return u}function Dm(e){return void 0!==e}function $r(e,n=""){const t=xt(),r=ui(),i=e+ct,o=r.firstCreatePass?fd(r,i,1,n,null):r.data[i],a=fD(r,t,o,n,e);t[i]=a,Ap()&&Jp(r,t,a,o),Hl(o,!1)}let fD=(e,n,t,r,i)=>(Vu(!0),function Xp(e,n){return e.createText(n)}(n[Ln],r));function Cd(e){return Ws("",e,""),Cd}function Ws(e,n,t){const r=xt(),i=function md(e,n,t,r){return na(e,Zc(),t)?n+Zt(t)+r:Jn}(r,e,n,t);return i!==Jn&&function bu(e,n,t){const r=kp(n,e);!function $E(e,n,t){e.setValue(n,t)}(e[Ln],r,t)}(r,fa(),i),Ws}function qh(e,n,t){const r=xt();return na(r,Zc(),n)&&Wa(ui(),To(),r,e,n,r[Ln],t,!0),qh}function Sm(e,n,t){const r=xt();if(na(r,Zc(),n)){const o=ui(),a=To();Wa(o,a,r,e,n,dM(xy(o.data),a,r),t,!0)}return Sm}const Dd="en-US";let AD=Dd;function Jv(e,n,t,r,i){if(e=gn(e),Array.isArray(e))for(let o=0;o<e.length;o++)Jv(e[o],n,t,r,i);else{const o=ui(),a=xt();let u=yc(e)?e:gn(e.provide),h=DC(e);const f=Gs(),_=1048575&f.providerIndexes,b=f.directiveStart,C=f.providerIndexes>>20;if(yc(e)||!e.multi){const D=new gh(h,i,Be),q=t0(u,n,i?_:_+C,b);-1===q?(Ty(Vp(f,a),o,u),e0(o,e,n.length),n.push(u),f.directiveStart++,f.directiveEnd++,i&&(f.providerIndexes+=1048576),t.push(D),a.push(D)):(t[q]=D,a[q]=D)}else{const D=t0(u,n,_+C,b),q=t0(u,n,_,_+C),ae=q>=0&&t[q];if(i&&!ae||!i&&!(D>=0&&t[D])){Ty(Vp(f,a),o,u);const se=function kU(e,n,t,r,i){const o=new gh(e,t,Be);return o.multi=[],o.index=n,o.componentProviders=0,iS(o,i,r&&!t),o}(i?TU:PU,t.length,i,r,h);!i&&ae&&(t[q].providerFactory=se),e0(o,e,n.length,0),n.push(u),f.directiveStart++,f.directiveEnd++,i&&(f.providerIndexes+=1048576),t.push(se),a.push(se)}else e0(o,e,D>-1?D:q,iS(t[i?q:D],h,!i&&r));!i&&r&&ae&&t[q].componentProviders++}}}function e0(e,n,t,r){const i=yc(n),o=function kB(e){return!!e.useClass}(n);if(i||o){const h=(o?gn(n.useClass):n).prototype.ngOnDestroy;if(h){const f=e.destroyHooks||(e.destroyHooks=[]);if(!i&&n.multi){const _=f.indexOf(t);-1===_?f.push(t,[r,h]):f[_+1].push(r,h)}else f.push(t,h)}}}function iS(e,n,t){return t&&e.componentProviders++,e.multi.push(n)-1}function t0(e,n,t,r){for(let i=t;i<r;i++)if(n[i]===e)return i;return-1}function PU(e,n,t,r){return n0(this.multi,[])}function TU(e,n,t,r){const i=this.multi;let o;if(this.providerFactory){const a=this.providerFactory.componentProviders,u=fc(t,t[Ut],this.providerFactory.index,r);o=u.slice(0,a),n0(i,o);for(let h=a;h<u.length;h++)o.push(u[h])}else o=[],n0(i,o);return o}function n0(e,n){for(let t=0;t<e.length;t++)n.push((0,e[t])());return n}function jn(e,n=[]){return t=>{t.providersResolver=(r,i)=>function IU(e,n,t){const r=ui();if(r.firstCreatePass){const i=ii(e);Jv(t,r.data,r.blueprint,i,!0),Jv(n,r.data,r.blueprint,i,!1)}}(r,i?i(e):e,n)}}class Sd{}class oS{}class r0 extends Sd{constructor(n,t,r){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new yM(this);const i=Qr(n);this._bootstrapComponents=vu(i.bootstrap),this._r3Injector=QC(n,t,[{provide:Sd,useValue:this},{provide:cd,useValue:this.componentFactoryResolver},...r],rr(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class o0 extends oS{constructor(n){super(),this.moduleType=n}create(n){return new r0(this.moduleType,n,[])}}class sS extends Sd{constructor(n){super(),this.componentFactoryResolver=new yM(this),this.instance=null;const t=new cv([...n.providers,{provide:Sd,useValue:this},{provide:cd,useValue:this.componentFactoryResolver}],n.parent||sm(),n.debugName,new Set(["environment"]));this.injector=t,n.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function s0(e,n,t=null){return new sS({providers:e,parent:n,debugName:t,runEnvironmentInitializers:!0}).injector}let OU=(()=>{class e{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){const r=xC(0,t.type),i=r.length>0?s0([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}}return e.\u0275prov=gt({token:e,providedIn:"environment",factory:()=>new e(et(ql))}),e})();function aS(e){e.getStandaloneInjector=n=>n.get(OU).getOrCreateStandaloneInjector(e)}function pS(e,n,t){const r=function ha(){const e=Un.lFrame;let n=e.bindingRootIndex;return-1===n&&(n=e.bindingRootIndex=e.tView.bindingStartIndex),n}()+e,i=xt();return i[r]===Jn?function Yl(e,n,t){return e[n]=t}(i,r,t?n.call(t):n()):function Bh(e,n){return e[n]}(i,r)}function l0(e){return n=>{setTimeout(e,void 0,n)}}const pn=class sH extends qe{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,t,r){let i=n,o=t||(()=>null),a=r;if(n&&"object"==typeof n){const h=n;i=h.next?.bind(h),o=h.error?.bind(h),a=h.complete?.bind(h)}this.__isAsync&&(o=l0(o),i&&(i=l0(i)),a&&(a=l0(a)));const u=super.subscribe({next:i,error:o,complete:a});return n instanceof O&&n.add(u),u}};function aH(){return this._results[Symbol.iterator]()}class km{get changes(){return this._changes||(this._changes=new pn)}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=km.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=aH)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,t){return this._results.reduce(n,t)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,t){const r=this;r.dirty=!1;const i=function pl(e){return e.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function e2(e,n,t){if(e.length!==n.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],o=n[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}(r._results,i,t))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Is=(()=>{class e{}return e.__NG_ELEMENT_ID__=cH,e})();const lH=Is,uH=class extends lH{constructor(n,t,r){super(),this._declarationLView=n,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,t){return this.createEmbeddedViewImpl(n,t,null)}createEmbeddedViewImpl(n,t,r){const a=this._declarationTContainer.tView,u=pm(this._declarationLView,a,n,4096&this._declarationLView[En]?4096:16,null,a.declTNode,null,null,null,t||null,r||null);u[c]=this._declarationLView[this._declarationTContainer.index];const f=this._declarationLView[E];return null!==f&&(u[E]=f.createEmbeddedView(a)),Fv(a,u,n),new Nh(u)}};function cH(){return Am(Gs(),xt())}function Am(e,n){return 4&e.type?new uH(n,e,dd(e,n)):null}let Ys=(()=>{class e{}return e.__NG_ELEMENT_ID__=_H,e})();function _H(){return MS(Gs(),xt())}const yH=Ys,ES=class extends yH{constructor(n,t,r){super(),this._lContainer=n,this._hostTNode=t,this._hostLView=r}get element(){return dd(this._hostTNode,this._hostLView)}get injector(){return new Kc(this._hostTNode,this._hostLView)}get parentInjector(){const n=Py(this._hostTNode,this._hostLView);if(cE(n)){const t=Bp(n,this._hostLView),r=Fp(n);return new Kc(t[Ut].data[r+8],t)}return new Kc(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const t=CS(this._lContainer);return null!==t&&t[n]||null}get length(){return this._lContainer.length-ki}createEmbeddedView(n,t,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const u=n.createEmbeddedViewImpl(t||{},o,null);return this.insertImpl(u,i,false),u}createComponent(n,t,r,i,o){const a=n&&!function _h(e){return"function"==typeof e}(n);let u;if(a)u=t;else{const j=t||{};u=j.index,r=j.injector,i=j.projectableNodes,o=j.environmentInjector||j.ngModuleRef}const h=a?n:new Fh(fr(n)),f=r||this.parentInjector;if(!o&&null==h.ngModule){const ae=(a?f:this.parentInjector).get(ql,null);ae&&(o=ae)}fr(h.componentType??{});const D=h.create(f,i,null,o);return this.insertImpl(D.hostView,u,false),D}insert(n,t){return this.insertImpl(n,t,!1)}insertImpl(n,t,r){const i=n._lView,o=i[Ut];if(function mF(e){return lo(e[Hn])}(i)){const h=this.indexOf(n);if(-1!==h)this.detach(h);else{const f=i[Hn],_=new ES(f,f[$o],f[Hn]);_.detach(_.indexOf(n))}}const a=this._adjustIndex(t),u=this._lContainer;if(function G2(e,n,t,r){const i=ki+r,o=t.length;r>0&&(t[i-1][so]=n),r<o-ki?(n[so]=t[i],xE(t,ki+r,n)):(t.push(n),n[so]=null),n[Hn]=t;const a=n[c];null!==a&&t!==a&&function q2(e,n){const t=e[qi];n[Oi]!==n[Hn][Hn][Oi]&&(e[Vn]=!0),null===t?e[qi]=[n]:t.push(n)}(a,n);const u=n[E];null!==u&&u.insertView(e),n[En]|=128}(o,i,u,a),!r){const h=Zy(a,u),f=i[Ln],_=Qp(f,u[Pi]);null!==_&&function U2(e,n,t,r,i,o){r[hi]=i,r[$o]=n,Mh(e,r,t,1,i,o)}(o,u[$o],f,i,_,h)}return n.attachToViewContainerRef(),xE(c0(u),a,n),n}move(n,t){return this.insert(n,t)}indexOf(n){const t=CS(this._lContainer);return null!==t?t.indexOf(n):-1}remove(n){const t=this._adjustIndex(n,-1),r=qy(this._lContainer,t);r&&(Hp(c0(this._lContainer),t),YE(r[Ut],r))}detach(n){const t=this._adjustIndex(n,-1),r=qy(this._lContainer,t);return r&&null!=Hp(c0(this._lContainer),t)?new Nh(r):null}_adjustIndex(n,t=0){return n??this.length+t}};function CS(e){return e[8]}function c0(e){return e[8]||(e[8]=[])}function MS(e,n){let t;const r=n[e.index];return lo(r)?t=r:(t=aM(r,n,null,e),n[e.index]=t,mm(n,t)),DS(t,n,e,r),new ES(t,e,n)}let DS=function SS(e,n,t,r){if(e[Pi])return;let i;i=8&t.type?_o(r):function vH(e,n){const t=e[Ln],r=t.createComment(""),i=Ta(n,e);return gc(t,Qp(t,i),r,function Z2(e,n){return e.nextSibling(n)}(t,i),!1),r}(n,t),e[Pi]=i};class d0{constructor(n){this.queryList=n,this.matches=null}clone(){return new d0(this.queryList)}setDirty(){this.queryList.setDirty()}}class h0{constructor(n=[]){this.queries=n}createEmbeddedView(n){const t=n.queries;if(null!==t){const r=null!==n.contentQueries?n.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){const a=t.getByIndex(o);i.push(this.queries[a.indexInDeclarationView].clone())}return new h0(i)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let t=0;t<this.queries.length;t++)null!==kS(n,t).matches&&this.queries[t].setDirty()}}class LS{constructor(n,t,r=null){this.predicate=n,this.flags=t,this.read=r}}class f0{constructor(n=[]){this.queries=n}elementStart(n,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(n,t)}elementEnd(n){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(n)}embeddedTView(n){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,o=this.getByIndex(r).embeddedTView(n,i);o&&(o.indexInDeclarationView=r,null!==t?t.push(o):t=[o])}return null!==t?new f0(t):null}template(n,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(n,t)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class p0{constructor(n,t=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(n,t){this.isApplyingToNode(t)&&this.matchTNode(n,t)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,t){this.elementStart(n,t)}embeddedTView(n,t){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,t),new p0(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=n.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(n,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const o=r[i];this.matchTNodeWithReadOption(n,t,xH(t,o)),this.matchTNodeWithReadOption(n,t,Up(t,n,o,!1,!1))}else r===Is?4&t.type&&this.matchTNodeWithReadOption(n,t,-1):this.matchTNodeWithReadOption(n,t,Up(t,n,r,!1,!1))}matchTNodeWithReadOption(n,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===or||i===Ys||i===Is&&4&t.type)this.addMatch(t.index,-2);else{const o=Up(t,n,i,!1,!1);null!==o&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(n,t){null===this.matches?this.matches=[n,t]:this.matches.push(n,t)}}function xH(e,n){const t=e.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===n)return t[r+1];return null}function CH(e,n,t,r){return-1===t?function EH(e,n){return 11&e.type?dd(e,n):4&e.type?Am(e,n):null}(n,e):-2===t?function MH(e,n,t){return t===or?dd(n,e):t===Is?Am(n,e):t===Ys?MS(n,e):void 0}(e,n,r):fc(e,e[Ut],t,n)}function IS(e,n,t,r){const i=n[E].queries[r];if(null===i.matches){const o=e.data,a=t.matches,u=[];for(let h=0;h<a.length;h+=2){const f=a[h];u.push(f<0?null:CH(n,o[f],a[h+1],t.metadata.read))}i.matches=u}return i.matches}function m0(e,n,t,r){const i=e.queries.getByIndex(t),o=i.matches;if(null!==o){const a=IS(e,n,i,t);for(let u=0;u<o.length;u+=2){const h=o[u];if(h>0)r.push(a[u/2]);else{const f=o[u+1],_=n[-h];for(let b=ki;b<_.length;b++){const C=_[b];C[c]===C[Hn]&&m0(C[Ut],C,f,r)}if(null!==_[qi]){const b=_[qi];for(let C=0;C<b.length;C++){const D=b[C];m0(D[Ut],D,f,r)}}}}}return r}function sr(e){const n=xt(),t=ui(),r=eE();Ey(r+1);const i=kS(t,r);if(e.dirty&&function fF(e){return 4==(4&e[En])}(n)===(2==(2&i.metadata.flags))){if(null===i.matches)e.reset([]);else{const o=i.crossesNgTemplate?m0(t,n,r,[]):IS(t,n,i,r);e.reset(o,QB),e.notifyOnChanges()}return!0}return!1}function Bo(e,n,t){const r=ui();r.firstCreatePass&&(TS(r,new LS(e,n,t),-1),2==(2&n)&&(r.staticViewQueries=!0)),PS(r,xt(),n)}function zo(e,n,t,r){const i=ui();if(i.firstCreatePass){const o=Gs();TS(i,new LS(n,t,r),o.index),function SH(e,n){const t=e.contentQueries||(e.contentQueries=[]);n!==(t.length?t[t.length-1]:-1)&&t.push(e.queries.length-1,n)}(i,e),2==(2&t)&&(i.staticContentQueries=!0)}PS(i,xt(),t)}function ar(){return function DH(e,n){return e[E].queries[n].queryList}(xt(),eE())}function PS(e,n,t){const r=new km(4==(4&t));(function bz(e,n,t,r){const i=uM(n);i.push(t),e.firstCreatePass&&cM(e).push(r,i.length-1)})(e,n,r,r.destroy),null===n[E]&&(n[E]=new h0),n[E].queries.push(new d0(r))}function TS(e,n,t){null===e.queries&&(e.queries=new f0),e.queries.track(new p0(n,t))}function kS(e,n){return e.queries.getByIndex(n)}function AS(e,n){return Am(e,n)}const w0=new St("Application Initializer");let x0=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=Mt(w0,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const i of this.appInits){const o=i();if(jh(o))t.push(o);else if(UM(o)){const a=new Promise((u,h)=>{o.subscribe({complete:u,error:h})});t.push(a)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=gt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),XS=(()=>{class e{log(t){console.log(t)}warn(t){console.warn(t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=gt({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();const eu=new St("LocaleId",{providedIn:"root",factory:()=>Mt(eu,Qn.Optional|Qn.SkipSelf)||function YH(){return typeof $localize<"u"&&$localize.locale||Dd}()});let Om=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new $e(!1)}add(){this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=gt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();class KH{constructor(n,t){this.ngModuleFactory=n,this.componentFactories=t}}let KS=(()=>{class e{compileModuleSync(t){return new o0(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),o=vu(Qr(t).declarations).reduce((a,u)=>{const h=fr(u);return h&&a.push(new Fh(h)),a},[]);return new KH(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=gt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function eL(...e){}class yn{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new pn(!1),this.onMicrotaskEmpty=new pn(!1),this.onStable=new pn(!1),this.onError=new pn(!1),typeof Zone>"u")throw new nt(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function e4(){const e="function"==typeof ci.requestAnimationFrame;let n=ci[e?"requestAnimationFrame":"setTimeout"],t=ci[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&t){const r=n[Zone.__symbol__("OriginalDelegate")];r&&(n=r);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function r4(e){const n=()=>{!function n4(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(ci,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,C0(e),e.isCheckStableRunning=!0,E0(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),C0(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,o,a,u)=>{try{return tL(e),t.invokeTask(i,o,a,u)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||e.shouldCoalesceRunChangeDetection)&&n(),nL(e)}},onInvoke:(t,r,i,o,a,u,h)=>{try{return tL(e),t.invoke(i,o,a,u,h)}finally{e.shouldCoalesceRunChangeDetection&&n(),nL(e)}},onHasTask:(t,r,i,o)=>{t.hasTask(i,o),r===i&&("microTask"==o.change?(e._hasPendingMicrotasks=o.microTask,C0(e),E0(e)):"macroTask"==o.change&&(e.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,r,i,o)=>(t.handleError(i,o),e.runOutsideAngular(()=>e.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!yn.isInAngularZone())throw new nt(909,!1)}static assertNotInAngularZone(){if(yn.isInAngularZone())throw new nt(909,!1)}run(n,t,r){return this._inner.run(n,t,r)}runTask(n,t,r,i){const o=this._inner,a=o.scheduleEventTask("NgZoneEvent: "+i,n,t4,eL,eL);try{return o.runTask(a,t,r)}finally{o.cancelTask(a)}}runGuarded(n,t,r){return this._inner.runGuarded(n,t,r)}runOutsideAngular(n){return this._outer.run(n)}}const t4={};function E0(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function C0(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function tL(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function nL(e){e._nesting--,E0(e)}class i4{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new pn,this.onMicrotaskEmpty=new pn,this.onStable=new pn,this.onError=new pn}run(n,t,r){return n.apply(t,r)}runGuarded(n,t,r){return n.apply(t,r)}runOutsideAngular(n){return n()}runTask(n,t,r,i){return n.apply(t,r)}}const rL=new St("",{providedIn:"root",factory:iL});function iL(){const e=Mt(yn);let n=!0;return zt(new be(i=>{n=e.isStable&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks,e.runOutsideAngular(()=>{i.next(n),i.complete()})}),new be(i=>{let o;e.runOutsideAngular(()=>{o=e.onStable.subscribe(()=>{yn.assertNotInAngularZone(),queueMicrotask(()=>{!n&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks&&(n=!0,i.next(!0))})})});const a=e.onUnstable.subscribe(()=>{yn.assertInAngularZone(),n&&(n=!1,e.runOutsideAngular(()=>{i.next(!1)}))});return()=>{o.unsubscribe(),a.unsubscribe()}}).pipe(So()))}const oL=new St(""),Nm=new St("");let S0,M0=(()=>{class e{constructor(t,r,i){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,S0||(function o4(e){S0=e}(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{yn.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==o),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}}return e.\u0275fac=function(t){return new(t||e)(et(yn),et(D0),et(Nm))},e.\u0275prov=gt({token:e,factory:e.\u0275fac}),e})(),D0=(()=>{class e{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return S0?.findTestabilityInTree(this,t,r)??null}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=gt({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})(),Gu=null;const sL=new St("AllowMultipleToken"),L0=new St("PlatformDestroyListeners"),I0=new St("appBootstrapListener");class lL{constructor(n,t){this.name=n,this.token=t}}function cL(e,n,t=[]){const r=`Platform: ${n}`,i=new St(r);return(o=[])=>{let a=P0();if(!a||a.injector.get(sL,!1)){const u=[...t,...o,{provide:i,useValue:!0}];e?e(u):function l4(e){if(Gu&&!Gu.get(sL,!1))throw new nt(400,!1);(function aL(){!function rF(e){Ox=e}(()=>{throw new nt(600,!1)})})(),Gu=e;const n=e.get(hL);(function uL(e){e.get(SC,null)?.forEach(t=>t())})(e)}(function dL(e=[],n){return $s.create({name:n,providers:[{provide:lv,useValue:"platform"},{provide:L0,useValue:new Set([()=>Gu=null])},...e]})}(u,r))}return function c4(e){const n=P0();if(!n)throw new nt(401,!1);return n}()}}function P0(){return Gu?.get(hL)??null}let hL=(()=>{class e{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const i=function d4(e="zone.js",n){return"noop"===e?new i4:"zone.js"===e?new yn(n):e}(r?.ngZone,function fL(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const o=function RU(e,n,t){return new r0(e,n,t)}(t.moduleType,this.injector,function yL(e){return[{provide:yn,useFactory:e},{provide:Ih,multi:!0,useFactory:()=>{const n=Mt(f4,{optional:!0});return()=>n.initialize()}},{provide:_L,useFactory:h4},{provide:rL,useFactory:iL}]}(()=>i)),a=o.injector.get($l,null);return i.runOutsideAngular(()=>{const u=i.onError.subscribe({next:h=>{a.handleError(h)}});o.onDestroy(()=>{Fm(this._modules,o),u.unsubscribe()})}),function pL(e,n,t){try{const r=t();return jh(r)?r.catch(i=>{throw n.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw n.runOutsideAngular(()=>e.handleError(r)),r}}(a,i,()=>{const u=o.injector.get(x0);return u.runInitializers(),u.donePromise.then(()=>(function RD(e){an(e,"Expected localeId to be defined"),"string"==typeof e&&(AD=e.toLowerCase().replace(/_/g,"-"))}(o.injector.get(eu,Dd)||Dd),this._moduleDoBootstrap(o),o))})})}bootstrapModule(t,r=[]){const i=mL({},r);return function s4(e,n,t){const r=new o0(t);return Promise.resolve(r)}(0,0,t).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(t){const r=t.injector.get(qu);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new nt(-403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new nt(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(L0,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(t){return new(t||e)(et($s))},e.\u0275prov=gt({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();function mL(e,n){return Array.isArray(n)?n.reduce(mL,e):{...e,...n}}let qu=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Mt(_L),this.zoneIsStable=Mt(rL),this.componentTypes=[],this.components=[],this.isStable=Mt(Om).hasPendingTasks.pipe(nn(t=>t?Vt(!1):this.zoneIsStable),il(),So()),this._injector=Mt(ql)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,r){const i=t instanceof AC;if(!this._injector.get(x0).done)throw!i&&function Us(e){const n=fr(e)||gi(e)||di(e);return null!==n&&n.standalone}(t),new nt(405,!1);let a;a=i?t:this._injector.get(cd).resolveComponentFactory(t),this.componentTypes.push(a.componentType);const u=function a4(e){return e.isBoundToModule}(a)?void 0:this._injector.get(Sd),f=a.create($s.NULL,[],r||a.selector,u),_=f.location.nativeElement,b=f.injector.get(oL,null);return b?.registerApplication(_),f.onDestroy(()=>{this.detachView(f.hostView),Fm(this.components,f),b?.unregisterApplication(_)}),this._loadComponent(f),f}tick(){if(this._runningTick)throw new nt(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this.internalErrorHandler(t)}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;Fm(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const r=this._injector.get(I0,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Fm(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new nt(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=gt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Fm(e,n){const t=e.indexOf(n);t>-1&&e.splice(t,1)}const _L=new St("",{providedIn:"root",factory:()=>Mt($l).handleError.bind(void 0)});function h4(){const e=Mt(yn),n=Mt($l);return t=>e.runOutsideAngular(()=>n.handleError(t))}let f4=(()=>{class e{constructor(){this.zone=Mt(yn),this.applicationRef=Mt(qu)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=gt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();let tu=(()=>{class e{}return e.__NG_ELEMENT_ID__=m4,e})();function m4(e){return function g4(e,n,t){if(Ds(e)&&!t){const r=Ga(e.index,n);return new Nh(r,r)}return 47&e.type?new Nh(n[Oi],n):null}(Gs(),xt(),16==(16&e))}class xL{constructor(){}supports(n){return vm(n)}create(n){return new x4(n)}}const w4=(e,n)=>n;class x4{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||w4}forEachItem(n){let t;for(t=this._itHead;null!==t;t=t._next)n(t)}forEachOperation(n){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){const a=!r||t&&t.currentIndex<CL(r,i,o)?t:r,u=CL(a,i,o),h=a.currentIndex;if(a===r)i--,r=r._nextRemoved;else if(t=t._next,null==a.previousIndex)i++;else{o||(o=[]);const f=u-i,_=h-i;if(f!=_){for(let C=0;C<f;C++){const D=C<o.length?o[C]:o[C]=0,q=D+C;_<=q&&q<f&&(o[C]=D+1)}o[a.previousIndex]=_-f}}u!==h&&n(a,u,h)}}forEachPreviousItem(n){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)n(t)}forEachAddedItem(n){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)n(t)}forEachMovedItem(n){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)n(t)}forEachRemovedItem(n){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)n(t)}forEachIdentityChange(n){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)n(t)}diff(n){if(null==n&&(n=[]),!vm(n))throw new nt(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let i,o,a,t=this._itHead,r=!1;if(Array.isArray(n)){this.length=n.length;for(let u=0;u<this.length;u++)o=n[u],a=this._trackByFn(u,o),null!==t&&Object.is(t.trackById,a)?(r&&(t=this._verifyReinsertion(t,o,a,u)),Object.is(t.item,o)||this._addIdentityChange(t,o)):(t=this._mismatch(t,o,a,u),r=!0),t=t._next}else i=0,function m3(e,n){if(Array.isArray(e))for(let t=0;t<e.length;t++)n(e[t]);else{const t=e[Symbol.iterator]();let r;for(;!(r=t.next()).done;)n(r.value)}}(n,u=>{a=this._trackByFn(i,u),null!==t&&Object.is(t.trackById,a)?(r&&(t=this._verifyReinsertion(t,u,a,i)),Object.is(t.item,u)||this._addIdentityChange(t,u)):(t=this._mismatch(t,u,a,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,t,r,i){let o;return null===n?o=this._itTail:(o=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._reinsertAfter(n,o,i)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._moveAfter(n,o,i)):n=this._addAfter(new E4(t,r),o,i),n}_verifyReinsertion(n,t,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?n=this._reinsertAfter(o,n._prev,i):n.currentIndex!=i&&(n.currentIndex=i,this._addToMoves(n,i)),n}_truncate(n){for(;null!==n;){const t=n._next;this._addToRemovals(this._unlink(n)),n=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const i=n._prevRemoved,o=n._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(n,t,r),this._addToMoves(n,r),n}_moveAfter(n,t,r){return this._unlink(n),this._insertAfter(n,t,r),this._addToMoves(n,r),n}_addAfter(n,t,r){return this._insertAfter(n,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,t,r){const i=null===t?this._itHead:t._next;return n._next=i,n._prev=t,null===i?this._itTail=n:i._prev=n,null===t?this._itHead=n:t._next=n,null===this._linkedRecords&&(this._linkedRecords=new EL),this._linkedRecords.put(n),n.currentIndex=r,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const t=n._prev,r=n._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,n}_addToMoves(n,t){return n.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new EL),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,t){return n.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class E4{constructor(n,t){this.item=n,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class C4{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,n))return r;return null}remove(n){const t=n._prevDup,r=n._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class EL{constructor(){this.map=new Map}put(n){const t=n.trackById;let r=this.map.get(t);r||(r=new C4,this.map.set(t,r)),r.add(n)}get(n,t){const i=this.map.get(n);return i?i.get(n,t):null}remove(n){const t=n.trackById;return this.map.get(t).remove(n)&&this.map.delete(t),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function CL(e,n,t){const r=e.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+n+i}class ML{constructor(){}supports(n){return n instanceof Map||Bv(n)}create(){return new M4}}class M4{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let t;for(t=this._mapHead;null!==t;t=t._next)n(t)}forEachPreviousItem(n){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)n(t)}forEachChangedItem(n){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)n(t)}forEachAddedItem(n){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)n(t)}forEachRemovedItem(n){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)n(t)}diff(n){if(n){if(!(n instanceof Map||Bv(n)))throw new nt(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(n,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{const o=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,o)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,t){if(n){const r=n._prev;return t._next=n,t._prev=r,n._prev=t,r&&(r._next=t),n===this._mapHead&&(this._mapHead=t),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(n,t){if(this._records.has(n)){const i=this._records.get(n);this._maybeAddToChanges(i,t);const o=i._prev,a=i._next;return o&&(o._next=a),a&&(a._prev=o),i._next=null,i._prev=null,i}const r=new D4(n);return this._records.set(n,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,t){Object.is(t,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=t,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,t){n instanceof Map?n.forEach(t):Object.keys(n).forEach(r=>t(n[r],r))}}class D4{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function DL(){return new nu([new xL])}let nu=(()=>{class e{constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new e(t)}static extend(t){return{provide:e,useFactory:r=>e.create(t,r||DL()),deps:[[e,new bh,new mc]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new nt(901,!1)}}return e.\u0275prov=gt({token:e,providedIn:"root",factory:DL}),e})();function SL(){return new Pd([new ML])}let Pd=(()=>{class e{constructor(t){this.factories=t}static create(t,r){if(r){const i=r.factories.slice();t=t.concat(i)}return new e(t)}static extend(t){return{provide:e,useFactory:r=>e.create(t,r||SL()),deps:[[e,new bh,new mc]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(r)return r;throw new nt(901,!1)}}return e.\u0275prov=gt({token:e,providedIn:"root",factory:SL}),e})();const I4=cL(null,"core",[]);let P4=(()=>{class e{constructor(t){}}return e.\u0275fac=function(t){return new(t||e)(et(qu))},e.\u0275mod=wn({type:e}),e.\u0275inj=zn({}),e})();function Td(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}let F0=null;function $u(){return F0}class H4{}const lr=new St("DocumentToken");let B0=(()=>{class e{historyGo(t){throw new Error("Not implemented")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=gt({token:e,factory:function(){return Mt(G4)},providedIn:"platform"}),e})();const j4=new St("Location Initialized");let G4=(()=>{class e extends B0{constructor(){super(),this._doc=Mt(lr),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return $u().getBaseHref(this._doc)}onPopState(t){const r=$u().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=$u().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=gt({token:e,factory:function(){return new e},providedIn:"platform"}),e})();function z0(e,n){if(0==e.length)return n;if(0==n.length)return e;let t=0;return e.endsWith("/")&&t++,n.startsWith("/")&&t++,2==t?e+n.substring(1):1==t?e+n:e+"/"+n}function RL(e){const n=e.match(/#|\?|$/),t=n&&n.index||e.length;return e.slice(0,t-("/"===e[t-1]?1:0))+e.slice(t)}function xu(e){return e&&"?"!==e[0]?"?"+e:e}let Cc=(()=>{class e{historyGo(t){throw new Error("Not implemented")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=gt({token:e,factory:function(){return Mt(NL)},providedIn:"root"}),e})();const OL=new St("appBaseHref");let NL=(()=>{class e extends Cc{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??Mt(lr).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return z0(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+xu(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){const a=this.prepareExternalUrl(i+xu(o));this._platformLocation.pushState(t,r,a)}replaceState(t,r,i,o){const a=this.prepareExternalUrl(i+xu(o));this._platformLocation.replaceState(t,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return e.\u0275fac=function(t){return new(t||e)(et(B0),et(OL,8))},e.\u0275prov=gt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),q4=(()=>{class e extends Cc{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=z0(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let a=this.prepareExternalUrl(i+xu(o));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.pushState(t,r,a)}replaceState(t,r,i,o){let a=this.prepareExternalUrl(i+xu(o));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return e.\u0275fac=function(t){return new(t||e)(et(B0),et(OL,8))},e.\u0275prov=gt({token:e,factory:e.\u0275fac}),e})(),Um=(()=>{class e{constructor(t){this._subject=new pn,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function Y4(e){if(new RegExp("^(https?:)?//").test(e)){const[,t]=e.split(/\/\/[^\/]+/);return t}return e}(RL(FL(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+xu(r))}normalize(t){return e.stripTrailingSlash(function W4(e,n){if(!e||!n.startsWith(e))return n;const t=n.substring(e.length);return""===t||["/",";","?","#"].includes(t[0])?t:n}(this._basePath,FL(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+xu(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+xu(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return e.normalizeQueryParams=xu,e.joinWithSlash=z0,e.stripTrailingSlash=RL,e.\u0275fac=function(t){return new(t||e)(et(Cc))},e.\u0275prov=gt({token:e,factory:function(){return function $4(){return new Um(et(Cc))}()},providedIn:"root"}),e})();function FL(e){return e.replace(/\/index.html$/,"")}function $L(e,n){n=encodeURIComponent(n);for(const t of e.split(";")){const r=t.indexOf("="),[i,o]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===n)return decodeURIComponent(o)}return null}let Mc=(()=>{class e{constructor(t,r){this._viewContainer=t,this._context=new Nj,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){XL("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){XL("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return e.\u0275fac=function(t){return new(t||e)(Be(Ys),Be(Is))},e.\u0275dir=_t({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),e})();class Nj{constructor(){this.$implicit=null,this.ngIf=null}}function XL(e,n){if(n&&!n.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${rr(n)}'.`)}class X0{constructor(n,t){this._viewContainerRef=n,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(n){n&&!this._created?this.create():!n&&this._created&&this.destroy()}}let Qm=(()=>{class e{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews.push(t)}_matchCase(t){const r=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(t){if(this._defaultViews.length>0&&t!==this._defaultUsed){this._defaultUsed=t;for(const r of this._defaultViews)r.enforceState(t)}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=_t({type:e,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),e})(),KL=(()=>{class e{constructor(t,r,i){this.ngSwitch=i,i._addCase(),this._view=new X0(t,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return e.\u0275fac=function(t){return new(t||e)(Be(Ys),Be(Is),Be(Qm,9))},e.\u0275dir=_t({type:e,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),e})(),JL=(()=>{class e{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(t.ngTemplateOutlet||t.ngTemplateOutletInjector){const r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:i,ngTemplateOutletContext:o,ngTemplateOutletInjector:a}=this;this._viewRef=r.createEmbeddedView(i,o,a?{injector:a}:void 0)}else this._viewRef=null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return e.\u0275fac=function(t){return new(t||e)(Be(Ys))},e.\u0275dir=_t({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[ps]}),e})(),nf=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=wn({type:e}),e.\u0275inj=zn({}),e})();const tI="browser";function nI(e){return"server"===e}let f5=(()=>{class e{}return e.\u0275prov=gt({token:e,providedIn:"root",factory:()=>new p5(et(lr),window)}),e})();class p5{constructor(n,t){this.document=n,this.window=t,this.offset=()=>[0,0]}setOffset(n){this.offset=Array.isArray(n)?()=>n:n}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(n){this.supportsScrolling()&&this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){if(!this.supportsScrolling())return;const t=function m5(e,n){const t=e.getElementById(n)||e.getElementsByName(n)[0];if(t)return t;if("function"==typeof e.createTreeWalker&&e.body&&"function"==typeof e.body.attachShadow){const r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const a=o.getElementById(n)||o.querySelector(`[name="${n}"]`);if(a)return a}i=r.nextNode()}}return null}(this.document,n);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(n){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=n)}}scrollToElement(n){const t=n.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const n=rI(this.window.history)||rI(Object.getPrototypeOf(this.window.history));return!(!n||!n.writable&&!n.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function rI(e){return Object.getOwnPropertyDescriptor(e,"scrollRestoration")}class iI{}class B5 extends H4{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class tb extends B5{static makeCurrent(){!function U4(e){F0||(F0=e)}(new tb)}onAndCancel(n,t,r){return n.addEventListener(t,r),()=>{n.removeEventListener(t,r)}}dispatchEvent(n,t){n.dispatchEvent(t)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,t){return(t=t||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,t){return"window"===t?window:"document"===t?n:"body"===t?n.body:null}getBaseHref(n){const t=function z5(){return sf=sf||document.querySelector("base"),sf?sf.getAttribute("href"):null}();return null==t?null:function V5(e){tg=tg||document.createElement("a"),tg.setAttribute("href",e);const n=tg.pathname;return"/"===n.charAt(0)?n:`/${n}`}(t)}resetBaseElement(){sf=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return $L(document.cookie,n)}}let tg,sf=null,H5=(()=>{class e{build(){return new XMLHttpRequest}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=gt({token:e,factory:e.\u0275fac}),e})();const nb=new St("EventManagerPlugins");let uI=(()=>{class e{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new nt(5101,!1);return this._eventNameToPlugin.set(t,r),r}}return e.\u0275fac=function(t){return new(t||e)(et(nb),et(yn))},e.\u0275prov=gt({token:e,factory:e.\u0275fac}),e})();class cI{constructor(n){this._doc=n}}const rb="ng-app-id";let dI=(()=>{class e{constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=nI(o),this.resetHostNodes()}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${rb}="${this.appId}"]`);if(t?.length){const r=new Map;return t.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){const i=this.styleRef;if(i.has(t)){const o=i.get(t);return o.usage+=r,o.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){const i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===t)return i.delete(r),o.removeAttribute(rb),o;{const a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=r,this.platformIsServer&&a.setAttribute(rb,this.appId),a}}addStyleToHost(t,r){const i=this.getStyleElement(t,r);t.appendChild(i);const o=this.styleRef,a=o.get(r)?.elements;a?a.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return e.\u0275fac=function(t){return new(t||e)(et(lr),et(am),et(fv,8),et(Hu))},e.\u0275prov=gt({token:e,factory:e.\u0275fac}),e})();const ib={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ob=/%COMP%/g,$5=new St("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function fI(e,n){return n.map(t=>t.replace(ob,e))}let sb=(()=>{class e{constructor(t,r,i,o,a,u,h,f=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=u,this.ngZone=h,this.nonce=f,this.rendererByCompId=new Map,this.platformIsServer=nI(u),this.defaultRenderer=new ab(t,a,h,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===bi.ShadowDom&&(r={...r,encapsulation:bi.Emulated});const i=this.getOrCreateRenderer(t,r);return i instanceof mI?i.applyToHost(t):i instanceof lb&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let o=i.get(r.id);if(!o){const a=this.doc,u=this.ngZone,h=this.eventManager,f=this.sharedStylesHost,_=this.removeStylesOnCompDestroy,b=this.platformIsServer;switch(r.encapsulation){case bi.Emulated:o=new mI(h,f,r,this.appId,_,a,u,b);break;case bi.ShadowDom:return new X5(h,f,t,r,a,u,this.nonce,b);default:o=new lb(h,f,r,_,a,u,b)}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}}return e.\u0275fac=function(t){return new(t||e)(et(uI),et(dI),et(am),et($5),et(lr),et(Hu),et(yn),et(fv))},e.\u0275prov=gt({token:e,factory:e.\u0275fac}),e})();class ab{constructor(n,t,r,i){this.eventManager=n,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(n,t){return t?this.doc.createElementNS(ib[t]||t,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,t){(pI(n)?n.content:n).appendChild(t)}insertBefore(n,t,r){n&&(pI(n)?n.content:n).insertBefore(t,r)}removeChild(n,t){n&&n.removeChild(t)}selectRootElement(n,t){let r="string"==typeof n?this.doc.querySelector(n):n;if(!r)throw new nt(-5104,!1);return t||(r.textContent=""),r}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,t,r,i){if(i){t=i+":"+t;const o=ib[i];o?n.setAttributeNS(o,t,r):n.setAttribute(t,r)}else n.setAttribute(t,r)}removeAttribute(n,t,r){if(r){const i=ib[r];i?n.removeAttributeNS(i,t):n.removeAttribute(`${r}:${t}`)}else n.removeAttribute(t)}addClass(n,t){n.classList.add(t)}removeClass(n,t){n.classList.remove(t)}setStyle(n,t,r,i){i&(Uu.DashCase|Uu.Important)?n.style.setProperty(t,r,i&Uu.Important?"important":""):n.style[t]=r}removeStyle(n,t,r){r&Uu.DashCase?n.style.removeProperty(t):n.style[t]=""}setProperty(n,t,r){n[t]=r}setValue(n,t){n.nodeValue=t}listen(n,t,r){if("string"==typeof n&&!(n=$u().getGlobalEventTarget(this.doc,n)))throw new Error(`Unsupported event target ${n} for event ${t}`);return this.eventManager.addEventListener(n,t,this.decoratePreventDefault(r))}decoratePreventDefault(n){return t=>{if("__ngUnwrap__"===t)return n;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>n(t)):n(t))&&t.preventDefault()}}}function pI(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class X5 extends ab{constructor(n,t,r,i,o,a,u,h){super(n,o,a,h),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const f=fI(i.id,i.styles);for(const _ of f){const b=document.createElement("style");u&&b.setAttribute("nonce",u),b.textContent=_,this.shadowRoot.appendChild(b)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,t){return super.appendChild(this.nodeOrShadowRoot(n),t)}insertBefore(n,t,r){return super.insertBefore(this.nodeOrShadowRoot(n),t,r)}removeChild(n,t){return super.removeChild(this.nodeOrShadowRoot(n),t)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class lb extends ab{constructor(n,t,r,i,o,a,u,h){super(n,o,a,u),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=h?fI(h,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class mI extends lb{constructor(n,t,r,i,o,a,u,h){const f=i+"-"+r.id;super(n,t,r,o,a,u,h,f),this.contentAttr=function W5(e){return"_ngcontent-%COMP%".replace(ob,e)}(f),this.hostAttr=function Y5(e){return"_nghost-%COMP%".replace(ob,e)}(f)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,t){const r=super.createElement(n,t);return super.setAttribute(r,this.contentAttr,""),r}}let K5=(()=>{class e extends cI{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return e.\u0275fac=function(t){return new(t||e)(et(lr))},e.\u0275prov=gt({token:e,factory:e.\u0275fac}),e})();const gI=["alt","control","meta","shift"],Q5={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},J5={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let e8=(()=>{class e extends cI{constructor(t){super(t)}supports(t){return null!=e.parseEventName(t)}addEventListener(t,r,i){const o=e.parseEventName(r),a=e.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>$u().onAndCancel(t,o.domEventName,a))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=e._normalizeKey(r.pop());let a="",u=r.indexOf("code");if(u>-1&&(r.splice(u,1),a="code."),gI.forEach(f=>{const _=r.indexOf(f);_>-1&&(r.splice(_,1),a+=f+".")}),a+=o,0!=r.length||0===o.length)return null;const h={};return h.domEventName=i,h.fullKey=a,h}static matchEventFullKeyCode(t,r){let i=Q5[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),gI.forEach(a=>{a!==i&&(0,J5[a])(t)&&(o+=a+".")}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{e.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return e.\u0275fac=function(t){return new(t||e)(et(lr))},e.\u0275prov=gt({token:e,factory:e.\u0275fac}),e})();const i8=cL(I4,"browser",[{provide:Hu,useValue:tI},{provide:SC,useValue:function t8(){tb.makeCurrent()},multi:!0},{provide:lr,useFactory:function r8(){return function rB(e){Qy=e}(document),document},deps:[]}]),o8=new St(""),vI=[{provide:Nm,useClass:class U5{addToWindow(n){ci.getAngularTestability=(r,i=!0)=>{const o=n.findTestabilityInTree(r,i);if(null==o)throw new nt(5103,!1);return o},ci.getAllAngularTestabilities=()=>n.getAllTestabilities(),ci.getAllAngularRootElements=()=>n.getAllRootElements(),ci.frameworkStabilizers||(ci.frameworkStabilizers=[]),ci.frameworkStabilizers.push(r=>{const i=ci.getAllAngularTestabilities();let o=i.length,a=!1;const u=function(h){a=a||h,o--,0==o&&r(a)};i.forEach(h=>{h.whenStable(u)})})}findTestabilityInTree(n,t,r){return null==t?null:n.getTestability(t)??(r?$u().isShadowRoot(t)?this.findTestabilityInTree(n,t.host,!0):this.findTestabilityInTree(n,t.parentElement,!0):null)}},deps:[]},{provide:oL,useClass:M0,deps:[yn,D0,Nm]},{provide:M0,useClass:M0,deps:[yn,D0,Nm]}],bI=[{provide:lv,useValue:"root"},{provide:$l,useFactory:function n8(){return new $l},deps:[]},{provide:nb,useClass:K5,multi:!0,deps:[lr,yn,Hu]},{provide:nb,useClass:e8,multi:!0,deps:[lr]},sb,dI,uI,{provide:kh,useExisting:sb},{provide:iI,useClass:H5,deps:[]},[]];let wI=(()=>{class e{constructor(t){}static withServerTransition(t){return{ngModule:e,providers:[{provide:am,useValue:t.appId}]}}}return e.\u0275fac=function(t){return new(t||e)(et(o8,12))},e.\u0275mod=wn({type:e}),e.\u0275inj=zn({providers:[...bI,...vI],imports:[nf,P4]}),e})(),xI=(()=>{class e{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return e.\u0275fac=function(t){return new(t||e)(et(lr))},e.\u0275prov=gt({token:e,factory:function(t){let r=null;return r=t?new t:function a8(){return new xI(et(lr))}(),r},providedIn:"root"}),e})();typeof window<"u"&&window;let db,cb=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=gt({token:e,factory:function(t){let r=null;return r=t?new(t||e):et(MI),r},providedIn:"root"}),e})(),MI=(()=>{class e extends cb{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case qs.NONE:return r;case qs.HTML:return Gl(r,"HTML")?$a(r):gC(this._doc,String(r)).toString();case qs.STYLE:return Gl(r,"Style")?$a(r):r;case qs.SCRIPT:if(Gl(r,"Script"))return $a(r);throw new nt(5200,!1);case qs.URL:return Gl(r,"URL")?$a(r):rm(String(r));case qs.RESOURCE_URL:if(Gl(r,"ResourceURL"))return $a(r);throw new nt(5201,!1);default:throw new nt(5202,!1)}}bypassSecurityTrustHtml(t){return function cB(e){return new iB(e)}(t)}bypassSecurityTrustStyle(t){return function dB(e){return new oB(e)}(t)}bypassSecurityTrustScript(t){return function hB(e){return new sB(e)}(t)}bypassSecurityTrustUrl(t){return function fB(e){return new aB(e)}(t)}bypassSecurityTrustResourceUrl(t){return function pB(e){return new lB(e)}(t)}}return e.\u0275fac=function(t){return new(t||e)(et(lr))},e.\u0275prov=gt({token:e,factory:function(t){let r=null;return r=t?new t:function d8(e){return new MI(e.get(lr))}(et($s)),r},providedIn:"root"}),e})();try{db=typeof Intl<"u"&&Intl.v8BreakIterator}catch{db=!1}let Ad,Zo=(()=>{class e{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function h5(e){return e===tI}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!db)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return e.\u0275fac=function(t){return new(t||e)(et(Hu))},e.\u0275prov=gt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const SI=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function LI(){if(Ad)return Ad;if("object"!=typeof document||!document)return Ad=new Set(SI),Ad;let e=document.createElement("input");return Ad=new Set(SI.filter(n=>(e.setAttribute("type",n),e.type===n))),Ad}let af,ng,Dc,hb;function lf(e){return function h8(){if(null==af&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>af=!0}))}finally{af=af||!1}return af}()?e:!!e.capture}function II(){if(null==Dc){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Dc=!1,Dc;if("scrollBehavior"in document.documentElement.style)Dc=!0;else{const e=Element.prototype.scrollTo;Dc=!!e&&!/\{\s*\[native code\]\s*\}/.test(e.toString())}}return Dc}function uf(){if("object"!=typeof document||!document)return 0;if(null==ng){const e=document.createElement("div"),n=e.style;e.dir="rtl",n.width="1px",n.overflow="auto",n.visibility="hidden",n.pointerEvents="none",n.position="absolute";const t=document.createElement("div"),r=t.style;r.width="2px",r.height="1px",e.appendChild(t),document.body.appendChild(e),ng=0,0===e.scrollLeft&&(e.scrollLeft=1,ng=0===e.scrollLeft?1:2),e.remove()}return ng}function Yu(e){return e.composedPath?e.composedPath()[0]:e.target}function fb(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function _a(e){return e<=0?()=>Kn:Et((n,t)=>{let r=0;n.subscribe(Dt(t,i=>{++r<=e&&(t.next(i),e<=r&&t.complete())}))})}function ys(e,n){return Et((t,r)=>{let i=0;t.subscribe(Dt(r,o=>e.call(n,o,i++)&&r.next(o)))})}function PI(e){return ys((n,t)=>e<=t)}function ko(e){return Et((n,t)=>{ri(e).subscribe(Dt(t,()=>t.complete(),ye)),!t.closed&&n.subscribe(t)})}function Zs(e){return null!=e&&"false"!=`${e}`}function TI(e,n=0){return function x8(e){return!isNaN(parseFloat(e))&&!isNaN(Number(e))}(e)?Number(e):n}function rg(e){return Array.isArray(e)?e:[e]}function ls(e){return null==e?"":"string"==typeof e?e:`${e}px`}function Zu(e){return e instanceof or?e.nativeElement:e}const{isArray:E8}=Array,{getPrototypeOf:C8,prototype:M8,keys:D8}=Object;function kI(e){if(1===e.length){const n=e[0];if(E8(n))return{args:n,keys:null};if(function S8(e){return e&&"object"==typeof e&&C8(e)===M8}(n)){const t=D8(n);return{args:t.map(r=>n[r]),keys:t}}}return{args:e,keys:null}}const{isArray:L8}=Array;function pb(e){return yt(n=>function I8(e,n){return L8(n)?e(...n):e(n)}(e,n))}function AI(e,n){return e.reduce((t,r,i)=>(t[r]=n[i],t),{})}function ig(...e){const n=Go(e),t=Os(e),{args:r,keys:i}=kI(e);if(0===r.length)return Si([],n);const o=new be(function P8(e,n,t=We){return r=>{RI(n,()=>{const{length:i}=e,o=new Array(i);let a=i,u=i;for(let h=0;h<i;h++)RI(n,()=>{const f=Si(e[h],n);let _=!1;f.subscribe(Dt(r,b=>{o[h]=b,_||(_=!0,u--),u||r.next(t(o.slice()))},()=>{--a||r.complete()}))},r)},r)}}(r,n,i?a=>AI(i,a):We));return t?o.pipe(pb(t)):o}function RI(e,n,t){e?ws(t,e,n):n()}function og(...e){return function T8(){return Gr(1)}()(Si(e,Go(e)))}class k8 extends O{constructor(n,t){super()}schedule(n,t=0){return this}}const sg={setInterval(e,n,...t){const{delegate:r}=sg;return r?.setInterval?r.setInterval(e,n,...t):setInterval(e,n,...t)},clearInterval(e){const{delegate:n}=sg;return(n?.clearInterval||clearInterval)(e)},delegate:void 0};class mb extends k8{constructor(n,t){super(n,t),this.scheduler=n,this.work=t,this.pending=!1}schedule(n,t=0){var r;if(this.closed)return this;this.state=n;const i=this.id,o=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(n,t,r=0){return sg.setInterval(n.flush.bind(n,this),r)}recycleAsyncId(n,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&sg.clearInterval(t)}execute(n,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(n,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,t){let i,r=!1;try{this.work(n)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:n,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,I(r,this),null!=n&&(this.id=this.recycleAsyncId(t,n,null)),this.delay=null,super.unsubscribe()}}}const gb={now:()=>(gb.delegate||Date).now(),delegate:void 0};class cf{constructor(n,t=cf.now){this.schedulerActionCtor=n,this.now=t}schedule(n,t=0,r){return new this.schedulerActionCtor(this,n).schedule(r,t)}}cf.now=gb.now;class _b extends cf{constructor(n,t=cf.now){super(n,t),this.actions=[],this._active=!1}flush(n){const{actions:t}=this;if(this._active)return void t.push(n);let r;this._active=!0;do{if(r=n.execute(n.state,n.delay))break}while(n=t.shift());if(this._active=!1,r){for(;n=t.shift();)n.unsubscribe();throw r}}}const yb=new _b(mb),A8=yb;function OI(e,n=yb){return Et((t,r)=>{let i=null,o=null,a=null;const u=()=>{if(i){i.unsubscribe(),i=null;const f=o;o=null,r.next(f)}};function h(){const f=a+e,_=n.now();if(_<f)return i=this.schedule(void 0,f-_),void r.add(i);u()}t.subscribe(Dt(r,f=>{o=f,a=n.now(),i||(i=n.schedule(h,e),r.add(i))},()=>{u(),r.complete()},void 0,()=>{o=i=null}))})}function ag(...e){const n=Go(e);return Et((t,r)=>{(n?og(e,t,n):og(e,t)).subscribe(r)})}const NI=new Set;let Sc,R8=(()=>{class e{constructor(t,r){this._platform=t,this._nonce=r,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):N8}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function O8(e,n){if(!NI.has(e))try{Sc||(Sc=document.createElement("style"),n&&(Sc.nonce=n),Sc.setAttribute("type","text/css"),document.head.appendChild(Sc)),Sc.sheet&&(Sc.sheet.insertRule(`@media ${e} {body{ }}`,0),NI.add(e))}catch(t){console.error(t)}}(t,this._nonce),this._matchMedia(t)}}return e.\u0275fac=function(t){return new(t||e)(et(Zo),et(fv,8))},e.\u0275prov=gt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function N8(e){return{matches:"all"===e||""===e,media:e,addListener:()=>{},removeListener:()=>{}}}let vb=(()=>{class e{constructor(t,r){this._mediaMatcher=t,this._zone=r,this._queries=new Map,this._destroySubject=new qe}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return FI(rg(t)).some(i=>this._registerQuery(i).mql.matches)}observe(t){let o=ig(FI(rg(t)).map(a=>this._registerQuery(a).observable));return o=og(o.pipe(_a(1)),o.pipe(PI(1),OI(0))),o.pipe(yt(a=>{const u={matches:!1,breakpoints:{}};return a.forEach(({matches:h,query:f})=>{u.matches=u.matches||h,u.breakpoints[f]=h}),u}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const r=this._mediaMatcher.matchMedia(t),o={observable:new be(a=>{const u=h=>this._zone.run(()=>a.next(h));return r.addListener(u),()=>{r.removeListener(u)}}).pipe(ag(r),yt(({matches:a})=>({query:t,matches:a})),ko(this._destroySubject)),mql:r};return this._queries.set(t,o),o}}return e.\u0275fac=function(t){return new(t||e)(et(R8),et(yn))},e.\u0275prov=gt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function FI(e){return e.map(n=>n.split(",")).reduce((n,t)=>n.concat(t)).map(n=>n.trim())}let VI=(()=>{class e{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function U8(e){return!!(e.offsetWidth||e.offsetHeight||"function"==typeof e.getClientRects&&e.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const r=function V8(e){try{return e.frameElement}catch{return null}}(function Z8(e){return e.ownerDocument&&e.ownerDocument.defaultView||window}(t));if(r&&(-1===HI(r)||!this.isVisible(r)))return!1;let i=t.nodeName.toLowerCase(),o=HI(t);return t.hasAttribute("contenteditable")?-1!==o:!("iframe"===i||"object"===i||this._platform.WEBKIT&&this._platform.IOS&&!function W8(e){let n=e.nodeName.toLowerCase(),t="input"===n&&e.type;return"text"===t||"password"===t||"select"===n||"textarea"===n}(t))&&("audio"===i?!!t.hasAttribute("controls")&&-1!==o:"video"===i?-1!==o&&(null!==o||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,r){return function Y8(e){return!function j8(e){return function q8(e){return"input"==e.nodeName.toLowerCase()}(e)&&"hidden"==e.type}(e)&&(function H8(e){let n=e.nodeName.toLowerCase();return"input"===n||"select"===n||"button"===n||"textarea"===n}(e)||function G8(e){return function $8(e){return"a"==e.nodeName.toLowerCase()}(e)&&e.hasAttribute("href")}(e)||e.hasAttribute("contenteditable")||UI(e))}(t)&&!this.isDisabled(t)&&(r?.ignoreVisibility||this.isVisible(t))}}return e.\u0275fac=function(t){return new(t||e)(et(Zo))},e.\u0275prov=gt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function UI(e){if(!e.hasAttribute("tabindex")||void 0===e.tabIndex)return!1;let n=e.getAttribute("tabindex");return!(!n||isNaN(parseInt(n,10)))}function HI(e){if(!UI(e))return null;const n=parseInt(e.getAttribute("tabindex")||"",10);return isNaN(n)?-1:n}class X8{get enabled(){return this._enabled}set enabled(n){this._enabled=n,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(n,this._startAnchor),this._toggleAnchorTabIndex(n,this._endAnchor))}constructor(n,t,r,i,o=!1){this._element=n,this._checker=t,this._ngZone=r,this._document=i,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}destroy(){const n=this._startAnchor,t=this._endAnchor;n&&(n.removeEventListener("focus",this.startAnchorListener),n.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(n){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(n)))})}focusFirstTabbableElementWhenReady(n){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(n)))})}focusLastTabbableElementWhenReady(n){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(n)))})}_getRegionBoundary(n){const t=this._element.querySelectorAll(`[cdk-focus-region-${n}], [cdkFocusRegion${n}], [cdk-focus-${n}]`);return"start"==n?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(n){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const r=this._getFirstTabbableElement(t);return r?.focus(n),!!r}return t.focus(n),!0}return this.focusFirstTabbableElement(n)}focusFirstTabbableElement(n){const t=this._getRegionBoundary("start");return t&&t.focus(n),!!t}focusLastTabbableElement(n){const t=this._getRegionBoundary("end");return t&&t.focus(n),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(n){if(this._checker.isFocusable(n)&&this._checker.isTabbable(n))return n;const t=n.children;for(let r=0;r<t.length;r++){const i=t[r].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[r]):null;if(i)return i}return null}_getLastTabbableElement(n){if(this._checker.isFocusable(n)&&this._checker.isTabbable(n))return n;const t=n.children;for(let r=t.length-1;r>=0;r--){const i=t[r].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[r]):null;if(i)return i}return null}_createAnchor(){const n=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,n),n.classList.add("cdk-visually-hidden"),n.classList.add("cdk-focus-trap-anchor"),n.setAttribute("aria-hidden","true"),n}_toggleAnchorTabIndex(n,t){n?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(n){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(n,this._startAnchor),this._toggleAnchorTabIndex(n,this._endAnchor))}_executeOnStable(n){this._ngZone.isStable?n():this._ngZone.onStable.pipe(_a(1)).subscribe(n)}}let K8=(()=>{class e{constructor(t,r,i){this._checker=t,this._ngZone=r,this._document=i}create(t,r=!1){return new X8(t,this._checker,this._ngZone,this._document,r)}}return e.\u0275fac=function(t){return new(t||e)(et(VI),et(yn),et(lr))},e.\u0275prov=gt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function jI(e){return 0===e.buttons||0===e.offsetX&&0===e.offsetY}function GI(e){const n=e.touches&&e.touches[0]||e.changedTouches&&e.changedTouches[0];return!(!n||-1!==n.identifier||null!=n.radiusX&&1!==n.radiusX||null!=n.radiusY&&1!==n.radiusY)}const Q8=new St("cdk-input-modality-detector-options"),J8={ignoreKeys:[18,17,224,91,16]},Rd=lf({passive:!0,capture:!0});let eG=(()=>{class e{get mostRecentModality(){return this._modality.value}constructor(t,r,i,o){this._platform=t,this._mostRecentTarget=null,this._modality=new $e(null),this._lastTouchMs=0,this._onKeydown=a=>{this._options?.ignoreKeys?.some(u=>u===a.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Yu(a))},this._onMousedown=a=>{Date.now()-this._lastTouchMs<650||(this._modality.next(jI(a)?"keyboard":"mouse"),this._mostRecentTarget=Yu(a))},this._onTouchstart=a=>{GI(a)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Yu(a))},this._options={...J8,...o},this.modalityDetected=this._modality.pipe(PI(1)),this.modalityChanged=this.modalityDetected.pipe(il()),t.isBrowser&&r.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,Rd),i.addEventListener("mousedown",this._onMousedown,Rd),i.addEventListener("touchstart",this._onTouchstart,Rd)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Rd),document.removeEventListener("mousedown",this._onMousedown,Rd),document.removeEventListener("touchstart",this._onTouchstart,Rd))}}return e.\u0275fac=function(t){return new(t||e)(et(Zo),et(yn),et(lr),et(Q8,8))},e.\u0275prov=gt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const tG=new St("liveAnnouncerElement",{providedIn:"root",factory:function nG(){return null}}),rG=new St("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let iG=0,$I=(()=>{class e{constructor(t,r,i,o){this._ngZone=r,this._defaultOptions=o,this._document=i,this._liveElement=t||this._createLiveElement()}announce(t,...r){const i=this._defaultOptions;let o,a;return 1===r.length&&"number"==typeof r[0]?a=r[0]:[o,a]=r,this.clear(),clearTimeout(this._previousTimeout),o||(o=i&&i.politeness?i.politeness:"polite"),null==a&&i&&(a=i.duration),this._liveElement.setAttribute("aria-live",o),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(u=>this._currentResolve=u)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,"number"==typeof a&&(this._previousTimeout=setTimeout(()=>this.clear(),a)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const t="cdk-live-announcer-element",r=this._document.getElementsByClassName(t),i=this._document.createElement("div");for(let o=0;o<r.length;o++)r[o].remove();return i.classList.add(t),i.classList.add("cdk-visually-hidden"),i.setAttribute("aria-atomic","true"),i.setAttribute("aria-live","polite"),i.id="cdk-live-announcer-"+iG++,this._document.body.appendChild(i),i}_exposeAnnouncerToModals(t){const r=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let i=0;i<r.length;i++){const o=r[i],a=o.getAttribute("aria-owns");a?-1===a.indexOf(t)&&o.setAttribute("aria-owns",a+" "+t):o.setAttribute("aria-owns",t)}}}return e.\u0275fac=function(t){return new(t||e)(et(tG,8),et(yn),et(lr),et(rG,8))},e.\u0275prov=gt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const oG=new St("cdk-focus-monitor-default-options"),lg=lf({passive:!0,capture:!0});let WI=(()=>{class e{constructor(t,r,i,o,a){this._ngZone=t,this._platform=r,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new qe,this._rootNodeFocusAndBlurListener=u=>{for(let f=Yu(u);f;f=f.parentElement)"focus"===u.type?this._onFocus(u,f):this._onBlur(u,f)},this._document=o,this._detectionMode=a?.detectionMode||0}monitor(t,r=!1){const i=Zu(t);if(!this._platform.isBrowser||1!==i.nodeType)return Vt();const o=function p8(e){if(function f8(){if(null==hb){const e=typeof document<"u"?document.head:null;hb=!(!e||!e.createShadowRoot&&!e.attachShadow)}return hb}()){const n=e.getRootNode?e.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&n instanceof ShadowRoot)return n}return null}(i)||this._getDocument(),a=this._elementInfo.get(i);if(a)return r&&(a.checkChildren=!0),a.subject;const u={checkChildren:r,subject:new qe,rootNode:o};return this._elementInfo.set(i,u),this._registerGlobalListeners(u),u.subject}stopMonitoring(t){const r=Zu(t),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(t,r,i){const o=Zu(t);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([u,h])=>this._originChanged(u,r,h)):(this._setOrigin(r),"function"==typeof o.focus&&o.focus(i))}ngOnDestroy(){this._elementInfo.forEach((t,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,r){t.classList.toggle("cdk-focused",!!r),t.classList.toggle("cdk-touch-focused","touch"===r),t.classList.toggle("cdk-keyboard-focused","keyboard"===r),t.classList.toggle("cdk-mouse-focused","mouse"===r),t.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(t,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,r){const i=this._elementInfo.get(r),o=Yu(t);!i||!i.checkChildren&&r!==o||this._originChanged(r,this._getFocusOrigin(o),i)}_onBlur(t,r){const i=this._elementInfo.get(r);!i||i.checkChildren&&t.relatedTarget instanceof Node&&r.contains(t.relatedTarget)||(this._setClasses(r),this._emitOrigin(i,null))}_emitOrigin(t,r){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(r))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const r=t.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,lg),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,lg)}),this._rootNodeFocusListenerCount.set(r,i+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(ko(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(t){const r=t.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,lg),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,lg),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,r,i){this._setClasses(t,r),this._emitOrigin(i,r),this._lastFocusOrigin=r}_getClosestElementsInfo(t){const r=[];return this._elementInfo.forEach((i,o)=>{(o===t||i.checkChildren&&o.contains(t))&&r.push([o,i])}),r}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:r,mostRecentModality:i}=this._inputModalityDetector;if("mouse"!==i||!r||r===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const o=t.labels;if(o)for(let a=0;a<o.length;a++)if(o[a].contains(r))return!0;return!1}}return e.\u0275fac=function(t){return new(t||e)(et(yn),et(Zo),et(eG),et(lr,8),et(oG,8))},e.\u0275prov=gt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const YI="cdk-high-contrast-black-on-white",ZI="cdk-high-contrast-white-on-black",bb="cdk-high-contrast-active";let sG=(()=>{class e{constructor(t,r){this._platform=t,this._document=r,this._breakpointSubscription=Mt(vb).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,o=(i&&i.backgroundColor||"").replace(/ /g,"");switch(t.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(bb,YI,ZI),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?t.add(bb,YI):2===r&&t.add(bb,ZI)}}}return e.\u0275fac=function(t){return new(t||e)(et(Zo),et(lr))},e.\u0275prov=gt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const aG=new St("cdk-dir-doc",{providedIn:"root",factory:function lG(){return Mt(lr)}}),uG=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let df=(()=>{class e{constructor(t){this.value="ltr",this.change=new pn,t&&(this.value=function cG(e){const n=e?.toLowerCase()||"";return"auto"===n&&typeof navigator<"u"&&navigator?.language?uG.test(navigator.language)?"rtl":"ltr":"rtl"===n?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return e.\u0275fac=function(t){return new(t||e)(et(aG,8))},e.\u0275prov=gt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),hf=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=wn({type:e}),e.\u0275inj=zn({}),e})();const hG=new St("mat-sanity-checks",{providedIn:"root",factory:function dG(){return!0}});let us=(()=>{class e{constructor(t,r,i){this._sanityChecks=r,this._document=i,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!fb()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return e.\u0275fac=function(t){return new(t||e)(et(sG),et(hG,8),et(lr))},e.\u0275mod=wn({type:e}),e.\u0275inj=zn({imports:[hf,hf]}),e})();function fG(e){return class extends e{get disabled(){return this._disabled}set disabled(n){this._disabled=Zs(n)}constructor(...n){super(...n),this._disabled=!1}}}function wb(e,n){return class extends e{get color(){return this._color}set color(t){const r=t||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}constructor(...t){super(...t),this.defaultColor=n,this.color=n}}}function pG(e){return class extends e{get disableRipple(){return this._disableRipple}set disableRipple(n){this._disableRipple=Zs(n)}constructor(...n){super(...n),this._disableRipple=!1}}}function mG(e){return class extends e{updateErrorState(){const n=this.errorState,o=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);o!==n&&(this.errorState=o,this.stateChanges.next())}constructor(...n){super(...n),this.errorState=!1}}}let _G=(()=>{class e{isErrorState(t,r){return!!(t&&t.invalid&&(t.touched||r&&r.submitted))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=gt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();class yG{constructor(n,t,r,i=!1){this._renderer=n,this.element=t,this.config=r,this._animationForciblyDisabledThroughCss=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const QI=lf({passive:!0,capture:!0});class vG{constructor(){this._events=new Map,this._delegateEventHandler=n=>{const t=Yu(n);t&&this._events.get(n.type)?.forEach((r,i)=>{(i===t||i.contains(t))&&r.forEach(o=>o.handleEvent(n))})}}addHandler(n,t,r,i){const o=this._events.get(t);if(o){const a=o.get(r);a?a.add(i):o.set(r,new Set([i]))}else this._events.set(t,new Map([[r,new Set([i])]])),n.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,QI)})}removeHandler(n,t,r){const i=this._events.get(n);if(!i)return;const o=i.get(t);o&&(o.delete(r),0===o.size&&i.delete(t),0===i.size&&(this._events.delete(n),document.removeEventListener(n,this._delegateEventHandler,QI)))}}const JI={enterDuration:225,exitDuration:150},eP=lf({passive:!0,capture:!0}),tP=["mousedown","touchstart"],nP=["mouseup","mouseleave","touchend","touchcancel"];class Od{constructor(n,t,r,i){this._target=n,this._ngZone=t,this._platform=i,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=Zu(r))}fadeInRipple(n,t,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...JI,...r.animation};r.centered&&(n=i.left+i.width/2,t=i.top+i.height/2);const a=r.radius||function wG(e,n,t){const r=Math.max(Math.abs(e-t.left),Math.abs(e-t.right)),i=Math.max(Math.abs(n-t.top),Math.abs(n-t.bottom));return Math.sqrt(r*r+i*i)}(n,t,i),u=n-i.left,h=t-i.top,f=o.enterDuration,_=document.createElement("div");_.classList.add("mat-ripple-element"),_.style.left=u-a+"px",_.style.top=h-a+"px",_.style.height=2*a+"px",_.style.width=2*a+"px",null!=r.color&&(_.style.backgroundColor=r.color),_.style.transitionDuration=`${f}ms`,this._containerElement.appendChild(_);const b=window.getComputedStyle(_),D=b.transitionDuration,q="none"===b.transitionProperty||"0s"===D||"0s, 0s"===D||0===i.width&&0===i.height,j=new yG(this,_,r,q);_.style.transform="scale3d(1, 1, 1)",j.state=0,r.persistent||(this._mostRecentTransientRipple=j);let ae=null;return!q&&(f||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const se=()=>this._finishRippleTransition(j),K=()=>this._destroyRipple(j);_.addEventListener("transitionend",se),_.addEventListener("transitioncancel",K),ae={onTransitionEnd:se,onTransitionCancel:K}}),this._activeRipples.set(j,ae),(q||!f)&&this._finishRippleTransition(j),j}fadeOutRipple(n){if(2===n.state||3===n.state)return;const t=n.element,r={...JI,...n.config.animation};t.style.transitionDuration=`${r.exitDuration}ms`,t.style.opacity="0",n.state=2,(n._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(n)}fadeOutAll(){this._getActiveRipples().forEach(n=>n.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(n=>{n.config.persistent||n.fadeOut()})}setupTriggerEvents(n){const t=Zu(n);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,tP.forEach(r=>{Od._eventManager.addHandler(this._ngZone,r,t,this)}))}handleEvent(n){"mousedown"===n.type?this._onMousedown(n):"touchstart"===n.type?this._onTouchStart(n):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{nP.forEach(t=>{this._triggerElement.addEventListener(t,this,eP)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(n){0===n.state?this._startFadeOutTransition(n):2===n.state&&this._destroyRipple(n)}_startFadeOutTransition(n){const t=n===this._mostRecentTransientRipple,{persistent:r}=n.config;n.state=1,!r&&(!t||!this._isPointerDown)&&n.fadeOut()}_destroyRipple(n){const t=this._activeRipples.get(n)??null;this._activeRipples.delete(n),this._activeRipples.size||(this._containerRect=null),n===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),n.state=3,null!==t&&(n.element.removeEventListener("transitionend",t.onTransitionEnd),n.element.removeEventListener("transitioncancel",t.onTransitionCancel)),n.element.remove()}_onMousedown(n){const t=jI(n),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!r&&(this._isPointerDown=!0,this.fadeInRipple(n.clientX,n.clientY,this._target.rippleConfig))}_onTouchStart(n){if(!this._target.rippleDisabled&&!GI(n)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=n.changedTouches;if(t)for(let r=0;r<t.length;r++)this.fadeInRipple(t[r].clientX,t[r].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(n=>{!n.config.persistent&&(1===n.state||n.config.terminateOnPointerUp&&0===n.state)&&n.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const n=this._triggerElement;n&&(tP.forEach(t=>Od._eventManager.removeHandler(t,n,this)),this._pointerUpEventsRegistered&&nP.forEach(t=>n.removeEventListener(t,this,eP)))}}Od._eventManager=new vG;const rP=new St("mat-ripple-global-options");let xG=(()=>{class e{get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}constructor(t,r,i,o,a){this._elementRef=t,this._animationMode=a,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new Od(this,r,t,i)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,r=0,i){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,r,{...this.rippleConfig,...i}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}}return e.\u0275fac=function(t){return new(t||e)(Be(or),Be(yn),Be(Zo),Be(rP,8),Be(_u,8))},e.\u0275dir=_t({type:e,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,r){2&t&&Xi("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),e})(),EG=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=wn({type:e}),e.\u0275inj=zn({imports:[us,us]}),e})();const CG=["*"],IG=new St("MAT_CARD_CONFIG");let xb=(()=>{class e{constructor(t){this.appearance=t?.appearance||"raised"}}return e.\u0275fac=function(t){return new(t||e)(Be(IG,8))},e.\u0275cmp=Dn({type:e,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(t,r){2&t&&Xi("mat-mdc-card-outlined","outlined"===r.appearance)("mdc-card--outlined","outlined"===r.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:CG,decls:1,vars:0,template:function(t,r){1&t&&(Ls(),_r(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{color:rgba(0, 0, 0, 0.6);flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mdc-card__action--icon:not(:disabled){color:rgba(0, 0, 0, 0.6)}.mat-mdc-card{border-radius:var(--mdc-elevated-card-container-shape);background-color:var(--mdc-elevated-card-container-color);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color);box-shadow:var(--mdc-elevated-card-container-elevation);--mdc-elevated-card-container-shape:4px;--mdc-outlined-card-container-shape:4px;--mdc-outlined-card-outline-width:1px}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape)}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width);border-style:solid;border-color:var(--mdc-outlined-card-outline-color);border-radius:var(--mdc-outlined-card-container-shape);background-color:var(--mdc-outlined-card-container-color);box-shadow:var(--mdc-outlined-card-container-elevation)}.mat-mdc-card-outlined .mdc-card::after{border-radius:var(--mdc-outlined-card-container-shape)}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font);line-height:var(--mat-card-title-text-line-height);font-size:var(--mat-card-title-text-size);letter-spacing:var(--mat-card-title-text-tracking);font-weight:var(--mat-card-title-text-weight)}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color);font-family:var(--mat-card-subtitle-text-font);line-height:var(--mat-card-subtitle-text-line-height);font-size:var(--mat-card-subtitle-text-size);letter-spacing:var(--mat-card-subtitle-text-tracking);font-weight:var(--mat-card-subtitle-text-weight)}.mat-mdc-card{position:relative}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0}),e})(),PG=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=wn({type:e}),e.\u0275inj=zn({imports:[us,nf,us]}),e})();function iP(e){return!!e&&(e instanceof be||F(e.lift)&&F(e.subscribe))}const ug=w(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function oP(e){return new be(n=>{ri(e()).subscribe(n)})}function Nd(e,n){const t=F(e)?e:()=>e,r=i=>i.error(t());return new be(n?i=>n.schedule(r,0,i):r)}function Eb(){return Et((e,n)=>{let t=null;e._refCount++;const r=Dt(n,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(t=null);const i=e._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),n.unsubscribe()});e.subscribe(r),r.closed||(t=e.connect())})}class Cb extends be{constructor(n,t){super(),this.source=n,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Rt(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){const n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new O;const t=this.getSubject();n.add(this.source.subscribe(Dt(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),n.closed&&(this._connection=null,n=O.EMPTY)}return n}refCount(){return Eb()(this)}}function cg(e){return Et((n,t)=>{let r=!1;n.subscribe(Dt(t,i=>{r=!0,t.next(i)},()=>{r||t.next(e),t.complete()}))})}function sP(e=TG){return Et((n,t)=>{let r=!1;n.subscribe(Dt(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(e())))})}function TG(){return new ug}function yl(e,n){const t=arguments.length>=2;return r=>r.pipe(e?ys((i,o)=>e(i,o,r)):We,_a(1),t?cg(n):sP(()=>new ug))}function Fd(e,n){return F(n)?zi(e,n,1):zi(e,1)}function Ps(e,n,t){const r=F(e)||n||t?{next:e,error:n,complete:t}:e;return r?Et((i,o)=>{var a;null===(a=r.subscribe)||void 0===a||a.call(r);let u=!0;i.subscribe(Dt(o,h=>{var f;null===(f=r.next)||void 0===f||f.call(r,h),o.next(h)},()=>{var h;u=!1,null===(h=r.complete)||void 0===h||h.call(r),o.complete()},h=>{var f;u=!1,null===(f=r.error)||void 0===f||f.call(r,h),o.error(h)},()=>{var h,f;u&&(null===(h=r.unsubscribe)||void 0===h||h.call(r)),null===(f=r.finalize)||void 0===f||f.call(r)}))}):We}function Xu(e){return Et((n,t)=>{let o,r=null,i=!1;r=n.subscribe(Dt(t,void 0,void 0,a=>{o=ri(e(a,Xu(e)(n))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function Mb(e){return e<=0?()=>Kn:Et((n,t)=>{let r=[];n.subscribe(Dt(t,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Db(e){return yt(()=>e)}function Bd(e){return Et((n,t)=>{try{n.subscribe(t)}finally{t.add(e)}})}const cr="primary",pf=Symbol("RouteTitle");class OG{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const t=this.params[n];return Array.isArray(t)?t[0]:t}return null}getAll(n){if(this.has(n)){const t=this.params[n];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function zd(e){return new OG(e)}function NG(e,n,t){const r=t.path.split("/");if(r.length>e.length||"full"===t.pathMatch&&(n.hasChildren()||r.length<e.length))return null;const i={};for(let o=0;o<r.length;o++){const a=r[o],u=e[o];if(a.startsWith(":"))i[a.substring(1)]=u;else if(a!==u.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function ru(e,n){const t=e?Object.keys(e):void 0,r=n?Object.keys(n):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!aP(e[i],n[i]))return!1;return!0}function aP(e,n){if(Array.isArray(e)&&Array.isArray(n)){if(e.length!==n.length)return!1;const t=[...e].sort(),r=[...n].sort();return t.every((i,o)=>r[o]===i)}return e===n}function lP(e){return e.length>0?e[e.length-1]:null}function Ku(e){return iP(e)?e:jh(e)?Si(Promise.resolve(e)):Vt(e)}const BG={exact:function dP(e,n,t){if(!Lc(e.segments,n.segments)||!dg(e.segments,n.segments,t)||e.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children)if(!e.children[r]||!dP(e.children[r],n.children[r],t))return!1;return!0},subset:hP},uP={exact:function zG(e,n){return ru(e,n)},subset:function VG(e,n){return Object.keys(n).length<=Object.keys(e).length&&Object.keys(n).every(t=>aP(e[t],n[t]))},ignored:()=>!0};function cP(e,n,t){return BG[t.paths](e.root,n.root,t.matrixParams)&&uP[t.queryParams](e.queryParams,n.queryParams)&&!("exact"===t.fragment&&e.fragment!==n.fragment)}function hP(e,n,t){return fP(e,n,n.segments,t)}function fP(e,n,t,r){if(e.segments.length>t.length){const i=e.segments.slice(0,t.length);return!(!Lc(i,t)||n.hasChildren()||!dg(i,t,r))}if(e.segments.length===t.length){if(!Lc(e.segments,t)||!dg(e.segments,t,r))return!1;for(const i in n.children)if(!e.children[i]||!hP(e.children[i],n.children[i],r))return!1;return!0}{const i=t.slice(0,e.segments.length),o=t.slice(e.segments.length);return!!(Lc(e.segments,i)&&dg(e.segments,i,r)&&e.children[cr])&&fP(e.children[cr],n,o,r)}}function dg(e,n,t){return n.every((r,i)=>uP[t](e[i].parameters,r.parameters))}class Vd{constructor(n=new Fi([],{}),t={},r=null){this.root=n,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=zd(this.queryParams)),this._queryParamMap}toString(){return jG.serialize(this)}}class Fi{constructor(n,t){this.segments=n,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return hg(this)}}class mf{constructor(n,t){this.path=n,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=zd(this.parameters)),this._parameterMap}toString(){return gP(this)}}function Lc(e,n){return e.length===n.length&&e.every((t,r)=>t.path===n[r].path)}let gf=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=gt({token:e,factory:function(){return new Sb},providedIn:"root"}),e})();class Sb{parse(n){const t=new e6(n);return new Vd(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(n){const t=`/${_f(n.root,!0)}`,r=function $G(e){const n=Object.keys(e).map(t=>{const r=e[t];return Array.isArray(r)?r.map(i=>`${fg(t)}=${fg(i)}`).join("&"):`${fg(t)}=${fg(r)}`}).filter(t=>!!t);return n.length?`?${n.join("&")}`:""}(n.queryParams);return`${t}${r}${"string"==typeof n.fragment?`#${function GG(e){return encodeURI(e)}(n.fragment)}`:""}`}}const jG=new Sb;function hg(e){return e.segments.map(n=>gP(n)).join("/")}function _f(e,n){if(!e.hasChildren())return hg(e);if(n){const t=e.children[cr]?_f(e.children[cr],!1):"",r=[];return Object.entries(e.children).forEach(([i,o])=>{i!==cr&&r.push(`${i}:${_f(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function HG(e,n){let t=[];return Object.entries(e.children).forEach(([r,i])=>{r===cr&&(t=t.concat(n(i,r)))}),Object.entries(e.children).forEach(([r,i])=>{r!==cr&&(t=t.concat(n(i,r)))}),t}(e,(r,i)=>i===cr?[_f(e.children[cr],!1)]:[`${i}:${_f(r,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[cr]?`${hg(e)}/${t[0]}`:`${hg(e)}/(${t.join("//")})`}}function pP(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function fg(e){return pP(e).replace(/%3B/gi,";")}function Lb(e){return pP(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function pg(e){return decodeURIComponent(e)}function mP(e){return pg(e.replace(/\+/g,"%20"))}function gP(e){return`${Lb(e.path)}${function qG(e){return Object.keys(e).map(n=>`;${Lb(n)}=${Lb(e[n])}`).join("")}(e.parameters)}`}const WG=/^[^\/()?;#]+/;function Ib(e){const n=e.match(WG);return n?n[0]:""}const YG=/^[^\/()?;=#]+/,XG=/^[^=?&#]+/,QG=/^[^&#]+/;class e6{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Fi([],{}):new Fi([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(n.length>0||Object.keys(t).length>0)&&(r[cr]=new Fi(n,t)),r}parseSegment(){const n=Ib(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new nt(4009,!1);return this.capture(n),new mf(pg(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const t=function ZG(e){const n=e.match(YG);return n?n[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Ib(this.remaining);i&&(r=i,this.capture(r))}n[pg(t)]=pg(r)}parseQueryParam(n){const t=function KG(e){const n=e.match(XG);return n?n[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const a=function JG(e){const n=e.match(QG);return n?n[0]:""}(this.remaining);a&&(r=a,this.capture(r))}const i=mP(t),o=mP(r);if(n.hasOwnProperty(i)){let a=n[i];Array.isArray(a)||(a=[a],n[i]=a),a.push(o)}else n[i]=o}parseParens(n){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Ib(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new nt(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):n&&(o=cr);const a=this.parseChildren();t[o]=1===Object.keys(a).length?a[cr]:new Fi([],a),this.consumeOptional("//")}return t}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new nt(4011,!1)}}function _P(e){return e.segments.length>0?new Fi([],{[cr]:e}):e}function yP(e){const n={};for(const r of Object.keys(e.children)){const o=yP(e.children[r]);if(r===cr&&0===o.segments.length&&o.hasChildren())for(const[a,u]of Object.entries(o.children))n[a]=u;else(o.segments.length>0||o.hasChildren())&&(n[r]=o)}return function t6(e){if(1===e.numberOfChildren&&e.children[cr]){const n=e.children[cr];return new Fi(e.segments.concat(n.segments),n.children)}return e}(new Fi(e.segments,n))}function Ic(e){return e instanceof Vd}function vP(e){let n;const i=_P(function t(o){const a={};for(const h of o.children){const f=t(h);a[h.outlet]=f}const u=new Fi(o.url,a);return o===e&&(n=u),u}(e.root));return n??i}function bP(e,n,t,r){let i=e;for(;i.parent;)i=i.parent;if(0===n.length)return Pb(i,i,i,t,r);const o=function r6(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new xP(!0,0,e);let n=0,t=!1;const r=e.reduce((i,o,a)=>{if("object"==typeof o&&null!=o){if(o.outlets){const u={};return Object.entries(o.outlets).forEach(([h,f])=>{u[h]="string"==typeof f?f.split("/"):f}),[...i,{outlets:u}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===a?(o.split("/").forEach((u,h)=>{0==h&&"."===u||(0==h&&""===u?t=!0:".."===u?n++:""!=u&&i.push(u))}),i):[...i,o]},[]);return new xP(t,n,r)}(n);if(o.toRoot())return Pb(i,i,new Fi([],{}),t,r);const a=function i6(e,n,t){if(e.isAbsolute)return new gg(n,!0,0);if(!t)return new gg(n,!1,NaN);if(null===t.parent)return new gg(t,!0,0);const r=mg(e.commands[0])?0:1;return function o6(e,n,t){let r=e,i=n,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new nt(4005,!1);i=r.segments.length}return new gg(r,!1,i-o)}(t,t.segments.length-1+r,e.numberOfDoubleDots)}(o,i,e),u=a.processChildren?vf(a.segmentGroup,a.index,o.commands):EP(a.segmentGroup,a.index,o.commands);return Pb(i,a.segmentGroup,u,t,r)}function mg(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function yf(e){return"object"==typeof e&&null!=e&&e.outlets}function Pb(e,n,t,r,i){let a,o={};r&&Object.entries(r).forEach(([h,f])=>{o[h]=Array.isArray(f)?f.map(_=>`${_}`):`${f}`}),a=e===n?t:wP(e,n,t);const u=_P(yP(a));return new Vd(u,o,i)}function wP(e,n,t){const r={};return Object.entries(e.children).forEach(([i,o])=>{r[i]=o===n?t:wP(o,n,t)}),new Fi(e.segments,r)}class xP{constructor(n,t,r){if(this.isAbsolute=n,this.numberOfDoubleDots=t,this.commands=r,n&&r.length>0&&mg(r[0]))throw new nt(4003,!1);const i=r.find(yf);if(i&&i!==lP(r))throw new nt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class gg{constructor(n,t,r){this.segmentGroup=n,this.processChildren=t,this.index=r}}function EP(e,n,t){if(e||(e=new Fi([],{})),0===e.segments.length&&e.hasChildren())return vf(e,n,t);const r=function a6(e,n,t){let r=0,i=n;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=t.length)return o;const a=e.segments[i],u=t[r];if(yf(u))break;const h=`${u}`,f=r<t.length-1?t[r+1]:null;if(i>0&&void 0===h)break;if(h&&f&&"object"==typeof f&&void 0===f.outlets){if(!MP(h,f,a))return o;r+=2}else{if(!MP(h,{},a))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,n,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const o=new Fi(e.segments.slice(0,r.pathIndex),{});return o.children[cr]=new Fi(e.segments.slice(r.pathIndex),e.children),vf(o,0,i)}return r.match&&0===i.length?new Fi(e.segments,{}):r.match&&!e.hasChildren()?Tb(e,n,t):r.match?vf(e,0,i):Tb(e,n,t)}function vf(e,n,t){if(0===t.length)return new Fi(e.segments,{});{const r=function s6(e){return yf(e[0])?e[0].outlets:{[cr]:e}}(t),i={};if(!r[cr]&&e.children[cr]&&1===e.numberOfChildren&&0===e.children[cr].segments.length){const o=vf(e.children[cr],n,t);return new Fi(e.segments,o.children)}return Object.entries(r).forEach(([o,a])=>{"string"==typeof a&&(a=[a]),null!==a&&(i[o]=EP(e.children[o],n,a))}),Object.entries(e.children).forEach(([o,a])=>{void 0===r[o]&&(i[o]=a)}),new Fi(e.segments,i)}}function Tb(e,n,t){const r=e.segments.slice(0,n);let i=0;for(;i<t.length;){const o=t[i];if(yf(o)){const h=l6(o.outlets);return new Fi(r,h)}if(0===i&&mg(t[0])){r.push(new mf(e.segments[n].path,CP(t[0]))),i++;continue}const a=yf(o)?o.outlets[cr]:`${o}`,u=i<t.length-1?t[i+1]:null;a&&u&&mg(u)?(r.push(new mf(a,CP(u))),i+=2):(r.push(new mf(a,{})),i++)}return new Fi(r,{})}function l6(e){const n={};return Object.entries(e).forEach(([t,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(n[t]=Tb(new Fi([],{}),0,r))}),n}function CP(e){const n={};return Object.entries(e).forEach(([t,r])=>n[t]=`${r}`),n}function MP(e,n,t){return e==t.path&&ru(n,t.parameters)}const bf="imperative";class iu{constructor(n,t){this.id=n,this.url=t}}class kb extends iu{constructor(n,t,r="imperative",i=null){super(n,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Pc extends iu{constructor(n,t,r){super(n,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class _g extends iu{constructor(n,t,r,i){super(n,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class wf extends iu{constructor(n,t,r,i){super(n,t),this.reason=r,this.code=i,this.type=16}}class Ab extends iu{constructor(n,t,r,i){super(n,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class u6 extends iu{constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class c6 extends iu{constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class d6 extends iu{constructor(n,t,r,i,o){super(n,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class h6 extends iu{constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class f6 extends iu{constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class p6{constructor(n){this.route=n,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class m6{constructor(n){this.route=n,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class g6{constructor(n){this.snapshot=n,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _6{constructor(n){this.snapshot=n,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class y6{constructor(n){this.snapshot=n,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class v6{constructor(n){this.snapshot=n,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class DP{constructor(n,t,r){this.routerEvent=n,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class b6{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new xf,this.attachRef=null}}let xf=(()=>{class e{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new b6,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=gt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();class SP{constructor(n){this._root=n}get root(){return this._root.value}parent(n){const t=this.pathFromRoot(n);return t.length>1?t[t.length-2]:null}children(n){const t=Rb(n,this._root);return t?t.children.map(r=>r.value):[]}firstChild(n){const t=Rb(n,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(n){const t=Ob(n,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==n)}pathFromRoot(n){return Ob(n,this._root).map(t=>t.value)}}function Rb(e,n){if(e===n.value)return n;for(const t of n.children){const r=Rb(e,t);if(r)return r}return null}function Ob(e,n){if(e===n.value)return[n];for(const t of n.children){const r=Ob(e,t);if(r.length)return r.unshift(n),r}return[]}class Mu{constructor(n,t){this.value=n,this.children=t}toString(){return`TreeNode(${this.value})`}}function Ud(e){const n={};return e&&e.children.forEach(t=>n[t.value.outlet]=t),n}class LP extends SP{constructor(n,t){super(n),this.snapshot=t,Nb(this,n)}toString(){return this.snapshot.toString()}}function IP(e,n){const t=function w6(e,n){const a=new yg([],{},{},"",{},cr,n,null,{});return new TP("",new Mu(a,[]))}(0,n),r=new $e([new mf("",{})]),i=new $e({}),o=new $e({}),a=new $e({}),u=new $e(""),h=new Za(r,i,a,u,o,cr,n,t.root);return h.snapshot=t.root,new LP(new Mu(h,[]),t)}class Za{constructor(n,t,r,i,o,a,u,h){this.urlSubject=n,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=a,this.component=u,this._futureSnapshot=h,this.title=this.dataSubject?.pipe(yt(f=>f[pf]))??Vt(void 0),this.url=n,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(yt(n=>zd(n)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(yt(n=>zd(n)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function PP(e,n="emptyOnly"){const t=e.pathFromRoot;let r=0;if("always"!==n)for(r=t.length-1;r>=1;){const i=t[r],o=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function x6(e){return e.reduce((n,t)=>({params:{...n.params,...t.params},data:{...n.data,...t.data},resolve:{...t.data,...n.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class yg{get title(){return this.data?.[pf]}constructor(n,t,r,i,o,a,u,h,f){this.url=n,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=a,this.component=u,this.routeConfig=h,this._resolve=f}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=zd(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=zd(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class TP extends SP{constructor(n,t){super(t),this.url=n,Nb(this,t)}toString(){return kP(this._root)}}function Nb(e,n){n.value._routerState=e,n.children.forEach(t=>Nb(e,t))}function kP(e){const n=e.children.length>0?` { ${e.children.map(kP).join(", ")} } `:"";return`${e.value}${n}`}function Fb(e){if(e.snapshot){const n=e.snapshot,t=e._futureSnapshot;e.snapshot=t,ru(n.queryParams,t.queryParams)||e.queryParamsSubject.next(t.queryParams),n.fragment!==t.fragment&&e.fragmentSubject.next(t.fragment),ru(n.params,t.params)||e.paramsSubject.next(t.params),function FG(e,n){if(e.length!==n.length)return!1;for(let t=0;t<e.length;++t)if(!ru(e[t],n[t]))return!1;return!0}(n.url,t.url)||e.urlSubject.next(t.url),ru(n.data,t.data)||e.dataSubject.next(t.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function Bb(e,n){const t=ru(e.params,n.params)&&function UG(e,n){return Lc(e,n)&&e.every((t,r)=>ru(t.parameters,n[r].parameters))}(e.url,n.url);return t&&!(!e.parent!=!n.parent)&&(!e.parent||Bb(e.parent,n.parent))}let zb=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=cr,this.activateEvents=new pn,this.deactivateEvents=new pn,this.attachEvents=new pn,this.detachEvents=new pn,this.parentContexts=Mt(xf),this.location=Mt(Ys),this.changeDetector=Mt(tu),this.environmentInjector=Mt(ql),this.inputBinder=Mt(vg,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new nt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new nt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new nt(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new nt(4013,!1);this._activatedRoute=t;const i=this.location,a=t.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,h=new E6(t,u,i.injector);this.activated=i.createComponent(a,{index:i.length,injector:h,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=_t({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[ps]}),e})();class E6{constructor(n,t,r){this.route=n,this.childContexts=t,this.parent=r}get(n,t){return n===Za?this.route:n===xf?this.childContexts:this.parent.get(n,t)}}const vg=new St("");let AP=(()=>{class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:r}=t,i=ig([r.queryParams,r.params,r.data]).pipe(nn(([o,a,u],h)=>(u={...o,...a,...u},0===h?Vt(u):Promise.resolve(u)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(t);const a=function V4(e){const n=fr(e);if(!n)return null;const t=new Fh(n);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}(r.component);if(a)for(const{templateName:u}of a.inputs)t.activatedComponentRef.setInput(u,o[u]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,i)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=gt({token:e,factory:e.\u0275fac}),e})();function Ef(e,n,t){if(t&&e.shouldReuseRoute(n.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=n.value;const i=function M6(e,n,t){return n.children.map(r=>{for(const i of t.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return Ef(e,r,i);return Ef(e,r)})}(e,n,t);return new Mu(r,i)}{if(e.shouldAttach(n.value)){const o=e.retrieve(n.value);if(null!==o){const a=o.route;return a.value._futureSnapshot=n.value,a.children=n.children.map(u=>Ef(e,u)),a}}const r=function D6(e){return new Za(new $e(e.url),new $e(e.params),new $e(e.queryParams),new $e(e.fragment),new $e(e.data),e.outlet,e.component,e)}(n.value),i=n.children.map(o=>Ef(e,o));return new Mu(r,i)}}const Vb="ngNavigationCancelingError";function RP(e,n){const{redirectTo:t,navigationBehaviorOptions:r}=Ic(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,i=OP(!1,0,n);return i.url=t,i.navigationBehaviorOptions=r,i}function OP(e,n,t){const r=new Error("NavigationCancelingError: "+(e||""));return r[Vb]=!0,r.cancellationCode=n,t&&(r.url=t),r}function NP(e){return FP(e)&&Ic(e.url)}function FP(e){return e&&e[Vb]}let BP=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Dn({type:e,selectors:[["ng-component"]],standalone:!0,features:[aS],decls:1,vars:0,template:function(t,r){1&t&&Ni(0,"router-outlet")},dependencies:[zb],encapsulation:2}),e})();function Ub(e){const n=e.children&&e.children.map(Ub),t=n?{...e,children:n}:{...e};return!t.component&&!t.loadComponent&&(n||t.loadChildren)&&t.outlet&&t.outlet!==cr&&(t.component=BP),t}function Pl(e){return e.outlet||cr}function Cf(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let n=e.parent;n;n=n.parent){const t=n.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class A6{constructor(n,t,r,i,o){this.routeReuseStrategy=n,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(n){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,n),Fb(this.futureState.root),this.activateChildRoutes(t,r,n)}deactivateChildRoutes(n,t,r){const i=Ud(t);n.children.forEach(o=>{const a=o.value.outlet;this.deactivateRoutes(o,i[a],r),delete i[a]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(n,t,r){const i=n.value,o=t?t.value:null;if(i===o)if(i.component){const a=r.getContext(i.outlet);a&&this.deactivateChildRoutes(n,t,a.children)}else this.deactivateChildRoutes(n,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(n,t){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,t):this.deactivateRouteAndOutlet(n,t)}detachAndStoreRouteSubtree(n,t){const r=t.getContext(n.value.outlet),i=r&&n.value.component?r.children:t,o=Ud(n);for(const a of Object.keys(o))this.deactivateRouteAndItsChildren(o[a],i);if(r&&r.outlet){const a=r.outlet.detach(),u=r.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:a,route:n,contexts:u})}}deactivateRouteAndOutlet(n,t){const r=t.getContext(n.value.outlet),i=r&&n.value.component?r.children:t,o=Ud(n);for(const a of Object.keys(o))this.deactivateRouteAndItsChildren(o[a],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(n,t,r){const i=Ud(t);n.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new v6(o.value.snapshot))}),n.children.length&&this.forwardEvent(new _6(n.value.snapshot))}activateRoutes(n,t,r){const i=n.value,o=t?t.value:null;if(Fb(i),i===o)if(i.component){const a=r.getOrCreateContext(i.outlet);this.activateChildRoutes(n,t,a.children)}else this.activateChildRoutes(n,t,r);else if(i.component){const a=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const u=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),a.children.onOutletReAttached(u.contexts),a.attachRef=u.componentRef,a.route=u.route.value,a.outlet&&a.outlet.attach(u.componentRef,u.route.value),Fb(u.route.value),this.activateChildRoutes(n,null,a.children)}else{const u=Cf(i.snapshot);a.attachRef=null,a.route=i,a.injector=u,a.outlet&&a.outlet.activateWith(i,a.injector),this.activateChildRoutes(n,null,a.children)}}else this.activateChildRoutes(n,null,r)}}class zP{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class bg{constructor(n,t){this.component=n,this.route=t}}function R6(e,n,t){const r=e._root;return Mf(r,n?n._root:null,t,[r.value])}function Hd(e,n){const t=Symbol(),r=n.get(e,t);return r===t?"function"!=typeof e||function Yi(e){return null!==al(e)}(e)?n.get(e):e:r}function Mf(e,n,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=Ud(n);return e.children.forEach(a=>{(function N6(e,n,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=e.value,a=n?n.value:null,u=t?t.getContext(e.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){const h=function F6(e,n,t){if("function"==typeof t)return t(e,n);switch(t){case"pathParamsChange":return!Lc(e.url,n.url);case"pathParamsOrQueryParamsChange":return!Lc(e.url,n.url)||!ru(e.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Bb(e,n)||!ru(e.queryParams,n.queryParams);default:return!Bb(e,n)}}(a,o,o.routeConfig.runGuardsAndResolvers);h?i.canActivateChecks.push(new zP(r)):(o.data=a.data,o._resolvedData=a._resolvedData),Mf(e,n,o.component?u?u.children:null:t,r,i),h&&u&&u.outlet&&u.outlet.isActivated&&i.canDeactivateChecks.push(new bg(u.outlet.component,a))}else a&&Df(n,u,i),i.canActivateChecks.push(new zP(r)),Mf(e,null,o.component?u?u.children:null:t,r,i)})(a,o[a.value.outlet],t,r.concat([a.value]),i),delete o[a.value.outlet]}),Object.entries(o).forEach(([a,u])=>Df(u,t.getContext(a),i)),i}function Df(e,n,t){const r=Ud(e),i=e.value;Object.entries(r).forEach(([o,a])=>{Df(a,i.component?n?n.children.getContext(o):null:n,t)}),t.canDeactivateChecks.push(new bg(i.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,i))}function Sf(e){return"function"==typeof e}function VP(e){return e instanceof ug||"EmptyError"===e?.name}const wg=Symbol("INITIAL_VALUE");function jd(){return nn(e=>ig(e.map(n=>n.pipe(_a(1),ag(wg)))).pipe(yt(n=>{for(const t of n)if(!0!==t){if(t===wg)return wg;if(!1===t||t instanceof Vd)return t}return!0}),ys(n=>n!==wg),_a(1)))}function UP(e){return function we(...e){return Me(e)}(Ps(n=>{if(Ic(n))throw RP(0,n)}),yt(n=>!0===n))}class xg{constructor(n){this.segmentGroup=n||null}}class HP{constructor(n){this.urlTree=n}}function Gd(e){return Nd(new xg(e))}function jP(e){return Nd(new HP(e))}class rq{constructor(n,t){this.urlSerializer=n,this.urlTree=t}noMatchError(n){return new nt(4002,!1)}lineralizeSegments(n,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Vt(r);if(i.numberOfChildren>1||!i.children[cr])return Nd(new nt(4e3,!1));i=i.children[cr]}}applyRedirectCommands(n,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),n,r)}applyRedirectCreateUrlTree(n,t,r,i){const o=this.createSegmentGroup(n,t.root,r,i);return new Vd(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(n,t){const r={};return Object.entries(n).forEach(([i,o])=>{if("string"==typeof o&&o.startsWith(":")){const u=o.substring(1);r[i]=t[u]}else r[i]=o}),r}createSegmentGroup(n,t,r,i){const o=this.createSegments(n,t.segments,r,i);let a={};return Object.entries(t.children).forEach(([u,h])=>{a[u]=this.createSegmentGroup(n,h,r,i)}),new Fi(o,a)}createSegments(n,t,r,i){return t.map(o=>o.path.startsWith(":")?this.findPosParam(n,o,i):this.findOrReturn(o,r))}findPosParam(n,t,r){const i=r[t.path.substring(1)];if(!i)throw new nt(4001,!1);return i}findOrReturn(n,t){let r=0;for(const i of t){if(i.path===n.path)return t.splice(r),i;r++}return n}}const Hb={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function iq(e,n,t,r,i){const o=jb(e,n,t);return o.matched?(r=function S6(e,n){return e.providers&&!e._injector&&(e._injector=s0(e.providers,n,`Route: ${e.path}`)),e._injector??n}(n,r),function eq(e,n,t,r){const i=n.canMatch;return i&&0!==i.length?Vt(i.map(a=>{const u=Hd(a,e);return Ku(function j6(e){return e&&Sf(e.canMatch)}(u)?u.canMatch(n,t):e.runInContext(()=>u(n,t)))})).pipe(jd(),UP()):Vt(!0)}(r,n,t).pipe(yt(a=>!0===a?o:{...Hb}))):Vt(o)}function jb(e,n,t){if(""===n.path)return"full"===n.pathMatch&&(e.hasChildren()||t.length>0)?{...Hb}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(n.matcher||NG)(t,e,n);if(!i)return{...Hb};const o={};Object.entries(i.posParams??{}).forEach(([u,h])=>{o[u]=h.path});const a=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:a,positionalParamSegments:i.posParams??{}}}function GP(e,n,t,r){return t.length>0&&function aq(e,n,t){return t.some(r=>Eg(e,n,r)&&Pl(r)!==cr)}(e,t,r)?{segmentGroup:new Fi(n,sq(r,new Fi(t,e.children))),slicedSegments:[]}:0===t.length&&function lq(e,n,t){return t.some(r=>Eg(e,n,r))}(e,t,r)?{segmentGroup:new Fi(e.segments,oq(e,0,t,r,e.children)),slicedSegments:t}:{segmentGroup:new Fi(e.segments,e.children),slicedSegments:t}}function oq(e,n,t,r,i){const o={};for(const a of r)if(Eg(e,t,a)&&!i[Pl(a)]){const u=new Fi([],{});o[Pl(a)]=u}return{...i,...o}}function sq(e,n){const t={};t[cr]=n;for(const r of e)if(""===r.path&&Pl(r)!==cr){const i=new Fi([],{});t[Pl(r)]=i}return t}function Eg(e,n,t){return(!(e.hasChildren()||n.length>0)||"full"!==t.pathMatch)&&""===t.path}class hq{constructor(n,t,r,i,o,a,u){this.injector=n,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=a,this.urlSerializer=u,this.allowRedirects=!0,this.applyRedirects=new rq(this.urlSerializer,this.urlTree)}noMatchError(n){return new nt(4002,!1)}recognize(){const n=GP(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,n,cr).pipe(Xu(t=>{if(t instanceof HP)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof xg?this.noMatchError(t):t}),yt(t=>{const r=new yg([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},cr,this.rootComponentType,null,{}),i=new Mu(r,t),o=new TP("",i),a=function n6(e,n,t=null,r=null){return bP(vP(e),n,t,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return a.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(a),this.inheritParamsAndData(o._root),{state:o,tree:a}}))}match(n){return this.processSegmentGroup(this.injector,this.config,n.root,cr).pipe(Xu(r=>{throw r instanceof xg?this.noMatchError(r):r}))}inheritParamsAndData(n){const t=n.value,r=PP(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),n.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(n,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(n,t,r):this.processSegment(n,t,r,r.segments,i,!0)}processChildren(n,t,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return Si(i).pipe(Fd(o=>{const a=r.children[o],u=function T6(e,n){const t=e.filter(r=>Pl(r)===n);return t.push(...e.filter(r=>Pl(r)!==n)),t}(t,o);return this.processSegmentGroup(n,u,a,o)}),function AG(e,n){return Et(function kG(e,n,t,r,i){return(o,a)=>{let u=t,h=n,f=0;o.subscribe(Dt(a,_=>{const b=f++;h=u?e(h,_,b):(u=!0,_),r&&a.next(h)},i&&(()=>{u&&a.next(h),a.complete()})))}}(e,n,arguments.length>=2,!0))}((o,a)=>(o.push(...a),o)),cg(null),function RG(e,n){const t=arguments.length>=2;return r=>r.pipe(e?ys((i,o)=>e(i,o,r)):We,Mb(1),t?cg(n):sP(()=>new ug))}(),zi(o=>{if(null===o)return Gd(r);const a=qP(o);return function fq(e){e.sort((n,t)=>n.value.outlet===cr?-1:t.value.outlet===cr?1:n.value.outlet.localeCompare(t.value.outlet))}(a),Vt(a)}))}processSegment(n,t,r,i,o,a){return Si(t).pipe(Fd(u=>this.processSegmentAgainstRoute(u._injector??n,t,u,r,i,o,a).pipe(Xu(h=>{if(h instanceof xg)return Vt(null);throw h}))),yl(u=>!!u),Xu(u=>{if(VP(u))return function cq(e,n,t){return 0===n.length&&!e.children[t]}(r,i,o)?Vt([]):Gd(r);throw u}))}processSegmentAgainstRoute(n,t,r,i,o,a,u){return function uq(e,n,t,r){return!!(Pl(e)===r||r!==cr&&Eg(n,t,e))&&("**"===e.path||jb(n,e,t).matched)}(r,i,o,a)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(n,i,r,o,a,u):u&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(n,i,t,r,o,a):Gd(i):Gd(i)}expandSegmentAgainstRouteUsingRedirect(n,t,r,i,o,a){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(n,r,i,a):this.expandRegularSegmentAgainstRouteUsingRedirect(n,t,r,i,o,a)}expandWildCardWithParamsAgainstRouteUsingRedirect(n,t,r,i){const o=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?jP(o):this.applyRedirects.lineralizeSegments(r,o).pipe(zi(a=>{const u=new Fi(a,{});return this.processSegment(n,t,u,a,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(n,t,r,i,o,a){const{matched:u,consumedSegments:h,remainingSegments:f,positionalParamSegments:_}=jb(t,i,o);if(!u)return Gd(t);const b=this.applyRedirects.applyRedirectCommands(h,i.redirectTo,_);return i.redirectTo.startsWith("/")?jP(b):this.applyRedirects.lineralizeSegments(i,b).pipe(zi(C=>this.processSegment(n,r,t,C.concat(f),a,!1)))}matchSegmentAgainstRoute(n,t,r,i,o,a){let u;if("**"===r.path){const h=i.length>0?lP(i).parameters:{};u=Vt({snapshot:new yg(i,h,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,$P(r),Pl(r),r.component??r._loadedComponent??null,r,WP(r)),consumedSegments:[],remainingSegments:[]}),t.children={}}else u=iq(t,r,i,n).pipe(yt(({matched:h,consumedSegments:f,remainingSegments:_,parameters:b})=>h?{snapshot:new yg(f,b,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,$P(r),Pl(r),r.component??r._loadedComponent??null,r,WP(r)),consumedSegments:f,remainingSegments:_}:null));return u.pipe(nn(h=>null===h?Gd(t):this.getChildConfig(n=r._injector??n,r,i).pipe(nn(({routes:f})=>{const _=r._loadedInjector??n,{snapshot:b,consumedSegments:C,remainingSegments:D}=h,{segmentGroup:q,slicedSegments:j}=GP(t,C,D,f);if(0===j.length&&q.hasChildren())return this.processChildren(_,f,q).pipe(yt(se=>null===se?null:[new Mu(b,se)]));if(0===f.length&&0===j.length)return Vt([new Mu(b,[])]);const ae=Pl(r)===o;return this.processSegment(_,f,q,j,ae?cr:o,!0).pipe(yt(se=>[new Mu(b,se)]))}))))}getChildConfig(n,t,r){return t.children?Vt({routes:t.children,injector:n}):t.loadChildren?void 0!==t._loadedRoutes?Vt({routes:t._loadedRoutes,injector:t._loadedInjector}):function J6(e,n,t,r){const i=n.canLoad;return void 0===i||0===i.length?Vt(!0):Vt(i.map(a=>{const u=Hd(a,e);return Ku(function z6(e){return e&&Sf(e.canLoad)}(u)?u.canLoad(n,t):e.runInContext(()=>u(n,t)))})).pipe(jd(),UP())}(n,t,r).pipe(zi(i=>i?this.configLoader.loadChildren(n,t).pipe(Ps(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):function nq(e){return Nd(OP(!1,3))}())):Vt({routes:[],injector:n})}}function pq(e){const n=e.value.routeConfig;return n&&""===n.path}function qP(e){const n=[],t=new Set;for(const r of e){if(!pq(r)){n.push(r);continue}const i=n.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):n.push(r)}for(const r of t){const i=qP(r.children);n.push(new Mu(r.value,i))}return n.filter(r=>!t.has(r))}function $P(e){return e.data||{}}function WP(e){return e.resolve||{}}function YP(e){return"string"==typeof e.title||null===e.title}function Gb(e){return nn(n=>{const t=e(n);return t?Si(t).pipe(yt(()=>n)):Vt(n)})}const qd=new St("ROUTES");let qb=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=Mt(KS)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Vt(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Ku(t.loadComponent()).pipe(yt(ZP),Ps(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),Bd(()=>{this.componentLoaders.delete(t)})),i=new Cb(r,()=>new qe).pipe(Eb());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Vt({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(yt(u=>{this.onLoadEndListener&&this.onLoadEndListener(r);let h,f;return Array.isArray(u)?f=u:(h=u.create(t).injector,f=h.get(qd,[],Qn.Self|Qn.Optional).flat()),{routes:f.map(Ub),injector:h}}),Bd(()=>{this.childrenLoaders.delete(r)})),a=new Cb(o,()=>new qe).pipe(Eb());return this.childrenLoaders.set(r,a),a}loadModuleFactoryOrRoutes(t){return Ku(t()).pipe(yt(ZP),zi(r=>r instanceof oS||Array.isArray(r)?Vt(r):Si(this.compiler.compileModuleAsync(r))))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=gt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function ZP(e){return function wq(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let Cg=(()=>{class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new qe,this.configLoader=Mt(qb),this.environmentInjector=Mt(ql),this.urlSerializer=Mt(gf),this.rootContexts=Mt(xf),this.inputBindingEnabled=null!==Mt(vg,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Vt(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new m6(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new p6(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new $e({id:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:bf,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ys(r=>0!==r.id),yt(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),nn(r=>{let i=!1,o=!1;return Vt(r).pipe(Ps(a=>{this.currentNavigation={id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),nn(a=>{const u=t.browserUrlTree.toString(),h=!t.navigated||a.extractedUrl.toString()!==u||u!==t.currentUrlTree.toString();if(!h&&"reload"!==(a.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const _="";return this.events.next(new wf(a.id,t.serializeUrl(r.rawUrl),_,0)),t.rawUrlTree=a.rawUrl,a.resolve(null),Kn}if(t.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return XP(a.source)&&(t.browserUrlTree=a.extractedUrl),Vt(a).pipe(nn(_=>{const b=this.transitions?.getValue();return this.events.next(new kb(_.id,this.urlSerializer.serialize(_.extractedUrl),_.source,_.restoredState)),b!==this.transitions?.getValue()?Kn:Promise.resolve(_)}),function mq(e,n,t,r,i,o){return zi(a=>function dq(e,n,t,r,i,o,a="emptyOnly"){return new hq(e,n,t,r,i,a,o).recognize()}(e,n,t,r,a.extractedUrl,i,o).pipe(yt(({state:u,tree:h})=>({...a,targetSnapshot:u,urlAfterRedirects:h}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),Ps(_=>{if(r.targetSnapshot=_.targetSnapshot,r.urlAfterRedirects=_.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:_.urlAfterRedirects},"eager"===t.urlUpdateStrategy){if(!_.extras.skipLocationChange){const C=t.urlHandlingStrategy.merge(_.urlAfterRedirects,_.rawUrl);t.setBrowserUrl(C,_)}t.browserUrlTree=_.urlAfterRedirects}const b=new u6(_.id,this.urlSerializer.serialize(_.extractedUrl),this.urlSerializer.serialize(_.urlAfterRedirects),_.targetSnapshot);this.events.next(b)}));if(h&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:_,extractedUrl:b,source:C,restoredState:D,extras:q}=a,j=new kb(_,this.urlSerializer.serialize(b),C,D);this.events.next(j);const ae=IP(0,this.rootComponentType).snapshot;return Vt(r={...a,targetSnapshot:ae,urlAfterRedirects:b,extras:{...q,skipLocationChange:!1,replaceUrl:!1}})}{const _="";return this.events.next(new wf(a.id,t.serializeUrl(r.extractedUrl),_,1)),t.rawUrlTree=a.rawUrl,a.resolve(null),Kn}}),Ps(a=>{const u=new c6(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}),yt(a=>r={...a,guards:R6(a.targetSnapshot,a.currentSnapshot,this.rootContexts)}),function q6(e,n){return zi(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:a}}=t;return 0===a.length&&0===o.length?Vt({...t,guardsResult:!0}):function $6(e,n,t,r){return Si(e).pipe(zi(i=>function Q6(e,n,t,r,i){const o=n&&n.routeConfig?n.routeConfig.canDeactivate:null;return o&&0!==o.length?Vt(o.map(u=>{const h=Cf(n)??i,f=Hd(u,h);return Ku(function H6(e){return e&&Sf(e.canDeactivate)}(f)?f.canDeactivate(e,n,t,r):h.runInContext(()=>f(e,n,t,r))).pipe(yl())})).pipe(jd()):Vt(!0)}(i.component,i.route,t,n,r)),yl(i=>!0!==i,!0))}(a,r,i,e).pipe(zi(u=>u&&function B6(e){return"boolean"==typeof e}(u)?function W6(e,n,t,r){return Si(n).pipe(Fd(i=>og(function Z6(e,n){return null!==e&&n&&n(new g6(e)),Vt(!0)}(i.route.parent,r),function Y6(e,n){return null!==e&&n&&n(new y6(e)),Vt(!0)}(i.route,r),function K6(e,n,t){const r=n[n.length-1],o=n.slice(0,n.length-1).reverse().map(a=>function O6(e){const n=e.routeConfig?e.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:e,guards:n}:null}(a)).filter(a=>null!==a).map(a=>oP(()=>Vt(a.guards.map(h=>{const f=Cf(a.node)??t,_=Hd(h,f);return Ku(function U6(e){return e&&Sf(e.canActivateChild)}(_)?_.canActivateChild(r,e):f.runInContext(()=>_(r,e))).pipe(yl())})).pipe(jd())));return Vt(o).pipe(jd())}(e,i.path,t),function X6(e,n,t){const r=n.routeConfig?n.routeConfig.canActivate:null;if(!r||0===r.length)return Vt(!0);const i=r.map(o=>oP(()=>{const a=Cf(n)??t,u=Hd(o,a);return Ku(function V6(e){return e&&Sf(e.canActivate)}(u)?u.canActivate(n,e):a.runInContext(()=>u(n,e))).pipe(yl())}));return Vt(i).pipe(jd())}(e,i.route,t))),yl(i=>!0!==i,!0))}(r,o,e,n):Vt(u)),yt(u=>({...t,guardsResult:u})))})}(this.environmentInjector,a=>this.events.next(a)),Ps(a=>{if(r.guardsResult=a.guardsResult,Ic(a.guardsResult))throw RP(0,a.guardsResult);const u=new d6(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.events.next(u)}),ys(a=>!!a.guardsResult||(t.restoreHistory(a),this.cancelNavigationTransition(a,"",3),!1)),Gb(a=>{if(a.guards.canActivateChecks.length)return Vt(a).pipe(Ps(u=>{const h=new h6(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(h)}),nn(u=>{let h=!1;return Vt(u).pipe(function gq(e,n){return zi(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return Vt(t);let o=0;return Si(i).pipe(Fd(a=>function _q(e,n,t,r){const i=e.routeConfig,o=e._resolve;return void 0!==i?.title&&!YP(i)&&(o[pf]=i.title),function yq(e,n,t,r){const i=function vq(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}(e);if(0===i.length)return Vt({});const o={};return Si(i).pipe(zi(a=>function bq(e,n,t,r){const i=Cf(n)??r,o=Hd(e,i);return Ku(o.resolve?o.resolve(n,t):i.runInContext(()=>o(n,t)))}(e[a],n,t,r).pipe(yl(),Ps(u=>{o[a]=u}))),Mb(1),Db(o),Xu(a=>VP(a)?Kn:Nd(a)))}(o,e,n,r).pipe(yt(a=>(e._resolvedData=a,e.data=PP(e,t).resolve,i&&YP(i)&&(e.data[pf]=i.title),null)))}(a.route,r,e,n)),Ps(()=>o++),Mb(1),zi(a=>o===i.length?Vt(t):Kn))})}(t.paramsInheritanceStrategy,this.environmentInjector),Ps({next:()=>h=!0,complete:()=>{h||(t.restoreHistory(u),this.cancelNavigationTransition(u,"",2))}}))}),Ps(u=>{const h=new f6(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(h)}))}),Gb(a=>{const u=h=>{const f=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(h.routeConfig).pipe(Ps(_=>{h.component=_}),yt(()=>{})));for(const _ of h.children)f.push(...u(_));return f};return ig(u(a.targetSnapshot.root)).pipe(cg(),_a(1))}),Gb(()=>this.afterPreactivation()),yt(a=>{const u=function C6(e,n,t){const r=Ef(e,n._root,t?t._root:void 0);return new LP(r,n)}(t.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return r={...a,targetRouterState:u}}),Ps(a=>{t.currentUrlTree=a.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),t.routerState=a.targetRouterState,"deferred"===t.urlUpdateStrategy&&(a.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,a),t.browserUrlTree=a.urlAfterRedirects)}),((e,n,t,r)=>yt(i=>(new A6(n,i.targetRouterState,i.currentRouterState,t,r).activate(e),i)))(this.rootContexts,t.routeReuseStrategy,a=>this.events.next(a),this.inputBindingEnabled),_a(1),Ps({next:a=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new Pc(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(a.targetRouterState.snapshot),a.resolve(!0)},complete:()=>{i=!0}}),Bd(()=>{i||o||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Xu(a=>{if(o=!0,FP(a)){NP(a)||(t.navigated=!0,t.restoreHistory(r,!0));const u=new _g(r.id,this.urlSerializer.serialize(r.extractedUrl),a.message,a.cancellationCode);if(this.events.next(u),NP(a)){const h=t.urlHandlingStrategy.merge(a.url,t.rawUrlTree),f={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||XP(r.source)};t.scheduleNavigation(h,bf,null,f,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const u=new Ab(r.id,this.urlSerializer.serialize(r.extractedUrl),a,r.targetSnapshot??void 0);this.events.next(u);try{r.resolve(t.errorHandler(a))}catch(h){r.reject(h)}}return Kn}))}))}cancelNavigationTransition(t,r,i){const o=new _g(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=gt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function XP(e){return e!==bf}let KP=(()=>{class e{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===cr);return r}getResolvedTitleForRoute(t){return t.data[pf]}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=gt({token:e,factory:function(){return Mt(xq)},providedIn:"root"}),e})(),xq=(()=>{class e extends KP{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return e.\u0275fac=function(t){return new(t||e)(et(xI))},e.\u0275prov=gt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Eq=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=gt({token:e,factory:function(){return Mt(Mq)},providedIn:"root"}),e})();class Cq{shouldDetach(n){return!1}store(n,t){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,t){return n.routeConfig===t.routeConfig}}let Mq=(()=>{class e extends Cq{}return e.\u0275fac=function(){let n;return function(r){return(n||(n=ni(e)))(r||e)}}(),e.\u0275prov=gt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Mg=new St("",{providedIn:"root",factory:()=>({})});let Dq=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=gt({token:e,factory:function(){return Mt(Sq)},providedIn:"root"}),e})(),Sq=(()=>{class e{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=gt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var Lf=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(Lf||{});function QP(e,n){e.events.pipe(ys(t=>t instanceof Pc||t instanceof _g||t instanceof Ab||t instanceof wf),yt(t=>t instanceof Pc||t instanceof wf?Lf.COMPLETE:t instanceof _g&&(0===t.code||1===t.code)?Lf.REDIRECTING:Lf.FAILED),ys(t=>t!==Lf.REDIRECTING),_a(1)).subscribe(()=>{n()})}function Lq(e){throw e}function Iq(e,n,t){return n.parse("/")}const Pq={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Tq={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ts=(()=>{class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=Mt(XS),this.isNgZoneEnabled=!1,this.options=Mt(Mg,{optional:!0})||{},this.pendingTasks=Mt(Om),this.errorHandler=this.options.errorHandler||Lq,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Iq,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=Mt(Dq),this.routeReuseStrategy=Mt(Eq),this.titleStrategy=Mt(KP),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Mt(qd,{optional:!0})?.flat()??[],this.navigationTransitions=Mt(Cg),this.urlSerializer=Mt(gf),this.location=Mt(Um),this.componentInputBindingEnabled=!!Mt(vg,{optional:!0}),this.isNgZoneEnabled=Mt(yn)instanceof yn&&yn.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Vd,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=IP(0,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId??0},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),bf,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const o={replaceUrl:!0},a=i?.navigationId?i:null;if(i){const h={...i};delete h.navigationId,delete h.\u0275routerPageId,0!==Object.keys(h).length&&(o.state=h)}const u=this.parseUrl(t);this.scheduleNavigation(u,r,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Ub),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:o,fragment:a,queryParamsHandling:u,preserveFragment:h}=r,f=h?this.currentUrlTree.fragment:a;let b,_=null;switch(u){case"merge":_={...this.currentUrlTree.queryParams,...o};break;case"preserve":_=this.currentUrlTree.queryParams;break;default:_=o||null}null!==_&&(_=this.removeEmptyProps(_));try{b=vP(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),b=this.currentUrlTree.root}return bP(b,t,_,f??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Ic(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,bf,null,r)}navigate(t,r={skipLocationChange:!1}){return function kq(e){for(let n=0;n<e.length;n++)if(null==e[n])throw new nt(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...Pq}:!1===r?{...Tq}:r,Ic(t))return cP(this.currentUrlTree,t,i);const o=this.parseUrl(t);return cP(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const o=t[i];return null!=o&&(r[i]=o),r},{})}scheduleNavigation(t,r,i,o,a){if(this.disposed)return Promise.resolve(!1);let u,h,f;a?(u=a.resolve,h=a.reject,f=a.promise):f=new Promise((b,C)=>{u=b,h=C});const _=this.pendingTasks.add();return QP(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(_))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:u,reject:h,promise:f,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),f.catch(b=>Promise.reject(b))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const a={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",a)}else{const o={...r.extras.state,...this.generateNgRouterState(r.id,(this.browserPageId??0)+1)};this.location.go(i,"",o)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-(this.browserPageId??this.currentPageId);0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=gt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();class JP{}let Oq=(()=>{class e{constructor(t,r,i,o,a){this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(ys(t=>t instanceof Pc),Fd(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const o of r){o.providers&&!o._injector&&(o._injector=s0(o.providers,t,`Route: ${o.path}`));const a=o._injector??t,u=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(u,o.children??o._loadedRoutes))}return Si(i).pipe(Gr())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):Vt(null);const o=i.pipe(zi(a=>null===a?Vt(void 0):(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,this.processRoutes(a.injector??t,a.routes))));return r.loadComponent&&!r._loadedComponent?Si([o,this.loader.loadComponent(r)]).pipe(Gr()):o})}}return e.\u0275fac=function(t){return new(t||e)(et(Ts),et(KS),et(ql),et(JP),et(qb))},e.\u0275prov=gt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Wb=new St("");let eT=(()=>{class e{constructor(t,r,i,o,a={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof kb?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Pc?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof wf&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof DP&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new DP(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return e.\u0275fac=function(t){Dv()},e.\u0275prov=gt({token:e,factory:e.\u0275fac}),e})();function Du(e,n){return{\u0275kind:e,\u0275providers:n}}function nT(){const e=Mt($s);return n=>{const t=e.get(qu);if(n!==t.components[0])return;const r=e.get(Ts),i=e.get(rT);1===e.get(Yb)&&r.initialNavigation(),e.get(iT,null,Qn.Optional)?.setUpPreloading(),e.get(Wb,null,Qn.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const rT=new St("",{factory:()=>new qe}),Yb=new St("",{providedIn:"root",factory:()=>1}),iT=new St("");function zq(e){return Du(0,[{provide:iT,useExisting:Oq},{provide:JP,useExisting:e}])}const oT=new St("ROUTER_FORROOT_GUARD"),Uq=[Um,{provide:gf,useClass:Sb},Ts,xf,{provide:Za,useFactory:function tT(e){return e.routerState.root},deps:[Ts]},qb,[]];function Hq(){return new lL("Router",Ts)}let Zb=(()=>{class e{constructor(t){}static forRoot(t,r){return{ngModule:e,providers:[Uq,[],{provide:qd,multi:!0,useValue:t},{provide:oT,useFactory:$q,deps:[[Ts,new mc,new bh]]},{provide:Mg,useValue:r||{}},r?.useHash?{provide:Cc,useClass:q4}:{provide:Cc,useClass:NL},{provide:Wb,useFactory:()=>{const e=Mt(f5),n=Mt(yn),t=Mt(Mg),r=Mt(Cg),i=Mt(gf);return t.scrollOffset&&e.setOffset(t.scrollOffset),new eT(i,r,e,n,t)}},r?.preloadingStrategy?zq(r.preloadingStrategy).\u0275providers:[],{provide:lL,multi:!0,useFactory:Hq},r?.initialNavigation?Wq(r):[],r?.bindToComponentInputs?Du(8,[AP,{provide:vg,useExisting:AP}]).\u0275providers:[],[{provide:sT,useFactory:nT},{provide:I0,multi:!0,useExisting:sT}]]}}static forChild(t){return{ngModule:e,providers:[{provide:qd,multi:!0,useValue:t}]}}}return e.\u0275fac=function(t){return new(t||e)(et(oT,8))},e.\u0275mod=wn({type:e}),e.\u0275inj=zn({}),e})();function $q(e){return"guarded"}function Wq(e){return["disabled"===e.initialNavigation?Du(3,[{provide:w0,multi:!0,useFactory:()=>{const n=Mt(Ts);return()=>{n.setUpLocationChangeListener()}}},{provide:Yb,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?Du(2,[{provide:Yb,useValue:0},{provide:w0,multi:!0,deps:[$s],useFactory:n=>{const t=n.get(j4,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=n.get(Ts),o=n.get(rT);QP(i,()=>{r(!0)}),n.get(Cg).afterPreactivation=()=>(r(!0),o.closed?Vt(void 0):o),i.initialNavigation()}))}}]).\u0275providers:[]]}const sT=new St("");class Dg{}class Sg{}class Tl{constructor(n){this.normalizedNames=new Map,this.lazyUpdate=null,n?"string"==typeof n?this.lazyInit=()=>{this.headers=new Map,n.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),o=i.toLowerCase(),a=t.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(a):this.headers.set(o,[a])}})}:typeof Headers<"u"&&n instanceof Headers?(this.headers=new Map,n.forEach((t,r)=>{this.setHeaderEntries(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(n).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();const t=this.headers.get(n.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,t){return this.clone({name:n,value:t,op:"a"})}set(n,t){return this.clone({name:n,value:t,op:"s"})}delete(n,t){return this.clone({name:n,value:t,op:"d"})}maybeSetNormalizedName(n,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,n)}init(){this.lazyInit&&(this.lazyInit instanceof Tl?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(t=>{this.headers.set(t,n.headers.get(t)),this.normalizedNames.set(t,n.normalizedNames.get(t))})}clone(n){const t=new Tl;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Tl?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([n]),t}applyUpdate(n){const t=n.name.toLowerCase();switch(n.op){case"a":case"s":let r=n.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(n.name,t);const i=("a"===n.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const o=n.value;if(o){let a=this.headers.get(t);if(!a)return;a=a.filter(u=>-1===o.indexOf(u)),0===a.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,a)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(n,t){const r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=n.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(n,i)}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>n(this.normalizedNames.get(t),this.headers.get(t)))}}class Zq{encodeKey(n){return aT(n)}encodeValue(n){return aT(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}}const Kq=/%(\d[a-f0-9])/gi,Qq={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function aT(e){return encodeURIComponent(e).replace(Kq,(n,t)=>Qq[t]??n)}function Lg(e){return`${e}`}class Qu{constructor(n={}){if(this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new Zq,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Xq(e,n){const t=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(i=>{const o=i.indexOf("="),[a,u]=-1==o?[n.decodeKey(i),""]:[n.decodeKey(i.slice(0,o)),n.decodeValue(i.slice(o+1))],h=t.get(a)||[];h.push(u),t.set(a,h)}),t}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(t=>{const r=n.fromObject[t],i=Array.isArray(r)?r.map(Lg):[Lg(r)];this.map.set(t,i)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();const t=this.map.get(n);return t?t[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,t){return this.clone({param:n,value:t,op:"a"})}appendAll(n){const t=[];return Object.keys(n).forEach(r=>{const i=n[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(n,t){return this.clone({param:n,value:t,op:"s"})}delete(n,t){return this.clone({param:n,value:t,op:"d"})}toString(){return this.init(),this.keys().map(n=>{const t=this.encoder.encodeKey(n);return this.map.get(n).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(n=>""!==n).join("&")}clone(n){const t=new Qu({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(n),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":const t=("a"===n.op?this.map.get(n.param):void 0)||[];t.push(Lg(n.value)),this.map.set(n.param,t);break;case"d":if(void 0===n.value){this.map.delete(n.param);break}{let r=this.map.get(n.param)||[];const i=r.indexOf(Lg(n.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(n.param,r):this.map.delete(n.param)}}}),this.cloneFrom=this.updates=null)}}class Jq{constructor(){this.map=new Map}set(n,t){return this.map.set(n,t),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}}function lT(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function uT(e){return typeof Blob<"u"&&e instanceof Blob}function cT(e){return typeof FormData<"u"&&e instanceof FormData}class If{constructor(n,t,r,i){let o;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=n.toUpperCase(),function e$(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new Tl),this.context||(this.context=new Jq),this.params){const a=this.params.toString();if(0===a.length)this.urlWithParams=t;else{const u=t.indexOf("?");this.urlWithParams=t+(-1===u?"?":u<t.length-1?"&":"")+a}}else this.params=new Qu,this.urlWithParams=t}serializeBody(){return null===this.body?null:lT(this.body)||uT(this.body)||cT(this.body)||function t$(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Qu?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||cT(this.body)?null:uT(this.body)?this.body.type||null:lT(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Qu?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(n={}){const t=n.method||this.method,r=n.url||this.url,i=n.responseType||this.responseType,o=void 0!==n.body?n.body:this.body,a=void 0!==n.withCredentials?n.withCredentials:this.withCredentials,u=void 0!==n.reportProgress?n.reportProgress:this.reportProgress;let h=n.headers||this.headers,f=n.params||this.params;const _=n.context??this.context;return void 0!==n.setHeaders&&(h=Object.keys(n.setHeaders).reduce((b,C)=>b.set(C,n.setHeaders[C]),h)),n.setParams&&(f=Object.keys(n.setParams).reduce((b,C)=>b.set(C,n.setParams[C]),f)),new If(t,r,o,{params:f,headers:h,context:_,reportProgress:u,responseType:i,withCredentials:a})}}var $d=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}($d||{});class Xb{constructor(n,t=200,r="OK"){this.headers=n.headers||new Tl,this.status=void 0!==n.status?n.status:t,this.statusText=n.statusText||r,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}}class Kb extends Xb{constructor(n={}){super(n),this.type=$d.ResponseHeader}clone(n={}){return new Kb({headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class Wd extends Xb{constructor(n={}){super(n),this.type=$d.Response,this.body=void 0!==n.body?n.body:null}clone(n={}){return new Wd({body:void 0!==n.body?n.body:this.body,headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class dT extends Xb{constructor(n){super(n,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${n.url||"(unknown url)"}`:`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}}function Qb(e,n){return{body:n,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}let Pf=(()=>{class e{constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof If)o=t;else{let h,f;h=i.headers instanceof Tl?i.headers:new Tl(i.headers),i.params&&(f=i.params instanceof Qu?i.params:new Qu({fromObject:i.params})),o=new If(t,r,void 0!==i.body?i.body:null,{headers:h,context:i.context,params:f,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const a=Vt(o).pipe(Fd(h=>this.handler.handle(h)));if(t instanceof If||"events"===i.observe)return a;const u=a.pipe(ys(h=>h instanceof Wd));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return u.pipe(yt(h=>{if(null!==h.body&&!(h.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return h.body}));case"blob":return u.pipe(yt(h=>{if(null!==h.body&&!(h.body instanceof Blob))throw new Error("Response is not a Blob.");return h.body}));case"text":return u.pipe(yt(h=>{if(null!==h.body&&"string"!=typeof h.body)throw new Error("Response is not a string.");return h.body}));default:return u.pipe(yt(h=>h.body))}case"response":return u;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new Qu).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,Qb(i,r))}post(t,r,i={}){return this.request("POST",t,Qb(i,r))}put(t,r,i={}){return this.request("PUT",t,Qb(i,r))}}return e.\u0275fac=function(t){return new(t||e)(et(Dg))},e.\u0275prov=gt({token:e,factory:e.\u0275fac}),e})();function pT(e,n){return n(e)}function r$(e,n){return(t,r)=>n.intercept(t,{handle:i=>e(i,r)})}const o$=new St(""),Tf=new St(""),mT=new St("");function s$(){let e=null;return(n,t)=>{null===e&&(e=(Mt(o$,{optional:!0})??[]).reduceRight(r$,pT));const r=Mt(Om),i=r.add();return e(n,t).pipe(Bd(()=>r.remove(i)))}}let gT=(()=>{class e extends Dg{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null,this.pendingTasks=Mt(Om)}handle(t){if(null===this.chain){const i=Array.from(new Set([...this.injector.get(Tf),...this.injector.get(mT,[])]));this.chain=i.reduceRight((o,a)=>function i$(e,n,t){return(r,i)=>t.runInContext(()=>n(r,o=>e(o,i)))}(o,a,this.injector),pT)}const r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(Bd(()=>this.pendingTasks.remove(r)))}}return e.\u0275fac=function(t){return new(t||e)(et(Sg),et(ql))},e.\u0275prov=gt({token:e,factory:e.\u0275fac}),e})();const c$=/^\)\]\}',?\n/;let yT=(()=>{class e{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new nt(-2800,!1);const r=this.xhrFactory;return(r.\u0275loadImpl?Si(r.\u0275loadImpl()):Vt(null)).pipe(nn(()=>new be(o=>{const a=r.build();if(a.open(t.method,t.urlWithParams),t.withCredentials&&(a.withCredentials=!0),t.headers.forEach((j,ae)=>a.setRequestHeader(j,ae.join(","))),t.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const j=t.detectContentTypeHeader();null!==j&&a.setRequestHeader("Content-Type",j)}if(t.responseType){const j=t.responseType.toLowerCase();a.responseType="json"!==j?j:"text"}const u=t.serializeBody();let h=null;const f=()=>{if(null!==h)return h;const j=a.statusText||"OK",ae=new Tl(a.getAllResponseHeaders()),se=function d$(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(a)||t.url;return h=new Kb({headers:ae,status:a.status,statusText:j,url:se}),h},_=()=>{let{headers:j,status:ae,statusText:se,url:K}=f(),ce=null;204!==ae&&(ce=typeof a.response>"u"?a.responseText:a.response),0===ae&&(ae=ce?200:0);let Le=ae>=200&&ae<300;if("json"===t.responseType&&"string"==typeof ce){const Ae=ce;ce=ce.replace(c$,"");try{ce=""!==ce?JSON.parse(ce):null}catch(Ze){ce=Ae,Le&&(Le=!1,ce={error:Ze,text:ce})}}Le?(o.next(new Wd({body:ce,headers:j,status:ae,statusText:se,url:K||void 0})),o.complete()):o.error(new dT({error:ce,headers:j,status:ae,statusText:se,url:K||void 0}))},b=j=>{const{url:ae}=f(),se=new dT({error:j,status:a.status||0,statusText:a.statusText||"Unknown Error",url:ae||void 0});o.error(se)};let C=!1;const D=j=>{C||(o.next(f()),C=!0);let ae={type:$d.DownloadProgress,loaded:j.loaded};j.lengthComputable&&(ae.total=j.total),"text"===t.responseType&&a.responseText&&(ae.partialText=a.responseText),o.next(ae)},q=j=>{let ae={type:$d.UploadProgress,loaded:j.loaded};j.lengthComputable&&(ae.total=j.total),o.next(ae)};return a.addEventListener("load",_),a.addEventListener("error",b),a.addEventListener("timeout",b),a.addEventListener("abort",b),t.reportProgress&&(a.addEventListener("progress",D),null!==u&&a.upload&&a.upload.addEventListener("progress",q)),a.send(u),o.next({type:$d.Sent}),()=>{a.removeEventListener("error",b),a.removeEventListener("abort",b),a.removeEventListener("load",_),a.removeEventListener("timeout",b),t.reportProgress&&(a.removeEventListener("progress",D),null!==u&&a.upload&&a.upload.removeEventListener("progress",q)),a.readyState!==a.DONE&&a.abort()}})))}}return e.\u0275fac=function(t){return new(t||e)(et(iI))},e.\u0275prov=gt({token:e,factory:e.\u0275fac}),e})();const Jb=new St("XSRF_ENABLED"),vT=new St("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),bT=new St("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class wT{}let p$=(()=>{class e{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=$L(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return e.\u0275fac=function(t){return new(t||e)(et(lr),et(Hu),et(vT))},e.\u0275prov=gt({token:e,factory:e.\u0275fac}),e})();function m$(e,n){const t=e.url.toLowerCase();if(!Mt(Jb)||"GET"===e.method||"HEAD"===e.method||t.startsWith("http://")||t.startsWith("https://"))return n(e);const r=Mt(wT).getToken(),i=Mt(bT);return null!=r&&!e.headers.has(i)&&(e=e.clone({headers:e.headers.set(i,r)})),n(e)}var Ju=function(e){return e[e.Interceptors=0]="Interceptors",e[e.LegacyInterceptors=1]="LegacyInterceptors",e[e.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",e[e.NoXsrfProtection=3]="NoXsrfProtection",e[e.JsonpSupport=4]="JsonpSupport",e[e.RequestsMadeViaParent=5]="RequestsMadeViaParent",e[e.Fetch=6]="Fetch",e}(Ju||{});function Tc(e,n){return{\u0275kind:e,\u0275providers:n}}function g$(...e){const n=[Pf,yT,gT,{provide:Dg,useExisting:gT},{provide:Sg,useExisting:yT},{provide:Tf,useValue:m$,multi:!0},{provide:Jb,useValue:!0},{provide:wT,useClass:p$}];for(const t of e)n.push(...t.\u0275providers);return function iv(e){return{\u0275providers:e}}(n)}const xT=new St("LEGACY_INTERCEPTOR_FN");let y$=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=wn({type:e}),e.\u0275inj=zn({providers:[g$(Tc(Ju.LegacyInterceptors,[{provide:xT,useFactory:s$},{provide:Tf,useExisting:xT,multi:!0}]))]}),e})(),Pg=(()=>{class e{constructor(t){this.httpClient=t,this.API="http://192.168.0.111:8080/geopartners/logic/",this.headers=(new Tl).set("Content-Type","application/json; charset=utf-8")}getAll(){return this.httpClient.get(this.API+"partners").pipe(yl())}save(t){const r=JSON.stringify(t);return this.httpClient.post(this.API+"register",r,{headers:this.headers}).pipe(yl())}update(t){const r=t.document,i=JSON.stringify(t);return this.httpClient.put(this.API+"update/"+r,i,{headers:this.headers}).pipe(yl())}delete(t){return this.httpClient.delete(this.API+"delete/"+t).pipe(yl())}getBest(t){const r=JSON.stringify(t);return this.httpClient.post(this.API+"search",r,{headers:this.headers}).pipe(yl())}}return e.\u0275fac=function(t){return new(t||e)(et(Pf))},e.\u0275prov=gt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function ET(...e){const n=Os(e),{args:t,keys:r}=kI(e),i=new be(o=>{const{length:a}=t;if(!a)return void o.complete();const u=new Array(a);let h=a,f=a;for(let _=0;_<a;_++){let b=!1;ri(t[_]).subscribe(Dt(o,C=>{b||(b=!0,f--),u[_]=C},()=>h--,void 0,()=>{(!h||!b)&&(f||o.next(r?AI(r,u):u),o.complete())}))}});return n?i.pipe(pb(n)):i}let CT=(()=>{class e{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return e.\u0275fac=function(t){return new(t||e)(Be(yu),Be(or))},e.\u0275dir=_t({type:e}),e})(),kc=(()=>{class e extends CT{}return e.\u0275fac=function(){let n;return function(r){return(n||(n=ni(e)))(r||e)}}(),e.\u0275dir=_t({type:e,features:[cn]}),e})();const ou=new St("NgValueAccessor"),M$={provide:ou,useExisting:st(()=>kf),multi:!0},S$=new St("CompositionEventMode");let kf=(()=>{class e extends CT{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function D$(){const e=$u()?$u().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return e.\u0275fac=function(t){return new(t||e)(Be(yu),Be(or),Be(S$,8))},e.\u0275dir=_t({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&Ai("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},features:[jn([M$]),cn]}),e})();function ec(e){return null==e||("string"==typeof e||Array.isArray(e))&&0===e.length}function DT(e){return null!=e&&"number"==typeof e.length}const ra=new St("NgValidators"),tc=new St("NgAsyncValidators"),L$=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Yd{static min(n){return function ST(e){return n=>{if(ec(n.value)||ec(e))return null;const t=parseFloat(n.value);return!isNaN(t)&&t<e?{min:{min:e,actual:n.value}}:null}}(n)}static max(n){return function LT(e){return n=>{if(ec(n.value)||ec(e))return null;const t=parseFloat(n.value);return!isNaN(t)&&t>e?{max:{max:e,actual:n.value}}:null}}(n)}static required(n){return IT(n)}static requiredTrue(n){return function PT(e){return!0===e.value?null:{required:!0}}(n)}static email(n){return function TT(e){return ec(e.value)||L$.test(e.value)?null:{email:!0}}(n)}static minLength(n){return function kT(e){return n=>ec(n.value)||!DT(n.value)?null:n.value.length<e?{minlength:{requiredLength:e,actualLength:n.value.length}}:null}(n)}static maxLength(n){return function AT(e){return n=>DT(n.value)&&n.value.length>e?{maxlength:{requiredLength:e,actualLength:n.value.length}}:null}(n)}static pattern(n){return function RT(e){if(!e)return Tg;let n,t;return"string"==typeof e?(t="","^"!==e.charAt(0)&&(t+="^"),t+=e,"$"!==e.charAt(e.length-1)&&(t+="$"),n=new RegExp(t)):(t=e.toString(),n=e),r=>{if(ec(r.value))return null;const i=r.value;return n.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(n)}static nullValidator(n){return null}static compose(n){return VT(n)}static composeAsync(n){return UT(n)}}function IT(e){return ec(e.value)?{required:!0}:null}function Tg(e){return null}function OT(e){return null!=e}function NT(e){return jh(e)?Si(e):e}function FT(e){let n={};return e.forEach(t=>{n=null!=t?{...n,...t}:n}),0===Object.keys(n).length?null:n}function BT(e,n){return n.map(t=>t(e))}function zT(e){return e.map(n=>function I$(e){return!e.validate}(n)?n:t=>n.validate(t))}function VT(e){if(!e)return null;const n=e.filter(OT);return 0==n.length?null:function(t){return FT(BT(t,n))}}function ew(e){return null!=e?VT(zT(e)):null}function UT(e){if(!e)return null;const n=e.filter(OT);return 0==n.length?null:function(t){return ET(BT(t,n).map(NT)).pipe(yt(FT))}}function tw(e){return null!=e?UT(zT(e)):null}function HT(e,n){return null===e?[n]:Array.isArray(e)?[...e,n]:[e,n]}function jT(e){return e._rawValidators}function GT(e){return e._rawAsyncValidators}function nw(e){return e?Array.isArray(e)?e:[e]:[]}function kg(e,n){return Array.isArray(e)?e.includes(n):e===n}function qT(e,n){const t=nw(n);return nw(e).forEach(i=>{kg(t,i)||t.push(i)}),t}function $T(e,n){return nw(n).filter(t=>!kg(e,t))}class WT{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=ew(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=tw(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,t){return!!this.control&&this.control.hasError(n,t)}getError(n,t){return this.control?this.control.getError(n,t):null}}class ya extends WT{get formDirective(){return null}get path(){return null}}class Su extends WT{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class YT{constructor(n){this._cd=n}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let rw=(()=>{class e extends YT{constructor(t){super(t)}}return e.\u0275fac=function(t){return new(t||e)(Be(Su,2))},e.\u0275dir=_t({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&Xi("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[cn]}),e})(),iw=(()=>{class e extends YT{constructor(t){super(t)}}return e.\u0275fac=function(t){return new(t||e)(Be(ya,10))},e.\u0275dir=_t({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&Xi("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[cn]}),e})();const Af="VALID",Rg="INVALID",Zd="PENDING",Rf="DISABLED";function aw(e){return(Og(e)?e.validators:e)||null}function lw(e,n){return(Og(n)?n.asyncValidators:e)||null}function Og(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}function XT(e,n,t){const r=e.controls;if(!(n?Object.keys(r):r).length)throw new nt(1e3,"");if(!r[t])throw new nt(1001,"")}function KT(e,n,t){e._forEachChild((r,i)=>{if(void 0===t[i])throw new nt(1002,"")})}class Ng{constructor(n,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(n),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get valid(){return this.status===Af}get invalid(){return this.status===Rg}get pending(){return this.status==Zd}get disabled(){return this.status===Rf}get enabled(){return this.status!==Rf}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(qT(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(qT(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators($T(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators($T(n,this._rawAsyncValidators))}hasValidator(n){return kg(this._rawValidators,n)}hasAsyncValidator(n){return kg(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){this.touched=!0,this._parent&&!n.onlySelf&&this._parent.markAsTouched(n)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(n=>n.markAllAsTouched())}markAsUntouched(n={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}markAsDirty(n={}){this.pristine=!1,this._parent&&!n.onlySelf&&this._parent.markAsDirty(n)}markAsPristine(n={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}markAsPending(n={}){this.status=Zd,!1!==n.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!n.onlySelf&&this._parent.markAsPending(n)}disable(n={}){const t=this._parentMarkedDirty(n.onlySelf);this.status=Rf,this.errors=null,this._forEachChild(r=>{r.disable({...n,onlySelf:!0})}),this._updateValue(),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...n,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(n={}){const t=this._parentMarkedDirty(n.onlySelf);this.status=Af,this._forEachChild(r=>{r.enable({...n,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors({...n,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(n){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Af||this.status===Zd)&&this._runAsyncValidator(n.emitEvent)),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(n)}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Rf:Af}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n){if(this.asyncValidator){this.status=Zd,this._hasOwnPendingAsyncValidator=!0;const t=NT(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:n})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(n,t={}){this.errors=n,this._updateControlsErrors(!1!==t.emitEvent)}get(n){let t=n;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(n,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[n]:null}hasError(n,t){return!!this.getError(n,t)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(n)}_initObservables(){this.valueChanges=new pn,this.statusChanges=new pn}_calculateStatus(){return this._allControlsDisabled()?Rf:this.errors?Rg:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Zd)?Zd:this._anyControlsHaveStatus(Rg)?Rg:Af}_anyControlsHaveStatus(n){return this._anyControls(t=>t.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n={}){this.pristine=!this._anyControlsDirty(),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}_updateTouched(n={}){this.touched=this._anyControlsTouched(),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){Og(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=function A$(e){return Array.isArray(e)?ew(e):e||null}(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=function R$(e){return Array.isArray(e)?tw(e):e||null}(this._rawAsyncValidators)}}class Of extends Ng{constructor(n,t,r){super(aw(t),lw(r,t)),this.controls=n,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(n,t){return this.controls[n]?this.controls[n]:(this.controls[n]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(n,t,r={}){this.registerControl(n,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(n,t={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(n,t,r={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],t&&this.registerControl(n,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,t={}){KT(this,0,n),Object.keys(n).forEach(r=>{XT(this,!0,r),this.controls[r].setValue(n[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(n,t={}){null!=n&&(Object.keys(n).forEach(r=>{const i=this.controls[r];i&&i.patchValue(n[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(n={},t={}){this._forEachChild((r,i)=>{r.reset(n[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(n,t,r)=>(n[r]=t.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&n(r,t)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&n(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(n,t){let r=n;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(const n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(n){return this.controls.hasOwnProperty(n)?this.controls[n]:null}}class QT extends Of{}const Xd=new St("CallSetDisabledState",{providedIn:"root",factory:()=>Fg}),Fg="always";function Nf(e,n,t=Fg){uw(e,n),n.valueAccessor.writeValue(e.value),(e.disabled||"always"===t)&&n.valueAccessor.setDisabledState?.(e.disabled),function N$(e,n){n.valueAccessor.registerOnChange(t=>{e._pendingValue=t,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&JT(e,n)})}(e,n),function B$(e,n){const t=(r,i)=>{n.valueAccessor.writeValue(r),i&&n.viewToModelUpdate(r)};e.registerOnChange(t),n._registerOnDestroy(()=>{e._unregisterOnChange(t)})}(e,n),function F$(e,n){n.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&JT(e,n),"submit"!==e.updateOn&&e.markAsTouched()})}(e,n),function O$(e,n){if(n.valueAccessor.setDisabledState){const t=r=>{n.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(t),n._registerOnDestroy(()=>{e._unregisterOnDisabledChange(t)})}}(e,n)}function zg(e,n,t=!0){const r=()=>{};n.valueAccessor&&(n.valueAccessor.registerOnChange(r),n.valueAccessor.registerOnTouched(r)),Ug(e,n),e&&(n._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function Vg(e,n){e.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(n)})}function uw(e,n){const t=jT(e);null!==n.validator?e.setValidators(HT(t,n.validator)):"function"==typeof t&&e.setValidators([t]);const r=GT(e);null!==n.asyncValidator?e.setAsyncValidators(HT(r,n.asyncValidator)):"function"==typeof r&&e.setAsyncValidators([r]);const i=()=>e.updateValueAndValidity();Vg(n._rawValidators,i),Vg(n._rawAsyncValidators,i)}function Ug(e,n){let t=!1;if(null!==e){if(null!==n.validator){const i=jT(e);if(Array.isArray(i)&&i.length>0){const o=i.filter(a=>a!==n.validator);o.length!==i.length&&(t=!0,e.setValidators(o))}}if(null!==n.asyncValidator){const i=GT(e);if(Array.isArray(i)&&i.length>0){const o=i.filter(a=>a!==n.asyncValidator);o.length!==i.length&&(t=!0,e.setAsyncValidators(o))}}}const r=()=>{};return Vg(n._rawValidators,r),Vg(n._rawAsyncValidators,r),t}function JT(e,n){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function ek(e,n){uw(e,n)}function tk(e,n){e._syncPendingControls(),n.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}const j$={provide:ya,useExisting:st(()=>Hg)},Ff=(()=>Promise.resolve())();let Hg=(()=>{class e extends ya{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new pn,this.form=new Of({},ew(t),tw(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Ff.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),Nf(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Ff.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Ff.then(()=>{const r=this._findContainer(t.path),i=new Of({});ek(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Ff.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Ff.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,tk(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return e.\u0275fac=function(t){return new(t||e)(Be(ra,10),Be(tc,10),Be(Xd,8))},e.\u0275dir=_t({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&Ai("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[jn([j$]),cn]}),e})();function nk(e,n){const t=e.indexOf(n);t>-1&&e.splice(t,1)}function rk(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}const Bf=class extends Ng{constructor(n=null,t,r){super(aw(t),lw(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(n),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Og(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=rk(n)?n.value:n)}setValue(n,t={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(n,t={}){this.setValue(n,t)}reset(n=this.defaultValue,t={}){this._applyFormState(n),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){nk(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){nk(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){rk(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}};let fw=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=_t({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),e})(),uk=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=wn({type:e}),e.\u0275inj=zn({}),e})();const pw=new St("NgModelWithFormControlWarning"),Q$={provide:ya,useExisting:st(()=>Kd)};let Kd=(()=>{class e extends ya{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new pn,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ug(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return Nf(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){zg(t.control||null,t,!1),function H$(e,n){const t=e.indexOf(n);t>-1&&e.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,tk(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(zg(r||null,t),(e=>e instanceof Bf)(i)&&(Nf(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);ek(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function z$(e,n){return Ug(e,n)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){uw(this.form,this),this._oldForm&&Ug(this._oldForm,this)}_checkFormPresent(){}}return e.\u0275fac=function(t){return new(t||e)(Be(ra,10),Be(tc,10),Be(Xd,8))},e.\u0275dir=_t({type:e,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&Ai("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[jn([Q$]),cn,ps]}),e})();const t9={provide:Su,useExisting:st(()=>jg)};let jg=(()=>{class e extends Su{set isDisabled(t){}constructor(t,r,i,o,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new pn,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function hw(e,n){if(!n)return null;let t,r,i;return Array.isArray(n),n.forEach(o=>{o.constructor===kf?t=o:function U$(e){return Object.getPrototypeOf(e.constructor)===kc}(o)?r=o:i=o}),i||r||t||null}(0,o)}ngOnChanges(t){this._added||this._setUpControl(),function dw(e,n){if(!e.hasOwnProperty("model"))return!1;const t=e.model;return!!t.isFirstChange()||!Object.is(n,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function Bg(e,n){return[...n.path,e]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return e._ngModelWarningSentOnce=!1,e.\u0275fac=function(t){return new(t||e)(Be(ya,13),Be(ra,10),Be(tc,10),Be(ou,10),Be(pw,8))},e.\u0275dir=_t({type:e,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[jn([t9]),cn,ps]}),e})(),Ac=(()=>{class e{constructor(){this._validator=Tg}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Tg,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=_t({type:e,features:[ps]}),e})();const c9={provide:ra,useExisting:st(()=>Gg),multi:!0};let Gg=(()=>{class e extends Ac{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Td,this.createValidator=t=>IT}enabled(t){return t}}return e.\u0275fac=function(){let n;return function(r){return(n||(n=ni(e)))(r||e)}}(),e.\u0275dir=_t({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&gs("required",r._enabled?"":null)},inputs:{required:"required"},features:[jn([c9]),cn]}),e})(),g9=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=wn({type:e}),e.\u0275inj=zn({imports:[uk]}),e})();class Mk extends Ng{constructor(n,t,r){super(aw(t),lw(r,t)),this.controls=n,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(n){return this.controls[this._adjustIndex(n)]}push(n,t={}){this.controls.push(n),this._registerControl(n),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(n,t,r={}){this.controls.splice(n,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(n,t={}){let r=this._adjustIndex(n);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(n,t,r={}){let i=this._adjustIndex(n);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(n,t={}){KT(this,0,n),n.forEach((r,i)=>{XT(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(n,t={}){null!=n&&(n.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(n=[],t={}){this._forEachChild((r,i)=>{r.reset(n[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(n=>n.getRawValue())}clear(n={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:n.emitEvent}))}_adjustIndex(n){return n<0?n+this.length:n}_syncPendingControls(){let n=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){this.controls.forEach((t,r)=>{n(t,r)})}_updateValue(){this.value=this.controls.filter(n=>n.enabled||this.disabled).map(n=>n.value)}_anyControls(n){return this.controls.some(t=>t.enabled&&n(t))}_setUpControls(){this._forEachChild(n=>this._registerControl(n))}_allControlsDisabled(){for(const n of this.controls)if(n.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(n){n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)}_find(n){return this.at(n)??null}}function Dk(e){return!!e&&(void 0!==e.asyncValidators||void 0!==e.validators||void 0!==e.updateOn)}let zf=(()=>{class e{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new e;return t.useNonNullable=!0,t}group(t,r=null){const i=this._reduceControls(t);let o={};return Dk(r)?o=r:null!==r&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new Of(i,o)}record(t,r=null){const i=this._reduceControls(t);return new QT(i,r)}control(t,r,i){let o={};return this.useNonNullable?(Dk(r)?o=r:(o.validators=r,o.asyncValidators=i),new Bf(t,{...o,nonNullable:!0})):new Bf(t,r,i)}array(t,r,i){const o=t.map(a=>this._createControl(a));return new Mk(o,r,i)}_reduceControls(t){const r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){return t instanceof Bf||t instanceof Ng?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=gt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),_9=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=gt({token:e,factory:function(){return Mt(zf).nonNullable},providedIn:"root"}),e})(),y9=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:pw,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Xd,useValue:t.callSetDisabledState??Fg}]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=wn({type:e}),e.\u0275inj=zn({imports:[g9]}),e})();const v9=["mat-button",""],b9=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],w9=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],E9=["mat-icon-button",""],C9=["*"],Sk={capture:!0},Lk=["focus","click","mouseenter","touchstart"],Vf="mat-button-ripple-uninitialized";let M9=(()=>{class e{constructor(){this._document=Mt(lr,{optional:!0}),this._animationMode=Mt(_u,{optional:!0}),this._globalRippleOptions=Mt(rP,{optional:!0}),this._platform=Mt(Zo),this._ngZone=Mt(yn),this._onInteraction=t=>{if(t.target===this._document)return;const i=t.target.closest(`[${Vf}]`);i&&(i.removeAttribute(Vf),this._appendRipple(i))},this._ngZone.runOutsideAngular(()=>{for(const t of Lk)this._document?.addEventListener(t,this._onInteraction,Sk)})}ngOnDestroy(){for(const t of Lk)this._document?.removeEventListener(t,this._onInteraction,Sk)}_appendRipple(t){if(!this._document)return;const r=this._document.createElement("span");r.classList.add("mat-mdc-button-ripple");const i=new D9(t,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);i.rippleConfig.centered=t.hasAttribute("mat-icon-button"),new Od(i,this._ngZone,r,this._platform).setupTriggerEvents(t),t.append(r)}_createMatRipple(t){if(!this._document)return;t.querySelector(".mat-mdc-button-ripple")?.remove(),t.removeAttribute(Vf);const r=this._document.createElement("span");r.classList.add("mat-mdc-button-ripple");const i=new xG(new or(r),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return i._isInitialized=!0,i.trigger=t,t.append(r),i}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=gt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();class D9{constructor(n,t,r){this._button=n,this._globalRippleOptions=t,this._setRippleConfig(t,r)}_setRippleConfig(n,t){this.rippleConfig=n||{},"NoopAnimations"===t&&(this.rippleConfig.animation={enterDuration:0,exitDuration:0})}get rippleDisabled(){return this._button.hasAttribute("disabled")||!!this._globalRippleOptions?.disabled}}const S9=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],L9=wb(fG(pG(class{constructor(e){this._elementRef=e}})));let Ik=(()=>{class e extends L9{get ripple(){return!this._ripple&&this._rippleLoader&&(this._ripple=this._rippleLoader._createMatRipple(this._elementRef.nativeElement)),this._ripple}set ripple(t){this._ripple=t}constructor(t,r,i,o){super(t),this._platform=r,this._ngZone=i,this._animationMode=o,this._focusMonitor=Mt(WI),this._rippleLoader=Mt(M9),this._isFab=!1;const a=t.nativeElement.classList;for(const u of S9)this._hasHostAttributes(u.selector)&&u.mdcClasses.forEach(h=>{a.add(h)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnChanges(){this._ripple&&(this._ripple.disabled=this.disableRipple||this.disabled)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t="program",r){t?this._focusMonitor.focusVia(this._elementRef.nativeElement,t,r):this._elementRef.nativeElement.focus(r)}_hasHostAttributes(...t){return t.some(r=>this._elementRef.nativeElement.hasAttribute(r))}}return e.\u0275fac=function(t){Dv()},e.\u0275dir=_t({type:e,features:[cn,ps]}),e})(),qg=(()=>{class e extends Ik{constructor(t,r,i,o){super(t,r,i,o)}}return e.\u0275fac=function(t){return new(t||e)(Be(or),Be(Zo),Be(yn),Be(_u,8))},e.\u0275cmp=Dn({type:e,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostAttrs:["mat-button-ripple-uninitialized",""],hostVars:7,hostBindings:function(t,r){2&t&&(gs("disabled",r.disabled||null),Xi("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[cn],attrs:v9,ngContentSelectors:w9,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(t,r){1&t&&(Ls(b9),Ni(0,"span",0),_r(1),Wt(2,"span",1),_r(3,1),en(),_r(4,2),Ni(5,"span",2)(6,"span",3)),2&t&&Xi("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),e})(),T9=(()=>{class e extends Ik{get ripple(){return!this._ripple&&this._rippleLoader&&(this._ripple=this._rippleLoader._createMatRipple(this._elementRef.nativeElement),this._ripple.centered=!0),this._ripple}constructor(t,r,i,o){super(t,r,i,o)}}return e.\u0275fac=function(t){return new(t||e)(Be(or),Be(Zo),Be(yn),Be(_u,8))},e.\u0275cmp=Dn({type:e,selectors:[["button","mat-icon-button",""]],hostAttrs:["mat-button-ripple-uninitialized",""],hostVars:7,hostBindings:function(t,r){2&t&&(gs("disabled",r.disabled||null),Xi("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[cn],attrs:E9,ngContentSelectors:C9,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(t,r){1&t&&(Ls(),Ni(0,"span",0),_r(1),Ni(2,"span",1)(3,"span",2))},styles:['.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size);width:var(--mdc-icon-button-state-layer-size);color:var(--mdc-icon-button-icon-color);--mdc-icon-button-state-layer-size:48px;--mdc-icon-button-icon-size:24px;--mdc-icon-button-disabled-icon-color:black;--mdc-icon-button-disabled-icon-opacity:0.38}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button:disabled{opacity:var(--mdc-icon-button-disabled-icon-opacity)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button{padding:12px;font-size:var(--mdc-icon-button-icon-size);border-radius:50%;flex-shrink:0;text-align:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;opacity:1}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),e})(),Pk=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=wn({type:e}),e.\u0275inj=zn({imports:[us,EG,us]}),e})();class Tk{}class k9{}const Lu="*";function vw(e,n){return{type:7,name:e,definitions:n,options:{}}}function Uf(e,n=null){return{type:4,styles:n,timings:e}}function kk(e,n=null){return{type:2,steps:e,options:n}}function Iu(e){return{type:6,styles:e,offset:null}}function Hf(e,n,t){return{type:0,name:e,styles:n,options:t}}function jf(e,n,t=null){return{type:1,expr:e,animation:n,options:t}}class Gf{constructor(n=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=n+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}onStart(n){this._originalOnStartFns.push(n),this._onStartFns.push(n)}onDone(n){this._originalOnDoneFns.push(n),this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(n=>n()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(n){this._position=this.totalTime?n*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(n){const t="start"==n?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class Ak{constructor(n){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=n;let t=0,r=0,i=0;const o=this.players.length;0==o?queueMicrotask(()=>this._onFinish()):this.players.forEach(a=>{a.onDone(()=>{++t==o&&this._onFinish()}),a.onDestroy(()=>{++r==o&&this._onDestroy()}),a.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((a,u)=>Math.max(a,u.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this.players.forEach(n=>n.init())}onStart(n){this._onStartFns.push(n)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(n=>n()),this._onStartFns=[])}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(n=>n.play())}pause(){this.players.forEach(n=>n.pause())}restart(){this.players.forEach(n=>n.restart())}finish(){this._onFinish(),this.players.forEach(n=>n.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(n=>n.destroy()),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this.players.forEach(n=>n.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(n){const t=n*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const n=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=n?n.getPosition():0}beforeDestroy(){this.players.forEach(n=>{n.beforeDestroy&&n.beforeDestroy()})}triggerCallback(n){const t="start"==n?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class ww{attach(n){return this._attachedHost=n,n.attach(this)}detach(){let n=this._attachedHost;null!=n&&(this._attachedHost=null,n.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(n){this._attachedHost=n}}class xw extends ww{constructor(n,t,r,i,o){super(),this.component=n,this.viewContainerRef=t,this.injector=r,this.componentFactoryResolver=i,this.projectableNodes=o}}class Rk extends ww{constructor(n,t,r,i){super(),this.templateRef=n,this.viewContainerRef=t,this.context=r,this.injector=i}get origin(){return this.templateRef.elementRef}attach(n,t=this.context){return this.context=t,super.attach(n)}detach(){return this.context=void 0,super.detach()}}class A9 extends ww{constructor(n){super(),this.element=n instanceof or?n.nativeElement:n}}class Ew{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(n){return n instanceof xw?(this._attachedPortal=n,this.attachComponentPortal(n)):n instanceof Rk?(this._attachedPortal=n,this.attachTemplatePortal(n)):this.attachDomPortal&&n instanceof A9?(this._attachedPortal=n,this.attachDomPortal(n)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(n){this._disposeFn=n}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class R9 extends Ew{constructor(n,t,r,i,o){super(),this.outletElement=n,this._componentFactoryResolver=t,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=a=>{const u=a.element,h=this._document.createComment("dom-portal");u.parentNode.insertBefore(h,u),this.outletElement.appendChild(u),this._attachedPortal=a,super.setDisposeFn(()=>{h.parentNode&&h.parentNode.replaceChild(u,h)})},this._document=o}attachComponentPortal(n){const r=(n.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(n.component);let i;return n.viewContainerRef?(i=n.viewContainerRef.createComponent(r,n.viewContainerRef.length,n.injector||n.viewContainerRef.injector,n.projectableNodes||void 0),this.setDisposeFn(()=>i.destroy())):(i=r.create(n.injector||this._defaultInjector||$s.NULL),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=n,i}attachTemplatePortal(n){let t=n.viewContainerRef,r=t.createEmbeddedView(n.templateRef,n.context,{injector:n.injector});return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=t.indexOf(r);-1!==i&&t.remove(i)}),this._attachedPortal=n,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(n){return n.hostView.rootNodes[0]}}let Ok=(()=>{class e extends Ew{constructor(t,r,i){super(),this._componentFactoryResolver=t,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new pn,this.attachDomPortal=o=>{const a=o.element,u=this._document.createComment("dom-portal");o.setAttachedHost(this),a.parentNode.insertBefore(u,a),this._getRootNode().appendChild(a),this._attachedPortal=o,super.setDisposeFn(()=>{u.parentNode&&u.parentNode.replaceChild(a,u)})},this._document=i}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(t){t.setAttachedHost(this);const r=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,o=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),a=r.createComponent(o,r.length,t.injector||r.injector,t.projectableNodes||void 0);return r!==this._viewContainerRef&&this._getRootNode().appendChild(a.hostView.rootNodes[0]),super.setDisposeFn(()=>a.destroy()),this._attachedPortal=t,this._attachedRef=a,this.attached.emit(a),a}attachTemplatePortal(t){t.setAttachedHost(this);const r=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return e.\u0275fac=function(t){return new(t||e)(Be(cd),Be(Ys),Be(lr))},e.\u0275dir=_t({type:e,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[cn]}),e})(),Nk=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=wn({type:e}),e.\u0275inj=zn({}),e})();const O9=["addListener","removeListener"],N9=["addEventListener","removeEventListener"],F9=["on","off"];function qf(e,n,t,r){if(F(t)&&(r=t,t=void 0),r)return qf(e,n,t).pipe(pb(r));const[i,o]=function V9(e){return F(e.addEventListener)&&F(e.removeEventListener)}(e)?N9.map(a=>u=>e[a](n,u,t)):function B9(e){return F(e.addListener)&&F(e.removeListener)}(e)?O9.map(Fk(e,n)):function z9(e){return F(e.on)&&F(e.off)}(e)?F9.map(Fk(e,n)):[];if(!i&&si(e))return zi(a=>qf(a,n,t))(ri(e));if(!i)throw new TypeError("Invalid event target");return new be(a=>{const u=(...h)=>a.next(1<h.length?h:h[0]);return i(u),()=>o(u)})}function Fk(e,n){return t=>r=>e[t](n,r)}const $f={schedule(e){let n=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:r}=$f;r&&(n=r.requestAnimationFrame,t=r.cancelAnimationFrame);const i=n(o=>{t=void 0,e(o)});return new O(()=>t?.(i))},requestAnimationFrame(...e){const{delegate:n}=$f;return(n?.requestAnimationFrame||requestAnimationFrame)(...e)},cancelAnimationFrame(...e){const{delegate:n}=$f;return(n?.cancelAnimationFrame||cancelAnimationFrame)(...e)},delegate:void 0};new class H9 extends _b{flush(n){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;n=n||r.shift();do{if(i=n.execute(n.state,n.delay))break}while((n=r[0])&&n.id===t&&r.shift());if(this._active=!1,i){for(;(n=r[0])&&n.id===t&&r.shift();)n.unsubscribe();throw i}}}(class U9 extends mb{constructor(n,t){super(n,t),this.scheduler=n,this.work=t}requestAsyncId(n,t,r=0){return null!==r&&r>0?super.requestAsyncId(n,t,r):(n.actions.push(this),n._scheduled||(n._scheduled=$f.requestAnimationFrame(()=>n.flush(void 0))))}recycleAsyncId(n,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(n,t,r);const{actions:o}=n;null!=t&&(null===(i=o[o.length-1])||void 0===i?void 0:i.id)!==t&&($f.cancelAnimationFrame(t),n._scheduled=void 0)}});let Cw,G9=1;const $g={};function Bk(e){return e in $g&&(delete $g[e],!0)}const q9={setImmediate(e){const n=G9++;return $g[n]=!0,Cw||(Cw=Promise.resolve()),Cw.then(()=>Bk(n)&&e()),n},clearImmediate(e){Bk(e)}},{setImmediate:$9,clearImmediate:W9}=q9,Wg={setImmediate(...e){const{delegate:n}=Wg;return(n?.setImmediate||$9)(...e)},clearImmediate(e){const{delegate:n}=Wg;return(n?.clearImmediate||W9)(e)},delegate:void 0};new class Z9 extends _b{flush(n){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;n=n||r.shift();do{if(i=n.execute(n.state,n.delay))break}while((n=r[0])&&n.id===t&&r.shift());if(this._active=!1,i){for(;(n=r[0])&&n.id===t&&r.shift();)n.unsubscribe();throw i}}}(class Y9 extends mb{constructor(n,t){super(n,t),this.scheduler=n,this.work=t}requestAsyncId(n,t,r=0){return null!==r&&r>0?super.requestAsyncId(n,t,r):(n.actions.push(this),n._scheduled||(n._scheduled=Wg.setImmediate(n.flush.bind(n,void 0))))}recycleAsyncId(n,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(n,t,r);const{actions:o}=n;null!=t&&(null===(i=o[o.length-1])||void 0===i?void 0:i.id)!==t&&(Wg.clearImmediate(t),n._scheduled===t&&(n._scheduled=void 0))}});function zk(e,n=yb){return function K9(e){return Et((n,t)=>{let r=!1,i=null,o=null,a=!1;const u=()=>{if(o?.unsubscribe(),o=null,r){r=!1;const f=i;i=null,t.next(f)}a&&t.complete()},h=()=>{o=null,a&&t.complete()};n.subscribe(Dt(t,f=>{r=!0,i=f,o||ri(e(f)).subscribe(o=Dt(t,u,h))},()=>{a=!0,(!r||!o||o.closed)&&t.complete()}))})}(()=>function J9(e=0,n,t=A8){let r=-1;return null!=n&&(Rs(n)?t=n:r=n),new be(i=>{let o=function Q9(e){return e instanceof Date&&!isNaN(e)}(e)?+e-t.now():e;o<0&&(o=0);let a=0;return t.schedule(function(){i.closed||(i.next(a++),0<=r?this.schedule(void 0,r):i.complete())},o)})}(e,n))}let Yg=(()=>{class e{constructor(t,r,i){this._ngZone=t,this._platform=r,this._scrolled=new qe,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const r=this.scrollContainers.get(t);r&&(r.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new be(r=>{this._globalSubscription||this._addGlobalListener();const i=t>0?this._scrolled.pipe(zk(t)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Vt()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(t,r){const i=this.getAncestorScrollContainers(t);return this.scrolled(r).pipe(ys(o=>!o||i.indexOf(o)>-1))}getAncestorScrollContainers(t){const r=[];return this.scrollContainers.forEach((i,o)=>{this._scrollableContainsElement(o,t)&&r.push(o)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,r){let i=Zu(r),o=t.getElementRef().nativeElement;do{if(i==o)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>qf(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return e.\u0275fac=function(t){return new(t||e)(et(yn),et(Zo),et(lr,8))},e.\u0275prov=gt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Wf=(()=>{class e{constructor(t,r,i,o){this.elementRef=t,this.scrollDispatcher=r,this.ngZone=i,this.dir=o,this._destroyed=new qe,this._elementScrolled=new be(a=>this.ngZone.runOutsideAngular(()=>qf(this.elementRef.nativeElement,"scroll").pipe(ko(this._destroyed)).subscribe(a)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const r=this.elementRef.nativeElement,i=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=i?t.end:t.start),null==t.right&&(t.right=i?t.start:t.end),null!=t.bottom&&(t.top=r.scrollHeight-r.clientHeight-t.bottom),i&&0!=uf()?(null!=t.left&&(t.right=r.scrollWidth-r.clientWidth-t.left),2==uf()?t.left=t.right:1==uf()&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=r.scrollWidth-r.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const r=this.elementRef.nativeElement;II()?r.scrollTo(t):(null!=t.top&&(r.scrollTop=t.top),null!=t.left&&(r.scrollLeft=t.left))}measureScrollOffset(t){const r="left",i="right",o=this.elementRef.nativeElement;if("top"==t)return o.scrollTop;if("bottom"==t)return o.scrollHeight-o.clientHeight-o.scrollTop;const a=this.dir&&"rtl"==this.dir.value;return"start"==t?t=a?i:r:"end"==t&&(t=a?r:i),a&&2==uf()?t==r?o.scrollWidth-o.clientWidth-o.scrollLeft:o.scrollLeft:a&&1==uf()?t==r?o.scrollLeft+o.scrollWidth-o.clientWidth:-o.scrollLeft:t==r?o.scrollLeft:o.scrollWidth-o.clientWidth-o.scrollLeft}}return e.\u0275fac=function(t){return new(t||e)(Be(or),Be(Yg),Be(yn),Be(df,8))},e.\u0275dir=_t({type:e,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0}),e})(),Zg=(()=>{class e{constructor(t,r,i){this._platform=t,this._change=new qe,this._changeListener=o=>{this._change.next(o)},this._document=i,r.runOutsideAngular(()=>{if(t.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,r=this._getWindow(),i=t.documentElement,o=i.getBoundingClientRect();return{top:-o.top||t.body.scrollTop||r.scrollY||i.scrollTop||0,left:-o.left||t.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(zk(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return e.\u0275fac=function(t){return new(t||e)(et(Zo),et(yn),et(lr,8))},e.\u0275prov=gt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Xg=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=wn({type:e}),e.\u0275inj=zn({}),e})(),Mw=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=wn({type:e}),e.\u0275inj=zn({imports:[hf,Xg,hf,Xg]}),e})();const Vk=II();class n7{constructor(n,t){this._viewportRuler=n,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const n=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=n.style.left||"",this._previousHTMLStyles.top=n.style.top||"",n.style.left=ls(-this._previousScrollPosition.left),n.style.top=ls(-this._previousScrollPosition.top),n.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const n=this._document.documentElement,r=n.style,i=this._document.body.style,o=r.scrollBehavior||"",a=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,n.classList.remove("cdk-global-scrollblock"),Vk&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Vk&&(r.scrollBehavior=o,i.scrollBehavior=a)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,r=this._viewportRuler.getViewportSize();return t.scrollHeight>r.height||t.scrollWidth>r.width}}class r7{constructor(n,t,r,i){this._scrollDispatcher=n,this._ngZone=t,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(n){this._overlayRef=n}enable(){if(this._scrollSubscription)return;const n=this._scrollDispatcher.scrolled(0).pipe(ys(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=n.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=n.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class Uk{enable(){}disable(){}attach(){}}function Dw(e,n){return n.some(t=>e.bottom<t.top||e.top>t.bottom||e.right<t.left||e.left>t.right)}function Hk(e,n){return n.some(t=>e.top<t.top||e.bottom>t.bottom||e.left<t.left||e.right>t.right)}class i7{constructor(n,t,r,i){this._scrollDispatcher=n,this._viewportRuler=t,this._ngZone=r,this._config=i,this._scrollSubscription=null}attach(n){this._overlayRef=n}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();Dw(t,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let o7=(()=>{class e{constructor(t,r,i,o){this._scrollDispatcher=t,this._viewportRuler=r,this._ngZone=i,this.noop=()=>new Uk,this.close=a=>new r7(this._scrollDispatcher,this._ngZone,this._viewportRuler,a),this.block=()=>new n7(this._viewportRuler,this._document),this.reposition=a=>new i7(this._scrollDispatcher,this._viewportRuler,this._ngZone,a),this._document=o}}return e.\u0275fac=function(t){return new(t||e)(et(Yg),et(Zg),et(yn),et(lr))},e.\u0275prov=gt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();class jk{constructor(n){if(this.scrollStrategy=new Uk,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,n){const t=Object.keys(n);for(const r of t)void 0!==n[r]&&(this[r]=n[r])}}}class s7{constructor(n,t){this.connectionPair=n,this.scrollableViewProperties=t}}let Gk=(()=>{class e{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const r=this._attachedOverlays.indexOf(t);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}}return e.\u0275fac=function(t){return new(t||e)(et(lr))},e.\u0275prov=gt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),a7=(()=>{class e extends Gk{constructor(t,r){super(t),this._ngZone=r,this._keydownListener=i=>{const o=this._attachedOverlays;for(let a=o.length-1;a>-1;a--)if(o[a]._keydownEvents.observers.length>0){const u=o[a]._keydownEvents;this._ngZone?this._ngZone.run(()=>u.next(i)):u.next(i);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return e.\u0275fac=function(t){return new(t||e)(et(lr),et(yn,8))},e.\u0275prov=gt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),l7=(()=>{class e extends Gk{constructor(t,r,i){super(t),this._platform=r,this._ngZone=i,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=Yu(o)},this._clickListener=o=>{const a=Yu(o),u="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:a;this._pointerDownEventTarget=null;const h=this._attachedOverlays.slice();for(let f=h.length-1;f>-1;f--){const _=h[f];if(_._outsidePointerEvents.observers.length<1||!_.hasAttached())continue;if(_.overlayElement.contains(a)||_.overlayElement.contains(u))break;const b=_._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>b.next(o)):b.next(o)}}}add(t){if(super.add(t),!this._isAttached){const r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return e.\u0275fac=function(t){return new(t||e)(et(lr),et(Zo),et(yn,8))},e.\u0275prov=gt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),qk=(()=>{class e{constructor(t,r){this._platform=r,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||fb()){const i=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let o=0;o<i.length;o++)i[o].remove()}const r=this._document.createElement("div");r.classList.add(t),fb()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}}return e.\u0275fac=function(t){return new(t||e)(et(lr),et(Zo))},e.\u0275prov=gt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();class u7{constructor(n,t,r,i,o,a,u,h,f,_=!1){this._portalOutlet=n,this._host=t,this._pane=r,this._config=i,this._ngZone=o,this._keyboardDispatcher=a,this._document=u,this._location=h,this._outsideClickDispatcher=f,this._animationsDisabled=_,this._backdropElement=null,this._backdropClick=new qe,this._attachments=new qe,this._detachments=new qe,this._locationChanges=O.EMPTY,this._backdropClickHandler=b=>this._backdropClick.next(b),this._backdropTransitionendHandler=b=>{this._disposeBackdrop(b.target)},this._keydownEvents=new qe,this._outsidePointerEvents=new qe,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(n){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(n);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(_a(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const n=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),n}dispose(){const n=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,n&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(n){n!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=n,this.hasAttached()&&(n.attach(this),this.updatePosition()))}updateSize(n){this._config={...this._config,...n},this._updateElementSize()}setDirection(n){this._config={...this._config,direction:n},this._updateElementDirection()}addPanelClass(n){this._pane&&this._toggleClasses(this._pane,n,!0)}removePanelClass(n){this._pane&&this._toggleClasses(this._pane,n,!1)}getDirection(){const n=this._config.direction;return n?"string"==typeof n?n:n.value:"ltr"}updateScrollStrategy(n){n!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=n,this.hasAttached()&&(n.attach(this),n.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const n=this._pane.style;n.width=ls(this._config.width),n.height=ls(this._config.height),n.minWidth=ls(this._config.minWidth),n.minHeight=ls(this._config.minHeight),n.maxWidth=ls(this._config.maxWidth),n.maxHeight=ls(this._config.maxHeight)}_togglePointerEvents(n){this._pane.style.pointerEvents=n?"":"none"}_attachBackdrop(){const n="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(n)})}):this._backdropElement.classList.add(n)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const n=this._backdropElement;if(n){if(this._animationsDisabled)return void this._disposeBackdrop(n);n.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{n.addEventListener("transitionend",this._backdropTransitionendHandler)}),n.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(n)},500))}}_toggleClasses(n,t,r){const i=rg(t||[]).filter(o=>!!o);i.length&&(r?n.classList.add(...i):n.classList.remove(...i))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const n=this._ngZone.onStable.pipe(ko(zt(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),n.unsubscribe())})})}_disposeScrollStrategy(){const n=this._scrollStrategy;n&&(n.disable(),n.detach&&n.detach())}_disposeBackdrop(n){n&&(n.removeEventListener("click",this._backdropClickHandler),n.removeEventListener("transitionend",this._backdropTransitionendHandler),n.remove(),this._backdropElement===n&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const $k="cdk-overlay-connected-position-bounding-box",c7=/([A-Za-z%]+)$/;class d7{get positions(){return this._preferredPositions}constructor(n,t,r,i,o){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new qe,this._resizeSubscription=O.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(n)}attach(n){this._validatePositions(),n.hostElement.classList.add($k),this._overlayRef=n,this._boundingBox=n.hostElement,this._pane=n.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const n=this._originRect,t=this._overlayRect,r=this._viewportRect,i=this._containerRect,o=[];let a;for(let u of this._preferredPositions){let h=this._getOriginPoint(n,i,u),f=this._getOverlayPoint(h,t,u),_=this._getOverlayFit(f,t,r,u);if(_.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(u,h);this._canFitWithFlexibleDimensions(_,f,r)?o.push({position:u,origin:h,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(h,u)}):(!a||a.overlayFit.visibleArea<_.visibleArea)&&(a={overlayFit:_,overlayPoint:f,originPoint:h,position:u,overlayRect:t})}if(o.length){let u=null,h=-1;for(const f of o){const _=f.boundingBoxRect.width*f.boundingBoxRect.height*(f.position.weight||1);_>h&&(h=_,u=f)}return this._isPushed=!1,void this._applyPosition(u.position,u.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(a.position,a.originPoint);this._applyPosition(a.position,a.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Rc(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove($k),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const n=this._lastPosition;if(n){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,n);this._applyPosition(n,t)}else this.apply()}withScrollableContainers(n){return this._scrollables=n,this}withPositions(n){return this._preferredPositions=n,-1===n.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(n){return this._viewportMargin=n,this}withFlexibleDimensions(n=!0){return this._hasFlexibleDimensions=n,this}withGrowAfterOpen(n=!0){return this._growAfterOpen=n,this}withPush(n=!0){return this._canPush=n,this}withLockedPosition(n=!0){return this._positionLocked=n,this}setOrigin(n){return this._origin=n,this}withDefaultOffsetX(n){return this._offsetX=n,this}withDefaultOffsetY(n){return this._offsetY=n,this}withTransformOriginOn(n){return this._transformOriginSelector=n,this}_getOriginPoint(n,t,r){let i,o;if("center"==r.originX)i=n.left+n.width/2;else{const a=this._isRtl()?n.right:n.left,u=this._isRtl()?n.left:n.right;i="start"==r.originX?a:u}return t.left<0&&(i-=t.left),o="center"==r.originY?n.top+n.height/2:"top"==r.originY?n.top:n.bottom,t.top<0&&(o-=t.top),{x:i,y:o}}_getOverlayPoint(n,t,r){let i,o;return i="center"==r.overlayX?-t.width/2:"start"===r.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,o="center"==r.overlayY?-t.height/2:"top"==r.overlayY?0:-t.height,{x:n.x+i,y:n.y+o}}_getOverlayFit(n,t,r,i){const o=Yk(t);let{x:a,y:u}=n,h=this._getOffset(i,"x"),f=this._getOffset(i,"y");h&&(a+=h),f&&(u+=f);let C=0-u,D=u+o.height-r.height,q=this._subtractOverflows(o.width,0-a,a+o.width-r.width),j=this._subtractOverflows(o.height,C,D),ae=q*j;return{visibleArea:ae,isCompletelyWithinViewport:o.width*o.height===ae,fitsInViewportVertically:j===o.height,fitsInViewportHorizontally:q==o.width}}_canFitWithFlexibleDimensions(n,t,r){if(this._hasFlexibleDimensions){const i=r.bottom-t.y,o=r.right-t.x,a=Wk(this._overlayRef.getConfig().minHeight),u=Wk(this._overlayRef.getConfig().minWidth);return(n.fitsInViewportVertically||null!=a&&a<=i)&&(n.fitsInViewportHorizontally||null!=u&&u<=o)}return!1}_pushOverlayOnScreen(n,t,r){if(this._previousPushAmount&&this._positionLocked)return{x:n.x+this._previousPushAmount.x,y:n.y+this._previousPushAmount.y};const i=Yk(t),o=this._viewportRect,a=Math.max(n.x+i.width-o.width,0),u=Math.max(n.y+i.height-o.height,0),h=Math.max(o.top-r.top-n.y,0),f=Math.max(o.left-r.left-n.x,0);let _=0,b=0;return _=i.width<=o.width?f||-a:n.x<this._viewportMargin?o.left-r.left-n.x:0,b=i.height<=o.height?h||-u:n.y<this._viewportMargin?o.top-r.top-n.y:0,this._previousPushAmount={x:_,y:b},{x:n.x+_,y:n.y+b}}_applyPosition(n,t){if(this._setTransformOrigin(n),this._setOverlayElementStyles(t,n),this._setBoundingBoxStyles(t,n),n.panelClass&&this._addPanelClasses(n.panelClass),this._lastPosition=n,this._positionChanges.observers.length){const r=this._getScrollVisibility(),i=new s7(n,r);this._positionChanges.next(i)}this._isInitialRender=!1}_setTransformOrigin(n){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,i=n.overlayY;r="center"===n.overlayX?"center":this._isRtl()?"start"===n.overlayX?"right":"left":"start"===n.overlayX?"left":"right";for(let o=0;o<t.length;o++)t[o].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(n,t){const r=this._viewportRect,i=this._isRtl();let o,a,u,_,b,C;if("top"===t.overlayY)a=n.y,o=r.height-a+this._viewportMargin;else if("bottom"===t.overlayY)u=r.height-n.y+2*this._viewportMargin,o=r.height-u+this._viewportMargin;else{const D=Math.min(r.bottom-n.y+r.top,n.y),q=this._lastBoundingBoxSize.height;o=2*D,a=n.y-D,o>q&&!this._isInitialRender&&!this._growAfterOpen&&(a=n.y-q/2)}if("end"===t.overlayX&&!i||"start"===t.overlayX&&i)C=r.width-n.x+this._viewportMargin,_=n.x-this._viewportMargin;else if("start"===t.overlayX&&!i||"end"===t.overlayX&&i)b=n.x,_=r.right-n.x;else{const D=Math.min(r.right-n.x+r.left,n.x),q=this._lastBoundingBoxSize.width;_=2*D,b=n.x-D,_>q&&!this._isInitialRender&&!this._growAfterOpen&&(b=n.x-q/2)}return{top:a,left:b,bottom:u,right:C,width:_,height:o}}_setBoundingBoxStyles(n,t){const r=this._calculateBoundingBoxRect(n,t);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,a=this._overlayRef.getConfig().maxWidth;i.height=ls(r.height),i.top=ls(r.top),i.bottom=ls(r.bottom),i.width=ls(r.width),i.left=ls(r.left),i.right=ls(r.right),i.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",i.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",o&&(i.maxHeight=ls(o)),a&&(i.maxWidth=ls(a))}this._lastBoundingBoxSize=r,Rc(this._boundingBox.style,i)}_resetBoundingBoxStyles(){Rc(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Rc(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(n,t){const r={},i=this._hasExactPosition(),o=this._hasFlexibleDimensions,a=this._overlayRef.getConfig();if(i){const _=this._viewportRuler.getViewportScrollPosition();Rc(r,this._getExactOverlayY(t,n,_)),Rc(r,this._getExactOverlayX(t,n,_))}else r.position="static";let u="",h=this._getOffset(t,"x"),f=this._getOffset(t,"y");h&&(u+=`translateX(${h}px) `),f&&(u+=`translateY(${f}px)`),r.transform=u.trim(),a.maxHeight&&(i?r.maxHeight=ls(a.maxHeight):o&&(r.maxHeight="")),a.maxWidth&&(i?r.maxWidth=ls(a.maxWidth):o&&(r.maxWidth="")),Rc(this._pane.style,r)}_getExactOverlayY(n,t,r){let i={top:"",bottom:""},o=this._getOverlayPoint(t,this._overlayRect,n);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,r)),"bottom"===n.overlayY?i.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":i.top=ls(o.y),i}_getExactOverlayX(n,t,r){let a,i={left:"",right:""},o=this._getOverlayPoint(t,this._overlayRect,n);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,r)),a=this._isRtl()?"end"===n.overlayX?"left":"right":"end"===n.overlayX?"right":"left","right"===a?i.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":i.left=ls(o.x),i}_getScrollVisibility(){const n=this._getOriginRect(),t=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Hk(n,r),isOriginOutsideView:Dw(n,r),isOverlayClipped:Hk(t,r),isOverlayOutsideView:Dw(t,r)}}_subtractOverflows(n,...t){return t.reduce((r,i)=>r-Math.max(i,0),n)}_getNarrowedViewportRect(){const n=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+n-this._viewportMargin,bottom:r.top+t-this._viewportMargin,width:n-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(n,t){return"x"===t?null==n.offsetX?this._offsetX:n.offsetX:null==n.offsetY?this._offsetY:n.offsetY}_validatePositions(){}_addPanelClasses(n){this._pane&&rg(n).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(n=>{this._pane.classList.remove(n)}),this._appliedPanelClasses=[])}_getOriginRect(){const n=this._origin;if(n instanceof or)return n.nativeElement.getBoundingClientRect();if(n instanceof Element)return n.getBoundingClientRect();const t=n.width||0,r=n.height||0;return{top:n.y,bottom:n.y+r,left:n.x,right:n.x+t,height:r,width:t}}}function Rc(e,n){for(let t in n)n.hasOwnProperty(t)&&(e[t]=n[t]);return e}function Wk(e){if("number"!=typeof e&&null!=e){const[n,t]=e.split(c7);return t&&"px"!==t?null:parseFloat(n)}return e||null}function Yk(e){return{top:Math.floor(e.top),right:Math.floor(e.right),bottom:Math.floor(e.bottom),left:Math.floor(e.left),width:Math.floor(e.width),height:Math.floor(e.height)}}const Zk="cdk-global-overlay-wrapper";class h7{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(n){const t=n.getConfig();this._overlayRef=n,this._width&&!t.width&&n.updateSize({width:this._width}),this._height&&!t.height&&n.updateSize({height:this._height}),n.hostElement.classList.add(Zk),this._isDisposed=!1}top(n=""){return this._bottomOffset="",this._topOffset=n,this._alignItems="flex-start",this}left(n=""){return this._xOffset=n,this._xPosition="left",this}bottom(n=""){return this._topOffset="",this._bottomOffset=n,this._alignItems="flex-end",this}right(n=""){return this._xOffset=n,this._xPosition="right",this}start(n=""){return this._xOffset=n,this._xPosition="start",this}end(n=""){return this._xOffset=n,this._xPosition="end",this}width(n=""){return this._overlayRef?this._overlayRef.updateSize({width:n}):this._width=n,this}height(n=""){return this._overlayRef?this._overlayRef.updateSize({height:n}):this._height=n,this}centerHorizontally(n=""){return this.left(n),this._xPosition="center",this}centerVertically(n=""){return this.top(n),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const n=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:o,maxWidth:a,maxHeight:u}=r,h=!("100%"!==i&&"100vw"!==i||a&&"100%"!==a&&"100vw"!==a),f=!("100%"!==o&&"100vh"!==o||u&&"100%"!==u&&"100vh"!==u),_=this._xPosition,b=this._xOffset,C="rtl"===this._overlayRef.getConfig().direction;let D="",q="",j="";h?j="flex-start":"center"===_?(j="center",C?q=b:D=b):C?"left"===_||"end"===_?(j="flex-end",D=b):("right"===_||"start"===_)&&(j="flex-start",q=b):"left"===_||"start"===_?(j="flex-start",D=b):("right"===_||"end"===_)&&(j="flex-end",q=b),n.position=this._cssPosition,n.marginLeft=h?"0":D,n.marginTop=f?"0":this._topOffset,n.marginBottom=this._bottomOffset,n.marginRight=h?"0":q,t.justifyContent=j,t.alignItems=f?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const n=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,r=t.style;t.classList.remove(Zk),r.justifyContent=r.alignItems=n.marginTop=n.marginBottom=n.marginLeft=n.marginRight=n.position="",this._overlayRef=null,this._isDisposed=!0}}let f7=(()=>{class e{constructor(t,r,i,o){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=o}global(){return new h7}flexibleConnectedTo(t){return new d7(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return e.\u0275fac=function(t){return new(t||e)(et(Zg),et(lr),et(Zo),et(qk))},e.\u0275prov=gt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),p7=0,Kg=(()=>{class e{constructor(t,r,i,o,a,u,h,f,_,b,C,D){this.scrollStrategies=t,this._overlayContainer=r,this._componentFactoryResolver=i,this._positionBuilder=o,this._keyboardDispatcher=a,this._injector=u,this._ngZone=h,this._document=f,this._directionality=_,this._location=b,this._outsideClickDispatcher=C,this._animationsModuleType=D}create(t){const r=this._createHostElement(),i=this._createPaneElement(r),o=this._createPortalOutlet(i),a=new jk(t);return a.direction=a.direction||this._directionality.value,new u7(o,r,i,a,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const r=this._document.createElement("div");return r.id="cdk-overlay-"+p7++,r.classList.add("cdk-overlay-pane"),t.appendChild(r),r}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(qu)),new R9(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return e.\u0275fac=function(t){return new(t||e)(et(o7),et(qk),et(cd),et(f7),et(a7),et($s),et(yn),et(lr),et(df),et(Um),et(l7),et(_u,8))},e.\u0275prov=gt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const _7={provide:new St("cdk-connected-overlay-scroll-strategy"),deps:[Kg],useFactory:function g7(e){return()=>e.scrollStrategies.reposition()}};let y7=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=wn({type:e}),e.\u0275inj=zn({providers:[Kg,_7],imports:[hf,Nk,Mw,Mw]}),e})();function v7(e,n){if(1&e){const t=Hh();Wt(0,"div",2)(1,"button",3),Ai("click",function(){return Wc(t),Yc(yo().action())}),$r(2),en()()}if(2&e){const t=yo();On(2),Ws(" ",t.data.action," ")}}const b7=["label"];function w7(e,n){}const x7=Math.pow(2,31)-1;class Sw{constructor(n,t){this._overlayRef=t,this._afterDismissed=new qe,this._afterOpened=new qe,this._onAction=new qe,this._dismissedByAction=!1,this.containerInstance=n,n._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(n){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(n,x7))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}const Xk=new St("MatSnackBarData");class Qg{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}let E7=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=_t({type:e,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"]}),e})(),C7=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=_t({type:e,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"]}),e})(),M7=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=_t({type:e,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"]}),e})(),D7=(()=>{class e{constructor(t,r){this.snackBarRef=t,this.data=r}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return e.\u0275fac=function(t){return new(t||e)(Be(Sw),Be(Xk))},e.\u0275cmp=Dn({type:e,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions","",4,"ngIf"],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(t,r){1&t&&(Wt(0,"div",0),$r(1),en(),Yn(2,v7,3,1,"div",1)),2&t&&(On(1),Ws(" ",r.data.message,"\n"),On(1),er("ngIf",r.hasAction))},dependencies:[Mc,qg,E7,C7,M7],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0}),e})();const S7={snackBarState:vw("state",[Hf("void, hidden",Iu({transform:"scale(0.8)",opacity:0})),Hf("visible",Iu({transform:"scale(1)",opacity:1})),jf("* => visible",Uf("150ms cubic-bezier(0, 0, 0.2, 1)")),jf("* => void, * => hidden",Uf("75ms cubic-bezier(0.4, 0.0, 1, 1)",Iu({opacity:0})))])};let L7=0,I7=(()=>{class e extends Ew{constructor(t,r,i,o,a){super(),this._ngZone=t,this._elementRef=r,this._changeDetectorRef=i,this._platform=o,this.snackBarConfig=a,this._document=Mt(lr),this._trackedModals=new Set,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new qe,this._onExit=new qe,this._onEnter=new qe,this._animationState="void",this._liveElementId="mat-snack-bar-container-live-"+L7++,this.attachDomPortal=u=>{this._assertNotAttached();const h=this._portalOutlet.attachDomPortal(u);return this._afterPortalAttached(),h},this._live="assertive"!==a.politeness||a.announcementMessage?"off"===a.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(t){this._assertNotAttached();const r=this._portalOutlet.attachComponentPortal(t);return this._afterPortalAttached(),r}attachTemplatePortal(t){this._assertNotAttached();const r=this._portalOutlet.attachTemplatePortal(t);return this._afterPortalAttached(),r}onAnimationEnd(t){const{fromState:r,toState:i}=t;if(("void"===i&&"void"!==r||"hidden"===i)&&this._completeExit(),"visible"===i){const o=this._onEnter;this._ngZone.run(()=>{o.next(),o.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe(_a(1)).subscribe(()=>{this._ngZone.run(()=>{this._onExit.next(),this._onExit.complete()})})}_afterPortalAttached(){const t=this._elementRef.nativeElement,r=this.snackBarConfig.panelClass;r&&(Array.isArray(r)?r.forEach(i=>t.classList.add(i)):t.classList.add(r)),this._exposeToModals()}_exposeToModals(){const t=this._liveElementId,r=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let i=0;i<r.length;i++){const o=r[i],a=o.getAttribute("aria-owns");this._trackedModals.add(o),a?-1===a.indexOf(t)&&o.setAttribute("aria-owns",a+" "+t):o.setAttribute("aria-owns",t)}}_clearFromModals(){this._trackedModals.forEach(t=>{const r=t.getAttribute("aria-owns");if(r){const i=r.replace(this._liveElementId,"").trim();i.length>0?t.setAttribute("aria-owns",i):t.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const t=this._elementRef.nativeElement.querySelector("[aria-hidden]"),r=this._elementRef.nativeElement.querySelector("[aria-live]");if(t&&r){let i=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&t.contains(document.activeElement)&&(i=document.activeElement),t.removeAttribute("aria-hidden"),r.appendChild(t),i?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return e.\u0275fac=function(t){return new(t||e)(Be(yn),Be(or),Be(tu),Be(Zo),Be(Qg))},e.\u0275dir=_t({type:e,viewQuery:function(t,r){if(1&t&&Bo(Ok,7),2&t){let i;sr(i=ar())&&(r._portalOutlet=i.first)}},features:[cn]}),e})(),P7=(()=>{class e extends I7{_afterPortalAttached(){super._afterPortalAttached();const t=this._label.nativeElement,r="mdc-snackbar__label";t.classList.toggle(r,!t.querySelector(`.${r}`))}}return e.\u0275fac=function(){let n;return function(r){return(n||(n=ni(e)))(r||e)}}(),e.\u0275cmp=Dn({type:e,selectors:[["mat-snack-bar-container"]],viewQuery:function(t,r){if(1&t&&Bo(b7,7),2&t){let i;sr(i=ar())&&(r._label=i.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container","mdc-snackbar--open"],hostVars:1,hostBindings:function(t,r){1&t&&Cm("@state.done",function(o){return r.onAnimationEnd(o)}),2&t&&Sm("@state",r._animationState)},features:[cn],decls:6,vars:3,consts:[[1,"mdc-snackbar__surface"],[1,"mat-mdc-snack-bar-label"],["label",""],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(t,r){1&t&&(Wt(0,"div",0)(1,"div",1,2)(3,"div",3),Yn(4,w7,0,0,"ng-template",4),en(),Ni(5,"div"),en()()),2&t&&(On(5),gs("aria-live",r._live)("role",r._role)("id",r._liveElementId))},dependencies:[Ok],styles:['.mdc-snackbar{display:none;position:fixed;right:0;bottom:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;pointer-events:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mdc-snackbar--opening,.mdc-snackbar--open,.mdc-snackbar--closing{display:flex}.mdc-snackbar--open .mdc-snackbar__label,.mdc-snackbar--open .mdc-snackbar__actions{visibility:visible}.mdc-snackbar__surface{padding-left:0;padding-right:8px;display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;transform:scale(0.8);opacity:0}.mdc-snackbar__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-snackbar__surface::before{border-color:CanvasText}}[dir=rtl] .mdc-snackbar__surface,.mdc-snackbar__surface[dir=rtl]{padding-left:8px;padding-right:0}.mdc-snackbar--open .mdc-snackbar__surface{transform:scale(1);opacity:1;pointer-events:auto}.mdc-snackbar--closing .mdc-snackbar__surface{transform:scale(1)}.mdc-snackbar__label{padding-left:16px;padding-right:8px;width:100%;flex-grow:1;box-sizing:border-box;margin:0;visibility:hidden;padding-top:14px;padding-bottom:14px}[dir=rtl] .mdc-snackbar__label,.mdc-snackbar__label[dir=rtl]{padding-left:8px;padding-right:16px}.mdc-snackbar__label::before{display:inline;content:attr(data-mdc-snackbar-label-text)}.mdc-snackbar__actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box;visibility:hidden}.mdc-snackbar__action+.mdc-snackbar__dismiss{margin-left:8px;margin-right:0}[dir=rtl] .mdc-snackbar__action+.mdc-snackbar__dismiss,.mdc-snackbar__action+.mdc-snackbar__dismiss[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-snack-bar-container{margin:8px;--mdc-snackbar-container-shape:4px;position:static}.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:344px}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:100%}}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container{width:100vw}}.mat-mdc-snack-bar-container .mdc-snackbar__surface{max-width:672px}.mat-mdc-snack-bar-container .mdc-snackbar__surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{background-color:var(--mdc-snackbar-container-color)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{border-radius:var(--mdc-snackbar-container-shape)}.mat-mdc-snack-bar-container .mdc-snackbar__label{color:var(--mdc-snackbar-supporting-text-color)}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-size:var(--mdc-snackbar-supporting-text-size);font-family:var(--mdc-snackbar-supporting-text-font);font-weight:var(--mdc-snackbar-supporting-text-weight);line-height:var(--mdc-snackbar-supporting-text-line-height)}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:var(--mat-snack-bar-button-color);--mat-mdc-button-persistent-ripple-color: currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{background-color:currentColor;opacity:.1}.mat-mdc-snack-bar-container .mdc-snackbar__label::before{display:none}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-handset .mdc-snackbar__surface{width:100%}'],encapsulation:2,data:{animation:[S7.snackBarState]}}),e})(),Kk=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=wn({type:e}),e.\u0275inj=zn({imports:[y7,Nk,nf,Pk,us,us]}),e})();const Qk=new St("mat-snack-bar-default-options",{providedIn:"root",factory:function T7(){return new Qg}});let k7=(()=>{class e{get _openedSnackBarRef(){const t=this._parentSnackBar;return t?t._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(t){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=t:this._snackBarRefAtThisLevel=t}constructor(t,r,i,o,a,u){this._overlay=t,this._live=r,this._injector=i,this._breakpointObserver=o,this._parentSnackBar=a,this._defaultConfig=u,this._snackBarRefAtThisLevel=null}openFromComponent(t,r){return this._attach(t,r)}openFromTemplate(t,r){return this._attach(t,r)}open(t,r="",i){const o={...this._defaultConfig,...i};return o.data={message:t,action:r},o.announcementMessage===t&&(o.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,o)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(t,r){const o=$s.create({parent:r&&r.viewContainerRef&&r.viewContainerRef.injector||this._injector,providers:[{provide:Qg,useValue:r}]}),a=new xw(this.snackBarContainerComponent,r.viewContainerRef,o),u=t.attach(a);return u.instance.snackBarConfig=r,u.instance}_attach(t,r){const i={...new Qg,...this._defaultConfig,...r},o=this._createOverlay(i),a=this._attachSnackBarContainer(o,i),u=new Sw(a,o);if(t instanceof Is){const h=new Rk(t,null,{$implicit:i.data,snackBarRef:u});u.instance=a.attachTemplatePortal(h)}else{const h=this._createInjector(i,u),f=new xw(t,void 0,h),_=a.attachComponentPortal(f);u.instance=_.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(ko(o.detachments())).subscribe(h=>{o.overlayElement.classList.toggle(this.handsetCssClass,h.matches)}),i.announcementMessage&&a._onAnnounce.subscribe(()=>{this._live.announce(i.announcementMessage,i.politeness)}),this._animateSnackBar(u,i),this._openedSnackBarRef=u,this._openedSnackBarRef}_animateSnackBar(t,r){t.afterDismissed().subscribe(()=>{this._openedSnackBarRef==t&&(this._openedSnackBarRef=null),r.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{t.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):t.containerInstance.enter(),r.duration&&r.duration>0&&t.afterOpened().subscribe(()=>t._dismissAfter(r.duration))}_createOverlay(t){const r=new jk;r.direction=t.direction;let i=this._overlay.position().global();const o="rtl"===t.direction,a="left"===t.horizontalPosition||"start"===t.horizontalPosition&&!o||"end"===t.horizontalPosition&&o,u=!a&&"center"!==t.horizontalPosition;return a?i.left("0"):u?i.right("0"):i.centerHorizontally(),"top"===t.verticalPosition?i.top("0"):i.bottom("0"),r.positionStrategy=i,this._overlay.create(r)}_createInjector(t,r){return $s.create({parent:t&&t.viewContainerRef&&t.viewContainerRef.injector||this._injector,providers:[{provide:Sw,useValue:r},{provide:Xk,useValue:t.data}]})}}return e.\u0275fac=function(t){return new(t||e)(et(Kg),et($I),et($s),et(vb),et(e,12),et(Qk))},e.\u0275prov=gt({token:e,factory:e.\u0275fac}),e})(),Yf=(()=>{class e extends k7{constructor(t,r,i,o,a,u){super(t,r,i,o,a,u),this.simpleSnackBarComponent=D7,this.snackBarContainerComponent=P7,this.handsetCssClass="mat-mdc-snack-bar-handset"}}return e.\u0275fac=function(t){return new(t||e)(et(Kg),et($I),et($s),et(vb),et(e,12),et(Qk))},e.\u0275prov=gt({token:e,factory:e.\u0275fac,providedIn:Kk}),e})(),A7=(()=>{class e{constructor(t,r,i,o,a){this.partnerService=t,this.formBuilder=r,this.snackBar=i,this.router=o,this.route=a}getAll(){return this.partnerService.getAll()}onDelete(t,r){return this.partnerService.delete(t).subscribe({next:()=>{},error:()=>this.onError()}),this.onSucess(t,r)}filterByName(t){return""!=t.value.tradingName?this.partnerService.getAll().pipe(yt(r=>r.filter(i=>i.tradingName===t.value.tradingName))):this.partnerService.getAll()}onSucess(t,r){return this.snackBar.open("Place deleted successfully!","",{duration:4e3}),r.pipe(yt(i=>i.filter(o=>o.document!==t)))}onError(){this.snackBar.open("Error deleting place","",{duration:4e3})}}return e.\u0275fac=function(t){return new(t||e)(et(Pg),et(zf),et(Yf),et(Ts),et(Za))},e.\u0275prov=gt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),R7=(()=>{class e{constructor(t,r,i){this.partnerService=t,this.formBuilder=r,this.snackBar=i}getBestPartners(t){return this.lastGeometries=t,this.partnerService.getBest(t).pipe(yt(i=>i))}filterByName(t){let r;if(this.lastGeometries)return r=this.partnerService.getBest(this.lastGeometries),""!=t.value.tradingName&&(r=r.pipe(yt(i=>i.filter(o=>o.tradingName===t.value.tradingName)))),r;this.onFilterError()}onFilterError(){this.snackBar.open("No partners to filter","",{duration:4e3})}}return e.\u0275fac=function(t){return new(t||e)(et(Pg),et(zf),et(Yf))},e.\u0275prov=gt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const O7=["*",[["mat-toolbar-row"]]],N7=["*","mat-toolbar-row"],F7=wb(class{constructor(e){this._elementRef=e}});let B7=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=_t({type:e,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),e})(),Lw=(()=>{class e extends F7{constructor(t,r,i){super(t),this._platform=r,this._document=i}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return e.\u0275fac=function(t){return new(t||e)(Be(or),Be(Zo),Be(lr))},e.\u0275cmp=Dn({type:e,selectors:[["mat-toolbar"]],contentQueries:function(t,r,i){if(1&t&&zo(i,B7,5),2&t){let o;sr(o=ar())&&(r._toolbarRows=o)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(t,r){2&t&&Xi("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",0===r._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[cn],ngContentSelectors:N7,decls:2,vars:0,template:function(t,r){1&t&&(Ls(O7),_r(0),_r(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color: inherit;--mdc-outlined-button-label-text-color: inherit}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),e})(),z7=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=wn({type:e}),e.\u0275inj=zn({imports:[us,us]}),e})();const V7=["*"];let Jg;function Zf(e){return function U7(){if(void 0===Jg&&(Jg=null,typeof window<"u")){const e=window;void 0!==e.trustedTypes&&(Jg=e.trustedTypes.createPolicy("angular#components",{createHTML:n=>n}))}return Jg}()?.createHTML(e)||e}function Jk(e){return Error(`Unable to find icon with the name "${e}"`)}function eA(e){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${e}".`)}function tA(e){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${e}".`)}class Oc{constructor(n,t,r){this.url=n,this.svgText=t,this.options=r}}let e_=(()=>{class e{constructor(t,r,i,o){this._httpClient=t,this._sanitizer=r,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=i}addSvgIcon(t,r,i){return this.addSvgIconInNamespace("",t,r,i)}addSvgIconLiteral(t,r,i){return this.addSvgIconLiteralInNamespace("",t,r,i)}addSvgIconInNamespace(t,r,i,o){return this._addSvgIconConfig(t,r,new Oc(i,null,o))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,r,i,o){const a=this._sanitizer.sanitize(qs.HTML,i);if(!a)throw tA(i);const u=Zf(a);return this._addSvgIconConfig(t,r,new Oc("",u,o))}addSvgIconSet(t,r){return this.addSvgIconSetInNamespace("",t,r)}addSvgIconSetLiteral(t,r){return this.addSvgIconSetLiteralInNamespace("",t,r)}addSvgIconSetInNamespace(t,r,i){return this._addSvgIconSetConfig(t,new Oc(r,null,i))}addSvgIconSetLiteralInNamespace(t,r,i){const o=this._sanitizer.sanitize(qs.HTML,r);if(!o)throw tA(r);const a=Zf(o);return this._addSvgIconSetConfig(t,new Oc("",a,i))}registerFontClassAlias(t,r=t){return this._fontCssClassesByAlias.set(t,r),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const r=this._sanitizer.sanitize(qs.RESOURCE_URL,t);if(!r)throw eA(t);const i=this._cachedIconsByUrl.get(r);return i?Vt(t_(i)):this._loadSvgIconFromConfig(new Oc(t,null)).pipe(Ps(o=>this._cachedIconsByUrl.set(r,o)),yt(o=>t_(o)))}getNamedSvgIcon(t,r=""){const i=nA(r,t);let o=this._svgIconConfigs.get(i);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(r,t),o)return this._svgIconConfigs.set(i,o),this._getSvgFromConfig(o);const a=this._iconSetConfigs.get(r);return a?this._getSvgFromIconSetConfigs(t,a):Nd(Jk(i))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?Vt(t_(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(yt(r=>t_(r)))}_getSvgFromIconSetConfigs(t,r){const i=this._extractIconWithNameFromAnySet(t,r);return i?Vt(i):ET(r.filter(a=>!a.svgText).map(a=>this._loadSvgIconSetFromConfig(a).pipe(Xu(u=>{const f=`Loading icon set URL: ${this._sanitizer.sanitize(qs.RESOURCE_URL,a.url)} failed: ${u.message}`;return this._errorHandler.handleError(new Error(f)),Vt(null)})))).pipe(yt(()=>{const a=this._extractIconWithNameFromAnySet(t,r);if(!a)throw Jk(t);return a}))}_extractIconWithNameFromAnySet(t,r){for(let i=r.length-1;i>=0;i--){const o=r[i];if(o.svgText&&o.svgText.toString().indexOf(t)>-1){const a=this._svgElementFromConfig(o),u=this._extractSvgIconFromSet(a,t,o.options);if(u)return u}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(Ps(r=>t.svgText=r),yt(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?Vt(null):this._fetchIcon(t).pipe(Ps(r=>t.svgText=r))}_extractSvgIconFromSet(t,r,i){const o=t.querySelector(`[id="${r}"]`);if(!o)return null;const a=o.cloneNode(!0);if(a.removeAttribute("id"),"svg"===a.nodeName.toLowerCase())return this._setSvgAttributes(a,i);if("symbol"===a.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(a),i);const u=this._svgElementFromString(Zf("<svg></svg>"));return u.appendChild(a),this._setSvgAttributes(u,i)}_svgElementFromString(t){const r=this._document.createElement("DIV");r.innerHTML=t;const i=r.querySelector("svg");if(!i)throw Error("<svg> tag not found");return i}_toSvgElement(t){const r=this._svgElementFromString(Zf("<svg></svg>")),i=t.attributes;for(let o=0;o<i.length;o++){const{name:a,value:u}=i[o];"id"!==a&&r.setAttribute(a,u)}for(let o=0;o<t.childNodes.length;o++)t.childNodes[o].nodeType===this._document.ELEMENT_NODE&&r.appendChild(t.childNodes[o].cloneNode(!0));return r}_setSvgAttributes(t,r){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),r&&r.viewBox&&t.setAttribute("viewBox",r.viewBox),t}_fetchIcon(t){const{url:r,options:i}=t,o=i?.withCredentials??!1;if(!this._httpClient)throw function H7(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==r)throw Error(`Cannot fetch icon from URL "${r}".`);const a=this._sanitizer.sanitize(qs.RESOURCE_URL,r);if(!a)throw eA(r);const u=this._inProgressUrlFetches.get(a);if(u)return u;const h=this._httpClient.get(a,{responseType:"text",withCredentials:o}).pipe(yt(f=>Zf(f)),Bd(()=>this._inProgressUrlFetches.delete(a)),So());return this._inProgressUrlFetches.set(a,h),h}_addSvgIconConfig(t,r,i){return this._svgIconConfigs.set(nA(t,r),i),this}_addSvgIconSetConfig(t,r){const i=this._iconSetConfigs.get(t);return i?i.push(r):this._iconSetConfigs.set(t,[r]),this}_svgElementFromConfig(t){if(!t.svgElement){const r=this._svgElementFromString(t.svgText);this._setSvgAttributes(r,t.options),t.svgElement=r}return t.svgElement}_getIconConfigFromResolvers(t,r){for(let i=0;i<this._resolvers.length;i++){const o=this._resolvers[i](r,t);if(o)return G7(o)?new Oc(o.url,null,o.options):new Oc(o,null)}}}return e.\u0275fac=function(t){return new(t||e)(et(Pf,8),et(cb),et(lr,8),et($l))},e.\u0275prov=gt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function t_(e){return e.cloneNode(!0)}function nA(e,n){return e+":"+n}function G7(e){return!(!e.url||!e.options)}const q7=wb(class{constructor(e){this._elementRef=e}}),$7=new St("MAT_ICON_DEFAULT_OPTIONS"),W7=new St("mat-icon-location",{providedIn:"root",factory:function Y7(){const e=Mt(lr),n=e?e.location:null;return{getPathname:()=>n?n.pathname+n.search:""}}}),rA=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Z7=rA.map(e=>`[${e}]`).join(", "),X7=/^url\(['"]?#(.*?)['"]?\)$/;let iA=(()=>{class e extends q7{get inline(){return this._inline}set inline(t){this._inline=Zs(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const r=this._cleanupFontValue(t);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const r=this._cleanupFontValue(t);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}constructor(t,r,i,o,a,u){super(t),this._iconRegistry=r,this._location=o,this._errorHandler=a,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=O.EMPTY,u&&(u.color&&(this.color=this.defaultColor=u.color),u.fontSet&&(this.fontSet=u.fontSet)),i||t.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(t){if(!t)return["",""];const r=t.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let r=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){const i=t.childNodes[r];(1!==i.nodeType||"svg"===i.nodeName.toLowerCase())&&i.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,r=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(i=>i.length>0);this._previousFontSetClass.forEach(i=>t.classList.remove(i)),r.forEach(i=>t.classList.add(i)),this._previousFontSetClass=r,this.fontIcon!==this._previousFontIconClass&&!r.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const r=this._elementsWithExternalReferences;r&&r.forEach((i,o)=>{i.forEach(a=>{o.setAttribute(a.name,`url('${t}#${a.value}')`)})})}_cacheChildrenWithExternalReferences(t){const r=t.querySelectorAll(Z7),i=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<r.length;o++)rA.forEach(a=>{const u=r[o],h=u.getAttribute(a),f=h?h.match(X7):null;if(f){let _=i.get(u);_||(_=[],i.set(u,_)),_.push({name:a,value:f[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[r,i]=this._splitIconName(t);r&&(this._svgNamespace=r),i&&(this._svgName=i),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(i,r).pipe(_a(1)).subscribe(o=>this._setSvgElement(o),o=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${r}:${i}! ${o.message}`))})}}}return e.\u0275fac=function(t){return new(t||e)(Be(or),Be(e_),pc("aria-hidden"),Be(W7),Be($l),Be($7,8))},e.\u0275cmp=Dn({type:e,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(t,r){2&t&&(gs("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet)("fontIcon",r._usingFontIcon()?r.fontIcon:null),Xi("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[cn],ngContentSelectors:V7,decls:1,vars:0,template:function(t,r){1&t&&(Ls(),_r(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),e})(),K7=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=wn({type:e}),e.\u0275inj=zn({imports:[us,us]}),e})();class Q7 extends qe{constructor(n=1/0,t=1/0,r=gb){super(),this._bufferSize=n,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,n),this._windowTime=Math.max(1,t)}next(n){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:a}=this;t||(r.push(n),!i&&r.push(o.now()+a)),this._trimBuffer(),super.next(n)}_subscribe(n){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(n),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let a=0;a<o.length&&!n.closed;a+=r?1:2)n.next(o[a]);return this._checkFinalizedStatuses(n),t}_trimBuffer(){const{_bufferSize:n,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*n;if(n<1/0&&o<r.length&&r.splice(0,r.length-o),!i){const a=t.now();let u=0;for(let h=1;h<r.length&&r[h]<=a;h+=2)u=h;u&&r.splice(0,u+1)}}}class eW{constructor(n){this._box=n,this._destroyed=new qe,this._resizeSubject=new qe,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(t=>this._resizeSubject.next(t)))}observe(n){return this._elementObservables.has(n)||this._elementObservables.set(n,new be(t=>{const r=this._resizeSubject.subscribe(t);return this._resizeObserver?.observe(n,{box:this._box}),()=>{this._resizeObserver?.unobserve(n),r.unsubscribe(),this._elementObservables.delete(n)}}).pipe(ys(t=>t.some(r=>r.target===n)),function J7(e,n,t){let r,i=!1;return e&&"object"==typeof e?({bufferSize:r=1/0,windowTime:n=1/0,refCount:i=!1,scheduler:t}=e):r=e??1/0,So({connector:()=>new Q7(r,n,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}({bufferSize:1,refCount:!0}),ko(this._destroyed))),this._elementObservables.get(n)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let tW=(()=>{class e{constructor(){this._observers=new Map,this._ngZone=Mt(yn)}ngOnDestroy(){for(const[,t]of this._observers)t.destroy();this._observers.clear()}observe(t,r){const i=r?.box||"content-box";return this._observers.has(i)||this._observers.set(i,new eW(i)),this._observers.get(i).observe(t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=gt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),nW=(()=>{class e{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=gt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),rW=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=wn({type:e}),e.\u0275inj=zn({providers:[nW]}),e})();const iW=["notch"],oW=["matFormFieldNotchedOutline",""],sW=["*"],aW=["textField"],lW=["iconPrefixContainer"],uW=["textPrefixContainer"];function cW(e,n){1&e&&Ni(0,"span",19)}function dW(e,n){if(1&e&&(Wt(0,"label",17),_r(1,1),Yn(2,cW,1,0,"span",18),en()),2&e){const t=yo(2);er("floating",t._shouldLabelFloat())("monitorResize",t._hasOutline())("id",t._labelId),gs("for",t._control.id)("aria-owns",t._control.id),On(2),er("ngIf",!t.hideRequiredMarker&&t._control.required)}}function hW(e,n){1&e&&Yn(0,dW,3,6,"label",16),2&e&&er("ngIf",yo()._hasFloatingLabel())}function fW(e,n){1&e&&Ni(0,"div",20)}function pW(e,n){}function mW(e,n){1&e&&Yn(0,pW,0,0,"ng-template",22),2&e&&(yo(2),er("ngTemplateOutlet",Gv(1)))}function gW(e,n){if(1&e&&(Wt(0,"div",21),Yn(1,mW,1,1,"ng-template",9),en()),2&e){const t=yo();er("matFormFieldNotchedOutlineOpen",t._shouldLabelFloat()),On(1),er("ngIf",!t._forceDisplayInfixLabel())}}function _W(e,n){1&e&&(Wt(0,"div",23,24),_r(2,2),en())}function yW(e,n){1&e&&(Wt(0,"div",25,26),_r(2,3),en())}function vW(e,n){}function bW(e,n){1&e&&Yn(0,vW,0,0,"ng-template",22),2&e&&(yo(),er("ngTemplateOutlet",Gv(1)))}function wW(e,n){1&e&&(Wt(0,"div",27),_r(1,4),en())}function xW(e,n){1&e&&(Wt(0,"div",28),_r(1,5),en())}function EW(e,n){1&e&&Ni(0,"div",29)}function CW(e,n){1&e&&(Wt(0,"div",30),_r(1,6),en()),2&e&&er("@transitionMessages",yo()._subscriptAnimationState)}function MW(e,n){if(1&e&&(Wt(0,"mat-hint",34),$r(1),en()),2&e){const t=yo(2);er("id",t._hintLabelId),On(1),Cd(t.hintLabel)}}function DW(e,n){if(1&e&&(Wt(0,"div",31),Yn(1,MW,2,2,"mat-hint",32),_r(2,7),Ni(3,"div",33),_r(4,8),en()),2&e){const t=yo();er("@transitionMessages",t._subscriptAnimationState),On(1),er("ngIf",t.hintLabel)}}const SW=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],LW=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let Iw=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=_t({type:e,selectors:[["mat-label"]]}),e})(),IW=0;const oA=new St("MatError");let PW=(()=>{class e{constructor(t,r){this.id="mat-mdc-error-"+IW++,t||r.nativeElement.setAttribute("aria-live","polite")}}return e.\u0275fac=function(t){return new(t||e)(pc("aria-live"),Be(or))},e.\u0275dir=_t({type:e,selectors:[["mat-error"],["","matError",""]],hostAttrs:["aria-atomic","true",1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(t,r){2&t&&qh("id",r.id)},inputs:{id:"id"},features:[jn([{provide:oA,useExisting:e}])]}),e})(),TW=0,sA=(()=>{class e{constructor(){this.align="start",this.id="mat-mdc-hint-"+TW++}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=_t({type:e,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(t,r){2&t&&(qh("id",r.id),gs("align",null),Xi("mat-mdc-form-field-hint-end","end"===r.align))},inputs:{align:"align",id:"id"}}),e})();const kW=new St("MatPrefix"),AW=new St("MatSuffix"),aA=new St("FloatingLabelParent");let lA=(()=>{class e{get floating(){return this._floating}set floating(t){this._floating=t,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(t){this._monitorResize=t,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(t){this._elementRef=t,this._floating=!1,this._monitorResize=!1,this._resizeObserver=Mt(tW),this._ngZone=Mt(yn),this._parent=Mt(aA),this._resizeSubscription=new O}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function RW(e){if(null!==e.offsetParent)return e.scrollWidth;const t=e.cloneNode(!0);t.style.setProperty("position","absolute"),t.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(t);const r=t.scrollWidth;return t.remove(),r}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}}return e.\u0275fac=function(t){return new(t||e)(Be(or))},e.\u0275dir=_t({type:e,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(t,r){2&t&&Xi("mdc-floating-label--float-above",r.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}}),e})();const uA="mdc-line-ripple--active",n_="mdc-line-ripple--deactivating";let cA=(()=>{class e{constructor(t,r){this._elementRef=t,this._handleTransitionEnd=i=>{const o=this._elementRef.nativeElement.classList,a=o.contains(n_);"opacity"===i.propertyName&&a&&o.remove(uA,n_)},r.runOutsideAngular(()=>{t.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const t=this._elementRef.nativeElement.classList;t.remove(n_),t.add(uA)}deactivate(){this._elementRef.nativeElement.classList.add(n_)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}}return e.\u0275fac=function(t){return new(t||e)(Be(or),Be(yn))},e.\u0275dir=_t({type:e,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]}),e})(),dA=(()=>{class e{constructor(t,r){this._elementRef=t,this._ngZone=r,this.open=!1}ngAfterViewInit(){const t=this._elementRef.nativeElement.querySelector(".mdc-floating-label");t?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(t.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>t.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(t){this._notch.nativeElement.style.width=this.open&&t?`calc(${t}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}}return e.\u0275fac=function(t){return new(t||e)(Be(or),Be(yn))},e.\u0275cmp=Dn({type:e,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(t,r){if(1&t&&Bo(iW,5),2&t){let i;sr(i=ar())&&(r._notch=i.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(t,r){2&t&&Xi("mdc-notched-outline--notched",r.open)},inputs:{open:["matFormFieldNotchedOutlineOpen","open"]},attrs:oW,ngContentSelectors:sW,decls:5,vars:0,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],["notch",""],[1,"mdc-notched-outline__trailing"]],template:function(t,r){1&t&&(Ls(),Ni(0,"div",0),Wt(1,"div",1,2),_r(3),en(),Ni(4,"div",3))},encapsulation:2,changeDetection:0}),e})();const OW={transitionMessages:vw("transitionMessages",[Hf("enter",Iu({opacity:1,transform:"translateY(0%)"})),jf("void => enter",[Iu({opacity:0,transform:"translateY(-5px)"}),Uf("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let hA=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=_t({type:e}),e})();const fA=new St("MatFormField"),NW=new St("MAT_FORM_FIELD_DEFAULT_OPTIONS");let pA=0,_A=(()=>{class e{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=Zs(t)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(t){const r=this._appearance;this._appearance=t||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==r&&(this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(t){this._subscriptSizing=t||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(t){this._explicitFormFieldControl=t}constructor(t,r,i,o,a,u,h,f){this._elementRef=t,this._changeDetectorRef=r,this._ngZone=i,this._dir=o,this._platform=a,this._defaults=u,this._animationMode=h,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+pA++,this._hintLabelId="mat-mdc-hint-"+pA++,this._subscriptAnimationState="",this._destroyed=new qe,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,u&&(u.appearance&&(this.appearance=u.appearance),this._hideRequiredMarker=!!u?.hideRequiredMarker,u.color&&(this.color=u.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${t.controlType}`),t.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(ko(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(t=>!t._isText),this._hasTextPrefix=!!this._prefixChildren.find(t=>t._isText),this._hasIconSuffix=!!this._suffixChildren.find(t=>!t._isText),this._hasTextSuffix=!!this._suffixChildren.find(t=>t._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),zt(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(ko(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe(ko(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(t){const r=this._control?this._control.ngControl:null;return r&&r[t]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const r=this._hintChildren?this._hintChildren.find(o=>"start"===o.align):null,i=this._hintChildren?this._hintChildren.find(o=>"end"===o.align):null;r?t.push(r.id):this._hintLabel&&t.push(this._hintLabelId),i&&t.push(i.id)}else this._errorChildren&&t.push(...this._errorChildren.map(r=>r.id));this._control.setDescribedByIds(t)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const t=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(t.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const r=this._iconPrefixContainer?.nativeElement,i=this._textPrefixContainer?.nativeElement,o=r?.getBoundingClientRect().width??0,a=i?.getBoundingClientRect().width??0;t.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${o+a}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const t=this._elementRef.nativeElement;if(t.getRootNode){const r=t.getRootNode();return r&&r!==t}return document.documentElement.contains(t)}}return e.\u0275fac=function(t){return new(t||e)(Be(or),Be(tu),Be(yn),Be(df),Be(Zo),Be(NW,8),Be(_u,8),Be(lr))},e.\u0275cmp=Dn({type:e,selectors:[["mat-form-field"]],contentQueries:function(t,r,i){if(1&t&&(zo(i,Iw,5),zo(i,Iw,7),zo(i,hA,5),zo(i,kW,5),zo(i,AW,5),zo(i,oA,5),zo(i,sA,5)),2&t){let o;sr(o=ar())&&(r._labelChildNonStatic=o.first),sr(o=ar())&&(r._labelChildStatic=o.first),sr(o=ar())&&(r._formFieldControl=o.first),sr(o=ar())&&(r._prefixChildren=o),sr(o=ar())&&(r._suffixChildren=o),sr(o=ar())&&(r._errorChildren=o),sr(o=ar())&&(r._hintChildren=o)}},viewQuery:function(t,r){if(1&t&&(Bo(aW,5),Bo(lW,5),Bo(uW,5),Bo(lA,5),Bo(dA,5),Bo(cA,5)),2&t){let i;sr(i=ar())&&(r._textField=i.first),sr(i=ar())&&(r._iconPrefixContainer=i.first),sr(i=ar())&&(r._textPrefixContainer=i.first),sr(i=ar())&&(r._floatingLabel=i.first),sr(i=ar())&&(r._notchedOutline=i.first),sr(i=ar())&&(r._lineRipple=i.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(t,r){2&t&&Xi("mat-mdc-form-field-label-always-float",r._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",r._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",r._hasIconSuffix)("mat-form-field-invalid",r._control.errorState)("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===r._animationMode)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-hide-placeholder",r._hasFloatingLabel()&&!r._shouldLabelFloat())("mat-focused",r._control.focused)("mat-primary","accent"!==r.color&&"warn"!==r.color)("mat-accent","accent"===r.color)("mat-warn","warn"===r.color)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[jn([{provide:fA,useExisting:e},{provide:aA,useExisting:e}])],ngContentSelectors:LW,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(t,r){1&t&&(Ls(SW),Yn(0,hW,1,1,"ng-template",null,0,AS),Wt(2,"div",1,2),Ai("click",function(o){return r._control.onContainerClick(o)}),Yn(4,fW,1,0,"div",3),Wt(5,"div",4),Yn(6,gW,2,2,"div",5),Yn(7,_W,3,0,"div",6),Yn(8,yW,3,0,"div",7),Wt(9,"div",8),Yn(10,bW,1,1,"ng-template",9),_r(11),en(),Yn(12,wW,2,0,"div",10),Yn(13,xW,2,0,"div",11),en(),Yn(14,EW,1,0,"div",12),en(),Wt(15,"div",13),Yn(16,CW,2,1,"div",14),Yn(17,DW,5,2,"div",15),en()),2&t&&(On(2),Xi("mdc-text-field--filled",!r._hasOutline())("mdc-text-field--outlined",r._hasOutline())("mdc-text-field--no-label",!r._hasFloatingLabel())("mdc-text-field--disabled",r._control.disabled)("mdc-text-field--invalid",r._control.errorState),On(2),er("ngIf",!r._hasOutline()&&!r._control.disabled),On(2),er("ngIf",r._hasOutline()),On(1),er("ngIf",r._hasIconPrefix),On(1),er("ngIf",r._hasTextPrefix),On(2),er("ngIf",!r._hasOutline()||r._forceDisplayInfixLabel()),On(2),er("ngIf",r._hasTextSuffix),On(1),er("ngIf",r._hasIconSuffix),On(1),er("ngIf",!r._hasOutline()),On(1),Xi("mat-mdc-form-field-subscript-dynamic-size","dynamic"===r.subscriptSizing),er("ngSwitch",r._getDisplayedMessages()),On(1),er("ngSwitchCase","error"),On(1),er("ngSwitchCase","hint"))},dependencies:[Mc,JL,Qm,KL,sA,lA,dA,cA],styles:['.mdc-text-field{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;pointer-events:none}.mdc-notched-outline__trailing{flex-grow:1}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-top:1px solid;border-bottom:1px solid}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{max-width:calc(100% - 12px * 2)}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{line-height:normal;pointer-events:all}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[OW.transitionMessages]},changeDetection:0}),e})(),Pw=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=wn({type:e}),e.\u0275inj=zn({imports:[us,nf,rW,us]}),e})();function Tw(e){return e&&"function"==typeof e.connect&&!(e instanceof Cb)}class yA{applyChanges(n,t,r,i,o){n.forEachOperation((a,u,h)=>{let f,_;if(null==a.previousIndex){const b=r(a,u,h);f=t.createEmbeddedView(b.templateRef,b.context,b.index),_=1}else null==h?(t.remove(u),_=3):(f=t.get(u),t.move(f,h),_=2);o&&o({context:f?.context,operation:_,record:a})})}detach(){}}const Xf=new St("_ViewRepeater"),zW=[[["caption"]],[["colgroup"],["col"]]],VW=["caption","colgroup, col"];function kw(e){return class extends e{get sticky(){return this._sticky}set sticky(n){const t=this._sticky;this._sticky=Zs(n),this._hasStickyChanged=t!==this._sticky}hasStickyChanged(){const n=this._hasStickyChanged;return this._hasStickyChanged=!1,n}resetStickyChanged(){this._hasStickyChanged=!1}constructor(...n){super(...n),this._sticky=!1,this._hasStickyChanged=!1}}}const Qd=new St("CDK_TABLE");let Jd=(()=>{class e{constructor(t){this.template=t}}return e.\u0275fac=function(t){return new(t||e)(Be(Is))},e.\u0275dir=_t({type:e,selectors:[["","cdkCellDef",""]]}),e})(),eh=(()=>{class e{constructor(t){this.template=t}}return e.\u0275fac=function(t){return new(t||e)(Be(Is))},e.\u0275dir=_t({type:e,selectors:[["","cdkHeaderCellDef",""]]}),e})(),r_=(()=>{class e{constructor(t){this.template=t}}return e.\u0275fac=function(t){return new(t||e)(Be(Is))},e.\u0275dir=_t({type:e,selectors:[["","cdkFooterCellDef",""]]}),e})();class GW{}const qW=kw(GW);let Pu=(()=>{class e extends qW{get name(){return this._name}set name(t){this._setNameInput(t)}get stickyEnd(){return this._stickyEnd}set stickyEnd(t){const r=this._stickyEnd;this._stickyEnd=Zs(t),this._hasStickyChanged=r!==this._stickyEnd}constructor(t){super(),this._table=t,this._stickyEnd=!1}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(t){t&&(this._name=t,this.cssClassFriendlyName=t.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return e.\u0275fac=function(t){return new(t||e)(Be(Qd,8))},e.\u0275dir=_t({type:e,selectors:[["","cdkColumnDef",""]],contentQueries:function(t,r,i){if(1&t&&(zo(i,Jd,5),zo(i,eh,5),zo(i,r_,5)),2&t){let o;sr(o=ar())&&(r.cell=o.first),sr(o=ar())&&(r.headerCell=o.first),sr(o=ar())&&(r.footerCell=o.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[jn([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:e}]),cn]}),e})();class Aw{constructor(n,t){t.nativeElement.classList.add(...n._columnCssClassName)}}let Rw=(()=>{class e extends Aw{constructor(t,r){super(t,r)}}return e.\u0275fac=function(t){return new(t||e)(Be(Pu),Be(or))},e.\u0275dir=_t({type:e,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[cn]}),e})(),Ow=(()=>{class e extends Aw{constructor(t,r){if(super(t,r),1===t._table?._elementRef.nativeElement.nodeType){const i=t._table._elementRef.nativeElement.getAttribute("role");r.nativeElement.setAttribute("role","grid"===i||"treegrid"===i?"gridcell":"cell")}}}return e.\u0275fac=function(t){return new(t||e)(Be(Pu),Be(or))},e.\u0275dir=_t({type:e,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[cn]}),e})();class wA{constructor(){this.tasks=[],this.endTasks=[]}}const Nw=new St("_COALESCED_STYLE_SCHEDULER");let xA=(()=>{class e{constructor(t){this._ngZone=t,this._currentSchedule=null,this._destroyed=new qe}schedule(t){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(t)}scheduleEnd(t){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(t)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new wA,this._getScheduleObservable().pipe(ko(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const t=this._currentSchedule;this._currentSchedule=new wA;for(const r of t.tasks)r();for(const r of t.endTasks)r()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?Si(Promise.resolve(void 0)):this._ngZone.onStable.pipe(_a(1))}}return e.\u0275fac=function(t){return new(t||e)(et(yn))},e.\u0275prov=gt({token:e,factory:e.\u0275fac}),e})(),Fw=(()=>{class e{constructor(t,r){this.template=t,this._differs=r}ngOnChanges(t){if(!this._columnsDiffer){const r=t.columns&&t.columns.currentValue||[];this._columnsDiffer=this._differs.find(r).create(),this._columnsDiffer.diff(r)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(t){return this instanceof Kf?t.headerCell.template:this instanceof Qf?t.footerCell.template:t.cell.template}}return e.\u0275fac=function(t){return new(t||e)(Be(Is),Be(nu))},e.\u0275dir=_t({type:e,features:[ps]}),e})();class $W extends Fw{}const WW=kw($W);let Kf=(()=>{class e extends WW{constructor(t,r,i){super(t,r),this._table=i}ngOnChanges(t){super.ngOnChanges(t)}}return e.\u0275fac=function(t){return new(t||e)(Be(Is),Be(nu),Be(Qd,8))},e.\u0275dir=_t({type:e,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[cn,ps]}),e})();class YW extends Fw{}const ZW=kw(YW);let Qf=(()=>{class e extends ZW{constructor(t,r,i){super(t,r),this._table=i}ngOnChanges(t){super.ngOnChanges(t)}}return e.\u0275fac=function(t){return new(t||e)(Be(Is),Be(nu),Be(Qd,8))},e.\u0275dir=_t({type:e,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[cn,ps]}),e})(),i_=(()=>{class e extends Fw{constructor(t,r,i){super(t,r),this._table=i}}return e.\u0275fac=function(t){return new(t||e)(Be(Is),Be(nu),Be(Qd,8))},e.\u0275dir=_t({type:e,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[cn]}),e})(),Tu=(()=>{class e{constructor(t){this._viewContainer=t,e.mostRecentCellOutlet=this}ngOnDestroy(){e.mostRecentCellOutlet===this&&(e.mostRecentCellOutlet=null)}}return e.mostRecentCellOutlet=null,e.\u0275fac=function(t){return new(t||e)(Be(Ys))},e.\u0275dir=_t({type:e,selectors:[["","cdkCellOutlet",""]]}),e})(),Bw=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Dn({type:e,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,r){1&t&&Kl(0,0)},dependencies:[Tu],encapsulation:2}),e})(),Vw=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Dn({type:e,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,r){1&t&&Kl(0,0)},dependencies:[Tu],encapsulation:2}),e})(),o_=(()=>{class e{constructor(t){this.templateRef=t,this._contentClassName="cdk-no-data-row"}}return e.\u0275fac=function(t){return new(t||e)(Be(Is))},e.\u0275dir=_t({type:e,selectors:[["ng-template","cdkNoDataRow",""]]}),e})();const EA=["top","bottom","left","right"];class XW{constructor(n,t,r,i,o=!0,a=!0,u){this._isNativeHtmlTable=n,this._stickCellCss=t,this.direction=r,this._coalescedStyleScheduler=i,this._isBrowser=o,this._needsPositionStickyOnElement=a,this._positionListener=u,this._cachedCellWidths=[],this._borderCellCss={top:`${t}-border-elem-top`,bottom:`${t}-border-elem-bottom`,left:`${t}-border-elem-left`,right:`${t}-border-elem-right`}}clearStickyPositioning(n,t){const r=[];for(const i of n)if(i.nodeType===i.ELEMENT_NODE){r.push(i);for(let o=0;o<i.children.length;o++)r.push(i.children[o])}this._coalescedStyleScheduler.schedule(()=>{for(const i of r)this._removeStickyStyle(i,t)})}updateStickyColumns(n,t,r,i=!0){if(!n.length||!this._isBrowser||!t.some(C=>C)&&!r.some(C=>C))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const o=n[0],a=o.children.length,u=this._getCellWidths(o,i),h=this._getStickyStartColumnPositions(u,t),f=this._getStickyEndColumnPositions(u,r),_=t.lastIndexOf(!0),b=r.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const C="rtl"===this.direction,D=C?"right":"left",q=C?"left":"right";for(const j of n)for(let ae=0;ae<a;ae++){const se=j.children[ae];t[ae]&&this._addStickyStyle(se,D,h[ae],ae===_),r[ae]&&this._addStickyStyle(se,q,f[ae],ae===b)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===_?[]:u.slice(0,_+1).map((j,ae)=>t[ae]?j:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===b?[]:u.slice(b).map((j,ae)=>r[ae+b]?j:null).reverse()}))})}stickRows(n,t,r){if(!this._isBrowser)return;const i="bottom"===r?n.slice().reverse():n,o="bottom"===r?t.slice().reverse():t,a=[],u=[],h=[];for(let _=0,b=0;_<i.length;_++){if(!o[_])continue;a[_]=b;const C=i[_];h[_]=this._isNativeHtmlTable?Array.from(C.children):[C];const D=C.getBoundingClientRect().height;b+=D,u[_]=D}const f=o.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{for(let _=0;_<i.length;_++){if(!o[_])continue;const b=a[_],C=_===f;for(const D of h[_])this._addStickyStyle(D,r,b,C)}"top"===r?this._positionListener?.stickyHeaderRowsUpdated({sizes:u,offsets:a,elements:h}):this._positionListener?.stickyFooterRowsUpdated({sizes:u,offsets:a,elements:h})})}updateStickyFooterContainer(n,t){if(!this._isNativeHtmlTable)return;const r=n.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{t.some(i=>!i)?this._removeStickyStyle(r,["bottom"]):this._addStickyStyle(r,"bottom",0,!1)})}_removeStickyStyle(n,t){for(const i of t)n.style[i]="",n.classList.remove(this._borderCellCss[i]);EA.some(i=>-1===t.indexOf(i)&&n.style[i])?n.style.zIndex=this._getCalculatedZIndex(n):(n.style.zIndex="",this._needsPositionStickyOnElement&&(n.style.position=""),n.classList.remove(this._stickCellCss))}_addStickyStyle(n,t,r,i){n.classList.add(this._stickCellCss),i&&n.classList.add(this._borderCellCss[t]),n.style[t]=`${r}px`,n.style.zIndex=this._getCalculatedZIndex(n),this._needsPositionStickyOnElement&&(n.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(n){const t={top:100,bottom:10,left:1,right:1};let r=0;for(const i of EA)n.style[i]&&(r+=t[i]);return r?`${r}`:""}_getCellWidths(n,t=!0){if(!t&&this._cachedCellWidths.length)return this._cachedCellWidths;const r=[],i=n.children;for(let o=0;o<i.length;o++)r.push(i[o].getBoundingClientRect().width);return this._cachedCellWidths=r,r}_getStickyStartColumnPositions(n,t){const r=[];let i=0;for(let o=0;o<n.length;o++)t[o]&&(r[o]=i,i+=n[o]);return r}_getStickyEndColumnPositions(n,t){const r=[];let i=0;for(let o=n.length;o>0;o--)t[o]&&(r[o]=i,i+=n[o]);return r}}const Uw=new St("CDK_SPL");let s_=(()=>{class e{constructor(t,r){this.viewContainer=t,this.elementRef=r}}return e.\u0275fac=function(t){return new(t||e)(Be(Ys),Be(or))},e.\u0275dir=_t({type:e,selectors:[["","rowOutlet",""]]}),e})(),a_=(()=>{class e{constructor(t,r){this.viewContainer=t,this.elementRef=r}}return e.\u0275fac=function(t){return new(t||e)(Be(Ys),Be(or))},e.\u0275dir=_t({type:e,selectors:[["","headerRowOutlet",""]]}),e})(),l_=(()=>{class e{constructor(t,r){this.viewContainer=t,this.elementRef=r}}return e.\u0275fac=function(t){return new(t||e)(Be(Ys),Be(or))},e.\u0275dir=_t({type:e,selectors:[["","footerRowOutlet",""]]}),e})(),u_=(()=>{class e{constructor(t,r){this.viewContainer=t,this.elementRef=r}}return e.\u0275fac=function(t){return new(t||e)(Be(Ys),Be(or))},e.\u0275dir=_t({type:e,selectors:[["","noDataRowOutlet",""]]}),e})(),c_=(()=>{class e{get trackBy(){return this._trackByFn}set trackBy(t){this._trackByFn=t}get dataSource(){return this._dataSource}set dataSource(t){this._dataSource!==t&&this._switchDataSource(t)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(t){this._multiTemplateDataRows=Zs(t),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(t){this._fixedLayout=Zs(t),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}constructor(t,r,i,o,a,u,h,f,_,b,C,D){this._differs=t,this._changeDetectorRef=r,this._elementRef=i,this._dir=a,this._platform=h,this._viewRepeater=f,this._coalescedStyleScheduler=_,this._viewportRuler=b,this._stickyPositioningListener=C,this._ngZone=D,this._onDestroy=new qe,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new pn,this.viewChange=new $e({start:0,end:Number.MAX_VALUE}),o||this._elementRef.nativeElement.setAttribute("role","table"),this._document=u,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((t,r)=>this.trackBy?this.trackBy(r.dataIndex,r.data):r),this._viewportRuler.change().pipe(ko(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const r=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||r,this._forceRecalculateCellWidths=r,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){[this._rowOutlet.viewContainer,this._headerRowOutlet.viewContainer,this._footerRowOutlet.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(t=>{t.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),Tw(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const t=this._dataDiffer.diff(this._renderRows);if(!t)return this._updateNoDataRow(),void this.contentChanged.next();const r=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(t,r,(i,o,a)=>this._getEmbeddedViewArgs(i.item,a),i=>i.item.data,i=>{1===i.operation&&i.context&&this._renderCellTemplateForItem(i.record.item.rowDef,i.context)}),this._updateRowIndexContext(),t.forEachIdentityChange(i=>{r.get(i.currentIndex).context.$implicit=i.item.data}),this._updateNoDataRow(),this._ngZone&&yn.isInAngularZone()?this._ngZone.onStable.pipe(_a(1),ko(this._onDestroy)).subscribe(()=>{this.updateStickyColumnStyles()}):this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(t){this._customColumnDefs.add(t)}removeColumnDef(t){this._customColumnDefs.delete(t)}addRowDef(t){this._customRowDefs.add(t)}removeRowDef(t){this._customRowDefs.delete(t)}addHeaderRowDef(t){this._customHeaderRowDefs.add(t),this._headerRowDefChanged=!0}removeHeaderRowDef(t){this._customHeaderRowDefs.delete(t),this._headerRowDefChanged=!0}addFooterRowDef(t){this._customFooterRowDefs.add(t),this._footerRowDefChanged=!0}removeFooterRowDef(t){this._customFooterRowDefs.delete(t),this._footerRowDefChanged=!0}setNoDataRow(t){this._customNoDataRow=t}updateStickyHeaderRowStyles(){const t=this._getRenderedRows(this._headerRowOutlet),i=this._elementRef.nativeElement.querySelector("thead");i&&(i.style.display=t.length?"":"none");const o=this._headerRowDefs.map(a=>a.sticky);this._stickyStyler.clearStickyPositioning(t,["top"]),this._stickyStyler.stickRows(t,o,"top"),this._headerRowDefs.forEach(a=>a.resetStickyChanged())}updateStickyFooterRowStyles(){const t=this._getRenderedRows(this._footerRowOutlet),i=this._elementRef.nativeElement.querySelector("tfoot");i&&(i.style.display=t.length?"":"none");const o=this._footerRowDefs.map(a=>a.sticky);this._stickyStyler.clearStickyPositioning(t,["bottom"]),this._stickyStyler.stickRows(t,o,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,o),this._footerRowDefs.forEach(a=>a.resetStickyChanged())}updateStickyColumnStyles(){const t=this._getRenderedRows(this._headerRowOutlet),r=this._getRenderedRows(this._rowOutlet),i=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...t,...r,...i],["left","right"]),this._stickyColumnStylesNeedReset=!1),t.forEach((o,a)=>{this._addStickyColumnStyles([o],this._headerRowDefs[a])}),this._rowDefs.forEach(o=>{const a=[];for(let u=0;u<r.length;u++)this._renderRows[u].rowDef===o&&a.push(r[u]);this._addStickyColumnStyles(a,o)}),i.forEach((o,a)=>{this._addStickyColumnStyles([o],this._footerRowDefs[a])}),Array.from(this._columnDefsByName.values()).forEach(o=>o.resetStickyChanged())}_getAllRenderRows(){const t=[],r=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let i=0;i<this._data.length;i++){let o=this._data[i];const a=this._getRenderRowsForData(o,i,r.get(o));this._cachedRenderRowsMap.has(o)||this._cachedRenderRowsMap.set(o,new WeakMap);for(let u=0;u<a.length;u++){let h=a[u];const f=this._cachedRenderRowsMap.get(h.data);f.has(h.rowDef)?f.get(h.rowDef).push(h):f.set(h.rowDef,[h]),t.push(h)}}return t}_getRenderRowsForData(t,r,i){return this._getRowDefs(t,r).map(a=>{const u=i&&i.has(a)?i.get(a):[];if(u.length){const h=u.shift();return h.dataIndex=r,h}return{data:t,rowDef:a,dataIndex:r}})}_cacheColumnDefs(){this._columnDefsByName.clear(),d_(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(r=>{this._columnDefsByName.has(r.name),this._columnDefsByName.set(r.name,r)})}_cacheRowDefs(){this._headerRowDefs=d_(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=d_(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=d_(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const t=this._rowDefs.filter(r=>!r.when);this._defaultRowDef=t[0]}_renderUpdatedColumns(){const t=(a,u)=>a||!!u.getColumnsDiff(),r=this._rowDefs.reduce(t,!1);r&&this._forceRenderDataRows();const i=this._headerRowDefs.reduce(t,!1);i&&this._forceRenderHeaderRows();const o=this._footerRowDefs.reduce(t,!1);return o&&this._forceRenderFooterRows(),r||i||o}_switchDataSource(t){this._data=[],Tw(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),t||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=t}_observeRenderChanges(){if(!this.dataSource)return;let t;Tw(this.dataSource)?t=this.dataSource.connect(this):iP(this.dataSource)?t=this.dataSource:Array.isArray(this.dataSource)&&(t=Vt(this.dataSource)),this._renderChangeSubscription=t.pipe(ko(this._onDestroy)).subscribe(r=>{this._data=r||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((t,r)=>this._renderRow(this._headerRowOutlet,t,r)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((t,r)=>this._renderRow(this._footerRowOutlet,t,r)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(t,r){const i=Array.from(r.columns||[]).map(u=>this._columnDefsByName.get(u)),o=i.map(u=>u.sticky),a=i.map(u=>u.stickyEnd);this._stickyStyler.updateStickyColumns(t,o,a,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(t){const r=[];for(let i=0;i<t.viewContainer.length;i++){const o=t.viewContainer.get(i);r.push(o.rootNodes[0])}return r}_getRowDefs(t,r){if(1==this._rowDefs.length)return[this._rowDefs[0]];let i=[];if(this.multiTemplateDataRows)i=this._rowDefs.filter(o=>!o.when||o.when(r,t));else{let o=this._rowDefs.find(a=>a.when&&a.when(r,t))||this._defaultRowDef;o&&i.push(o)}return i}_getEmbeddedViewArgs(t,r){return{templateRef:t.rowDef.template,context:{$implicit:t.data},index:r}}_renderRow(t,r,i,o={}){const a=t.viewContainer.createEmbeddedView(r.template,o,i);return this._renderCellTemplateForItem(r,o),a}_renderCellTemplateForItem(t,r){for(let i of this._getCellTemplates(t))Tu.mostRecentCellOutlet&&Tu.mostRecentCellOutlet._viewContainer.createEmbeddedView(i,r);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const t=this._rowOutlet.viewContainer;for(let r=0,i=t.length;r<i;r++){const a=t.get(r).context;a.count=i,a.first=0===r,a.last=r===i-1,a.even=r%2==0,a.odd=!a.even,this.multiTemplateDataRows?(a.dataIndex=this._renderRows[r].dataIndex,a.renderIndex=r):a.index=this._renderRows[r].dataIndex}}_getCellTemplates(t){return t&&t.columns?Array.from(t.columns,r=>{const i=this._columnDefsByName.get(r);return t.extractCellTemplate(i)}):[]}_applyNativeTableSections(){const t=this._document.createDocumentFragment(),r=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const i of r){const o=this._document.createElement(i.tag);o.setAttribute("role","rowgroup");for(const a of i.outlets)o.appendChild(a.elementRef.nativeElement);t.appendChild(o)}this._elementRef.nativeElement.appendChild(t)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const t=(r,i)=>r||i.hasStickyChanged();this._headerRowDefs.reduce(t,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(t,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(t,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new XW(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:Vt()).pipe(ko(this._onDestroy)).subscribe(r=>{this._stickyStyler.direction=r,this.updateStickyColumnStyles()})}_getOwnDefs(t){return t.filter(r=>!r._table||r._table===this)}_updateNoDataRow(){const t=this._customNoDataRow||this._noDataRow;if(!t)return;const r=0===this._rowOutlet.viewContainer.length;if(r===this._isShowingNoDataRow)return;const i=this._noDataRowOutlet.viewContainer;if(r){const o=i.createEmbeddedView(t.templateRef),a=o.rootNodes[0];1===o.rootNodes.length&&a?.nodeType===this._document.ELEMENT_NODE&&(a.setAttribute("role","row"),a.classList.add(t._contentClassName))}else i.clear();this._isShowingNoDataRow=r}}return e.\u0275fac=function(t){return new(t||e)(Be(nu),Be(tu),Be(or),pc("role"),Be(df,8),Be(lr),Be(Zo),Be(Xf),Be(Nw),Be(Zg),Be(Uw,12),Be(yn,8))},e.\u0275cmp=Dn({type:e,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(t,r,i){if(1&t&&(zo(i,o_,5),zo(i,Pu,5),zo(i,i_,5),zo(i,Kf,5),zo(i,Qf,5)),2&t){let o;sr(o=ar())&&(r._noDataRow=o.first),sr(o=ar())&&(r._contentColumnDefs=o),sr(o=ar())&&(r._contentRowDefs=o),sr(o=ar())&&(r._contentHeaderRowDefs=o),sr(o=ar())&&(r._contentFooterRowDefs=o)}},viewQuery:function(t,r){if(1&t&&(Bo(s_,7),Bo(a_,7),Bo(l_,7),Bo(u_,7)),2&t){let i;sr(i=ar())&&(r._rowOutlet=i.first),sr(i=ar())&&(r._headerRowOutlet=i.first),sr(i=ar())&&(r._footerRowOutlet=i.first),sr(i=ar())&&(r._noDataRowOutlet=i.first)}},hostAttrs:["ngSkipHydration","",1,"cdk-table"],hostVars:2,hostBindings:function(t,r){2&t&&Xi("cdk-table-fixed-layout",r.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[jn([{provide:Qd,useExisting:e},{provide:Xf,useClass:yA},{provide:Nw,useClass:xA},{provide:Uw,useValue:null}])],ngContentSelectors:VW,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(t,r){1&t&&(Ls(zW),_r(0),_r(1,1),Kl(2,0)(3,1)(4,2)(5,3))},dependencies:[s_,a_,l_,u_],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2}),e})();function d_(e,n){return e.concat(Array.from(n))}let QW=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=wn({type:e}),e.\u0275inj=zn({imports:[Mw]}),e})();const JW=[[["caption"]],[["colgroup"],["col"]]],eY=["caption","colgroup, col"];let MA=(()=>{class e extends c_{constructor(){super(...arguments),this.stickyCssClass="mat-mdc-table-sticky",this.needsPositionStickyOnElement=!1}ngOnInit(){super.ngOnInit(),this._isNativeHtmlTable&&this._elementRef.nativeElement.querySelector("tbody").classList.add("mdc-data-table__content")}}return e.\u0275fac=function(){let n;return function(r){return(n||(n=ni(e)))(r||e)}}(),e.\u0275cmp=Dn({type:e,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:["ngSkipHydration","",1,"mat-mdc-table","mdc-data-table__table"],hostVars:2,hostBindings:function(t,r){2&t&&Xi("mdc-table-fixed-layout",r.fixedLayout)},exportAs:["matTable"],features:[jn([{provide:c_,useExisting:e},{provide:Qd,useExisting:e},{provide:Nw,useClass:xA},{provide:Xf,useClass:yA},{provide:Uw,useValue:null}]),cn],ngContentSelectors:eY,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(t,r){1&t&&(Ls(JW),_r(0),_r(1,1),Kl(2,0)(3,1)(4,2)(5,3))},dependencies:[s_,a_,l_,u_],styles:[".mdc-data-table{border-radius:var(--mdc-shape-medium, 4px);border-width:1px;border-style:solid}.mdc-data-table .mdc-data-table__header-cell:first-child{border-top-left-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table .mdc-data-table__header-cell:first-child,.mdc-data-table .mdc-data-table__header-cell:first-child[dir=rtl]{border-top-right-radius:var(--mdc-shape-medium, 4px);border-top-left-radius:0}.mdc-data-table .mdc-data-table__header-cell:last-child{border-top-right-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table .mdc-data-table__header-cell:last-child,.mdc-data-table .mdc-data-table__header-cell:last-child[dir=rtl]{border-top-left-radius:var(--mdc-shape-medium, 4px);border-top-right-radius:0}.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child>.mdc-data-table__cell:first-child{border-bottom-left-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child>.mdc-data-table__cell:first-child,.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child>.mdc-data-table__cell:first-child[dir=rtl]{border-bottom-right-radius:var(--mdc-shape-medium, 4px);border-bottom-left-radius:0}.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child>.mdc-data-table__cell:last-child{border-bottom-right-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child>.mdc-data-table__cell:last-child,.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child>.mdc-data-table__cell:last-child[dir=rtl]{border-bottom-left-radius:var(--mdc-shape-medium, 4px);border-bottom-right-radius:0}.mdc-data-table__cell,.mdc-data-table__header-cell{border-bottom-width:1px;border-bottom-style:solid}.mdc-data-table__pagination{border-top-width:1px;border-top-style:solid}.mdc-data-table__row:last-child>.mdc-data-table__cell{border-bottom:none}.mdc-data-table__row{height:52px}.mdc-data-table__pagination{min-height:52px}.mdc-data-table__header-row{height:56px}.mdc-data-table__cell,.mdc-data-table__header-cell{padding:0 16px 0 16px}.mdc-data-table__header-cell--checkbox,.mdc-data-table__cell--checkbox{padding-left:4px;padding-right:0}[dir=rtl] .mdc-data-table__header-cell--checkbox,[dir=rtl] .mdc-data-table__cell--checkbox,.mdc-data-table__header-cell--checkbox[dir=rtl],.mdc-data-table__cell--checkbox[dir=rtl]{padding-left:0;padding-right:4px}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell,.mdc-data-table__cell[dir=rtl]{text-align:right}.mdc-data-table__cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__cell--numeric,.mdc-data-table__cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__cell--checkbox{width:1px}.mdc-data-table__header-cell{box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mdc-data-table__header-cell,.mdc-data-table__header-cell[dir=rtl]{text-align:right}.mdc-data-table__header-cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__header-cell--numeric,.mdc-data-table__header-cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__header-cell-wrapper{align-items:center;display:inline-flex;vertical-align:middle}.mdc-data-table__header-cell--checkbox{width:1px}.mdc-data-table__sort-icon-button{width:28px;height:28px;padding:2px;transform:rotate(0.0001deg);margin-left:4px;margin-right:0;opacity:0}.mdc-data-table__sort-icon-button .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__ripple{width:28px;height:28px;margin-top:0px;margin-bottom:0px;margin-right:0px;margin-left:0px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:28px;left:50%;width:28px;transform:translate(-50%, -50%)}[dir=rtl] .mdc-data-table__sort-icon-button,.mdc-data-table__sort-icon-button[dir=rtl]{margin-left:0;margin-right:4px}.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button{margin-left:0;margin-right:4px}[dir=rtl] .mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button[dir=rtl]{margin-left:4px;margin-right:0}.mdc-data-table__header-cell--sorted-descending .mdc-data-table__sort-icon-button{transform:rotate(-180deg)}.mdc-data-table__sort-icon-button:focus,.mdc-data-table__header-cell:hover .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--sorted .mdc-data-table__sort-icon-button{opacity:1}.mdc-data-table__header-cell--with-sort{cursor:pointer}.mdc-data-table__sort-status-label{clip:rect(1px, 1px, 1px, 1px);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px}.mdc-data-table--sticky-header .mdc-data-table__header-cell{position:sticky;top:0;z-index:1}.mdc-data-table{-webkit-overflow-scrolling:touch;display:inline-flex;flex-direction:column;box-sizing:border-box;position:relative}.mdc-data-table__table-container{-webkit-overflow-scrolling:touch;overflow-x:auto;width:100%}.mdc-data-table__table{min-width:100%;border:0;white-space:nowrap;border-spacing:0;table-layout:fixed}.mdc-data-table__header-cell{box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mdc-data-table__header-cell,.mdc-data-table__header-cell[dir=rtl]{text-align:right}.mdc-data-table__header-cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__header-cell--numeric,.mdc-data-table__header-cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__header-cell-wrapper{align-items:center;display:inline-flex;vertical-align:middle}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell,.mdc-data-table__cell[dir=rtl]{text-align:right}.mdc-data-table__cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__cell--numeric,.mdc-data-table__cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__pagination{box-sizing:border-box;display:flex;justify-content:flex-end}.mdc-data-table__pagination-trailing{margin-left:4px;margin-right:0;align-items:center;display:flex;flex-wrap:wrap;justify-content:flex-end}[dir=rtl] .mdc-data-table__pagination-trailing,.mdc-data-table__pagination-trailing[dir=rtl]{margin-left:0;margin-right:4px}.mdc-data-table__pagination-navigation{align-items:center;display:flex}.mdc-data-table__pagination-button{margin-left:0;margin-right:4px}[dir=rtl] .mdc-data-table__pagination-button .mdc-button__icon,.mdc-data-table__pagination-button .mdc-button__icon[dir=rtl]{transform:rotate(180deg)}[dir=rtl] .mdc-data-table__pagination-button,.mdc-data-table__pagination-button[dir=rtl]{margin-left:4px;margin-right:0}.mdc-data-table__pagination-total{margin-left:14px;margin-right:36px;white-space:nowrap}[dir=rtl] .mdc-data-table__pagination-total,.mdc-data-table__pagination-total[dir=rtl]{margin-left:36px;margin-right:14px}.mdc-data-table__pagination-rows-per-page{margin-left:0;margin-right:22px;align-items:center;display:inline-flex}[dir=rtl] .mdc-data-table__pagination-rows-per-page,.mdc-data-table__pagination-rows-per-page[dir=rtl]{margin-left:22px;margin-right:0}.mdc-data-table__pagination-rows-per-page-label{margin-left:0;margin-right:12px;white-space:nowrap}[dir=rtl] .mdc-data-table__pagination-rows-per-page-label,.mdc-data-table__pagination-rows-per-page-label[dir=rtl]{margin-left:12px;margin-right:0}.mdc-data-table__pagination-rows-per-page-select{min-width:var(--mdc-menu-min-width, 80px);margin:8px 0}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor{width:100%;min-width:80px}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor{height:36px}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-floating-label--float-above{font-size:.75rem}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-data-table__pagination-rows-per-page-select .mdc-select__dropdown-icon{width:20px;height:20px}.mdc-data-table__pagination-rows-per-page-select.mdc-select--outlined .mdc-select__anchor :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 56px)}.mdc-data-table__pagination-rows-per-page-select .mdc-list-item.mdc-list-item--with-one-line{height:36px}.mdc-data-table__progress-indicator{display:none;position:absolute;width:100%}.mdc-data-table--in-progress .mdc-data-table__progress-indicator{display:block}.mdc-data-table__scrim{background-color:var(--mdc-theme-surface, #fff);height:100%;opacity:.32;position:absolute;top:0;width:100%}mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}.mat-mdc-table-sticky{position:sticky !important}.mat-mdc-table{table-layout:auto;white-space:normal}mat-row.mat-mdc-row,mat-header-row.mat-mdc-header-row,mat-footer-row.mat-mdc-footer-row{border-bottom:none}.mat-mdc-table tbody,.mat-mdc-table tfoot,.mat-mdc-table thead,.mat-mdc-cell,.mat-mdc-footer-cell,.mat-mdc-header-row,.mat-mdc-row,.mat-mdc-footer-row,.mat-mdc-table .mat-mdc-header-cell{background:inherit}.mat-mdc-table .mat-mdc-row:hover,.mat-mdc-table .mat-mdc-footer-row:hover{background-color:inherit}.mat-mdc-table mat-header-row.mat-mdc-header-row,.mat-mdc-table mat-row.mat-mdc-row,.mat-mdc-table mat-footer-row.mat-mdc-footer-cell{height:unset}mat-header-cell.mat-mdc-header-cell,mat-cell.mat-mdc-cell,mat-footer-cell.mat-mdc-footer-cell{align-self:stretch}"],encapsulation:2}),e})(),Hw=(()=>{class e extends Jd{}return e.\u0275fac=function(){let n;return function(r){return(n||(n=ni(e)))(r||e)}}(),e.\u0275dir=_t({type:e,selectors:[["","matCellDef",""]],features:[jn([{provide:Jd,useExisting:e}]),cn]}),e})(),jw=(()=>{class e extends eh{}return e.\u0275fac=function(){let n;return function(r){return(n||(n=ni(e)))(r||e)}}(),e.\u0275dir=_t({type:e,selectors:[["","matHeaderCellDef",""]],features:[jn([{provide:eh,useExisting:e}]),cn]}),e})(),Gw=(()=>{class e extends Pu{get name(){return this._name}set name(t){this._setNameInput(t)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}}return e.\u0275fac=function(){let n;return function(r){return(n||(n=ni(e)))(r||e)}}(),e.\u0275dir=_t({type:e,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[jn([{provide:Pu,useExisting:e},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:e}]),cn]}),e})(),qw=(()=>{class e extends Rw{}return e.\u0275fac=function(){let n;return function(r){return(n||(n=ni(e)))(r||e)}}(),e.\u0275dir=_t({type:e,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-mdc-header-cell","mdc-data-table__header-cell"],features:[cn]}),e})(),$w=(()=>{class e extends Ow{}return e.\u0275fac=function(){let n;return function(r){return(n||(n=ni(e)))(r||e)}}(),e.\u0275dir=_t({type:e,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:[1,"mat-mdc-cell","mdc-data-table__cell"],features:[cn]}),e})(),DA=(()=>{class e extends Kf{}return e.\u0275fac=function(){let n;return function(r){return(n||(n=ni(e)))(r||e)}}(),e.\u0275dir=_t({type:e,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[jn([{provide:Kf,useExisting:e}]),cn]}),e})(),SA=(()=>{class e extends i_{}return e.\u0275fac=function(){let n;return function(r){return(n||(n=ni(e)))(r||e)}}(),e.\u0275dir=_t({type:e,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[jn([{provide:i_,useExisting:e}]),cn]}),e})(),LA=(()=>{class e extends Bw{}return e.\u0275fac=function(){let n;return function(r){return(n||(n=ni(e)))(r||e)}}(),e.\u0275cmp=Dn({type:e,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-mdc-header-row","mdc-data-table__header-row"],exportAs:["matHeaderRow"],features:[jn([{provide:Bw,useExisting:e}]),cn],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,r){1&t&&Kl(0,0)},dependencies:[Tu],encapsulation:2}),e})(),IA=(()=>{class e extends Vw{}return e.\u0275fac=function(){let n;return function(r){return(n||(n=ni(e)))(r||e)}}(),e.\u0275cmp=Dn({type:e,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-mdc-row","mdc-data-table__row"],exportAs:["matRow"],features:[jn([{provide:Vw,useExisting:e}]),cn],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,r){1&t&&Kl(0,0)},dependencies:[Tu],encapsulation:2}),e})(),lY=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=wn({type:e}),e.\u0275inj=zn({imports:[us,QW,us]}),e})();const PA=lf({passive:!0});let cY=(()=>{class e{constructor(t,r){this._platform=t,this._ngZone=r,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return Kn;const r=Zu(t),i=this._monitoredElements.get(r);if(i)return i.subject;const o=new qe,a="cdk-text-field-autofilled",u=h=>{"cdk-text-field-autofill-start"!==h.animationName||r.classList.contains(a)?"cdk-text-field-autofill-end"===h.animationName&&r.classList.contains(a)&&(r.classList.remove(a),this._ngZone.run(()=>o.next({target:h.target,isAutofilled:!1}))):(r.classList.add(a),this._ngZone.run(()=>o.next({target:h.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{r.addEventListener("animationstart",u,PA),r.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(r,{subject:o,unlisten:()=>{r.removeEventListener("animationstart",u,PA)}}),o}stopMonitoring(t){const r=Zu(t),i=this._monitoredElements.get(r);i&&(i.unlisten(),i.subject.complete(),r.classList.remove("cdk-text-field-autofill-monitored"),r.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(r))}ngOnDestroy(){this._monitoredElements.forEach((t,r)=>this.stopMonitoring(r))}}return e.\u0275fac=function(t){return new(t||e)(et(Zo),et(yn))},e.\u0275prov=gt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),dY=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=wn({type:e}),e.\u0275inj=zn({}),e})();const hY=new St("MAT_INPUT_VALUE_ACCESSOR"),fY=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let pY=0;const mY=mG(class{constructor(e,n,t,r){this._defaultErrorStateMatcher=e,this._parentForm=n,this._parentFormGroup=t,this.ngControl=r,this.stateChanges=new qe}});let TA=(()=>{class e extends mY{get disabled(){return this._disabled}set disabled(t){this._disabled=Zs(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(Yd.required)??!1}set required(t){this._required=Zs(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&LI().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=Zs(t)}constructor(t,r,i,o,a,u,h,f,_,b){super(u,o,a,i),this._elementRef=t,this._platform=r,this._autofillMonitor=f,this._formField=b,this._uid="mat-input-"+pY++,this.focused=!1,this.stateChanges=new qe,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(q=>LI().has(q)),this._iOSKeyupListener=q=>{const j=q.target;!j.value&&0===j.selectionStart&&0===j.selectionEnd&&(j.setSelectionRange(1,1),j.setSelectionRange(0,0))};const C=this._elementRef.nativeElement,D=C.nodeName.toLowerCase();this._inputValueAccessor=h||C,this._previousNativeValue=this.value,this.id=this.id,r.IOS&&_.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===D,this._isTextarea="textarea"===D,this._isInFormField=!!b,this._isNativeSelect&&(this.controlType=C.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_dirtyCheckPlaceholder(){const t=this._getPlaceholder();if(t!==this._previousPlaceholder){const r=this._elementRef.nativeElement;this._previousPlaceholder=t,t?r.setAttribute("placeholder",t):r.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){fY.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,r=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&r&&r.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}}return e.\u0275fac=function(t){return new(t||e)(Be(or),Be(Zo),Be(Su,10),Be(Hg,8),Be(Kd,8),Be(_G),Be(hY,10),Be(cY),Be(yn),Be(fA,8))},e.\u0275dir=_t({type:e,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(t,r){1&t&&Ai("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),2&t&&(qh("id",r.id)("disabled",r.disabled)("required",r.required),gs("name",r.name||null)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required)("id",r.id),Xi("mat-input-server",r._isServer)("mat-mdc-form-field-textarea-control",r._isInFormField&&r._isTextarea)("mat-mdc-form-field-input-control",r._isInFormField)("mdc-text-field__input",r._isInFormField)("mat-mdc-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[jn([{provide:hA,useExisting:e}]),cn,ps]}),e})(),gY=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=wn({type:e}),e.\u0275inj=zn({imports:[us,Pw,Pw,dY,us]}),e})();function _Y(e,n){1&e&&(Wt(0,"th",16),$r(1," ID "),en())}function yY(e,n){if(1&e&&(Wt(0,"td",17),$r(1),en()),2&e){const t=n.$implicit;On(1),Ws(" ",null==t?null:t.id," ")}}function vY(e,n){1&e&&(Wt(0,"th",16),$r(1," OwnerName "),en())}function bY(e,n){if(1&e&&(Wt(0,"td",17),$r(1),en()),2&e){const t=n.$implicit;On(1),Ws(" ",null==t?null:t.ownerName,"")}}function wY(e,n){1&e&&(Wt(0,"th",16),$r(1," Trading Name "),en())}function xY(e,n){if(1&e&&(Wt(0,"td",17),$r(1),en()),2&e){const t=n.$implicit;On(1),Ws(" ",null==t?null:t.tradingName," ")}}function EY(e,n){1&e&&(Wt(0,"th",16),$r(1," Document "),en())}function CY(e,n){if(1&e&&(Wt(0,"td",17),$r(1),en()),2&e){const t=n.$implicit;On(1),Ws(" ",null==t?null:t.document," ")}}function MY(e,n){1&e&&Ni(0,"th",16)}function DY(e,n){if(1&e){const t=Hh();Wt(0,"td",17)(1,"button",19),Ai("click",function(){const o=Wc(t).$implicit;return Yc(yo(2).onEdit(o.document))}),Wt(2,"mat-icon"),$r(3,"edit"),en()(),Wt(4,"button",20),Ai("click",function(){const o=Wc(t).$implicit;return Yc(yo(2).onDelete(o.document))}),Wt(5,"mat-icon"),$r(6,"delete"),en()()()}}function SY(e,n){1&e&&(Zl(0,18),Yn(1,MY,1,0,"th",8),Yn(2,DY,7,0,"td",9),Xl())}function LY(e,n){1&e&&Ni(0,"tr",21)}function IY(e,n){1&e&&Ni(0,"tr",22)}let Ww=(()=>{class e{constructor(t,r,i,o,a){this.tableService=t,this.tableBestPartnersService=r,this.formBuilder=i,this.router=o,this.route=a,this.form=this.formBuilder.group({tradingName:[""]})}ngOnInit(){"default"===this.tableType?(this.tableServiceMode=this.tableService,this.partners=this.tableServiceMode.getAll()):"best_partners_table"===this.tableType&&(this.tableServiceMode=this.tableBestPartnersService)}filterByName(t){this.partners=this.tableServiceMode.filterByName(t)}onEdit(t){this.router.navigate(["update",t],{relativeTo:this.route})}onDelete(t){this.partners=this.tableServiceMode.onDelete(t,this.partners)}getBestPartners(t){const r=this.tableServiceMode.getBestPartners(t);return this.partners=r,this.partners}}return e.\u0275fac=function(t){return new(t||e)(Be(A7),Be(R7),Be(zf),Be(Ts),Be(Za))},e.\u0275cmp=Dn({type:e,selectors:[["app-table-partners"]],inputs:{title:"title",displayedColumns:"displayedColumns",tableType:"tableType"},decls:29,vars:6,consts:[["id","place-toolbar","color","primary"],["id","toolbar-title"],["id","search-div"],["id","form-input",3,"formGroup"],["matInput","","placeholder","Trading Name","formControlName","tradingName"],["mat-icon-button","",3,"click"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","ownerName"],["matColumnDef","tradingName"],["matColumnDef","document"],["matColumnDef","actions",4,"ngIf"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["matColumnDef","actions"],["mat-icon-button","","color","primary",3,"click"],["mat-icon-button","","color","warn",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(t,r){1&t&&(Wt(0,"mat-card")(1,"mat-toolbar",0)(2,"span",1),$r(3),en(),Wt(4,"div",2)(5,"form",3)(6,"mat-form-field")(7,"mat-label"),$r(8,"Filter"),en(),Ni(9,"input",4),en(),Wt(10,"button",5),Ai("click",function(){return r.filterByName(r.form)}),Wt(11,"mat-icon"),$r(12," search "),en()()()()(),Wt(13,"table",6),Zl(14,7),Yn(15,_Y,2,0,"th",8),Yn(16,yY,2,1,"td",9),Xl(),Zl(17,10),Yn(18,vY,2,0,"th",8),Yn(19,bY,2,1,"td",9),Xl(),Zl(20,11),Yn(21,wY,2,0,"th",8),Yn(22,xY,2,1,"td",9),Xl(),Zl(23,12),Yn(24,EY,2,0,"th",8),Yn(25,CY,2,1,"td",9),Xl(),Yn(26,SY,3,0,"ng-container",13),Yn(27,LY,1,0,"tr",14),Yn(28,IY,1,0,"tr",15),en()()),2&t&&(On(3),Ws("",r.title," "),On(2),er("formGroup",r.form),On(8),er("dataSource",r.partners),On(13),er("ngIf","default"===r.tableType),On(1),er("matHeaderRowDef",r.displayedColumns),On(1),er("matRowDefColumns",r.displayedColumns))},dependencies:[Mc,Lw,T9,iA,xb,_A,Iw,MA,jw,DA,Gw,Hw,SA,qw,$w,LA,IA,fw,kf,rw,iw,Kd,jg,TA],styles:["html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%}body[_ngcontent-%COMP%]{margin:0}#place-toolbar[_ngcontent-%COMP%]{display:flex;width:100%;justify-content:first baseline;align-items:flex-start}#search-div[_ngcontent-%COMP%]{display:flex;justify-content:right;align-items:center;width:100%;height:90%}#form-input[_ngcontent-%COMP%]{height:90%}#toolbar-title[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;height:100%;width:20%;font-size:150%}mat-card[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;padding:2%;box-shadow:none}table[_ngcontent-%COMP%]{width:100%}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{flex:1;text-align:left;padding:1%}"]}),e})();var Wr=fe(8433);function ku(e,n,t){void 0===t&&(t={});var r={type:"Feature"};return(0===t.id||t.id)&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.properties=n||{},r.geometry=e,r}function Jf(e,n,t){if(void 0===t&&(t={}),!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!Xw(e[0])||!Xw(e[1]))throw new Error("coordinates must contain numbers");return ku({type:"Point",coordinates:e},n,t)}function h_(e,n,t){void 0===t&&(t={});for(var r=0,i=e;r<i.length;r++){var o=i[r];if(o.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var a=0;a<o[o.length-1].length;a++)if(o[o.length-1][a]!==o[0][a])throw new Error("First and last Position are not equivalent.")}return ku({type:"Polygon",coordinates:e},n,t)}function Xw(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}function ep(e,n,t){if(null!==e)for(var r,i,o,a,u,h,f,C,_=0,b=0,D=e.type,q="FeatureCollection"===D,j="Feature"===D,ae=q?e.features.length:1,se=0;se<ae;se++){u=(C=!!(f=q?e.features[se].geometry:j?e.geometry:e)&&"GeometryCollection"===f.type)?f.geometries.length:1;for(var K=0;K<u;K++){var ce=0,Le=0;if(null!==(a=C?f.geometries[K]:f)){h=a.coordinates;var Ae=a.type;switch(_=!t||"Polygon"!==Ae&&"MultiPolygon"!==Ae?0:1,Ae){case null:break;case"Point":if(!1===n(h,b,se,ce,Le))return!1;b++,ce++;break;case"LineString":case"MultiPoint":for(r=0;r<h.length;r++){if(!1===n(h[r],b,se,ce,Le))return!1;b++,"MultiPoint"===Ae&&ce++}"LineString"===Ae&&ce++;break;case"Polygon":case"MultiLineString":for(r=0;r<h.length;r++){for(i=0;i<h[r].length-_;i++){if(!1===n(h[r][i],b,se,ce,Le))return!1;b++}"MultiLineString"===Ae&&ce++,"Polygon"===Ae&&Le++}"Polygon"===Ae&&ce++;break;case"MultiPolygon":for(r=0;r<h.length;r++){for(Le=0,i=0;i<h[r].length;i++){for(o=0;o<h[r][i].length-_;o++){if(!1===n(h[r][i][o],b,se,ce,Le))return!1;b++}Le++}ce++}break;case"GeometryCollection":for(r=0;r<a.geometries.length;r++)if(!1===ep(a.geometries[r],n,t))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function f_(e,n){!function NA(e,n){var t,r,i,o,a,u,h,f,_,b,C=0,D="FeatureCollection"===e.type,q="Feature"===e.type,j=D?e.features.length:1;for(t=0;t<j;t++){for(f=D?e.features[t].properties:q?e.properties:{},_=D?e.features[t].bbox:q?e.bbox:void 0,b=D?e.features[t].id:q?e.id:void 0,a=(h=!!(u=D?e.features[t].geometry:q?e.geometry:e)&&"GeometryCollection"===u.type)?u.geometries.length:1,i=0;i<a;i++)if(null!==(o=h?u.geometries[i]:u))switch(o.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===n(o,C,f,_,b))return!1;break;case"GeometryCollection":for(r=0;r<o.geometries.length;r++)if(!1===n(o.geometries[r],C,f,_,b))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===n(null,C,f,_,b))return!1;C++}}(e,function(t,r,i,o,a){var h,u=null===t?null:t.type;switch(u){case null:case"Point":case"LineString":case"Polygon":return!1!==n(ku(t,i,{bbox:o,id:a}),r,0)&&void 0}switch(u){case"MultiPoint":h="Point";break;case"MultiLineString":h="LineString";break;case"MultiPolygon":h="Polygon"}for(var f=0;f<t.coordinates.length;f++)if(!1===n(ku({type:h,coordinates:t.coordinates[f]},i),r,f))return!1})}function Kw(e){var n=[1/0,1/0,-1/0,-1/0];return ep(e,function(t){n[0]>t[0]&&(n[0]=t[0]),n[1]>t[1]&&(n[1]=t[1]),n[2]<t[0]&&(n[2]=t[0]),n[3]<t[1]&&(n[3]=t[1])}),n}fe(2798),Kw.default=Kw;const zY=Kw;function VA(e,n,t){if(void 0===t&&(t={}),!e)throw new Error("point is required");if(!n)throw new Error("polygon is required");var r=function VY(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if("Feature"===e.type&&null!==e.geometry&&"Point"===e.geometry.type)return e.geometry.coordinates;if("Point"===e.type)return e.coordinates}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return e;throw new Error("coord must be GeoJSON Point or an Array of numbers")}(e),i=function jY(e){return"Feature"===e.type?e.geometry:e}(n),o=i.type,a=n.bbox,u=i.coordinates;if(a&&!1===function JY(e,n){return n[0]<=e[0]&&n[1]<=e[1]&&n[2]>=e[0]&&n[3]>=e[1]}(r,a))return!1;"Polygon"===o&&(u=[u]);for(var h=!1,f=0;f<u.length&&!h;f++)if(UA(r,u[f][0],t.ignoreBoundary)){for(var _=!1,b=1;b<u[f].length&&!_;)UA(r,u[f][b],!t.ignoreBoundary)&&(_=!0),b++;_||(h=!0)}return h}function UA(e,n,t){var r=!1;n[0][0]===n[n.length-1][0]&&n[0][1]===n[n.length-1][1]&&(n=n.slice(0,n.length-1));for(var i=0,o=n.length-1;i<n.length;o=i++){var a=n[i][0],u=n[i][1],h=n[o][0],f=n[o][1];if(e[1]*(a-h)+u*(h-e[0])+f*(e[0]-a)==0&&(a-e[0])*(h-e[0])<=0&&(u-e[1])*(f-e[1])<=0)return!t;u>e[1]!=f>e[1]&&e[0]<(h-a)*(e[1]-u)/(f-u)+a&&(r=!r)}return r}fe(4772),fe(3664);var jA=new ArrayBuffer(16);new Float64Array(jA),new Uint32Array(jA),fe(3884),function(){function e(n){this.points=n.points||[],this.duration=n.duration||1e4,this.sharpness=n.sharpness||.85,this.centers=[],this.controls=[],this.stepLength=n.stepLength||60,this.length=this.points.length,this.delay=0;for(var t=0;t<this.length;t++)this.points[t].z=this.points[t].z||0;for(t=0;t<this.length-1;t++){var r=this.points[t],i=this.points[t+1];this.centers.push({x:(r.x+i.x)/2,y:(r.y+i.y)/2,z:(r.z+i.z)/2})}for(this.controls.push([this.points[0],this.points[0]]),t=0;t<this.centers.length-1;t++){var o=this.points[t+1].x-(this.centers[t].x+this.centers[t+1].x)/2,a=this.points[t+1].y-(this.centers[t].y+this.centers[t+1].y)/2,u=this.points[t+1].z-(this.centers[t].y+this.centers[t+1].z)/2;this.controls.push([{x:(1-this.sharpness)*this.points[t+1].x+this.sharpness*(this.centers[t].x+o),y:(1-this.sharpness)*this.points[t+1].y+this.sharpness*(this.centers[t].y+a),z:(1-this.sharpness)*this.points[t+1].z+this.sharpness*(this.centers[t].z+u)},{x:(1-this.sharpness)*this.points[t+1].x+this.sharpness*(this.centers[t+1].x+o),y:(1-this.sharpness)*this.points[t+1].y+this.sharpness*(this.centers[t+1].y+a),z:(1-this.sharpness)*this.points[t+1].z+this.sharpness*(this.centers[t+1].z+u)}])}return this.controls.push([this.points[this.length-1],this.points[this.length-1]]),this.steps=this.cacheSteps(this.stepLength),this}e.prototype.cacheSteps=function(n){var t=[],r=this.pos(0);t.push(0);for(var i=0;i<this.duration;i+=10){var o=this.pos(i);Math.sqrt((o.x-r.x)*(o.x-r.x)+(o.y-r.y)*(o.y-r.y)+(o.z-r.z)*(o.z-r.z))>n&&(t.push(i),r=o)}return t},e.prototype.vector=function(n){var t=this.pos(n+10),r=this.pos(n-10);return{angle:180*Math.atan2(t.y-r.y,t.x-r.x)/3.14,speed:Math.sqrt((r.x-t.x)*(r.x-t.x)+(r.y-t.y)*(r.y-t.y)+(r.z-t.z)*(r.z-t.z))}},e.prototype.pos=function(n){var t=n-this.delay;t<0&&(t=0),t>this.duration&&(t=this.duration-1);var r=t/this.duration;if(r>=1)return this.points[this.length-1];var i=Math.floor((this.points.length-1)*r);return function mZ(e,n,t,r,i){var o=function gZ(e){var n=e*e;return[n*e,3*n*(1-e),3*e*(1-e)*(1-e),(1-e)*(1-e)*(1-e)]}(e);return{x:i.x*o[0]+r.x*o[1]+t.x*o[2]+n.x*o[3],y:i.y*o[0]+r.y*o[1]+t.y*o[2]+n.y*o[3],z:i.z*o[0]+r.z*o[1]+t.z*o[2]+n.z*o[3]}}((this.length-1)*r-i,this.points[i],this.controls[i][1],this.controls[i+1][0],this.points[i+1])}}();fe(9145),fe(5665),fe(7929);var sR=Math.PI/180,aR=180/Math.PI,rp=function(e,n){this.lon=e,this.lat=n,this.x=sR*e,this.y=sR*n};rp.prototype.view=function(){return String(this.lon).slice(0,4)+","+String(this.lat).slice(0,4)},rp.prototype.antipode=function(){return new rp(this.lon<0?180+this.lon:-1*(180-this.lon),-1*this.lat)};var lR=function(){this.coords=[],this.length=0};lR.prototype.move_to=function(e){this.length++,this.coords.push(e)};var s1=function(e){this.properties=e||{},this.geometries=[]};s1.prototype.json=function(){if(this.geometries.length<=0)return{geometry:{type:"LineString",coordinates:null},type:"Feature",properties:this.properties};if(1===this.geometries.length)return{geometry:{type:"LineString",coordinates:this.geometries[0].coords},type:"Feature",properties:this.properties};for(var e=[],n=0;n<this.geometries.length;n++)e.push(this.geometries[n].coords);return{geometry:{type:"MultiLineString",coordinates:e},type:"Feature",properties:this.properties}},s1.prototype.wkt=function(){for(var e="",n="LINESTRING(",t=function(o){n+=o[0]+" "+o[1]+","},r=0;r<this.geometries.length;r++){if(0===this.geometries[r].coords.length)return"LINESTRING(empty)";this.geometries[r].coords.forEach(t),e+=n.substring(0,n.length-1)+")"}return e};var a1=function(e,n,t){if(!e||void 0===e.x||void 0===e.y)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");if(!n||void 0===n.x||void 0===n.y)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");this.start=new rp(e.x,e.y),this.end=new rp(n.x,n.y),this.properties=t||{};var r=this.start.x-this.end.x,o=Math.pow(Math.sin((this.start.y-this.end.y)/2),2)+Math.cos(this.start.y)*Math.cos(this.end.y)*Math.pow(Math.sin(r/2),2);if(this.g=2*Math.asin(Math.sqrt(o)),this.g===Math.PI)throw new Error("it appears "+e.view()+" and "+n.view()+" are 'antipodal', e.g diametrically opposite, thus there is no single route but rather infinite");if(isNaN(this.g))throw new Error("could not calculate great circle between "+e+" and "+n)};a1.prototype.interpolate=function(e){var n=Math.sin((1-e)*this.g)/Math.sin(this.g),t=Math.sin(e*this.g)/Math.sin(this.g),r=n*Math.cos(this.start.y)*Math.cos(this.start.x)+t*Math.cos(this.end.y)*Math.cos(this.end.x),i=n*Math.cos(this.start.y)*Math.sin(this.start.x)+t*Math.cos(this.end.y)*Math.sin(this.end.x),o=n*Math.sin(this.start.y)+t*Math.sin(this.end.y),a=aR*Math.atan2(o,Math.sqrt(Math.pow(r,2)+Math.pow(i,2)));return[aR*Math.atan2(i,r),a]},a1.prototype.Arc=function(e,n){var t=[];if(!e||e<=2)t.push([this.start.lon,this.start.lat]),t.push([this.end.lon,this.end.lat]);else for(var r=1/(e-1),i=0;i<e;++i){var a=this.interpolate(r*i);t.push(a)}for(var u=!1,h=0,f=n&&n.offset?n.offset:10,_=180-f,b=-180+f,C=360-f,D=1;D<t.length;++D){var q=t[D-1][0],j=t[D][0],ae=Math.abs(j-q);ae>C&&(j>_&&q<b||q>_&&j<b)?u=!0:ae>h&&(h=ae)}var se=[];if(u&&h<f){var K=[];se.push(K);for(var ce=0;ce<t.length;++ce){var Le=parseFloat(t[ce][0]);if(ce>0&&Math.abs(Le-t[ce-1][0])>C){var Ae=parseFloat(t[ce-1][0]),Ze=parseFloat(t[ce-1][1]),Ke=parseFloat(t[ce][0]),it=parseFloat(t[ce][1]);if(Ae>-180&&Ae<b&&180===Ke&&ce+1<t.length&&t[ce-1][0]>-180&&t[ce-1][0]<b){K.push([-180,t[ce][1]]),ce++,K.push([t[ce][0],t[ce][1]]);continue}if(Ae>_&&Ae<180&&-180===Ke&&ce+1<t.length&&t[ce-1][0]>_&&t[ce-1][0]<180){K.push([180,t[ce][1]]),ce++,K.push([t[ce][0],t[ce][1]]);continue}if(Ae<b&&Ke>_){var ke=Ae;Ae=Ke,Ke=ke;var un=Ze;Ze=it,it=un}if(Ae>_&&Ke<b&&(Ke+=360),Ae<=180&&Ke>=180&&Ae<Ke){var Yt=(180-Ae)/(Ke-Ae),Sn=Yt*it+(1-Yt)*Ze;K.push([t[ce-1][0]>_?180:-180,Sn]),(K=[]).push([t[ce-1][0]>_?-180:180,Sn]),se.push(K)}else se.push(K=[]);K.push([Le,t[ce][1]])}else K.push([t[ce][0],t[ce][1]])}}else{var Tn=[];se.push(Tn);for(var It=0;It<t.length;++It)Tn.push([t[It][0],t[It][1]])}for(var vn=new s1(this.properties),mt=0;mt<se.length;++mt){var Nt=new lR;vn.geometries.push(Nt);for(var Ht=se[mt],Kt=0;Kt<Ht.length;++Kt)Nt.move_to(Ht[Kt])}return vn},fe(3970);var yr=[],vr=[],br=[],wr=[],xr=[],Er=[],Cr=[],Mr=[],Dr=[],Sr=[],Lr=[],Ir=[],Pr=[],Tr=[],kr=[],Ar=[],Rr=[],Or=[],Nr=[],Fr=[],Br=[],zr=[],Vr=[],Ur=[];Cr[85]=Sr[85]=-1,Mr[85]=Lr[85]=0,Dr[85]=Ir[85]=1,Nr[85]=zr[85]=1,Fr[85]=Vr[85]=0,Br[85]=Ur[85]=1,yr[85]=wr[85]=0,vr[85]=xr[85]=-1,br[85]=kr[85]=0,Ar[85]=Pr[85]=0,Rr[85]=Tr[85]=1,Er[85]=Or[85]=1,zr[1]=zr[169]=0,Vr[1]=Vr[169]=-1,Ur[1]=Ur[169]=0,Pr[1]=Pr[169]=-1,Tr[1]=Tr[169]=0,kr[1]=kr[169]=0,Sr[4]=Sr[166]=0,Lr[4]=Lr[166]=-1,Ir[4]=Ir[166]=1,Ar[4]=Ar[166]=1,Rr[4]=Rr[166]=0,Or[4]=Or[166]=0,Cr[16]=Cr[154]=0,Mr[16]=Mr[154]=1,Dr[16]=Dr[154]=1,wr[16]=wr[154]=1,xr[16]=xr[154]=0,Er[16]=Er[154]=1,Nr[64]=Nr[106]=0,Fr[64]=Fr[106]=1,Br[64]=Br[106]=0,yr[64]=yr[106]=-1,vr[64]=vr[106]=0,br[64]=br[106]=1,Nr[2]=Nr[168]=0,Fr[2]=Fr[168]=-1,Br[2]=Br[168]=1,zr[2]=zr[168]=0,Vr[2]=Vr[168]=-1,Ur[2]=Ur[168]=0,Pr[2]=Pr[168]=-1,Tr[2]=Tr[168]=0,kr[2]=kr[168]=0,Ar[2]=Ar[168]=-1,Rr[2]=Rr[168]=0,Or[2]=Or[168]=1,Cr[8]=Cr[162]=0,Mr[8]=Mr[162]=-1,Dr[8]=Dr[162]=0,Sr[8]=Sr[162]=0,Lr[8]=Lr[162]=-1,Ir[8]=Ir[162]=1,Pr[8]=Pr[162]=1,Tr[8]=Tr[162]=0,kr[8]=kr[162]=1,Ar[8]=Ar[162]=1,Rr[8]=Rr[162]=0,Or[8]=Or[162]=0,Cr[32]=Cr[138]=0,Mr[32]=Mr[138]=1,Dr[32]=Dr[138]=1,Sr[32]=Sr[138]=0,Lr[32]=Lr[138]=1,Ir[32]=Ir[138]=0,yr[32]=yr[138]=1,vr[32]=vr[138]=0,br[32]=br[138]=0,wr[32]=wr[138]=1,xr[32]=xr[138]=0,Er[32]=Er[138]=1,zr[128]=zr[42]=0,Vr[128]=Vr[42]=1,Ur[128]=Ur[42]=1,Nr[128]=Nr[42]=0,Fr[128]=Fr[42]=1,Br[128]=Br[42]=0,yr[128]=yr[42]=-1,vr[128]=vr[42]=0,br[128]=br[42]=1,wr[128]=wr[42]=-1,xr[128]=xr[42]=0,Er[128]=Er[42]=0,Sr[5]=Sr[165]=-1,Lr[5]=Lr[165]=0,Ir[5]=Ir[165]=0,zr[5]=zr[165]=1,Vr[5]=Vr[165]=0,Ur[5]=Ur[165]=0,Ar[20]=Ar[150]=0,Rr[20]=Rr[150]=1,Or[20]=Or[150]=1,wr[20]=wr[150]=0,xr[20]=xr[150]=-1,Er[20]=Er[150]=1,Cr[80]=Cr[90]=-1,Mr[80]=Mr[90]=0,Dr[80]=Dr[90]=1,Nr[80]=Nr[90]=1,Fr[80]=Fr[90]=0,Br[80]=Br[90]=1,Pr[65]=Pr[105]=0,Tr[65]=Tr[105]=1,kr[65]=kr[105]=0,yr[65]=yr[105]=0,vr[65]=vr[105]=-1,br[65]=br[105]=0,Cr[160]=Cr[10]=-1,Mr[160]=Mr[10]=0,Dr[160]=Dr[10]=1,Sr[160]=Sr[10]=-1,Lr[160]=Lr[10]=0,Ir[160]=Ir[10]=0,zr[160]=zr[10]=1,Vr[160]=Vr[10]=0,Ur[160]=Ur[10]=0,Nr[160]=Nr[10]=1,Fr[160]=Fr[10]=0,Br[160]=Br[10]=1,Ar[130]=Ar[40]=0,Rr[130]=Rr[40]=1,Or[130]=Or[40]=1,Pr[130]=Pr[40]=0,Tr[130]=Tr[40]=1,kr[130]=kr[40]=0,yr[130]=yr[40]=0,vr[130]=vr[40]=-1,br[130]=br[40]=0,wr[130]=wr[40]=0,xr[130]=xr[40]=-1,Er[130]=Er[40]=1,Sr[37]=Sr[133]=0,Lr[37]=Lr[133]=1,Ir[37]=Ir[133]=1,zr[37]=zr[133]=0,Vr[37]=Vr[133]=1,Ur[37]=Ur[133]=0,yr[37]=yr[133]=-1,vr[37]=vr[133]=0,br[37]=br[133]=0,wr[37]=wr[133]=1,xr[37]=xr[133]=0,Er[37]=Er[133]=0,Ar[148]=Ar[22]=-1,Rr[148]=Rr[22]=0,Or[148]=Or[22]=0,zr[148]=zr[22]=0,Vr[148]=Vr[22]=-1,Ur[148]=Ur[22]=1,Nr[148]=Nr[22]=0,Fr[148]=Fr[22]=1,Br[148]=Br[22]=1,wr[148]=wr[22]=-1,xr[148]=xr[22]=0,Er[148]=Er[22]=1,Cr[82]=Cr[88]=0,Mr[82]=Mr[88]=-1,Dr[82]=Dr[88]=1,Ar[82]=Ar[88]=1,Rr[82]=Rr[88]=0,Or[82]=Or[88]=1,Pr[82]=Pr[88]=-1,Tr[82]=Tr[88]=0,kr[82]=kr[88]=1,Nr[82]=Nr[88]=0,Fr[82]=Fr[88]=-1,Br[82]=Br[88]=0,Cr[73]=Cr[97]=0,Mr[73]=Mr[97]=1,Dr[73]=Dr[97]=0,Sr[73]=Sr[97]=0,Lr[73]=Lr[97]=-1,Ir[73]=Ir[97]=0,Pr[73]=Pr[97]=1,Tr[73]=Tr[97]=0,kr[73]=kr[97]=0,yr[73]=yr[97]=1,vr[73]=vr[97]=0,br[73]=br[97]=1,Cr[145]=Cr[25]=0,Mr[145]=Mr[25]=-1,Dr[145]=Dr[25]=0,Pr[145]=Pr[25]=1,Tr[145]=Tr[25]=0,kr[145]=kr[25]=1,zr[145]=zr[25]=0,Vr[145]=Vr[25]=1,Ur[145]=Ur[25]=1,wr[145]=wr[25]=-1,xr[145]=xr[25]=0,Er[145]=Er[25]=0,Sr[70]=Sr[100]=0,Lr[70]=Lr[100]=1,Ir[70]=Ir[100]=0,Ar[70]=Ar[100]=-1,Rr[70]=Rr[100]=0,Or[70]=Or[100]=1,Nr[70]=Nr[100]=0,Fr[70]=Fr[100]=-1,Br[70]=Br[100]=1,yr[70]=yr[100]=1,vr[70]=vr[100]=0,br[70]=br[100]=0,Sr[101]=Sr[69]=0,Lr[101]=Lr[69]=1,Ir[101]=Ir[69]=0,yr[101]=yr[69]=1,vr[101]=vr[69]=0,br[101]=br[69]=0,zr[149]=zr[21]=0,Vr[149]=Vr[21]=1,Ur[149]=Ur[21]=1,wr[149]=wr[21]=-1,xr[149]=xr[21]=0,Er[149]=Er[21]=0,Ar[86]=Ar[84]=-1,Rr[86]=Rr[84]=0,Or[86]=Or[84]=1,Nr[86]=Nr[84]=0,Fr[86]=Fr[84]=-1,Br[86]=Br[84]=1,Cr[89]=Cr[81]=0,Mr[89]=Mr[81]=-1,Dr[89]=Dr[81]=0,Pr[89]=Pr[81]=1,Tr[89]=Tr[81]=0,kr[89]=kr[81]=1,Cr[96]=Cr[74]=0,Mr[96]=Mr[74]=1,Dr[96]=Dr[74]=0,Sr[96]=Sr[74]=-1,Lr[96]=Lr[74]=0,Ir[96]=Ir[74]=1,Nr[96]=Nr[74]=1,Fr[96]=Fr[74]=0,Br[96]=Br[74]=0,yr[96]=yr[74]=1,vr[96]=vr[74]=0,br[96]=br[74]=1,Cr[24]=Cr[146]=0,Mr[24]=Mr[146]=-1,Dr[24]=Dr[146]=1,Ar[24]=Ar[146]=1,Rr[24]=Rr[146]=0,Or[24]=Or[146]=1,Pr[24]=Pr[146]=0,Tr[24]=Tr[146]=1,kr[24]=kr[146]=1,wr[24]=wr[146]=0,xr[24]=xr[146]=-1,Er[24]=Er[146]=0,Sr[6]=Sr[164]=-1,Lr[6]=Lr[164]=0,Ir[6]=Ir[164]=1,Ar[6]=Ar[164]=-1,Rr[6]=Rr[164]=0,Or[6]=Or[164]=0,zr[6]=zr[164]=0,Vr[6]=Vr[164]=-1,Ur[6]=Ur[164]=1,Nr[6]=Nr[164]=1,Fr[6]=Fr[164]=0,Br[6]=Br[164]=0,Pr[129]=Pr[41]=0,Tr[129]=Tr[41]=1,kr[129]=kr[41]=1,zr[129]=zr[41]=0,Vr[129]=Vr[41]=1,Ur[129]=Ur[41]=0,yr[129]=yr[41]=-1,vr[129]=vr[41]=0,br[129]=br[41]=0,wr[129]=wr[41]=0,xr[129]=xr[41]=-1,Er[129]=Er[41]=0,Ar[66]=Ar[104]=0,Rr[66]=Rr[104]=1,Or[66]=Or[104]=0,Pr[66]=Pr[104]=-1,Tr[66]=Tr[104]=0,kr[66]=kr[104]=1,Nr[66]=Nr[104]=0,Fr[66]=Fr[104]=-1,Br[66]=Br[104]=0,yr[66]=yr[104]=0,vr[66]=vr[104]=-1,br[66]=br[104]=1,Cr[144]=Cr[26]=-1,Mr[144]=Mr[26]=0,Dr[144]=Dr[26]=0,zr[144]=zr[26]=1,Vr[144]=Vr[26]=0,Ur[144]=Ur[26]=1,Nr[144]=Nr[26]=0,Fr[144]=Fr[26]=1,Br[144]=Br[26]=1,wr[144]=wr[26]=-1,xr[144]=xr[26]=0,Er[144]=Er[26]=1,Sr[36]=Sr[134]=0,Lr[36]=Lr[134]=1,Ir[36]=Ir[134]=1,Ar[36]=Ar[134]=0,Rr[36]=Rr[134]=1,Or[36]=Or[134]=0,yr[36]=yr[134]=0,vr[36]=vr[134]=-1,br[36]=br[134]=1,wr[36]=wr[134]=1,xr[36]=xr[134]=0,Er[36]=Er[134]=0,Cr[9]=Cr[161]=-1,Mr[9]=Mr[161]=0,Dr[9]=Dr[161]=0,Sr[9]=Sr[161]=0,Lr[9]=Lr[161]=-1,Ir[9]=Ir[161]=0,Pr[9]=Pr[161]=1,Tr[9]=Tr[161]=0,kr[9]=kr[161]=0,zr[9]=zr[161]=1,Vr[9]=Vr[161]=0,Ur[9]=Ur[161]=1,Cr[136]=0,Mr[136]=1,Dr[136]=1,Sr[136]=0,Lr[136]=1,Ir[136]=0,Ar[136]=-1,Rr[136]=0,Or[136]=1,Pr[136]=-1,Tr[136]=0,kr[136]=0,zr[136]=0,Vr[136]=-1,Ur[136]=0,Nr[136]=0,Fr[136]=-1,Br[136]=1,yr[136]=1,vr[136]=0,br[136]=0,wr[136]=1,xr[136]=0,Er[136]=1,Cr[34]=0,Mr[34]=-1,Dr[34]=0,Sr[34]=0,Lr[34]=-1,Ir[34]=1,Ar[34]=1,Rr[34]=0,Or[34]=0,Pr[34]=1,Tr[34]=0,kr[34]=1,zr[34]=0,Vr[34]=1,Ur[34]=1,Nr[34]=0,Fr[34]=1,Br[34]=0,yr[34]=-1,vr[34]=0,br[34]=1,wr[34]=-1,xr[34]=0,Er[34]=0,Cr[35]=0,Mr[35]=1,Dr[35]=1,Sr[35]=0,Lr[35]=-1,Ir[35]=1,Ar[35]=1,Rr[35]=0,Or[35]=0,Pr[35]=-1,Tr[35]=0,kr[35]=0,zr[35]=0,Vr[35]=-1,Ur[35]=0,Nr[35]=0,Fr[35]=1,Br[35]=0,yr[35]=-1,vr[35]=0,br[35]=1,wr[35]=1,xr[35]=0,Er[35]=1,Cr[153]=0,Mr[153]=1,Dr[153]=1,Pr[153]=-1,Tr[153]=0,kr[153]=0,zr[153]=0,Vr[153]=-1,Ur[153]=0,wr[153]=1,xr[153]=0,Er[153]=1,Sr[102]=0,Lr[102]=-1,Ir[102]=1,Ar[102]=1,Rr[102]=0,Or[102]=0,Nr[102]=0,Fr[102]=1,Br[102]=0,yr[102]=-1,vr[102]=0,br[102]=1,Cr[155]=0,Mr[155]=-1,Dr[155]=0,Pr[155]=1,Tr[155]=0,kr[155]=1,zr[155]=0,Vr[155]=1,Ur[155]=1,wr[155]=-1,xr[155]=0,Er[155]=0,Sr[103]=0,Lr[103]=1,Ir[103]=0,Ar[103]=-1,Rr[103]=0,Or[103]=1,Nr[103]=0,Fr[103]=-1,Br[103]=1,yr[103]=1,vr[103]=0,br[103]=0,Cr[152]=0,Mr[152]=1,Dr[152]=1,Ar[152]=-1,Rr[152]=0,Or[152]=1,Pr[152]=-1,Tr[152]=0,kr[152]=0,zr[152]=0,Vr[152]=-1,Ur[152]=0,Nr[152]=0,Fr[152]=-1,Br[152]=1,wr[152]=1,xr[152]=0,Er[152]=1,Cr[156]=0,Mr[156]=-1,Dr[156]=1,Ar[156]=1,Rr[156]=0,Or[156]=1,Pr[156]=-1,Tr[156]=0,kr[156]=0,zr[156]=0,Vr[156]=-1,Ur[156]=0,Nr[156]=0,Fr[156]=1,Br[156]=1,wr[156]=-1,xr[156]=0,Er[156]=1,Cr[137]=0,Mr[137]=1,Dr[137]=1,Sr[137]=0,Lr[137]=1,Ir[137]=0,Pr[137]=-1,Tr[137]=0,kr[137]=0,zr[137]=0,Vr[137]=-1,Ur[137]=0,yr[137]=1,vr[137]=0,br[137]=0,wr[137]=1,xr[137]=0,Er[137]=1,Cr[139]=0,Mr[139]=1,Dr[139]=1,Sr[139]=0,Lr[139]=-1,Ir[139]=0,Pr[139]=1,Tr[139]=0,kr[139]=0,zr[139]=0,Vr[139]=1,Ur[139]=0,yr[139]=-1,vr[139]=0,br[139]=0,wr[139]=1,xr[139]=0,Er[139]=1,Cr[98]=0,Mr[98]=-1,Dr[98]=0,Sr[98]=0,Lr[98]=-1,Ir[98]=1,Ar[98]=1,Rr[98]=0,Or[98]=0,Pr[98]=1,Tr[98]=0,kr[98]=1,Nr[98]=0,Fr[98]=1,Br[98]=0,yr[98]=-1,vr[98]=0,br[98]=1,Cr[99]=0,Mr[99]=1,Dr[99]=0,Sr[99]=0,Lr[99]=-1,Ir[99]=1,Ar[99]=1,Rr[99]=0,Or[99]=0,Pr[99]=-1,Tr[99]=0,kr[99]=1,Nr[99]=0,Fr[99]=-1,Br[99]=0,yr[99]=1,vr[99]=0,br[99]=1,Sr[38]=0,Lr[38]=-1,Ir[38]=1,Ar[38]=1,Rr[38]=0,Or[38]=0,zr[38]=0,Vr[38]=1,Ur[38]=1,Nr[38]=0,Fr[38]=1,Br[38]=0,yr[38]=-1,vr[38]=0,br[38]=1,wr[38]=-1,xr[38]=0,Er[38]=0,Sr[39]=0,Lr[39]=1,Ir[39]=1,Ar[39]=-1,Rr[39]=0,Or[39]=0,zr[39]=0,Vr[39]=-1,Ur[39]=1,Nr[39]=0,Fr[39]=1,Br[39]=0,yr[39]=-1,vr[39]=0,br[39]=1,wr[39]=1,xr[39]=0,Er[39]=0;var d1=function(e){return[[e.bottomleft,0],[0,0],[0,e.leftbottom]]},h1=function(e){return[[1,e.rightbottom],[1,0],[e.bottomright,0]]},f1=function(e){return[[e.topright,1],[1,1],[1,e.righttop]]},p1=function(e){return[[0,e.lefttop],[0,1],[e.topleft,1]]},m1=function(e){return[[e.bottomright,0],[e.bottomleft,0],[0,e.leftbottom],[0,e.lefttop]]},g1=function(e){return[[e.bottomright,0],[e.bottomleft,0],[1,e.righttop],[1,e.rightbottom]]},_1=function(e){return[[1,e.righttop],[1,e.rightbottom],[e.topleft,1],[e.topright,1]]},y1=function(e){return[[0,e.leftbottom],[0,e.lefttop],[e.topleft,1],[e.topright,1]]},tn=[],Qt=[],xn=[],mn=[],An=[],Pn=[],Hr=[],Yr=[];mn[1]=An[1]=18,mn[169]=An[169]=18,xn[4]=Qt[4]=12,xn[166]=Qt[166]=12,tn[16]=Yr[16]=4,tn[154]=Yr[154]=4,Pn[64]=Hr[64]=22,Pn[106]=Hr[106]=22,xn[2]=Pn[2]=17,mn[2]=An[2]=18,xn[168]=Pn[168]=17,mn[168]=An[168]=18,tn[8]=mn[8]=9,Qt[8]=xn[8]=12,tn[162]=mn[162]=9,Qt[162]=xn[162]=12,tn[32]=Yr[32]=4,Qt[32]=Hr[32]=1,tn[138]=Yr[138]=4,Qt[138]=Hr[138]=1,An[128]=Yr[128]=21,Pn[128]=Hr[128]=22,An[42]=Yr[42]=21,Pn[42]=Hr[42]=22,Qt[5]=An[5]=14,Qt[165]=An[165]=14,xn[20]=Yr[20]=6,xn[150]=Yr[150]=6,tn[80]=Pn[80]=11,tn[90]=Pn[90]=11,mn[65]=Hr[65]=3,mn[105]=Hr[105]=3,tn[160]=Pn[160]=11,Qt[160]=An[160]=14,tn[10]=Pn[10]=11,Qt[10]=An[10]=14,xn[130]=Yr[130]=6,mn[130]=Hr[130]=3,xn[40]=Yr[40]=6,mn[40]=Hr[40]=3,Qt[101]=Hr[101]=1,Qt[69]=Hr[69]=1,An[149]=Yr[149]=21,An[21]=Yr[21]=21,xn[86]=Pn[86]=17,xn[84]=Pn[84]=17,tn[89]=mn[89]=9,tn[81]=mn[81]=9,tn[96]=Hr[96]=0,Qt[96]=Pn[96]=15,tn[74]=Hr[74]=0,Qt[74]=Pn[74]=15,tn[24]=xn[24]=8,mn[24]=Yr[24]=7,tn[146]=xn[146]=8,mn[146]=Yr[146]=7,Qt[6]=Pn[6]=15,xn[6]=An[6]=16,Qt[164]=Pn[164]=15,xn[164]=An[164]=16,mn[129]=Yr[129]=7,An[129]=Hr[129]=20,mn[41]=Yr[41]=7,An[41]=Hr[41]=20,xn[66]=Hr[66]=2,mn[66]=Pn[66]=19,xn[104]=Hr[104]=2,mn[104]=Pn[104]=19,tn[144]=An[144]=10,Pn[144]=Yr[144]=23,tn[26]=An[26]=10,Pn[26]=Yr[26]=23,Qt[36]=Yr[36]=5,xn[36]=Hr[36]=2,Qt[134]=Yr[134]=5,xn[134]=Hr[134]=2,tn[9]=An[9]=10,Qt[9]=mn[9]=13,tn[161]=An[161]=10,Qt[161]=mn[161]=13,Qt[37]=Yr[37]=5,An[37]=Hr[37]=20,Qt[133]=Yr[133]=5,An[133]=Hr[133]=20,xn[148]=An[148]=16,Pn[148]=Yr[148]=23,xn[22]=An[22]=16,Pn[22]=Yr[22]=23,tn[82]=xn[82]=8,mn[82]=Pn[82]=19,tn[88]=xn[88]=8,mn[88]=Pn[88]=19,tn[73]=Hr[73]=0,Qt[73]=mn[73]=13,tn[97]=Hr[97]=0,Qt[97]=mn[97]=13,tn[145]=mn[145]=9,An[145]=Yr[145]=21,tn[25]=mn[25]=9,An[25]=Yr[25]=21,Qt[70]=Hr[70]=1,xn[70]=Pn[70]=17,Qt[100]=Hr[100]=1,xn[100]=Pn[100]=17,tn[34]=mn[34]=9,Qt[34]=xn[34]=12,An[34]=Yr[34]=21,Pn[34]=Hr[34]=22,tn[136]=Yr[136]=4,Qt[136]=Hr[136]=1,xn[136]=Pn[136]=17,mn[136]=An[136]=18,tn[35]=Yr[35]=4,Qt[35]=xn[35]=12,mn[35]=An[35]=18,Pn[35]=Hr[35]=22,tn[153]=Yr[153]=4,mn[153]=An[153]=18,Qt[102]=xn[102]=12,Pn[102]=Hr[102]=22,tn[155]=mn[155]=9,An[155]=Yr[155]=23,Qt[103]=Hr[103]=1,xn[103]=Pn[103]=17,tn[152]=Yr[152]=4,xn[152]=Pn[152]=17,mn[152]=An[152]=18,tn[156]=xn[156]=8,mn[156]=An[156]=18,Pn[156]=Yr[156]=23,tn[137]=Yr[137]=4,Qt[137]=Hr[137]=1,mn[137]=An[137]=18,tn[139]=Yr[139]=4,Qt[139]=mn[139]=13,An[139]=Hr[139]=20,tn[98]=mn[98]=9,Qt[98]=xn[98]=12,Pn[98]=Hr[98]=22,tn[99]=Hr[99]=0,Qt[99]=xn[99]=12,mn[99]=Pn[99]=19,Qt[38]=xn[38]=12,An[38]=Yr[38]=21,Pn[38]=Hr[38]=22,Qt[39]=Yr[39]=5,xn[39]=An[39]=16,Pn[39]=Hr[39]=22;var Gt=[];function w1(e,n,t){return function iK(e){return(e>0)-(e<0)||+e}((n[0]-e[0])*(t[1]-n[1])-(t[0]-n[0])*(n[1]-e[1]))}function CR(e,n){return n.geometry.coordinates[0].every(function(t){return VA(Jf(t),e)})}Gt[1]=Gt[169]=d1,Gt[4]=Gt[166]=h1,Gt[16]=Gt[154]=f1,Gt[64]=Gt[106]=p1,Gt[168]=Gt[2]=m1,Gt[162]=Gt[8]=g1,Gt[138]=Gt[32]=_1,Gt[42]=Gt[128]=y1,Gt[5]=Gt[165]=function(e){return[[0,0],[0,e.leftbottom],[1,e.rightbottom],[1,0]]},Gt[20]=Gt[150]=function(e){return[[1,0],[e.bottomright,0],[e.topright,1],[1,1]]},Gt[80]=Gt[90]=function(e){return[[1,1],[1,e.righttop],[0,e.lefttop],[0,1]]},Gt[65]=Gt[105]=function(e){return[[e.bottomleft,0],[0,0],[0,1],[e.topleft,1]]},Gt[160]=Gt[10]=function(e){return[[1,e.righttop],[1,e.rightbottom],[0,e.leftbottom],[0,e.lefttop]]},Gt[130]=Gt[40]=function(e){return[[e.topleft,1],[e.topright,1],[e.bottomright,0],[e.bottomleft,0]]},Gt[85]=function(){return[[0,0],[0,1],[1,1],[1,0]]},Gt[101]=Gt[69]=function(e){return[[1,e.rightbottom],[1,0],[0,0],[0,1],[e.topleft,1]]},Gt[149]=Gt[21]=function(e){return[[e.topright,1],[1,1],[1,0],[0,0],[0,e.leftbottom]]},Gt[86]=Gt[84]=function(e){return[[1,0],[e.bottomright,0],[0,e.lefttop],[0,1],[1,1]]},Gt[89]=Gt[81]=function(e){return[[1,1],[1,e.righttop],[e.bottomleft,0],[0,0],[0,1]]},Gt[96]=Gt[74]=function(e){return[[1,e.righttop],[1,e.rightbottom],[0,e.lefttop],[0,1],[e.topleft,1]]},Gt[24]=Gt[146]=function(e){return[[1,1],[1,e.righttop],[e.bottomright,0],[e.bottomleft,0],[e.topright,1]]},Gt[6]=Gt[164]=function(e){return[[1,e.rightbottom],[1,0],[e.bottomright,0],[0,e.leftbottom],[0,e.lefttop]]},Gt[129]=Gt[41]=function(e){return[[e.topright,1],[e.bottomleft,0],[0,0],[0,e.leftbottom],[e.topleft,1]]},Gt[66]=Gt[104]=function(e){return[[e.bottomright,0],[e.bottomleft,0],[0,e.lefttop],[0,1],[e.topleft,1]]},Gt[144]=Gt[26]=function(e){return[[1,1],[1,e.righttop],[0,e.leftbottom],[0,e.lefttop],[e.topright,1]]},Gt[36]=Gt[134]=function(e){return[[1,e.rightbottom],[1,0],[e.bottomright,0],[e.topleft,1],[e.topright,1]]},Gt[9]=Gt[161]=function(e){return[[1,e.righttop],[1,e.rightbottom],[e.bottomleft,0],[0,0],[0,e.leftbottom]]},Gt[37]=Gt[133]=function(e){return[[1,e.rightbottom],[1,0],[0,0],[0,e.leftbottom],[e.topleft,1],[e.topright,1]]},Gt[148]=Gt[22]=function(e){return[[1,1],[1,0],[e.bottomright,0],[0,e.leftbottom],[0,e.lefttop],[e.topright,1]]},Gt[82]=Gt[88]=function(e){return[[1,1],[1,e.righttop],[e.bottomright,0],[e.bottomleft,0],[0,e.lefttop],[0,1]]},Gt[73]=Gt[97]=function(e){return[[1,e.righttop],[1,e.rightbottom],[e.bottomleft,0],[0,0],[0,1],[e.topleft,1]]},Gt[145]=Gt[25]=function(e){return[[1,1],[1,e.righttop],[e.bottomleft,0],[0,0],[0,e.leftbottom],[e.topright,1]]},Gt[70]=Gt[100]=function(e){return[[1,e.rightbottom],[1,0],[e.bottomright,0],[0,e.lefttop],[0,1],[e.topleft,1]]},Gt[34]=function(e){return[y1(e),g1(e)]},Gt[35]=function(e){return[[1,e.righttop],[1,e.rightbottom],[e.bottomright,0],[e.bottomleft,0],[0,e.leftbottom],[0,e.lefttop],[e.topleft,1],[e.topright,1]]},Gt[136]=function(e){return[_1(e),m1(e)]},Gt[153]=function(e){return[f1(e),d1(e)]},Gt[102]=function(e){return[h1(e),p1(e)]},Gt[155]=function(e){return[[1,1],[1,e.righttop],[e.bottomleft,0],[0,0],[0,e.leftbottom],[e.topright,1]]},Gt[103]=function(e){return[[1,e.rightbottom],[1,0],[e.bottomright,0],[0,e.lefttop],[0,1],[e.topleft,1]]},Gt[152]=function(e){return[f1(e),m1(e)]},Gt[156]=function(e){return[[1,1],[1,e.righttop],[e.bottomright,0],[e.bottomleft,0],[0,e.leftbottom],[0,e.lefttop],[e.topright,1]]},Gt[137]=function(e){return[_1(e),d1(e)]},Gt[139]=function(e){return[[1,e.righttop],[1,e.rightbottom],[e.bottomleft,0],[0,0],[0,e.leftbottom],[e.topleft,1],[e.topright,1]]},Gt[98]=function(e){return[g1(e),p1(e)]},Gt[99]=function(e){return[[1,e.righttop],[1,e.rightbottom],[e.bottomright,0],[e.bottomleft,0],[0,e.lefttop],[0,1],[e.topleft,1]]},Gt[38]=function(e){return[h1(e),y1(e)]},Gt[39]=function(e){return[[1,e.rightbottom],[1,0],[e.bottomright,0],[0,e.leftbottom],[0,e.lefttop],[e.topleft,1],[e.topright,1]]};const MR=function(){function e(n){this.id=e.buildId(n),this.coordinates=n,this.innerEdges=[],this.outerEdges=[],this.outerEdgesSorted=!1}return e.buildId=function(n){return n.join(",")},e.prototype.removeInnerEdge=function(n){this.innerEdges=this.innerEdges.filter(function(t){return t.from.id!==n.from.id})},e.prototype.removeOuterEdge=function(n){this.outerEdges=this.outerEdges.filter(function(t){return t.to.id!==n.to.id})},e.prototype.addOuterEdge=function(n){this.outerEdges.push(n),this.outerEdgesSorted=!1},e.prototype.sortOuterEdges=function(){var n=this;this.outerEdgesSorted||(this.outerEdges.sort(function(t,r){var i=t.to,o=r.to;if(i.coordinates[0]-n.coordinates[0]>=0&&o.coordinates[0]-n.coordinates[0]<0)return 1;if(i.coordinates[0]-n.coordinates[0]<0&&o.coordinates[0]-n.coordinates[0]>=0)return-1;if(i.coordinates[0]-n.coordinates[0]==0&&o.coordinates[0]-n.coordinates[0]==0)return i.coordinates[1]-n.coordinates[1]>=0||o.coordinates[1]-n.coordinates[1]>=0?i.coordinates[1]-o.coordinates[1]:o.coordinates[1]-i.coordinates[1];var a=w1(n.coordinates,i.coordinates,o.coordinates);return a<0?1:a>0?-1:Math.pow(i.coordinates[0]-n.coordinates[0],2)+Math.pow(i.coordinates[1]-n.coordinates[1],2)-(Math.pow(o.coordinates[0]-n.coordinates[0],2)+Math.pow(o.coordinates[1]-n.coordinates[1],2))}),this.outerEdgesSorted=!0)},e.prototype.getOuterEdges=function(){return this.sortOuterEdges(),this.outerEdges},e.prototype.getOuterEdge=function(n){return this.sortOuterEdges(),this.outerEdges[n]},e.prototype.addInnerEdge=function(n){this.innerEdges.push(n)},e}(),uK=function(){function e(n,t){this.from=n,this.to=t,this.next=void 0,this.label=void 0,this.symetric=void 0,this.ring=void 0,this.from.addOuterEdge(this),this.to.addInnerEdge(this)}return e.prototype.getSymetric=function(){return this.symetric||(this.symetric=new e(this.to,this.from),this.symetric.symetric=this),this.symetric},e.prototype.deleteEdge=function(){this.from.removeOuterEdge(this),this.to.removeInnerEdge(this)},e.prototype.isEqual=function(n){return this.from.id===n.from.id&&this.to.id===n.to.id},e.prototype.toString=function(){return"Edge { "+this.from.id+" -> "+this.to.id+" }"},e.prototype.toLineString=function(){return function Yw(e,n,t){if(void 0===t&&(t={}),e.length<2)throw new Error("coordinates must be an array of two or more positions");return ku({type:"LineString",coordinates:e},n,t)}([this.from.coordinates,this.to.coordinates])},e.prototype.compareTo=function(n){return w1(n.from.coordinates,n.to.coordinates,this.to.coordinates)},e}(),dK=function(){function e(){this.edges=[],this.polygon=void 0,this.envelope=void 0}return e.prototype.push=function(n){this.edges.push(n),this.polygon=this.envelope=void 0},e.prototype.get=function(n){return this.edges[n]},Object.defineProperty(e.prototype,"length",{get:function(){return this.edges.length},enumerable:!0,configurable:!0}),e.prototype.forEach=function(n){this.edges.forEach(n)},e.prototype.map=function(n){return this.edges.map(n)},e.prototype.some=function(n){return this.edges.some(n)},e.prototype.isValid=function(){return!0},e.prototype.isHole=function(){var n=this,t=this.edges.reduce(function(a,u,h){return u.from.coordinates[1]>n.edges[a].from.coordinates[1]&&(a=h),a},0),r=(0===t?this.length:t)-1,i=(t+1)%this.length,o=w1(this.edges[r].from.coordinates,this.edges[t].from.coordinates,this.edges[i].from.coordinates);return 0===o?this.edges[r].from.coordinates[0]>this.edges[i].from.coordinates[0]:o>0},e.prototype.toMultiPoint=function(){return function RA(e,n,t){return void 0===t&&(t={}),ku({type:"MultiPoint",coordinates:e},n,t)}(this.edges.map(function(n){return n.from.coordinates}))},e.prototype.toPolygon=function(){if(this.polygon)return this.polygon;var n=this.edges.map(function(t){return t.from.coordinates});return n.push(this.edges[0].from.coordinates),this.polygon=h_([n])},e.prototype.getEnvelope=function(){return this.envelope?this.envelope:this.envelope=function vZ(e){return function yZ(e,n){void 0===n&&(n={});var t=Number(e[0]),r=Number(e[1]),i=Number(e[2]),o=Number(e[3]);if(6===e.length)throw new Error("@turf/bbox-polygon does not support BBox with 6 positions");var a=[t,r];return h_([[a,[i,r],[i,o],[t,o],a]],n.properties,{bbox:e,id:n.id})}(zY(e))}(this.toPolygon())},e.findEdgeRingContaining=function(n,t){var i,o,r=n.getEnvelope();return t.forEach(function(a){var u=a.getEnvelope();if(o&&(i=o.getEnvelope()),!function oK(e,n){var t=e.geometry.coordinates[0].map(function(a){return a[0]}),r=e.geometry.coordinates[0].map(function(a){return a[1]}),i=n.geometry.coordinates[0].map(function(a){return a[0]}),o=n.geometry.coordinates[0].map(function(a){return a[1]});return Math.max.apply(null,t)===Math.max.apply(null,i)&&Math.max.apply(null,r)===Math.max.apply(null,o)&&Math.min.apply(null,t)===Math.min.apply(null,i)&&Math.min.apply(null,r)===Math.min.apply(null,o)}(u,r)&&CR(u,r)){for(var h=n.map(function(q){return q.from.coordinates}),f=void 0,_=function(q){a.some(function(j){return function sK(e,n){return e[0]===n[0]&&e[1]===n[1]}(q,j.from.coordinates)})||(f=q)},b=0,C=h;b<C.length;b++)_(C[b]);f&&a.inside(Jf(f))&&(!o||CR(i,u))&&(o=a)}}),o},e.prototype.inside=function(n){return VA(n,this.toPolygon())},e}();function RR(e){for(var n=e,t=[];n.parent;)t.unshift(n),n=n.parent;return t}!function(){function e(){this.edges=[],this.nodes={}}e.fromGeoJson=function(n){!function hK(e){if(!e)throw new Error("No geojson passed");if("FeatureCollection"!==e.type&&"GeometryCollection"!==e.type&&"MultiLineString"!==e.type&&"LineString"!==e.type&&"Feature"!==e.type)throw new Error("Invalid input type '"+e.type+"'. Geojson must be FeatureCollection, GeometryCollection, LineString, MultiLineString or Feature")}(n);var t=new e;return f_(n,function(r){(function HY(e,n,t){if(!e)throw new Error("No feature passed");if(!t)throw new Error(".featureOf() requires a name");if(!e||"Feature"!==e.type||!e.geometry)throw new Error("Invalid input to "+t+", Feature with geometry required");if(!e.geometry||e.geometry.type!==n)throw new Error("Invalid input to "+t+": must be a "+n+", given "+e.geometry.type)})(r,"LineString","Graph::fromGeoJson"),function RY(e,n,t,r){var i=t;ep(e,function(o,a,u,h,f){i=0===a&&void 0===t?o:n(i,o,a,u,h,f)},r)}(r,function(i,o){if(i){var a=t.getNode(i),u=t.getNode(o);t.addEdge(a,u)}return o})}),t},e.prototype.getNode=function(n){var t=MR.buildId(n),r=this.nodes[t];return r||(r=this.nodes[t]=new MR(n)),r},e.prototype.addEdge=function(n,t){var r=new uK(n,t),i=r.getSymetric();this.edges.push(r),this.edges.push(i)},e.prototype.deleteDangles=function(){var n=this;Object.keys(this.nodes).map(function(t){return n.nodes[t]}).forEach(function(t){return n._removeIfDangle(t)})},e.prototype._removeIfDangle=function(n){var t=this;if(n.innerEdges.length<=1){var r=n.getOuterEdges().map(function(i){return i.to});this.removeNode(n),r.forEach(function(i){return t._removeIfDangle(i)})}},e.prototype.deleteCutEdges=function(){var n=this;this._computeNextCWEdges(),this._findLabeledEdgeRings(),this.edges.forEach(function(t){t.label===t.symetric.label&&(n.removeEdge(t.symetric),n.removeEdge(t))})},e.prototype._computeNextCWEdges=function(n){var t=this;typeof n>"u"?Object.keys(this.nodes).forEach(function(r){return t._computeNextCWEdges(t.nodes[r])}):n.getOuterEdges().forEach(function(r,i){n.getOuterEdge((0===i?n.getOuterEdges().length:i)-1).symetric.next=r})},e.prototype._computeNextCCWEdges=function(n,t){for(var i,o,r=n.getOuterEdges(),a=r.length-1;a>=0;--a){var u=r[a],h=u.symetric,f=void 0,_=void 0;u.label===t&&(f=u),h.label===t&&(_=h),f&&_&&(_&&(o=_),f&&(o&&(o.next=f,o=void 0),i||(i=f)))}o&&(o.next=i)},e.prototype._findLabeledEdgeRings=function(){var n=[],t=0;return this.edges.forEach(function(r){if(!(r.label>=0)){n.push(r);var i=r;do{i.label=t,i=i.next}while(!r.isEqual(i));t++}}),n},e.prototype.getEdgeRings=function(){var n=this;this._computeNextCWEdges(),this.edges.forEach(function(r){r.label=void 0}),this._findLabeledEdgeRings().forEach(function(r){n._findIntersectionNodes(r).forEach(function(i){n._computeNextCCWEdges(i,r.label)})});var t=[];return this.edges.forEach(function(r){r.ring||t.push(n._findEdgeRing(r))}),t},e.prototype._findIntersectionNodes=function(n){var t=[],r=n,i=function(){var o=0;r.from.getOuterEdges().forEach(function(a){a.label===n.label&&++o}),o>1&&t.push(r.from),r=r.next};do{i()}while(!n.isEqual(r));return t},e.prototype._findEdgeRing=function(n){var t=n,r=new dK;do{r.push(t),t.ring=r,t=t.next}while(!n.isEqual(t));return r},e.prototype.removeNode=function(n){var t=this;n.getOuterEdges().forEach(function(r){return t.removeEdge(r)}),n.innerEdges.forEach(function(r){return t.removeEdge(r)}),delete this.nodes[n.id]},e.prototype.removeEdge=function(n){this.edges=this.edges.filter(function(t){return!t.isEqual(n)}),n.deleteEdge()}}(),fe(3198),fe(3367),fe(3282);var b_={search:function(e,n,t,r){e.cleanDirty();var i=(r=r||{}).heuristic||b_.heuristics.manhattan,o=r.closest||!1,a=function LK(){return new OR(function(e){return e.f})}(),u=n;for(n.h=i(n,t),a.push(n);a.size()>0;){var h=a.pop();if(h===t)return RR(h);h.closed=!0;for(var f=e.neighbors(h),_=0,b=f.length;_<b;++_){var C=f[_];if(!C.closed&&!C.isWall()){var D=h.g+C.getCost(h),q=C.visited;(!q||D<C.g)&&(C.visited=!0,C.parent=h,C.h=C.h||i(C,t),C.g=D,C.f=C.g+C.h,e.markDirty(C),o&&(C.h<u.h||C.h===u.h&&C.g<u.g)&&(u=C),q?a.rescoreElement(C):a.push(C))}}}return o?RR(u):[]},heuristics:{manhattan:function(e,n){return Math.abs(n.x-e.x)+Math.abs(n.y-e.y)},diagonal:function(e,n){var r=Math.sqrt(2),i=Math.abs(n.x-e.x),o=Math.abs(n.y-e.y);return 1*(i+o)+(r-2)*Math.min(i,o)}},cleanNode:function(e){e.f=0,e.g=0,e.h=0,e.visited=!1,e.closed=!1,e.parent=null}};function nh(e,n){n=n||{},this.nodes=[],this.diagonal=!!n.diagonal,this.grid=[];for(var t=0;t<e.length;t++){this.grid[t]=[];for(var r=0,i=e[t];r<i.length;r++){var o=new w_(t,r,i[r]);this.grid[t][r]=o,this.nodes.push(o)}}this.init()}function w_(e,n,t){this.x=e,this.y=n,this.weight=t}function OR(e){this.content=[],this.scoreFunction=e}function E1(){this._=null}function x_(e){e.U=e.C=e.L=e.R=e.P=e.N=null}function op(e,n){var t=n,r=n.R,i=t.U;i?i.L===t?i.L=r:i.R=r:e._=r,r.U=i,t.U=r,t.R=r.L,t.R&&(t.R.U=t),r.L=t}function sp(e,n){var t=n,r=n.L,i=t.U;i?i.L===t?i.L=r:i.R=r:e._=r,r.U=i,t.U=r,t.L=r.R,t.L&&(t.L.U=t),r.R=t}function NR(e){for(;e.L;)e=e.L;return e}nh.prototype.init=function(){this.dirtyNodes=[];for(var e=0;e<this.nodes.length;e++)b_.cleanNode(this.nodes[e])},nh.prototype.cleanDirty=function(){for(var e=0;e<this.dirtyNodes.length;e++)b_.cleanNode(this.dirtyNodes[e]);this.dirtyNodes=[]},nh.prototype.markDirty=function(e){this.dirtyNodes.push(e)},nh.prototype.neighbors=function(e){var n=[],t=e.x,r=e.y,i=this.grid;return i[t-1]&&i[t-1][r]&&n.push(i[t-1][r]),i[t+1]&&i[t+1][r]&&n.push(i[t+1][r]),i[t]&&i[t][r-1]&&n.push(i[t][r-1]),i[t]&&i[t][r+1]&&n.push(i[t][r+1]),this.diagonal&&(i[t-1]&&i[t-1][r-1]&&n.push(i[t-1][r-1]),i[t+1]&&i[t+1][r-1]&&n.push(i[t+1][r-1]),i[t-1]&&i[t-1][r+1]&&n.push(i[t-1][r+1]),i[t+1]&&i[t+1][r+1]&&n.push(i[t+1][r+1])),n},nh.prototype.toString=function(){for(var t,r,i,o,e=[],n=this.grid,a=0,u=n.length;a<u;a++){for(t=[],i=0,o=(r=n[a]).length;i<o;i++)t.push(r[i].weight);e.push(t.join(" "))}return e.join("\n")},w_.prototype.toString=function(){return"["+this.x+" "+this.y+"]"},w_.prototype.getCost=function(e){return e&&e.x!==this.x&&e.y!==this.y?1.41421*this.weight:this.weight},w_.prototype.isWall=function(){return 0===this.weight},OR.prototype={push:function(e){this.content.push(e),this.sinkDown(this.content.length-1)},pop:function(){var e=this.content[0],n=this.content.pop();return this.content.length>0&&(this.content[0]=n,this.bubbleUp(0)),e},remove:function(e){var n=this.content.indexOf(e),t=this.content.pop();n!==this.content.length-1&&(this.content[n]=t,this.scoreFunction(t)<this.scoreFunction(e)?this.sinkDown(n):this.bubbleUp(n))},size:function(){return this.content.length},rescoreElement:function(e){this.sinkDown(this.content.indexOf(e))},sinkDown:function(e){for(var n=this.content[e];e>0;){var t=(e+1>>1)-1,r=this.content[t];if(!(this.scoreFunction(n)<this.scoreFunction(r)))break;this.content[t]=n,this.content[e]=r,e=t}},bubbleUp:function(e){for(var n=this.content.length,t=this.content[e],r=this.scoreFunction(t);;){var u,i=e+1<<1,o=i-1,a=null;if(o<n&&(u=this.scoreFunction(this.content[o]))<r&&(a=o),i<n&&this.scoreFunction(this.content[i])<(null===a?r:u)&&(a=i),null===a)break;this.content[e]=this.content[a],this.content[a]=t,e=a}}},E1.prototype={constructor:E1,insert:function(e,n){var t,r,i;if(e){if(n.P=e,n.N=e.N,e.N&&(e.N.P=n),e.N=n,e.R){for(e=e.R;e.L;)e=e.L;e.L=n}else e.R=n;t=e}else this._?(e=NR(this._),n.P=null,n.N=e,e.P=e.L=n,t=e):(n.P=n.N=null,this._=n,t=null);for(n.L=n.R=null,n.U=t,n.C=!0,e=n;t&&t.C;)t===(r=t.U).L?(i=r.R)&&i.C?(t.C=i.C=!1,r.C=!0,e=r):(e===t.R&&(op(this,t),t=(e=t).U),t.C=!1,r.C=!0,sp(this,r)):(i=r.L)&&i.C?(t.C=i.C=!1,r.C=!0,e=r):(e===t.L&&(sp(this,t),t=(e=t).U),t.C=!1,r.C=!0,op(this,r)),t=e.U;this._.C=!1},remove:function(e){e.N&&(e.N.P=e.P),e.P&&(e.P.N=e.N),e.N=e.P=null;var t,o,a,n=e.U,r=e.L,i=e.R;if(o=r?i?NR(i):r:i,n?n.L===e?n.L=o:n.R=o:this._=o,r&&i?(a=o.C,o.C=e.C,o.L=r,r.U=o,o!==i?(n=o.U,o.U=e.U,n.L=e=o.R,o.R=i,i.U=o):(o.U=n,n=o,e=o.R)):(a=e.C,e=o),e&&(e.U=n),!a){if(e&&e.C)return void(e.C=!1);do{if(e===this._)break;if(e===n.L){if((t=n.R).C&&(t.C=!1,n.C=!0,op(this,n),t=n.R),t.L&&t.L.C||t.R&&t.R.C){(!t.R||!t.R.C)&&(t.L.C=!1,t.C=!0,sp(this,t),t=n.R),t.C=n.C,n.C=t.R.C=!1,op(this,n),e=this._;break}}else if((t=n.L).C&&(t.C=!1,n.C=!0,sp(this,n),t=n.L),t.L&&t.L.C||t.R&&t.R.C){(!t.L||!t.L.C)&&(t.R.C=!1,t.C=!0,op(this,t),t=n.L),t.C=n.C,n.C=t.L.C=!1,sp(this,n),e=this._;break}t.C=!0,e=n,n=n.U}while(!e.C);e&&(e.C=!1)}}};const FR=E1;function ap(e,n,t,r){var i=[null,null],o=ia.push(i)-1;return i.left=e,i.right=n,t&&E_(i,e,n,t),r&&E_(i,n,e,r),Xa[e.index].halfedges.push(o),Xa[n.index].halfedges.push(o),i}function lp(e,n,t){var r=[n,t];return r.left=e,r}function E_(e,n,t,r){e[0]||e[1]?e.left===t?e[1]=r:e[0]=r:(e[0]=r,e.left=n,e.right=t)}function PK(e,n,t,r,i){var j,o=e[0],a=e[1],u=o[0],h=o[1],b=0,C=1,D=a[0]-u,q=a[1]-h;if(j=n-u,D||!(j>0)){if(j/=D,D<0){if(j<b)return;j<C&&(C=j)}else if(D>0){if(j>C)return;j>b&&(b=j)}if(j=r-u,D||!(j<0)){if(j/=D,D<0){if(j>C)return;j>b&&(b=j)}else if(D>0){if(j<b)return;j<C&&(C=j)}if(j=t-h,q||!(j>0)){if(j/=q,q<0){if(j<b)return;j<C&&(C=j)}else if(q>0){if(j>C)return;j>b&&(b=j)}if(j=i-h,q||!(j<0)){if(j/=q,q<0){if(j>C)return;j>b&&(b=j)}else if(q>0){if(j<b)return;j<C&&(C=j)}return!(b>0)&&!(C<1)||(b>0&&(e[0]=[u+b*D,h+b*q]),C<1&&(e[1]=[u+C*D,h+C*q])),!0}}}}}function TK(e,n,t,r,i){var o=e[1];if(o)return!0;var j,ae,a=e[0],u=e.left,h=e.right,f=u[0],_=u[1],b=h[0],C=h[1],D=(f+b)/2;if(C===_){if(D<n||D>=r)return;if(f>b){if(a){if(a[1]>=i)return}else a=[D,t];o=[D,i]}else{if(a){if(a[1]<t)return}else a=[D,i];o=[D,t]}}else if(ae=(_+C)/2-(j=(f-b)/(C-_))*D,j<-1||j>1)if(f>b){if(a){if(a[1]>=i)return}else a=[(t-ae)/j,t];o=[(i-ae)/j,i]}else{if(a){if(a[1]<t)return}else a=[(i-ae)/j,i];o=[(t-ae)/j,t]}else if(_<C){if(a){if(a[0]>=r)return}else a=[n,j*n+ae];o=[r,j*r+ae]}else{if(a){if(a[0]<n)return}else a=[r,j*r+ae];o=[n,j*n+ae]}return e[0]=a,e[1]=o,!0}function RK(e,n){var t=e.site,r=n.left,i=n.right;return t===i&&(i=r,r=t),i?Math.atan2(i[1]-r[1],i[0]-r[0]):(t===r?(r=n[1],i=n[0]):(r=n[0],i=n[1]),Math.atan2(r[0]-i[0],i[1]-r[1]))}function BR(e,n){return n[+(n.left!==e.site)]}function OK(e,n){return n[+(n.left===e.site)]}var C1,zR=[];function BK(){x_(this),this.x=this.y=this.arc=this.site=this.cy=null}function rh(e){var n=e.P,t=e.N;if(n&&t){var r=n.site,i=e.site,o=t.site;if(r!==o){var a=i[0],u=i[1],h=r[0]-a,f=r[1]-u,_=o[0]-a,b=o[1]-u,C=2*(h*b-f*_);if(!(C>=-jK)){var D=h*h+f*f,q=_*_+b*b,j=(b*D-f*q)/C,ae=(h*q-_*D)/C,se=zR.pop()||new BK;se.arc=e,se.site=i,se.x=j+a,se.y=(se.cy=ae+u)+Math.sqrt(j*j+ae*ae),e.circle=se;for(var K=null,ce=up._;ce;)if(se.y<ce.y||se.y===ce.y&&se.x<=ce.x){if(!ce.L){K=ce.P;break}ce=ce.L}else{if(!ce.R){K=ce;break}ce=ce.R}up.insert(K,se),K||(C1=se)}}}}function ih(e){var n=e.circle;n&&(n.P||(C1=n.N),up.remove(n),zR.push(n),x_(n),e.circle=null)}var VR=[];function zK(){x_(this),this.edge=this.site=this.circle=null}function UR(e){var n=VR.pop()||new zK;return n.site=e,n}function M1(e){ih(e),oh.remove(e),VR.push(e),x_(e)}function VK(e){var n=e.circle,t=n.x,r=n.cy,i=[t,r],o=e.P,a=e.N,u=[e];M1(e);for(var h=o;h.circle&&Math.abs(t-h.circle.x)<Mo&&Math.abs(r-h.circle.cy)<Mo;)o=h.P,u.unshift(h),M1(h),h=o;u.unshift(h),ih(h);for(var f=a;f.circle&&Math.abs(t-f.circle.x)<Mo&&Math.abs(r-f.circle.cy)<Mo;)a=f.N,u.push(f),M1(f),f=a;u.push(f),ih(f);var b,_=u.length;for(b=1;b<_;++b)E_((f=u[b]).edge,(h=u[b-1]).site,f.site,i);(f=u[_-1]).edge=ap((h=u[0]).site,f.site,null,i),rh(h),rh(f)}function UK(e){for(var r,i,o,a,n=e[0],t=e[1],u=oh._;u;)if((o=HR(u,t)-n)>Mo)u=u.L;else{if(!((a=n-HK(u,t))>Mo)){o>-Mo?(r=u.P,i=u):a>-Mo?(r=u,i=u.N):r=i=u;break}if(!u.R){r=u;break}u=u.R}!function AK(e){Xa[e.index]={site:e,halfedges:[]}}(e);var h=UR(e);if(oh.insert(r,h),r||i){if(r===i)return ih(r),i=UR(r.site),oh.insert(h,i),h.edge=i.edge=ap(r.site,h.site),rh(r),void rh(i);if(!i)return void(h.edge=ap(r.site,h.site));ih(r),ih(i);var f=r.site,_=f[0],b=f[1],C=e[0]-_,D=e[1]-b,q=i.site,j=q[0]-_,ae=q[1]-b,se=2*(C*ae-D*j),K=C*C+D*D,ce=j*j+ae*ae,Le=[(ae*K-D*ce)/se+_,(C*ce-j*K)/se+b];E_(i.edge,f,q,Le),h.edge=ap(f,e,null,Le),i.edge=ap(e,q,null,Le),rh(r),rh(i)}}function HR(e,n){var t=e.site,r=t[0],i=t[1],o=i-n;if(!o)return r;var a=e.P;if(!a)return-1/0;var u=(t=a.site)[0],h=t[1],f=h-n;if(!f)return u;var _=u-r,b=1/o-1/f,C=_/f;return b?(-C+Math.sqrt(C*C-2*b*(_*_/(-2*f)-h+f/2+i-o/2)))/b+r:(r+u)/2}function HK(e,n){var t=e.N;if(t)return HR(t,n);var r=e.site;return r[1]===n?r[0]:1/0}var oh,Xa,up,ia,Mo=1e-6,jK=1e-12;function GK(e,n,t){return(e[0]-t[0])*(n[1]-e[1])-(e[0]-n[0])*(t[1]-e[1])}function qK(e,n){return n[1]-e[1]||n[0]-e[0]}function jR(e,n){var r,i,o,t=e.sort(qK).pop();for(ia=[],Xa=new Array(e.length),oh=new FR,up=new FR;;)if(o=C1,t&&(!o||t[1]<o.y||t[1]===o.y&&t[0]<o.x))(t[0]!==r||t[1]!==i)&&(UK(t),r=t[0],i=t[1]),t=e.pop();else{if(!o)break;VK(o.arc)}if(function NK(){for(var t,r,i,o,e=0,n=Xa.length;e<n;++e)if((t=Xa[e])&&(o=(r=t.halfedges).length)){var a=new Array(o),u=new Array(o);for(i=0;i<o;++i)a[i]=i,u[i]=RK(t,ia[r[i]]);for(a.sort(function(h,f){return u[f]-u[h]}),i=0;i<o;++i)u[i]=r[a[i]];for(i=0;i<o;++i)r[i]=u[i]}}(),n){var a=+n[0][0],u=+n[0][1],h=+n[1][0],f=+n[1][1];(function kK(e,n,t,r){for(var o,i=ia.length;i--;)TK(o=ia[i],e,n,t,r)&&PK(o,e,n,t,r)&&(Math.abs(o[0][0]-o[1][0])>Mo||Math.abs(o[0][1]-o[1][1])>Mo)||delete ia[i]})(a,u,h,f),function FK(e,n,t,r){var o,a,u,h,f,_,b,C,D,q,j,ae,i=Xa.length,se=!0;for(o=0;o<i;++o)if(a=Xa[o]){for(u=a.site,h=(f=a.halfedges).length;h--;)ia[f[h]]||f.splice(h,1);for(h=0,_=f.length;h<_;)j=(q=OK(a,ia[f[h]]))[0],ae=q[1],C=(b=BR(a,ia[f[++h%_]]))[0],D=b[1],(Math.abs(j-C)>Mo||Math.abs(ae-D)>Mo)&&(f.splice(h,0,ia.push(lp(u,q,Math.abs(j-e)<Mo&&r-ae>Mo?[e,Math.abs(C-e)<Mo?D:r]:Math.abs(ae-r)<Mo&&t-j>Mo?[Math.abs(D-r)<Mo?C:t,r]:Math.abs(j-t)<Mo&&ae-n>Mo?[t,Math.abs(C-t)<Mo?D:n]:Math.abs(ae-n)<Mo&&j-e>Mo?[Math.abs(D-n)<Mo?C:e,n]:null))-1),++_);_&&(se=!1)}if(se){var K,ce,Le,Ae=1/0;for(o=0,se=null;o<i;++o)(a=Xa[o])&&(Le=(K=(u=a.site)[0]-e)*K+(ce=u[1]-n)*ce)<Ae&&(Ae=Le,se=a);if(se){var Ze=[e,n],Ke=[e,r],it=[t,r],ke=[t,n];se.halfedges.push(ia.push(lp(u=se.site,Ze,Ke))-1,ia.push(lp(u,Ke,it))-1,ia.push(lp(u,it,ke))-1,ia.push(lp(u,ke,Ze))-1)}}for(o=0;o<i;++o)(a=Xa[o])&&(a.halfedges.length||delete Xa[o])}(a,u,h,f)}this.edges=ia,this.cells=Xa,oh=up=ia=Xa=null}function nc(){return new C_}function C_(){this.reset()}jR.prototype={constructor:jR,polygons:function(){var e=this.edges;return this.cells.map(function(n){var t=n.halfedges.map(function(r){return BR(n,e[r])});return t.data=n.site.data,t})},triangles:function(){var e=[],n=this.edges;return this.cells.forEach(function(t,r){if(u=(o=t.halfedges).length)for(var o,u,h,i=t.site,a=-1,f=n[o[u-1]],_=f.left===i?f.right:f.left;++a<u;)h=_,_=(f=n[o[a]]).left===i?f.right:f.left,h&&_&&r<h.index&&r<_.index&&GK(i,h,_)<0&&e.push([i.data,h.data,_.data])}),e},links:function(){return this.edges.filter(function(e){return e.right}).map(function(e){return{source:e.left.data,target:e.right.data}})},find:function(e,n,t){for(var i,u,r=this,o=r._found||0,a=r.cells.length;!(u=r.cells[o]);)if(++o>=a)return null;var h=e-u.site[0],f=n-u.site[1],_=h*h+f*f;do{u=r.cells[i=o],o=null,u.halfedges.forEach(function(b){var C=r.edges[b],D=C.left;if(D!==u.site&&D||(D=C.right)){var q=e-D[0],j=n-D[1],ae=q*q+j*j;ae<_&&(_=ae,o=D.index)}})}while(null!==o);return r._found=i,null==t||_<=t*t?u.site:null}},fe(8464),fe(4855),C_.prototype={constructor:C_,reset:function(){this.s=this.t=0},add:function(e){eO(M_,e,this.t),eO(this,M_.s,this.s),this.s?this.t+=M_.t:this.s=M_.t},valueOf:function(){return this.s}};var M_=new C_;function eO(e,n,t){var r=e.s=n+t,i=r-n;e.t=n-(r-i)+(t-i)}var Ao=Math.PI,Ra=Ao/2,sh=2*Ao,vo=Ao/180,cp=(Math,Math.atan),ah=Math.atan2,fi=Math.cos,Zr=(Math,Math,Math,Math,Math,Math.sin),Au=(Math,Math.sqrt);Math;function lh(e){return e>1?Ra:e<-1?-Ra:Math.asin(e)}function z1(e,n){return[e>Ao?e-sh:e<-Ao?e+sh:e,n]}function SO(e,n){return e<n?-1:e>n?1:e>=n?0:NaN}nc(),nc(),nc(),z1.invert=z1,function EQ(e){1===e.length&&(e=function CQ(e){return function(n,t){return SO(e(n),t)}}(e))}(SO),Math.sqrt(50),Math.sqrt(10),Math.sqrt(2);nc();function ix(){}function JO(e){return function(n,t){var r=fi(n),i=fi(t),o=e(r*i);return[o*i*Zr(n),o*Zr(t)]}}function bp(e){return function(n,t){var r=Au(n*n+t*t),i=e(r),o=Zr(i),a=fi(i);return[ah(n*o,r*a),lh(r&&t*o/r)]}}function sx(e,n){return[e,n]}nc(),nc(),nc(),nc(),function XO(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}(4.5),ix.prototype={constructor:ix,point:function(e,n){this.stream.point(e,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},fi(30*vo),function KO(e){return function(n){var t=new ix;for(var r in e)t[r]=e[r];return t.stream=n,t}}({point:function(e,n){this.stream.point(e*vo,n*vo)}}),JO(function(e){return Au(2/(1+e))}).invert=bp(function(e){return 2*lh(e/2)}),JO(function(e){return(e=function oQ(e){return e>1?0:e<-1?Ao:Math.acos(e)}(e))&&e/Zr(e)}).invert=bp(function(e){return e}),sx.invert=sx,bp(cp),bp(lh),bp(function(e){return 2*cp(e)});let _J=(()=>{class e{constructor(t){this.httpClient=t}processAddress(t){return this.httpClient.get("https://nominatim.openstreetmap.org/search?q="+t+"&format=json&limit=1")}}return e.\u0275fac=function(t){return new(t||e)(et(Pf))},e.\u0275prov=gt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();class Ei{static mapToArray(n){const t=[];for(const r in n)n.hasOwnProperty(r)&&t.push(n[r]);return t}static handleEvent(n,t,r){0<t.observers.length&&n.run(()=>{t.emit(r)})}}let wp=(()=>{class e{constructor(t,r){this.element=t,this.zone=r,this.DEFAULT_ZOOM=1,this.DEFAULT_CENTER=(0,Wr.latLng)(38.907192,-77.036871),this.DEFAULT_FPZ_OPTIONS={},this.fitBoundsOptions=this.DEFAULT_FPZ_OPTIONS,this.panOptions=this.DEFAULT_FPZ_OPTIONS,this.zoomOptions=this.DEFAULT_FPZ_OPTIONS,this.zoomPanOptions=this.DEFAULT_FPZ_OPTIONS,this.options={},this.mapReady=new pn,this.zoomChange=new pn,this.centerChange=new pn,this.onClick=new pn,this.onDoubleClick=new pn,this.onMouseDown=new pn,this.onMouseUp=new pn,this.onMouseMove=new pn,this.onMouseOver=new pn,this.onMouseOut=new pn,this.onMapMove=new pn,this.onMapMoveStart=new pn,this.onMapMoveEnd=new pn,this.onMapZoom=new pn,this.onMapZoomStart=new pn,this.onMapZoomEnd=new pn}ngOnInit(){this.zone.runOutsideAngular(()=>{this.map=(0,Wr.map)(this.element.nativeElement,this.options),this.addMapEventListeners()}),null!=this.center&&null!=this.zoom&&this.setView(this.center,this.zoom),null!=this.fitBounds&&this.setFitBounds(this.fitBounds),null!=this.maxBounds&&this.setMaxBounds(this.maxBounds),null!=this.minZoom&&this.setMinZoom(this.minZoom),null!=this.maxZoom&&this.setMaxZoom(this.maxZoom),this.doResize(),this.mapReady.emit(this.map)}ngOnChanges(t){t.zoom&&t.center&&null!=this.zoom&&null!=this.center?this.setView(t.center.currentValue,t.zoom.currentValue):t.zoom?this.setZoom(t.zoom.currentValue):t.center&&this.setCenter(t.center.currentValue),t.fitBounds&&this.setFitBounds(t.fitBounds.currentValue),t.maxBounds&&this.setMaxBounds(t.maxBounds.currentValue),t.minZoom&&this.setMinZoom(t.minZoom.currentValue),t.maxZoom&&this.setMaxZoom(t.maxZoom.currentValue)}ngOnDestroy(){null!=this.map&&this.map.remove()}getMap(){return this.map}onResize(){this.delayResize()}addMapEventListeners(){const t=(i,o)=>{this.map.on(i,o)};t("click",i=>Ei.handleEvent(this.zone,this.onClick,i)),t("dblclick",i=>Ei.handleEvent(this.zone,this.onDoubleClick,i)),t("mousedown",i=>Ei.handleEvent(this.zone,this.onMouseDown,i)),t("mouseup",i=>Ei.handleEvent(this.zone,this.onMouseUp,i)),t("mouseover",i=>Ei.handleEvent(this.zone,this.onMouseOver,i)),t("mouseout",i=>Ei.handleEvent(this.zone,this.onMouseOut,i)),t("mousemove",i=>Ei.handleEvent(this.zone,this.onMouseMove,i)),t("zoomstart",i=>Ei.handleEvent(this.zone,this.onMapZoomStart,i)),t("zoom",i=>Ei.handleEvent(this.zone,this.onMapZoom,i)),t("zoomend",i=>Ei.handleEvent(this.zone,this.onMapZoomEnd,i)),t("movestart",i=>Ei.handleEvent(this.zone,this.onMapMoveStart,i)),t("move",i=>Ei.handleEvent(this.zone,this.onMapMove,i)),t("moveend",i=>Ei.handleEvent(this.zone,this.onMapMoveEnd,i));const r=()=>{const i=this.map.getZoom();i!==this.zoom&&(this.zoom=i,Ei.handleEvent(this.zone,this.zoomChange,i));const o=this.map.getCenter();(null!=o||null!=this.center)&&((null==o||null==this.center)&&o!==this.center||o.lat!==this.center.lat||o.lng!==this.center.lng)&&(this.center=o,Ei.handleEvent(this.zone,this.centerChange,o))};t("moveend",r),t("zoomend",r)}doResize(){this.zone.runOutsideAngular(()=>{null!=this.map&&this.map.invalidateSize({})})}delayResize(){null!=this.resizeTimer&&clearTimeout(this.resizeTimer),this.resizeTimer=setTimeout(this.doResize.bind(this),200)}setView(t,r){null!=this.map&&null!=t&&null!=r&&this.map.setView(t,r,this.zoomPanOptions)}setZoom(t){null!=this.map&&null!=t&&this.map.setZoom(t,this.zoomOptions)}setCenter(t){null!=this.map&&null!=t&&this.map.panTo(t,this.panOptions)}setFitBounds(t){null!=this.map&&null!=t&&this.map.fitBounds(t,this.fitBoundsOptions)}setMaxBounds(t){null!=this.map&&null!=t&&this.map.setMaxBounds(t)}setMinZoom(t){null!=this.map&&null!=t&&this.map.setMinZoom(t)}setMaxZoom(t){null!=this.map&&null!=t&&this.map.setMaxZoom(t)}}return e.\u0275fac=function(t){return new(t||e)(Be(or),Be(yn))},e.\u0275dir=_t({type:e,selectors:[["","leaflet",""]],hostBindings:function(t,r){1&t&&Ai("resize",function(){return r.onResize()},0,BC)},inputs:{fitBoundsOptions:["leafletFitBoundsOptions","fitBoundsOptions"],panOptions:["leafletPanOptions","panOptions"],zoomOptions:["leafletZoomOptions","zoomOptions"],zoomPanOptions:["leafletZoomPanOptions","zoomPanOptions"],options:["leafletOptions","options"],zoom:["leafletZoom","zoom"],center:["leafletCenter","center"],fitBounds:["leafletFitBounds","fitBounds"],maxBounds:["leafletMaxBounds","maxBounds"],minZoom:["leafletMinZoom","minZoom"],maxZoom:["leafletMaxZoom","maxZoom"]},outputs:{mapReady:"leafletMapReady",zoomChange:"leafletZoomChange",centerChange:"leafletCenterChange",onClick:"leafletClick",onDoubleClick:"leafletDoubleClick",onMouseDown:"leafletMouseDown",onMouseUp:"leafletMouseUp",onMouseMove:"leafletMouseMove",onMouseOver:"leafletMouseOver",onMouseOut:"leafletMouseOut",onMapMove:"leafletMapMove",onMapMoveStart:"leafletMapMoveStart",onMapMoveEnd:"leafletMapMoveEnd",onMapZoom:"leafletMapZoom",onMapZoomStart:"leafletMapZoomStart",onMapZoomEnd:"leafletMapZoomEnd"},features:[ps]}),e})();class K_{constructor(n){this.leafletDirective=n}init(){}getMap(){return this.leafletDirective.getMap()}}let yJ=(()=>{class e{constructor(t,r){this.zone=r,this.onAdd=new pn,this.onRemove=new pn,this.leafletDirective=new K_(t)}ngOnInit(){this.leafletDirective.init()}ngOnDestroy(){null!=this.layer&&(this.removeLayerEventListeners(this.layer),this.layer.remove())}ngOnChanges(t){if(t.layer){const r=t.layer.previousValue,i=t.layer.currentValue;this.zone.runOutsideAngular(()=>{null!=r&&(this.removeLayerEventListeners(r),r.remove()),null!=i&&(this.addLayerEventListeners(i),this.leafletDirective.getMap().addLayer(i))})}}addLayerEventListeners(t){this.onAddLayerHandler=r=>Ei.handleEvent(this.zone,this.onAdd,r),t.on("add",this.onAddLayerHandler),this.onRemoveLayerHandler=r=>Ei.handleEvent(this.zone,this.onRemove,r),t.on("remove",this.onRemoveLayerHandler)}removeLayerEventListeners(t){t.off("add",this.onAddLayerHandler),t.off("remove",this.onRemoveLayerHandler)}}return e.\u0275fac=function(t){return new(t||e)(Be(wp),Be(yn))},e.\u0275dir=_t({type:e,selectors:[["","leafletLayer",""]],inputs:{layer:["leafletLayer","layer"]},outputs:{onAdd:"leafletLayerAdd",onRemove:"leafletLayerRemove"},features:[ps]}),e})(),vJ=(()=>{class e{set layers(t){this.layersValue=t,this.updateLayers()}get layers(){return this.layersValue}constructor(t,r,i){this.differs=r,this.zone=i,this.leafletDirective=new K_(t),this.layersDiffer=this.differs.find([]).create()}ngDoCheck(){this.updateLayers()}ngOnInit(){this.leafletDirective.init(),this.updateLayers()}ngOnDestroy(){this.layers=[]}updateLayers(){const t=this.leafletDirective.getMap();if(null!=t&&null!=this.layersDiffer){const r=this.layersDiffer.diff(this.layersValue);null!=r&&this.zone.runOutsideAngular(()=>{r.forEachRemovedItem(i=>{t.removeLayer(i.item)}),r.forEachAddedItem(i=>{t.addLayer(i.item)})})}}}return e.\u0275fac=function(t){return new(t||e)(Be(wp),Be(nu),Be(yn))},e.\u0275dir=_t({type:e,selectors:[["","leafletLayers",""]],inputs:{layers:["leafletLayers","layers"]}}),e})();class ax{constructor(){this.layersRemoved=0,this.layersChanged=0,this.layersAdded=0}changed(){return!(0===this.layersRemoved&&0===this.layersChanged&&0===this.layersAdded)}}class bJ{constructor(n,t){this.zone=n,this.layersControlReady=t}getLayersControl(){return this.layersControl}init(n,t){const r=n.baseLayers||{},i=n.overlays||{};return this.zone.runOutsideAngular(()=>{this.layersControl=Wr.control.layers(r,i,t)}),this.layersControlReady.emit(this.layersControl),this.layersControl}applyBaseLayerChanges(n){let t=new ax;return null!=this.layersControl&&(t=this.applyChanges(n,this.layersControl.addBaseLayer)),t}applyOverlayChanges(n){let t=new ax;return null!=this.layersControl&&(t=this.applyChanges(n,this.layersControl.addOverlay)),t}applyChanges(n,t){const r=new ax;return null!=n&&this.zone.runOutsideAngular(()=>{n.forEachChangedItem(i=>{this.layersControl.removeLayer(i.previousValue),t.call(this.layersControl,i.currentValue,i.key),r.layersChanged++}),n.forEachRemovedItem(i=>{this.layersControl.removeLayer(i.previousValue),r.layersRemoved++}),n.forEachAddedItem(i=>{t.call(this.layersControl,i.currentValue,i.key),r.layersAdded++})}),r}}class wJ{constructor(){this.baseLayers={},this.overlays={}}}let xJ=(()=>{class e{set layersControlConfig(t){null==t&&(t=new wJ),null==t.baseLayers&&(t.baseLayers={}),null==t.overlays&&(t.overlays={}),this.layersControlConfigValue=t,this.updateLayers()}get layersControlConfig(){return this.layersControlConfigValue}constructor(t,r,i){this.differs=r,this.zone=i,this.layersControlReady=new pn,this.leafletDirective=new K_(t),this.controlLayers=new bJ(this.zone,this.layersControlReady),this.baseLayersDiffer=this.differs.find({}).create(),this.overlaysDiffer=this.differs.find({}).create()}ngOnInit(){this.leafletDirective.init(),this.zone.runOutsideAngular(()=>{this.controlLayers.init({},this.layersControlOptions).addTo(this.leafletDirective.getMap())}),this.updateLayers()}ngOnDestroy(){this.layersControlConfig={baseLayers:{},overlays:{}},this.controlLayers.getLayersControl().remove()}ngDoCheck(){this.updateLayers()}updateLayers(){const t=this.leafletDirective.getMap(),r=this.controlLayers.getLayersControl();if(null!=t&&null!=r){if(null!=this.baseLayersDiffer&&null!=this.layersControlConfigValue.baseLayers){const i=this.baseLayersDiffer.diff(this.layersControlConfigValue.baseLayers);this.controlLayers.applyBaseLayerChanges(i)}if(null!=this.overlaysDiffer&&null!=this.layersControlConfigValue.overlays){const i=this.overlaysDiffer.diff(this.layersControlConfigValue.overlays);this.controlLayers.applyOverlayChanges(i)}}}}return e.\u0275fac=function(t){return new(t||e)(Be(wp),Be(Pd),Be(yn))},e.\u0275dir=_t({type:e,selectors:[["","leafletLayersControl",""]],inputs:{layersControlConfig:["leafletLayersControl","layersControlConfig"],layersControlOptions:["leafletLayersControlOptions","layersControlOptions"]},outputs:{layersControlReady:"leafletLayersControlReady"}}),e})(),dN=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=wn({type:e}),e.\u0275inj=zn({}),e})();function xp(e){return(xp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(e)}function Qi(e,n,t){return(n=function CJ(e){var n=function EJ(e,n){if("object"!==xp(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!==xp(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"===xp(n)?n:String(n)}(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}fe(4115);class MJ{static deepLiteralCopy(n,t){const r=n;if(null!=t)for(const i in t)t.hasOwnProperty(i)&&("string"==typeof t[i]||t[i]instanceof String?r[i]=t[i]:this.deepLiteralCopy(r[i],t[i]));return r}}let DJ=(()=>{class e{constructor(t,r){Qi(this,"zone",void 0),Qi(this,"leafletDirective",void 0),Qi(this,"drawControl",void 0),Qi(this,"drawOptions",null),Qi(this,"drawLocal",null),Qi(this,"drawReady",new pn),Qi(this,"onDrawCreated",new pn),Qi(this,"onDrawEdited",new pn),Qi(this,"onDrawDeleted",new pn),Qi(this,"onDrawStart",new pn),Qi(this,"onDrawStop",new pn),Qi(this,"onDrawVertex",new pn),Qi(this,"onDrawEditStart",new pn),Qi(this,"onDrawEditMove",new pn),Qi(this,"onDrawEditResize",new pn),Qi(this,"onDrawEditVertex",new pn),Qi(this,"onDrawEditStop",new pn),Qi(this,"onDrawDeleteStart",new pn),Qi(this,"onDrawDeleteStop",new pn),Qi(this,"onDrawToolbarOpened",new pn),Qi(this,"onDrawToolbarClosed",new pn),Qi(this,"onDrawMarkerContext",new pn),this.zone=r,this.leafletDirective=new K_(t)}ngOnInit(){this.leafletDirective.init(),null!=this.drawLocal&&MJ.deepLiteralCopy(Wr.drawLocal,this.drawLocal),this.drawControl=new Wr.Control.Draw(this.drawOptions),this.leafletDirective.getMap().addControl(this.drawControl);const t=this.leafletDirective.getMap();t.on(Wr.Draw.Event.CREATED,r=>Ei.handleEvent(this.zone,this.onDrawCreated,r)),t.on(Wr.Draw.Event.EDITED,r=>Ei.handleEvent(this.zone,this.onDrawEdited,r)),t.on(Wr.Draw.Event.DELETED,r=>Ei.handleEvent(this.zone,this.onDrawDeleted,r)),t.on(Wr.Draw.Event.DRAWSTART,r=>Ei.handleEvent(this.zone,this.onDrawStart,r)),t.on(Wr.Draw.Event.DRAWSTOP,r=>Ei.handleEvent(this.zone,this.onDrawStop,r)),t.on(Wr.Draw.Event.EDITSTART,r=>Ei.handleEvent(this.zone,this.onDrawEditStart,r)),t.on(Wr.Draw.Event.EDITMOVE,r=>Ei.handleEvent(this.zone,this.onDrawEditMove,r)),t.on(Wr.Draw.Event.EDITRESIZE,r=>Ei.handleEvent(this.zone,this.onDrawEditResize,r)),t.on(Wr.Draw.Event.EDITVERTEX,r=>Ei.handleEvent(this.zone,this.onDrawEditVertex,r)),t.on(Wr.Draw.Event.EDITSTOP,r=>Ei.handleEvent(this.zone,this.onDrawEditStop,r)),t.on(Wr.Draw.Event.DELETESTART,r=>Ei.handleEvent(this.zone,this.onDrawDeleteStart,r)),t.on(Wr.Draw.Event.DELETESTOP,r=>Ei.handleEvent(this.zone,this.onDrawDeleteStop,r)),t.on(Wr.Draw.Event.TOOLBAROPENED,r=>Ei.handleEvent(this.zone,this.onDrawToolbarOpened,r)),t.on(Wr.Draw.Event.TOOLBARCLOSED,r=>Ei.handleEvent(this.zone,this.onDrawToolbarClosed,r)),this.drawReady.emit(this.drawControl)}ngOnDestroy(){this.leafletDirective.getMap().removeControl(this.drawControl)}getDrawControl(){return this.drawControl}}return Qi(e,"\u0275fac",function(t){return new(t||e)(Be(wp),Be(yn))}),Qi(e,"\u0275dir",_t({type:e,selectors:[["","leafletDraw",""]],inputs:{drawOptions:["leafletDrawOptions","drawOptions"],drawLocal:["leafletDrawLocal","drawLocal"]},outputs:{drawReady:"leafletDrawReady",onDrawCreated:"leafletDrawCreated",onDrawEdited:"leafletDrawEdited",onDrawDeleted:"leafletDrawDeleted",onDrawStart:"leafletDrawStart",onDrawStop:"leafletDrawStop",onDrawVertex:"leafletDrawVertex",onDrawEditStart:"leafletDrawEditStart",onDrawEditMove:"leafletDrawEditMove",onDrawEditResize:"leafletDrawEditResize",onDrawEditVertex:"leafletDrawEditVertex",onDrawEditStop:"leafletDrawEditStop",onDrawDeleteStart:"leafletDrawDeleteStart",onDrawDeleteStop:"leafletDrawDeleteStop",onDrawToolbarOpened:"leafletDrawToolbarOpened",onDrawToolbarClosed:"leafletDrawToolbarClosed",onDrawMarkerContext:"leafletDrawMarkerContext"}})),e})(),SJ=(()=>{class e{}return Qi(e,"\u0275fac",function(t){return new(t||e)}),Qi(e,"\u0275mod",wn({type:e})),Qi(e,"\u0275inj",zn({imports:[dN]})),e})(),Ep=(()=>{class e{constructor(t,r){this.leafletService=t,this.snackBar=r,this.layers=[],this.drawnItems=new Wr.FeatureGroup,this.optionFalse=!1,this.title="Insert Address / Coverage Area:",this.goldIcon=new Wr.Icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-gold.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}),this.blueIcon=new Wr.Icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-blue.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}),this.options={layers:[(0,Wr.tileLayer)("http://{s}.google.com/vt/lyrs=m&x={x}&y={y}&z={z}",{maxZoom:20,subdomains:["mt0","mt1","mt2","mt3"]})],zoom:4,center:(0,Wr.latLng)(46.879966,-121.726909)},this.drawOptions={draw:{marker:{icon:this.blueIcon},polyline:this.optionFalse,rectangle:this.optionFalse,circle:this.optionFalse,circlemarker:this.optionFalse},edit:{featureGroup:this.drawnItems}},this.layersControl={baseLayers:{googleStreets:(0,Wr.tileLayer)("http://{s}.google.com/vt/lyrs=m&x={x}&y={y}&z={z}",{maxZoom:20,subdomains:["mt0","mt1","mt2","mt3"]}),googleSatellite:(0,Wr.tileLayer)("http://{s}.google.com/vt/lyrs=s&x={x}&y={y}&z={z}",{maxZoom:20,subdomains:["mt0","mt1","mt2","mt3"]})},overlays:{}},this.markerOptions={icon:this.blueIcon}}processMapData(t){this.isMapReady(),this.clearPoints();let i=[];if(this.drawnItems.eachLayer(function(u){if(u instanceof Wr.Polygon){let h=u.getLatLngs().map(function(f){return f.map(function(_){return[_.lng,_.lat]})});if(h.length>=1){let f=h[0][0],_=h[h.length-1][h[h.length-1].length-1];(f[0]!==_[0]||f[1]!==_[1])&&h[h.length-1].push(f)}i.push(h)}}),0===i.length){let u=new Error("No Coverage Area informed.");throw this.onMapError(u.message),u}let a=JSON.stringify({type:"MultiPolygon",coordinates:i});this.processMapPoint(t),t.patchValue({coverageArea:a})}processMapPoint(t){this.isMapReady();let r={type:"Point",coordinates:[this.marker.getLatLng().lng,this.marker.getLatLng().lat]};var i=JSON.stringify(r);t.patchValue({address:i})}showBestPartners(t){t.subscribe(i=>{i.forEach(o=>{let u=Jf(JSON.parse(JSON.stringify(o.address)).coordinates);Wr.marker([u.geometry.coordinates[1],u.geometry.coordinates[0]],{icon:this.goldIcon}).bindPopup(`${o.tradingName}`).addTo(this.map)})})}onDrawCreated(t){t.layer instanceof Wr.Marker?(this.marker=t.layer,this.clearPoints(),this.drawnItems.addLayer(t.layer.bindPopup(this.marker.getLatLng().lng+", "+this.marker.getLatLng().lat))):this.drawnItems.addLayer(t.layer)}onMapReady(t){this.map=t,this.map.addLayer(this.drawnItems);const i=new(Wr.Control.extend({onAdd:()=>{let o=Wr.DomUtil.create("div","search-address"),a=Wr.DomUtil.create("form","form-address",o),u=Wr.DomUtil.create("input","input-address",a);return Wr.DomUtil.create("button","button-address",a).innerHTML="Search",u.placeholder="City/District/Street/Number",Wr.DomEvent.addListener(a,"submit",f=>{f.preventDefault(),this.processAddress(u.value,t)}),Wr.DomEvent.disableClickPropagation(o),o}}));t.addControl(i)}processAddress(t,r){this.clearPoints(),this.leafletService.processAddress(t).subscribe({next:i=>{let o=parseFloat(i[0].lat),a=parseFloat(i[0].lon);r.setView([o,a],12),this.marker&&r.removeLayer(this.marker),this.marker=Wr.marker([o,a],this.markerOptions).addTo(r),this.marker.bindPopup(`${t}`)},error:()=>{this.onError()}})}isMapReady(){if(!this.map){let t=new Error("Map is loading. Please wait.");throw this.onMapError(t.message),t}if(!this.marker){let t=new Error("No address selected");throw this.onMapError(t.message),t}}clearPoints(){this.map.eachLayer(t=>{t instanceof Wr.Marker&&t!==this.marker&&this.map.getBounds().contains(t.getLatLng())&&this.map.removeLayer(t)})}onError(){this.snackBar.open("Error searching address","",{duration:4e3})}onMapError(t){this.snackBar.open(t,"",{duration:4e3})}}return e.\u0275fac=function(t){return new(t||e)(Be(_J),Be(Yf))},e.\u0275cmp=Dn({type:e,selectors:[["app-leaflet"]],inputs:{title:"title"},decls:5,vars:6,consts:[["id","map"],["id","map-title"],["leaflet","","leafletDraw","",2,"height","400px","width","90%",3,"leafletOptions","leafletDrawOptions","leafletLayersControl","leafletLayers","leafletDrawCreated","leafletMapReady"],[3,"leafletLayer"]],template:function(t,r){1&t&&(Wt(0,"div",0)(1,"h2",1),$r(2),en(),Wt(3,"div",2),Ai("leafletDrawCreated",function(o){return r.onDrawCreated(o)})("leafletMapReady",function(o){return r.onMapReady(o)}),Ni(4,"div",3),en()()),2&t&&(On(2),Ws(" ",r.title," "),On(1),er("leafletOptions",r.options)("leafletDrawOptions",r.drawOptions)("leafletLayersControl",r.layersControl)("leafletLayers",r.layers),On(1),er("leafletLayer",r.drawnItems))},dependencies:[wp,yJ,vJ,xJ,DJ],styles:["#map{display:flex;justify-content:center;align-items:center;flex-wrap:wrap;height:500px;width:100%;margin-bottom:1%}#map-title{display:flex;align-items:center;justify-content:center;margin-top:1%}.search-address,.form-address,.input-address{height:100%}.input-address{margin:5px;border-radius:8px}.button-address{cursor:pointer;background-color:#fff;border-radius:10px;font-weight:700;font-size:15px;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}.button-address:hover{color:#fff;background:black;transform:scale(1.1);transition:all .5s}\n"],encapsulation:2}),e})(),LJ=(()=>{class e{constructor(t,r,i,o){this.partnerService=t,this.snackBar=r,this.router=i,this.route=o}onSubmit(t,r){t.valid?(r.processMapData(t),this.partnerService.save(t.value).subscribe({next:()=>{this.onSucess()},error:()=>{this.onError()}})):this.onFormError()}onSucess(){this.snackBar.open("Partner saved successfully!","",{duration:4e3})}onError(){this.snackBar.open("Error saving partner","",{duration:4e3})}onFormError(){this.snackBar.open("Incomplete form","",{duration:4e3})}onCancel(){this.router.navigate([""],{relativeTo:this.route})}}return e.\u0275fac=function(t){return new(t||e)(et(Pg),et(Yf),et(Ts),et(Za))},e.\u0275prov=gt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),IJ=(()=>{class e{constructor(t,r,i,o){this.partnerService=t,this.snackBar=r,this.router=i,this.route=o}onSubmit(t,r){t.valid?(r.processMapData(t),this.partnerService.update(t.value).subscribe({next:()=>{this.onSucess()},error:()=>{this.onError()}})):this.onFormError()}onSucess(){this.snackBar.open("Partner updated successfully!","",{duration:4e3})}onError(){this.snackBar.open("Error updating partner","",{duration:4e3})}onCancel(){this.router.navigate(["/partners"],{relativeTo:this.route})}onFormError(){this.snackBar.open("Incomplete form","",{duration:4e3})}}return e.\u0275fac=function(t){return new(t||e)(et(Pg),et(Yf),et(Ts),et(Za))},e.\u0275prov=gt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function PJ(e,n){if(1&e&&(Wt(0,"mat-error"),$r(1),en()),2&e){const t=yo();On(1),Cd(t.formErrorMessage())}}function TJ(e,n){if(1&e&&(Wt(0,"mat-error"),$r(1),en()),2&e){const t=yo();On(1),Cd(t.formErrorMessage())}}function kJ(e,n){if(1&e&&(Wt(0,"mat-error"),$r(1),en()),2&e){const t=yo(2);On(1),Cd(t.formErrorMessage())}}function AJ(e,n){if(1&e&&(Wt(0,"mat-form-field",3),Ni(1,"input",15),Yn(2,kJ,2,1,"mat-error",5),en()),2&e){const t=yo();let r;On(2),er("ngIf",null==(r=t.form.get("document"))?null:r.invalid)}}let hN=(()=>{class e{constructor(t,r,i,o){this.formBuilder=t,this.route=r,this.createService=i,this.updateService=o}ngOnInit(){"create_form"===this.formType?(this.formServiceMode=this.createService,this.form=this.formBuilder.group({document:["",[Yd.required]],ownerName:["",[Yd.required]],tradingName:["",[Yd.required]],address:[""],coverageArea:[""]})):"update_form"===this.formType&&(this.formServiceMode=this.updateService,this.id=this.route.snapshot.paramMap.get("id")||"",this.form=this.formBuilder.group({document:[this.id],ownerName:["",[Yd.required]],tradingName:["",[Yd.required]],address:[""],coverageArea:[""]}))}onSubmit(t){this.formServiceMode.onSubmit(t,this.leafletComponent)}onCancel(){this.formServiceMode.onCancel()}formErrorMessage(){return"Field required"}}return e.\u0275fac=function(t){return new(t||e)(Be(_9),Be(Za),Be(LJ),Be(IJ))},e.\u0275cmp=Dn({type:e,selectors:[["app-form-partner"]],viewQuery:function(t,r){if(1&t&&Bo(Ep,5),2&t){let i;sr(i=ar())&&(r.leafletComponent=i.first)}},inputs:{title:"title",formType:"formType",buttonTitle:"buttonTitle"},decls:22,vars:6,consts:[["id","place-toolbar","color","primary"],["id","toolbar-title"],[3,"formGroup"],[1,"field"],["matInput","","placeholder","Owner Name","formControlName","ownerName","required",""],[4,"ngIf"],["matInput","","placeholder","Trading Name","formControlName","tradingName","required",""],["class","field",4,"ngIf"],[1,"field","hidden"],["matInput","","readonly","","placeholder","Address","formControlName","address"],["matInput","","readonly","","placeholder","CoverageArea","formControlName","coverageArea"],["id","leaflet-map"],["id","form-buttons"],["color","primary","mat-raised-button","",1,"form-button",3,"click"],["mat-raised-button","",1,"form-button",3,"click"],["matInput","","placeholder","Document","formControlName","document","required",""]],template:function(t,r){if(1&t&&(Wt(0,"mat-card")(1,"mat-toolbar",0)(2,"span",1),$r(3),en()(),Wt(4,"form",2)(5,"mat-form-field",3),Ni(6,"input",4),Yn(7,PJ,2,1,"mat-error",5),en(),Wt(8,"mat-form-field",3),Ni(9,"input",6),Yn(10,TJ,2,1,"mat-error",5),en(),Yn(11,AJ,3,1,"mat-form-field",7),Wt(12,"mat-form-field",8),Ni(13,"input",9),en(),Wt(14,"mat-form-field",8),Ni(15,"input",10),en(),Ni(16,"app-leaflet",11),Wt(17,"div",12)(18,"button",13),Ai("click",function(){return r.onSubmit(r.form)}),$r(19),en(),Wt(20,"button",14),Ai("click",function(){return r.onCancel()}),$r(21,"Cancel"),en()()()()),2&t){let i,o;On(3),Ws(" ",r.title," "),On(1),er("formGroup",r.form),On(3),er("ngIf",null==(i=r.form.get("ownerName"))?null:i.invalid),On(3),er("ngIf",null==(o=r.form.get("tradingName"))?null:o.invalid),On(1),er("ngIf","create_form"===r.formType),On(8),Ws(" ",r.buttonTitle," ")}},dependencies:[Mc,Lw,qg,xb,_A,PW,fw,kf,rw,iw,Gg,Kd,jg,TA,Ep],styles:["form[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;height:80%}mat-card[_ngcontent-%COMP%]{padding:2%}#toolbar-title[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:100%;font-size:150%}.field[_ngcontent-%COMP%]{min-width:100%}form[_ngcontent-%COMP%]   #form-buttons[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%;height:100%;position:center}.form-button[_ngcontent-%COMP%]{width:5%;margin:5px}#map-title[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding-top:3%}#leaflet-map[_ngcontent-%COMP%]{width:100%}.hidden[_ngcontent-%COMP%]{display:none}"]}),e})();const Q_=["*"],RJ=["content"];function OJ(e,n){if(1&e){const t=Hh();Wt(0,"div",2),Ai("click",function(){return Wc(t),Yc(yo()._onBackdropClicked())}),en()}2&e&&Xi("mat-drawer-shown",yo()._isShowingBackdrop())}function NJ(e,n){1&e&&(Wt(0,"mat-drawer-content"),_r(1,2),en())}const FJ=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],BJ=["mat-drawer","mat-drawer-content","*"];function zJ(e,n){if(1&e){const t=Hh();Wt(0,"div",2),Ai("click",function(){return Wc(t),Yc(yo()._onBackdropClicked())}),en()}2&e&&Xi("mat-drawer-shown",yo()._isShowingBackdrop())}function VJ(e,n){1&e&&(Wt(0,"mat-sidenav-content"),_r(1,2),en())}const UJ=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],HJ=["mat-sidenav","mat-sidenav-content","*"],fN={transformDrawer:vw("transform",[Hf("open, open-instant",Iu({transform:"none",visibility:"visible"})),Hf("void",Iu({"box-shadow":"none",visibility:"hidden"})),jf("void => open-instant",Uf("0ms")),jf("void <=> open, open-instant => void",Uf("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},GJ=new St("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function qJ(){return!1}}),ux=new St("MAT_DRAWER_CONTAINER");let J_=(()=>{class e extends Wf{constructor(t,r,i,o,a){super(i,o,a),this._changeDetectorRef=t,this._container=r}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return e.\u0275fac=function(t){return new(t||e)(Be(tu),Be(st(()=>mN)),Be(or),Be(Yg),Be(yn))},e.\u0275cmp=Dn({type:e,selectors:[["mat-drawer-content"]],hostAttrs:["ngSkipHydration","",1,"mat-drawer-content"],hostVars:4,hostBindings:function(t,r){2&t&&wu("margin-left",r._container._contentMargins.left,"px")("margin-right",r._container._contentMargins.right,"px")},features:[jn([{provide:Wf,useExisting:e}]),cn],ngContentSelectors:Q_,decls:1,vars:0,template:function(t,r){1&t&&(Ls(),_r(0))},encapsulation:2,changeDetection:0}),e})(),pN=(()=>{class e{get position(){return this._position}set position(t){(t="end"===t?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(t),this._position=t,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(t){this._mode=t,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(t){this._disableClose=Zs(t)}get autoFocus(){return this._autoFocus??("side"===this.mode?"dialog":"first-tabbable")}set autoFocus(t){("true"===t||"false"===t||null==t)&&(t=Zs(t)),this._autoFocus=t}get opened(){return this._opened}set opened(t){this.toggle(Zs(t))}constructor(t,r,i,o,a,u,h,f){this._elementRef=t,this._focusTrapFactory=r,this._focusMonitor=i,this._platform=o,this._ngZone=a,this._interactivityChecker=u,this._doc=h,this._container=f,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new qe,this._animationEnd=new qe,this._animationState="void",this.openedChange=new pn(!0),this._openedStream=this.openedChange.pipe(ys(_=>_),yt(()=>{})),this.openedStart=this._animationStarted.pipe(ys(_=>_.fromState!==_.toState&&0===_.toState.indexOf("open")),Db(void 0)),this._closedStream=this.openedChange.pipe(ys(_=>!_),yt(()=>{})),this.closedStart=this._animationStarted.pipe(ys(_=>_.fromState!==_.toState&&"void"===_.toState),Db(void 0)),this._destroyed=new qe,this.onPositionChanged=new pn,this._modeChanged=new qe,this.openedChange.subscribe(_=>{_?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{qf(this._elementRef.nativeElement,"keydown").pipe(ys(_=>27===_.keyCode&&!this.disableClose&&!function w8(e,...n){return n.length?n.some(t=>e[t]):e.altKey||e.shiftKey||e.ctrlKey||e.metaKey}(_)),ko(this._destroyed)).subscribe(_=>this._ngZone.run(()=>{this.close(),_.stopPropagation(),_.preventDefault()}))}),this._animationEnd.pipe(il((_,b)=>_.fromState===b.fromState&&_.toState===b.toState)).subscribe(_=>{const{fromState:b,toState:C}=_;(0===C.indexOf("open")&&"void"===b||"void"===C&&0===b.indexOf("open"))&&this.openedChange.emit(this._opened)})}_forceFocus(t,r){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const i=()=>{t.removeEventListener("blur",i),t.removeEventListener("mousedown",i),t.removeAttribute("tabindex")};t.addEventListener("blur",i),t.addEventListener("mousedown",i)})),t.focus(r)}_focusByCssSelector(t,r){let i=this._elementRef.nativeElement.querySelector(t);i&&this._forceFocus(i,r)}_takeFocus(){if(!this._focusTrap)return;const t=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(r=>{!r&&"function"==typeof this._elementRef.nativeElement.focus&&t.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(t){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,t):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const t=this._doc.activeElement;return!!t&&this._elementRef.nativeElement.contains(t)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(t){return this.toggle(!0,t)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(t=!this.opened,r){t&&r&&(this._openedVia=r);const i=this._setOpen(t,!t&&this._isFocusWithinDrawer(),this._openedVia||"program");return t||(this._openedVia=null),i}_setOpen(t,r,i){return this._opened=t,t?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",r&&this._restoreFocus(i)),this._updateFocusTrapState(),new Promise(o=>{this.openedChange.pipe(_a(1)).subscribe(a=>o(a?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_updatePositionInParent(t){const r=this._elementRef.nativeElement,i=r.parentNode;"end"===t?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),i.insertBefore(this._anchor,r)),i.appendChild(r)):this._anchor&&this._anchor.parentNode.insertBefore(r,this._anchor)}}return e.\u0275fac=function(t){return new(t||e)(Be(or),Be(K8),Be(WI),Be(Zo),Be(yn),Be(VI),Be(lr,8),Be(ux,8))},e.\u0275cmp=Dn({type:e,selectors:[["mat-drawer"]],viewQuery:function(t,r){if(1&t&&Bo(RJ,5),2&t){let i;sr(i=ar())&&(r._content=i.first)}},hostAttrs:["tabIndex","-1","ngSkipHydration","",1,"mat-drawer"],hostVars:12,hostBindings:function(t,r){1&t&&Cm("@transform.start",function(o){return r._animationStarted.next(o)})("@transform.done",function(o){return r._animationEnd.next(o)}),2&t&&(gs("align",null),Sm("@transform",r._animationState),Xi("mat-drawer-end","end"===r.position)("mat-drawer-over","over"===r.mode)("mat-drawer-push","push"===r.mode)("mat-drawer-side","side"===r.mode)("mat-drawer-opened",r.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:Q_,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(t,r){1&t&&(Ls(),Wt(0,"div",0,1),_r(2),en())},dependencies:[Wf],encapsulation:2,data:{animation:[fN.transformDrawer]},changeDetection:0}),e})(),mN=(()=>{class e{get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(t){this._autosize=Zs(t)}get hasBackdrop(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride}set hasBackdrop(t){this._backdropOverride=null==t?null:Zs(t)}get scrollable(){return this._userContent||this._content}constructor(t,r,i,o,a,u=!1,h){this._dir=t,this._element=r,this._ngZone=i,this._changeDetectorRef=o,this._animationMode=h,this._drawers=new km,this.backdropClick=new pn,this._destroyed=new qe,this._doCheckSubject=new qe,this._contentMargins={left:null,right:null},this._contentMarginChanges=new qe,t&&t.change.pipe(ko(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),a.change().pipe(ko(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=u}ngAfterContentInit(){this._allDrawers.changes.pipe(ag(this._allDrawers),ko(this._destroyed)).subscribe(t=>{this._drawers.reset(t.filter(r=>!r._container||r._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(ag(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(t=>{this._watchDrawerToggle(t),this._watchDrawerPosition(t),this._watchDrawerMode(t)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(OI(10),ko(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(t=>t.open())}close(){this._drawers.forEach(t=>t.close())}updateContentMargins(){let t=0,r=0;if(this._left&&this._left.opened)if("side"==this._left.mode)t+=this._left._getWidth();else if("push"==this._left.mode){const i=this._left._getWidth();t+=i,r-=i}if(this._right&&this._right.opened)if("side"==this._right.mode)r+=this._right._getWidth();else if("push"==this._right.mode){const i=this._right._getWidth();r+=i,t-=i}t=t||null,r=r||null,(t!==this._contentMargins.left||r!==this._contentMargins.right)&&(this._contentMargins={left:t,right:r},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(t){t._animationStarted.pipe(ys(r=>r.fromState!==r.toState),ko(this._drawers.changes)).subscribe(r=>{"open-instant"!==r.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==t.mode&&t.openedChange.pipe(ko(this._drawers.changes)).subscribe(()=>this._setContainerClass(t.opened))}_watchDrawerPosition(t){t&&t.onPositionChanged.pipe(ko(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe(_a(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(t){t&&t._modeChanged.pipe(ko(zt(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(t){const r=this._element.nativeElement.classList,i="mat-drawer-container-has-open";t?r.add(i):r.remove(i)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(t=>{"end"==t.position?this._end=t:this._start=t}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(t=>t&&!t.disableClose&&this._canHaveBackdrop(t)).forEach(t=>t._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(t){return"side"!==t.mode||!!this._backdropOverride}_isDrawerOpen(t){return null!=t&&t.opened}}return e.\u0275fac=function(t){return new(t||e)(Be(df,8),Be(or),Be(yn),Be(tu),Be(Zg),Be(GJ),Be(_u,8))},e.\u0275cmp=Dn({type:e,selectors:[["mat-drawer-container"]],contentQueries:function(t,r,i){if(1&t&&(zo(i,J_,5),zo(i,pN,5)),2&t){let o;sr(o=ar())&&(r._content=o.first),sr(o=ar())&&(r._allDrawers=o)}},viewQuery:function(t,r){if(1&t&&Bo(J_,5),2&t){let i;sr(i=ar())&&(r._userContent=i.first)}},hostAttrs:["ngSkipHydration","",1,"mat-drawer-container"],hostVars:2,hostBindings:function(t,r){2&t&&Xi("mat-drawer-container-explicit-backdrop",r._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[jn([{provide:ux,useExisting:e}])],ngContentSelectors:BJ,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(t,r){1&t&&(Ls(FJ),Yn(0,OJ,1,2,"div",0),_r(1),_r(2,1),Yn(3,NJ,2,0,"mat-drawer-content",1)),2&t&&(er("ngIf",r.hasBackdrop),On(3),er("ngIf",!r._content))},dependencies:[Mc,J_],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0}),e})(),gN=(()=>{class e extends J_{constructor(t,r,i,o,a){super(t,r,i,o,a)}}return e.\u0275fac=function(t){return new(t||e)(Be(tu),Be(st(()=>yN)),Be(or),Be(Yg),Be(yn))},e.\u0275cmp=Dn({type:e,selectors:[["mat-sidenav-content"]],hostAttrs:["ngSkipHydration","",1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(t,r){2&t&&wu("margin-left",r._container._contentMargins.left,"px")("margin-right",r._container._contentMargins.right,"px")},features:[jn([{provide:Wf,useExisting:e}]),cn],ngContentSelectors:Q_,decls:1,vars:0,template:function(t,r){1&t&&(Ls(),_r(0))},encapsulation:2,changeDetection:0}),e})(),_N=(()=>{class e extends pN{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(t){this._fixedInViewport=Zs(t)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(t){this._fixedTopGap=TI(t)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(t){this._fixedBottomGap=TI(t)}}return e.\u0275fac=function(){let n;return function(r){return(n||(n=ni(e)))(r||e)}}(),e.\u0275cmp=Dn({type:e,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1","ngSkipHydration","",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(t,r){2&t&&(gs("align",null),wu("top",r.fixedInViewport?r.fixedTopGap:null,"px")("bottom",r.fixedInViewport?r.fixedBottomGap:null,"px"),Xi("mat-drawer-end","end"===r.position)("mat-drawer-over","over"===r.mode)("mat-drawer-push","push"===r.mode)("mat-drawer-side","side"===r.mode)("mat-drawer-opened",r.opened)("mat-sidenav-fixed",r.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[cn],ngContentSelectors:Q_,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(t,r){1&t&&(Ls(),Wt(0,"div",0,1),_r(2),en())},dependencies:[Wf],encapsulation:2,data:{animation:[fN.transformDrawer]},changeDetection:0}),e})(),yN=(()=>{class e extends mN{constructor(){super(...arguments),this._allDrawers=void 0,this._content=void 0}}return e.\u0275fac=function(){let n;return function(r){return(n||(n=ni(e)))(r||e)}}(),e.\u0275cmp=Dn({type:e,selectors:[["mat-sidenav-container"]],contentQueries:function(t,r,i){if(1&t&&(zo(i,gN,5),zo(i,_N,5)),2&t){let o;sr(o=ar())&&(r._content=o.first),sr(o=ar())&&(r._allDrawers=o)}},hostAttrs:["ngSkipHydration","",1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(t,r){2&t&&Xi("mat-drawer-container-explicit-backdrop",r._backdropOverride)},exportAs:["matSidenavContainer"],features:[jn([{provide:ux,useExisting:e}]),cn],ngContentSelectors:HJ,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(t,r){1&t&&(Ls(UJ),Yn(0,zJ,1,2,"div",0),_r(1),_r(2,1),Yn(3,VJ,2,0,"mat-sidenav-content",1)),2&t&&(er("ngIf",r.hasBackdrop),On(3),er("ngIf",!r._content))},dependencies:[Mc,gN],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0}),e})(),$J=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=wn({type:e}),e.\u0275inj=zn({imports:[nf,us,Xg,Xg,us]}),e})();const YJ=function(){return["id","ownerName","tradingName"]},ZJ=[{path:"",pathMatch:"full",redirectTo:"home"},{path:"home",component:(()=>{class e{constructor(t,r){this.router=t,this.route=r,this.ImagePath="assets/image.png"}navigateToSee(){this.router.navigate(["/partners"],{relativeTo:this.route})}navigateToRegister(){this.router.navigate(["/partners/new"],{relativeTo:this.route})}navigateToSeeBest(){this.router.navigate(["/partners/best"],{relativeTo:this.route})}navigateToAnotherProjects(){window.open("https://github.com/pedroaugusto04","_blank")}}return e.\u0275fac=function(t){return new(t||e)(Be(Ts),Be(Za))},e.\u0275cmp=Dn({type:e,selectors:[["app-home-partners"]],decls:25,vars:1,consts:[[1,"main"],["id","mat-container"],["mode","side","opened",""],["mat-raised-button","","color","accent",1,"button-side",3,"click"],["id","div-img",1,"div-img"],[3,"src"]],template:function(t,r){1&t&&(Wt(0,"section",0)(1,"mat-sidenav-container",1)(2,"mat-sidenav",2)(3,"button",3),Ai("click",function(){return r.navigateToSee()}),Wt(4,"span"),$r(5,"SEE PARTNERS "),en(),Wt(6,"mat-icon"),$r(7," people "),en()(),Wt(8,"button",3),Ai("click",function(){return r.navigateToRegister()}),Wt(9,"span"),$r(10,"REGISTER PARTNER "),en(),Wt(11,"mat-icon"),$r(12," person_add "),en()(),Wt(13,"button",3),Ai("click",function(){return r.navigateToSeeBest()}),Wt(14,"span"),$r(15,"SEARCH BEST PARTNERS "),en(),Wt(16,"mat-icon"),$r(17," search "),en()(),Wt(18,"button",3),Ai("click",function(){return r.navigateToAnotherProjects()}),Wt(19,"span"),$r(20,"SEE ANOTHER PROJECTS "),en(),Wt(21,"mat-icon"),$r(22," language "),en()()()(),Wt(23,"div",4),Ni(24,"img",5),en()()),2&t&&(On(24),er("src",r.ImagePath,rv))},dependencies:[_N,yN,qg,iA],styles:["@media (max-width: 650px){#div-img[_ngcontent-%COMP%]{display:none}#mat-container[_ngcontent-%COMP%]{width:100vh}}.main[_ngcontent-%COMP%]{display:flex;width:100%;height:90%}mat-sidenav-container[_ngcontent-%COMP%]{display:flex;height:100%;width:35%}mat-sidenav[_ngcontent-%COMP%]{background-color:#e0e0e0;width:100%;height:100%}.button-side[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse;justify-content:left;margin-top:5%;height:10%;width:100%}mat-icon[_ngcontent-%COMP%]{padding:5%}.div-img[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%}.div-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:cover;max-width:100%;max-height:100%}"]}),e})()},{path:"partners",component:Ww,data:{title:"Partners",displayedColumns:["id","ownerName","tradingName","document","actions"],tableType:"default"}},{path:"partners/new",component:hN,data:{title:"Create Partner",formType:"create_form",buttonTitle:"Save"}},{path:"partners/update/:id",component:hN,data:{title:"Update Partner",formType:"update_form",buttonTitle:"Update"}},{path:"partners/best",component:(()=>{class e{constructor(t){this.formBuilder=t,this.form=this.formBuilder.group({address:[null],coverageArea:[null]})}onSearchBestPartners(){this.leafletComponent.processMapData(this.form);const t=this.tablePartnersComponent.getBestPartners(this.form.value);this.leafletComponent.showBestPartners(t)}}return e.\u0275fac=function(t){return new(t||e)(Be(zf))},e.\u0275cmp=Dn({type:e,selectors:[["app-best-partners"]],viewQuery:function(t,r){if(1&t&&(Bo(Ww,5),Bo(Ep,5)),2&t){let i;sr(i=ar())&&(r.tablePartnersComponent=i.first),sr(i=ar())&&(r.leafletComponent=i.first)}},decls:5,vars:5,consts:[[3,"title"],["id","form-buttons"],["color","primary","mat-raised-button","",1,"form-button",3,"click"],[3,"title","displayedColumns","tableType"]],template:function(t,r){1&t&&(Ni(0,"app-leaflet",0),Wt(1,"div",1)(2,"button",2),Ai("click",function(){return r.onSearchBestPartners()}),$r(3," Search Best Partners"),en()(),Ni(4,"app-table-partners",3)),2&t&&(er("title","Insert your Address and Area:"),On(4),er("title","Best Partners")("displayedColumns",pS(4,YJ))("tableType","best_partners_table"))},dependencies:[qg,Ww,Ep],styles:["#form-buttons[_ngcontent-%COMP%]{height:5%;display:flex;align-items:center;justify-content:center}#form-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:100%;width:10%}"]}),e})()}];let XJ=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=wn({type:e}),e.\u0275inj=zn({imports:[Zb.forRoot(ZJ),Zb]}),e})(),KJ=(()=>{class e{constructor(t,r){this.router=t,this.route=r,this.title="view"}navigateToHome(){this.router.navigate([""],{relativeTo:this.route})}}return e.\u0275fac=function(t){return new(t||e)(Be(Ts),Be(Za))},e.\u0275cmp=Dn({type:e,selectors:[["app-root"]],decls:5,vars:0,consts:[["id","main-toolbar","color","primary"],[1,"home-container",3,"click"],[1,"toolbar-title"]],template:function(t,r){1&t&&(Wt(0,"mat-toolbar",0)(1,"div",1),Ai("click",function(){return r.navigateToHome()}),Wt(2,"span",2),$r(3," GeoPartners"),en()()(),Ni(4,"router-outlet"))},dependencies:[zb,Lw],styles:["#main-toolbar[_ngcontent-%COMP%]{height:10%;font-size:300%}.home-container[_ngcontent-%COMP%]{cursor:pointer}"]}),e})();function vN(e){return new nt(3e3,!1)}function ic(e){switch(e.length){case 0:return new Gf;case 1:return e[0];default:return new Ak(e)}}function bN(e,n,t=new Map,r=new Map){const i=[],o=[];let a=-1,u=null;if(n.forEach(h=>{const f=h.get("offset"),_=f==a,b=_&&u||new Map;h.forEach((C,D)=>{let q=D,j=C;if("offset"!==D)switch(q=e.normalizePropertyName(q,i),j){case"!":j=t.get(D);break;case Lu:j=r.get(D);break;default:j=e.normalizeStyleValue(D,q,j,i)}b.set(q,j)}),_||o.push(b),u=b,a=f}),i.length)throw function bee(e){return new nt(3502,!1)}();return o}function cx(e,n,t,r){switch(n){case"start":e.onStart(()=>r(t&&dx(t,"start",e)));break;case"done":e.onDone(()=>r(t&&dx(t,"done",e)));break;case"destroy":e.onDestroy(()=>r(t&&dx(t,"destroy",e)))}}function dx(e,n,t){const o=hx(e.element,e.triggerName,e.fromState,e.toState,n||e.phaseName,t.totalTime??e.totalTime,!!t.disabled),a=e._data;return null!=a&&(o._data=a),o}function hx(e,n,t,r,i="",o=0,a){return{element:e,triggerName:n,fromState:t,toState:r,phaseName:i,totalTime:o,disabled:!!a}}function Ja(e,n,t){let r=e.get(n);return r||e.set(n,r=t),r}function wN(e){const n=e.indexOf(":");return[e.substring(1,n),e.slice(n+1)]}const kee=(()=>typeof document>"u"?null:document.documentElement)();function fx(e){const n=e.parentNode||e.host||null;return n===kee?null:n}let Vc=null,xN=!1;function EN(e,n){for(;n;){if(n===e)return!0;n=fx(n)}return!1}function CN(e,n,t){if(t)return Array.from(e.querySelectorAll(n));const r=e.querySelector(n);return r?[r]:[]}let MN=(()=>{class e{validateStyleProperty(t){return function Ree(e){Vc||(Vc=function Oee(){return typeof document<"u"?document.body:null}()||{},xN=!!Vc.style&&"WebkitAppearance"in Vc.style);let n=!0;return Vc.style&&!function Aee(e){return"ebkit"==e.substring(1,6)}(e)&&(n=e in Vc.style,!n&&xN&&(n="Webkit"+e.charAt(0).toUpperCase()+e.slice(1)in Vc.style)),n}(t)}matchesElement(t,r){return!1}containsElement(t,r){return EN(t,r)}getParentElement(t){return fx(t)}query(t,r,i){return CN(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,o,a,u=[],h){return new Gf(i,o)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=gt({token:e,factory:e.\u0275fac}),e})(),px=(()=>{class e{}return e.NOOP=new MN,e})();const Nee=1e3,mx="ng-enter",ey="ng-leave",ty="ng-trigger",ny=".ng-trigger",SN="ng-animating",gx=".ng-animating";function Nu(e){if("number"==typeof e)return e;const n=e.match(/^(-?[\.\d]+)(m?s)/);return!n||n.length<2?0:_x(parseFloat(n[1]),n[2])}function _x(e,n){return"s"===n?e*Nee:e}function ry(e,n,t){return e.hasOwnProperty("duration")?e:function Bee(e,n,t){let i,o=0,a="";if("string"==typeof e){const u=e.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===u)return n.push(vN()),{duration:0,delay:0,easing:""};i=_x(parseFloat(u[1]),u[2]);const h=u[3];null!=h&&(o=_x(parseFloat(h),u[4]));const f=u[5];f&&(a=f)}else i=e;if(!t){let u=!1,h=n.length;i<0&&(n.push(function QJ(){return new nt(3100,!1)}()),u=!0),o<0&&(n.push(function JJ(){return new nt(3101,!1)}()),u=!0),u&&n.splice(h,0,vN())}return{duration:i,delay:o,easing:a}}(e,n,t)}function Cp(e,n={}){return Object.keys(e).forEach(t=>{n[t]=e[t]}),n}function LN(e){const n=new Map;return Object.keys(e).forEach(t=>{n.set(t,e[t])}),n}function oc(e,n=new Map,t){if(t)for(let[r,i]of t)n.set(r,i);for(let[r,i]of e)n.set(r,i);return n}function cu(e,n,t){n.forEach((r,i)=>{const o=vx(i);t&&!t.has(i)&&t.set(i,e.style[o]),e.style[o]=r})}function Uc(e,n){n.forEach((t,r)=>{const i=vx(r);e.style[i]=""})}function Mp(e){return Array.isArray(e)?1==e.length?e[0]:kk(e):e}const yx=new RegExp("{{\\s*(.+?)\\s*}}","g");function PN(e){let n=[];if("string"==typeof e){let t;for(;t=yx.exec(e);)n.push(t[1]);yx.lastIndex=0}return n}function Dp(e,n,t){const r=e.toString(),i=r.replace(yx,(o,a)=>{let u=n[a];return null==u&&(t.push(function tee(e){return new nt(3003,!1)}()),u=""),u.toString()});return i==r?e:i}function iy(e){const n=[];let t=e.next();for(;!t.done;)n.push(t.value),t=e.next();return n}const Uee=/-+([a-z0-9])/g;function vx(e){return e.replace(Uee,(...n)=>n[1].toUpperCase())}function el(e,n,t){switch(n.type){case 7:return e.visitTrigger(n,t);case 0:return e.visitState(n,t);case 1:return e.visitTransition(n,t);case 2:return e.visitSequence(n,t);case 3:return e.visitGroup(n,t);case 4:return e.visitAnimate(n,t);case 5:return e.visitKeyframes(n,t);case 6:return e.visitStyle(n,t);case 8:return e.visitReference(n,t);case 9:return e.visitAnimateChild(n,t);case 10:return e.visitAnimateRef(n,t);case 11:return e.visitQuery(n,t);case 12:return e.visitStagger(n,t);default:throw function nee(e){return new nt(3004,!1)}()}}function TN(e,n){return window.getComputedStyle(e)[n]}const oy="*";function Gee(e,n){const t=[];return"string"==typeof e?e.split(/\s*,\s*/).forEach(r=>function qee(e,n,t){if(":"==e[0]){const h=function $ee(e,n){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return n.push(function gee(e){return new nt(3016,!1)}()),"* => *"}}(e,t);if("function"==typeof h)return void n.push(h);e=h}const r=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function mee(e){return new nt(3015,!1)}()),n;const i=r[1],o=r[2],a=r[3];n.push(kN(i,a));"<"==o[0]&&!(i==oy&&a==oy)&&n.push(kN(a,i))}(r,t,n)):t.push(e),t}const sy=new Set(["true","1"]),ay=new Set(["false","0"]);function kN(e,n){const t=sy.has(e)||ay.has(e),r=sy.has(n)||ay.has(n);return(i,o)=>{let a=e==oy||e==i,u=n==oy||n==o;return!a&&t&&"boolean"==typeof i&&(a=i?sy.has(e):ay.has(e)),!u&&r&&"boolean"==typeof o&&(u=o?sy.has(n):ay.has(n)),a&&u}}const Wee=new RegExp("s*:selfs*,?","g");function bx(e,n,t,r){return new Yee(e).build(n,t,r)}class Yee{constructor(n){this._driver=n}build(n,t,r){const i=new Kee(t);return this._resetContextStyleTimingState(i),el(this,Mp(n),i)}_resetContextStyleTimingState(n){n.currentQuerySelector="",n.collectedStyles=new Map,n.collectedStyles.set("",new Map),n.currentTime=0}visitTrigger(n,t){let r=t.queryCount=0,i=t.depCount=0;const o=[],a=[];return"@"==n.name.charAt(0)&&t.errors.push(function iee(){return new nt(3006,!1)}()),n.definitions.forEach(u=>{if(this._resetContextStyleTimingState(t),0==u.type){const h=u,f=h.name;f.toString().split(/\s*,\s*/).forEach(_=>{h.name=_,o.push(this.visitState(h,t))}),h.name=f}else if(1==u.type){const h=this.visitTransition(u,t);r+=h.queryCount,i+=h.depCount,a.push(h)}else t.errors.push(function oee(){return new nt(3007,!1)}())}),{type:7,name:n.name,states:o,transitions:a,queryCount:r,depCount:i,options:null}}visitState(n,t){const r=this.visitStyle(n.styles,t),i=n.options&&n.options.params||null;if(r.containsDynamicStyles){const o=new Set,a=i||{};r.styles.forEach(u=>{u instanceof Map&&u.forEach(h=>{PN(h).forEach(f=>{a.hasOwnProperty(f)||o.add(f)})})}),o.size&&(iy(o.values()),t.errors.push(function see(e,n){return new nt(3008,!1)}()))}return{type:0,name:n.name,style:r,options:i?{params:i}:null}}visitTransition(n,t){t.queryCount=0,t.depCount=0;const r=el(this,Mp(n.animation),t);return{type:1,matchers:Gee(n.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Hc(n.options)}}visitSequence(n,t){return{type:2,steps:n.steps.map(r=>el(this,r,t)),options:Hc(n.options)}}visitGroup(n,t){const r=t.currentTime;let i=0;const o=n.steps.map(a=>{t.currentTime=r;const u=el(this,a,t);return i=Math.max(i,t.currentTime),u});return t.currentTime=i,{type:3,steps:o,options:Hc(n.options)}}visitAnimate(n,t){const r=function Jee(e,n){if(e.hasOwnProperty("duration"))return e;if("number"==typeof e)return wx(ry(e,n).duration,0,"");const t=e;if(t.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=wx(0,0,"");return o.dynamic=!0,o.strValue=t,o}const i=ry(t,n);return wx(i.duration,i.delay,i.easing)}(n.timings,t.errors);t.currentAnimateTimings=r;let i,o=n.styles?n.styles:Iu({});if(5==o.type)i=this.visitKeyframes(o,t);else{let a=n.styles,u=!1;if(!a){u=!0;const f={};r.easing&&(f.easing=r.easing),a=Iu(f)}t.currentTime+=r.duration+r.delay;const h=this.visitStyle(a,t);h.isEmptyStep=u,i=h}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(n,t){const r=this._makeStyleAst(n,t);return this._validateStyleAst(r,t),r}_makeStyleAst(n,t){const r=[],i=Array.isArray(n.styles)?n.styles:[n.styles];for(let u of i)"string"==typeof u?u===Lu?r.push(u):t.errors.push(new nt(3002,!1)):r.push(LN(u));let o=!1,a=null;return r.forEach(u=>{if(u instanceof Map&&(u.has("easing")&&(a=u.get("easing"),u.delete("easing")),!o))for(let h of u.values())if(h.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:r,easing:a,offset:n.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(n,t){const r=t.currentAnimateTimings;let i=t.currentTime,o=t.currentTime;r&&o>0&&(o-=r.duration+r.delay),n.styles.forEach(a=>{"string"!=typeof a&&a.forEach((u,h)=>{const f=t.collectedStyles.get(t.currentQuerySelector),_=f.get(h);let b=!0;_&&(o!=i&&o>=_.startTime&&i<=_.endTime&&(t.errors.push(function lee(e,n,t,r,i){return new nt(3010,!1)}()),b=!1),o=_.startTime),b&&f.set(h,{startTime:o,endTime:i}),t.options&&function Vee(e,n,t){const r=n.params||{},i=PN(e);i.length&&i.forEach(o=>{r.hasOwnProperty(o)||t.push(function eee(e){return new nt(3001,!1)}())})}(u,t.options,t.errors)})})}visitKeyframes(n,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function uee(){return new nt(3011,!1)}()),r;let o=0;const a=[];let u=!1,h=!1,f=0;const _=n.steps.map(se=>{const K=this._makeStyleAst(se,t);let ce=null!=K.offset?K.offset:function Qee(e){if("string"==typeof e)return null;let n=null;if(Array.isArray(e))e.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;n=parseFloat(r.get("offset")),r.delete("offset")}});else if(e instanceof Map&&e.has("offset")){const t=e;n=parseFloat(t.get("offset")),t.delete("offset")}return n}(K.styles),Le=0;return null!=ce&&(o++,Le=K.offset=ce),h=h||Le<0||Le>1,u=u||Le<f,f=Le,a.push(Le),K});h&&t.errors.push(function cee(){return new nt(3012,!1)}()),u&&t.errors.push(function dee(){return new nt(3200,!1)}());const b=n.steps.length;let C=0;o>0&&o<b?t.errors.push(function hee(){return new nt(3202,!1)}()):0==o&&(C=1/(b-1));const D=b-1,q=t.currentTime,j=t.currentAnimateTimings,ae=j.duration;return _.forEach((se,K)=>{const ce=C>0?K==D?1:C*K:a[K],Le=ce*ae;t.currentTime=q+j.delay+Le,j.duration=Le,this._validateStyleAst(se,t),se.offset=ce,r.styles.push(se)}),r}visitReference(n,t){return{type:8,animation:el(this,Mp(n.animation),t),options:Hc(n.options)}}visitAnimateChild(n,t){return t.depCount++,{type:9,options:Hc(n.options)}}visitAnimateRef(n,t){return{type:10,animation:this.visitReference(n.animation,t),options:Hc(n.options)}}visitQuery(n,t){const r=t.currentQuerySelector,i=n.options||{};t.queryCount++,t.currentQuery=n;const[o,a]=function Zee(e){const n=!!e.split(/\s*,\s*/).find(t=>":self"==t);return n&&(e=e.replace(Wee,"")),e=e.replace(/@\*/g,ny).replace(/@\w+/g,t=>ny+"-"+t.slice(1)).replace(/:animating/g,gx),[e,n]}(n.selector);t.currentQuerySelector=r.length?r+" "+o:o,Ja(t.collectedStyles,t.currentQuerySelector,new Map);const u=el(this,Mp(n.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:a,animation:u,originalSelector:n.selector,options:Hc(n.options)}}visitStagger(n,t){t.currentQuery||t.errors.push(function fee(){return new nt(3013,!1)}());const r="full"===n.timings?{duration:0,delay:0,easing:"full"}:ry(n.timings,t.errors,!0);return{type:12,animation:el(this,Mp(n.animation),t),timings:r,options:null}}}class Kee{constructor(n){this.errors=n,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Hc(e){return e?(e=Cp(e)).params&&(e.params=function Xee(e){return e?Cp(e):null}(e.params)):e={},e}function wx(e,n,t){return{duration:e,delay:n,easing:t}}function xx(e,n,t,r,i,o,a=null,u=!1){return{type:1,element:e,keyframes:n,preStyleProps:t,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:a,subTimeline:u}}class ly{constructor(){this._map=new Map}get(n){return this._map.get(n)||[]}append(n,t){let r=this._map.get(n);r||this._map.set(n,r=[]),r.push(...t)}has(n){return this._map.has(n)}clear(){this._map.clear()}}const nte=new RegExp(":enter","g"),ite=new RegExp(":leave","g");function Ex(e,n,t,r,i,o=new Map,a=new Map,u,h,f=[]){return(new ote).buildKeyframes(e,n,t,r,i,o,a,u,h,f)}class ote{buildKeyframes(n,t,r,i,o,a,u,h,f,_=[]){f=f||new ly;const b=new Cx(n,t,f,i,o,_,[]);b.options=h;const C=h.delay?Nu(h.delay):0;b.currentTimeline.delayNextStep(C),b.currentTimeline.setStyles([a],null,b.errors,h),el(this,r,b);const D=b.timelines.filter(q=>q.containsAnimation());if(D.length&&u.size){let q;for(let j=D.length-1;j>=0;j--){const ae=D[j];if(ae.element===t){q=ae;break}}q&&!q.allowOnlyTimelineStyles()&&q.setStyles([u],null,b.errors,h)}return D.length?D.map(q=>q.buildKeyframes()):[xx(t,[],[],[],0,C,"",!1)]}visitTrigger(n,t){}visitState(n,t){}visitTransition(n,t){}visitAnimateChild(n,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(n.options),o=t.currentTimeline.currentTime,a=this._visitSubInstructions(r,i,i.options);o!=a&&t.transformIntoNewTimeline(a)}t.previousNode=n}visitAnimateRef(n,t){const r=t.createSubContext(n.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([n.options,n.animation.options],t,r),this.visitReference(n.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=n}_applyAnimationRefDelays(n,t,r){for(const i of n){const o=i?.delay;if(o){const a="number"==typeof o?o:Nu(Dp(o,i?.params??{},t.errors));r.delayNextStep(a)}}}_visitSubInstructions(n,t,r){let o=t.currentTimeline.currentTime;const a=null!=r.duration?Nu(r.duration):null,u=null!=r.delay?Nu(r.delay):null;return 0!==a&&n.forEach(h=>{const f=t.appendInstructionToTimeline(h,a,u);o=Math.max(o,f.duration+f.delay)}),o}visitReference(n,t){t.updateOptions(n.options,!0),el(this,n.animation,t),t.previousNode=n}visitSequence(n,t){const r=t.subContextCount;let i=t;const o=n.options;if(o&&(o.params||o.delay)&&(i=t.createSubContext(o),i.transformIntoNewTimeline(),null!=o.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=uy);const a=Nu(o.delay);i.delayNextStep(a)}n.steps.length&&(n.steps.forEach(a=>el(this,a,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=n}visitGroup(n,t){const r=[];let i=t.currentTimeline.currentTime;const o=n.options&&n.options.delay?Nu(n.options.delay):0;n.steps.forEach(a=>{const u=t.createSubContext(n.options);o&&u.delayNextStep(o),el(this,a,u),i=Math.max(i,u.currentTimeline.currentTime),r.push(u.currentTimeline)}),r.forEach(a=>t.currentTimeline.mergeTimelineCollectedStyles(a)),t.transformIntoNewTimeline(i),t.previousNode=n}_visitTiming(n,t){if(n.dynamic){const r=n.strValue;return ry(t.params?Dp(r,t.params,t.errors):r,t.errors)}return{duration:n.duration,delay:n.delay,easing:n.easing}}visitAnimate(n,t){const r=t.currentAnimateTimings=this._visitTiming(n.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const o=n.style;5==o.type?this.visitKeyframes(o,t):(t.incrementTime(r.duration),this.visitStyle(o,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=n}visitStyle(n,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const o=i&&i.easing||n.easing;n.isEmptyStep?r.applyEmptyStep(o):r.setStyles(n.styles,o,t.errors,t.options),t.previousNode=n}visitKeyframes(n,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,o=r.duration,u=t.createSubContext().currentTimeline;u.easing=r.easing,n.styles.forEach(h=>{u.forwardTime((h.offset||0)*o),u.setStyles(h.styles,h.easing,t.errors,t.options),u.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(u),t.transformIntoNewTimeline(i+o),t.previousNode=n}visitQuery(n,t){const r=t.currentTimeline.currentTime,i=n.options||{},o=i.delay?Nu(i.delay):0;o&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=uy);let a=r;const u=t.invokeQuery(n.selector,n.originalSelector,n.limit,n.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=u.length;let h=null;u.forEach((f,_)=>{t.currentQueryIndex=_;const b=t.createSubContext(n.options,f);o&&b.delayNextStep(o),f===t.element&&(h=b.currentTimeline),el(this,n.animation,b),b.currentTimeline.applyStylesToKeyframe(),a=Math.max(a,b.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(a),h&&(t.currentTimeline.mergeTimelineCollectedStyles(h),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=n}visitStagger(n,t){const r=t.parentContext,i=t.currentTimeline,o=n.timings,a=Math.abs(o.duration),u=a*(t.currentQueryTotal-1);let h=a*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":h=u-h;break;case"full":h=r.currentStaggerTime}const _=t.currentTimeline;h&&_.delayNextStep(h);const b=_.currentTime;el(this,n.animation,t),t.previousNode=n,r.currentStaggerTime=i.currentTime-b+(i.startTime-r.currentTimeline.startTime)}}const uy={};class Cx{constructor(n,t,r,i,o,a,u,h){this._driver=n,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=a,this.timelines=u,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=uy,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=h||new cy(this._driver,t,0),u.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(n,t){if(!n)return;const r=n;let i=this.options;null!=r.duration&&(i.duration=Nu(r.duration)),null!=r.delay&&(i.delay=Nu(r.delay));const o=r.params;if(o){let a=i.params;a||(a=this.options.params={}),Object.keys(o).forEach(u=>{(!t||!a.hasOwnProperty(u))&&(a[u]=Dp(o[u],a,this.errors))})}}_copyOptions(){const n={};if(this.options){const t=this.options.params;if(t){const r=n.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return n}createSubContext(n=null,t,r){const i=t||this.element,o=new Cx(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(n),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(n){return this.previousNode=uy,this.currentTimeline=this.currentTimeline.fork(this.element,n),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(n,t,r){const i={duration:t??n.duration,delay:this.currentTimeline.currentTime+(r??0)+n.delay,easing:""},o=new ste(this._driver,n.element,n.keyframes,n.preStyleProps,n.postStyleProps,i,n.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(n){this.currentTimeline.forwardTime(this.currentTimeline.duration+n)}delayNextStep(n){n>0&&this.currentTimeline.delayNextStep(n)}invokeQuery(n,t,r,i,o,a){let u=[];if(i&&u.push(this.element),n.length>0){n=(n=n.replace(nte,"."+this._enterClassName)).replace(ite,"."+this._leaveClassName);let f=this._driver.query(this.element,n,1!=r);0!==r&&(f=r<0?f.slice(f.length+r,f.length):f.slice(0,r)),u.push(...f)}return!o&&0==u.length&&a.push(function pee(e){return new nt(3014,!1)}()),u}}class cy{constructor(n,t,r,i){this._driver=n,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(n){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+n),t&&this.snapshotCurrentStyles()):this.startTime+=n}fork(n,t){return this.applyStylesToKeyframe(),new cy(this._driver,n,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(n){this.applyStylesToKeyframe(),this.duration=n,this._loadKeyframe()}_updateStyle(n,t){this._localTimelineStyles.set(n,t),this._globalTimelineStyles.set(n,t),this._styleSummary.set(n,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(n){n&&this._previousKeyframe.set("easing",n);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||Lu),this._currentKeyframe.set(t,Lu);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(n,t,r,i){t&&this._previousKeyframe.set("easing",t);const o=i&&i.params||{},a=function ate(e,n){const t=new Map;let r;return e.forEach(i=>{if("*"===i){r=r||n.keys();for(let o of r)t.set(o,Lu)}else oc(i,t)}),t}(n,this._globalTimelineStyles);for(let[u,h]of a){const f=Dp(h,o,r);this._pendingStyles.set(u,f),this._localTimelineStyles.has(u)||this._backFill.set(u,this._globalTimelineStyles.get(u)??Lu),this._updateStyle(u,f)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((n,t)=>{this._currentKeyframe.set(t,n)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((n,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,n)}))}snapshotCurrentStyles(){for(let[n,t]of this._localTimelineStyles)this._pendingStyles.set(n,t),this._updateStyle(n,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const n=[];for(let t in this._currentKeyframe)n.push(t);return n}mergeTimelineCollectedStyles(n){n._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const n=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((u,h)=>{const f=oc(u,new Map,this._backFill);f.forEach((_,b)=>{"!"===_?n.add(b):_===Lu&&t.add(b)}),r||f.set("offset",h/this.duration),i.push(f)});const o=n.size?iy(n.values()):[],a=t.size?iy(t.values()):[];if(r){const u=i[0],h=new Map(u);u.set("offset",0),h.set("offset",1),i=[u,h]}return xx(this.element,i,o,a,this.duration,this.startTime,this.easing,!1)}}class ste extends cy{constructor(n,t,r,i,o,a,u=!1){super(n,t,a.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=u,this.timings={duration:a.duration,delay:a.delay,easing:a.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let n=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const o=[],a=r+t,u=t/a,h=oc(n[0]);h.set("offset",0),o.push(h);const f=oc(n[0]);f.set("offset",ON(u)),o.push(f);const _=n.length-1;for(let b=1;b<=_;b++){let C=oc(n[b]);const D=C.get("offset");C.set("offset",ON((t+D*r)/a)),o.push(C)}r=a,t=0,i="",n=o}return xx(this.element,n,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function ON(e,n=3){const t=Math.pow(10,n-1);return Math.round(e*t)/t}class Mx{}const lte=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class ute extends Mx{normalizePropertyName(n,t){return vx(n)}normalizeStyleValue(n,t,r,i){let o="";const a=r.toString().trim();if(lte.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)o="px";else{const u=r.match(/^[+-]?[\d\.]+([a-z]*)$/);u&&0==u[1].length&&i.push(function ree(e,n){return new nt(3005,!1)}())}return a+o}}function NN(e,n,t,r,i,o,a,u,h,f,_,b,C){return{type:0,element:e,triggerName:n,isRemovalTransition:i,fromState:t,fromStyles:o,toState:r,toStyles:a,timelines:u,queriedElements:h,preStyleProps:f,postStyleProps:_,totalTime:b,errors:C}}const Dx={};class FN{constructor(n,t,r){this._triggerName=n,this.ast=t,this._stateStyles=r}match(n,t,r,i){return function cte(e,n,t,r,i){return e.some(o=>o(n,t,r,i))}(this.ast.matchers,n,t,r,i)}buildStyles(n,t,r){let i=this._stateStyles.get("*");return void 0!==n&&(i=this._stateStyles.get(n?.toString())||i),i?i.buildStyles(t,r):new Map}build(n,t,r,i,o,a,u,h,f,_){const b=[],C=this.ast.options&&this.ast.options.params||Dx,q=this.buildStyles(r,u&&u.params||Dx,b),j=h&&h.params||Dx,ae=this.buildStyles(i,j,b),se=new Set,K=new Map,ce=new Map,Le="void"===i,Ae={params:dte(j,C),delay:this.ast.options?.delay},Ze=_?[]:Ex(n,t,this.ast.animation,o,a,q,ae,Ae,f,b);let Ke=0;if(Ze.forEach(ke=>{Ke=Math.max(ke.duration+ke.delay,Ke)}),b.length)return NN(t,this._triggerName,r,i,Le,q,ae,[],[],K,ce,Ke,b);Ze.forEach(ke=>{const un=ke.element,Yt=Ja(K,un,new Set);ke.preStyleProps.forEach(Tn=>Yt.add(Tn));const Sn=Ja(ce,un,new Set);ke.postStyleProps.forEach(Tn=>Sn.add(Tn)),un!==t&&se.add(un)});const it=iy(se.values());return NN(t,this._triggerName,r,i,Le,q,ae,Ze,it,K,ce,Ke)}}function dte(e,n){const t=Cp(n);for(const r in e)e.hasOwnProperty(r)&&null!=e[r]&&(t[r]=e[r]);return t}class hte{constructor(n,t,r){this.styles=n,this.defaultParams=t,this.normalizer=r}buildStyles(n,t){const r=new Map,i=Cp(this.defaultParams);return Object.keys(n).forEach(o=>{const a=n[o];null!==a&&(i[o]=a)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((a,u)=>{a&&(a=Dp(a,i,t));const h=this.normalizer.normalizePropertyName(u,t);a=this.normalizer.normalizeStyleValue(u,h,a,t),r.set(u,a)})}),r}}class pte{constructor(n,t,r){this.name=n,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new hte(i.style,i.options&&i.options.params||{},r))}),BN(this.states,"true","1"),BN(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new FN(n,i,this.states))}),this.fallbackTransition=function mte(e,n,t){return new FN(e,{type:1,animation:{type:2,steps:[],options:null},matchers:[(a,u)=>!0],options:null,queryCount:0,depCount:0},n)}(n,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(n,t,r,i){return this.transitionFactories.find(a=>a.match(n,t,r,i))||null}matchStyles(n,t,r){return this.fallbackTransition.buildStyles(n,t,r)}}function BN(e,n,t){e.has(n)?e.has(t)||e.set(t,e.get(n)):e.has(t)&&e.set(n,e.get(t))}const gte=new ly;class _te{constructor(n,t,r){this.bodyNode=n,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(n,t){const r=[],o=bx(this._driver,t,r,[]);if(r.length)throw function wee(e){return new nt(3503,!1)}();this._animations.set(n,o)}_buildPlayer(n,t,r){const i=n.element,o=bN(this._normalizer,n.keyframes,t,r);return this._driver.animate(i,o,n.duration,n.delay,n.easing,[],!0)}create(n,t,r={}){const i=[],o=this._animations.get(n);let a;const u=new Map;if(o?(a=Ex(this._driver,t,o,mx,ey,new Map,new Map,r,gte,i),a.forEach(_=>{const b=Ja(u,_.element,new Map);_.postStyleProps.forEach(C=>b.set(C,null))})):(i.push(function xee(){return new nt(3300,!1)}()),a=[]),i.length)throw function Eee(e){return new nt(3504,!1)}();u.forEach((_,b)=>{_.forEach((C,D)=>{_.set(D,this._driver.computeStyle(b,D,Lu))})});const f=ic(a.map(_=>{const b=u.get(_.element);return this._buildPlayer(_,new Map,b)}));return this._playersById.set(n,f),f.onDestroy(()=>this.destroy(n)),this.players.push(f),f}destroy(n){const t=this._getPlayer(n);t.destroy(),this._playersById.delete(n);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(n){const t=this._playersById.get(n);if(!t)throw function Cee(e){return new nt(3301,!1)}();return t}listen(n,t,r,i){const o=hx(t,"","","");return cx(this._getPlayer(n),r,o,i),()=>{}}command(n,t,r,i){if("register"==r)return void this.register(n,i[0]);if("create"==r)return void this.create(n,t,i[0]||{});const o=this._getPlayer(n);switch(r){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(n)}}}const zN="ng-animate-queued",Sx="ng-animate-disabled",xte=[],VN={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Ete={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Al="__ng_removed";class Lx{get params(){return this.options.params}constructor(n,t=""){this.namespaceId=t;const r=n&&n.hasOwnProperty("value");if(this.value=function Ste(e){return e??null}(r?n.value:n),r){const o=Cp(n);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(n){const t=n.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const Sp="void",Ix=new Lx(Sp);class Cte{constructor(n,t,r){this.id=n,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+n,wl(t,this._hostClassName)}listen(n,t,r,i){if(!this._triggers.has(t))throw function Mee(e,n){return new nt(3302,!1)}();if(null==r||0==r.length)throw function Dee(e){return new nt(3303,!1)}();if(!function Lte(e){return"start"==e||"done"==e}(r))throw function See(e,n){return new nt(3400,!1)}();const o=Ja(this._elementListeners,n,[]),a={name:t,phase:r,callback:i};o.push(a);const u=Ja(this._engine.statesByElement,n,new Map);return u.has(t)||(wl(n,ty),wl(n,ty+"-"+t),u.set(t,Ix)),()=>{this._engine.afterFlush(()=>{const h=o.indexOf(a);h>=0&&o.splice(h,1),this._triggers.has(t)||u.delete(t)})}}register(n,t){return!this._triggers.has(n)&&(this._triggers.set(n,t),!0)}_getTrigger(n){const t=this._triggers.get(n);if(!t)throw function Lee(e){return new nt(3401,!1)}();return t}trigger(n,t,r,i=!0){const o=this._getTrigger(t),a=new Px(this.id,t,n);let u=this._engine.statesByElement.get(n);u||(wl(n,ty),wl(n,ty+"-"+t),this._engine.statesByElement.set(n,u=new Map));let h=u.get(t);const f=new Lx(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&h&&f.absorbOptions(h.options),u.set(t,f),h||(h=Ix),f.value!==Sp&&h.value===f.value){if(!function Tte(e,n){const t=Object.keys(e),r=Object.keys(n);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const o=t[i];if(!n.hasOwnProperty(o)||e[o]!==n[o])return!1}return!0}(h.params,f.params)){const j=[],ae=o.matchStyles(h.value,h.params,j),se=o.matchStyles(f.value,f.params,j);j.length?this._engine.reportError(j):this._engine.afterFlush(()=>{Uc(n,ae),cu(n,se)})}return}const C=Ja(this._engine.playersByElement,n,[]);C.forEach(j=>{j.namespaceId==this.id&&j.triggerName==t&&j.queued&&j.destroy()});let D=o.matchTransition(h.value,f.value,n,f.params),q=!1;if(!D){if(!i)return;D=o.fallbackTransition,q=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:t,transition:D,fromState:h,toState:f,player:a,isFallbackTransition:q}),q||(wl(n,zN),a.onStart(()=>{fh(n,zN)})),a.onDone(()=>{let j=this.players.indexOf(a);j>=0&&this.players.splice(j,1);const ae=this._engine.playersByElement.get(n);if(ae){let se=ae.indexOf(a);se>=0&&ae.splice(se,1)}}),this.players.push(a),C.push(a),a}deregister(n){this._triggers.delete(n),this._engine.statesByElement.forEach(t=>t.delete(n)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=n))})}clearElementCache(n){this._engine.statesByElement.delete(n),this._elementListeners.delete(n);const t=this._engine.playersByElement.get(n);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(n))}_signalRemovalForInnerTriggers(n,t){const r=this._engine.driver.query(n,ny,!0);r.forEach(i=>{if(i[Al])return;const o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(a=>a.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(n,t,r,i){const o=this._engine.statesByElement.get(n),a=new Map;if(o){const u=[];if(o.forEach((h,f)=>{if(a.set(f,h.value),this._triggers.has(f)){const _=this.trigger(n,f,Sp,i);_&&u.push(_)}}),u.length)return this._engine.markElementAsRemoved(this.id,n,!0,t,a),r&&ic(u).onDone(()=>this._engine.processLeaveNode(n)),!0}return!1}prepareLeaveAnimationListeners(n){const t=this._elementListeners.get(n),r=this._engine.statesByElement.get(n);if(t&&r){const i=new Set;t.forEach(o=>{const a=o.name;if(i.has(a))return;i.add(a);const h=this._triggers.get(a).fallbackTransition,f=r.get(a)||Ix,_=new Lx(Sp),b=new Px(this.id,a,n);this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:a,transition:h,fromState:f,toState:_,player:b,isFallbackTransition:!0})})}}removeNode(n,t){const r=this._engine;if(n.childElementCount&&this._signalRemovalForInnerTriggers(n,t),this.triggerLeaveAnimation(n,t,!0))return;let i=!1;if(r.totalAnimations){const o=r.players.length?r.playersByQueriedElement.get(n):[];if(o&&o.length)i=!0;else{let a=n;for(;a=a.parentNode;)if(r.statesByElement.get(a)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(n),i)r.markElementAsRemoved(this.id,n,!1,t);else{const o=n[Al];(!o||o===VN)&&(r.afterFlush(()=>this.clearElementCache(n)),r.destroyInnerAnimations(n),r._onRemovalComplete(n,t))}}insertNode(n,t){wl(n,this._hostClassName)}drainQueuedTransitions(n){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const o=r.element,a=this._elementListeners.get(o);a&&a.forEach(u=>{if(u.name==r.triggerName){const h=hx(o,r.triggerName,r.fromState.value,r.toState.value);h._data=n,cx(r.player,u.phase,h,u.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const o=r.transition.ast.depCount,a=i.transition.ast.depCount;return 0==o||0==a?o-a:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(n){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,n)}}class Mte{_onRemovalComplete(n,t){this.onRemovalComplete(n,t)}constructor(n,t,r){this.bodyNode=n,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,o)=>{}}get queuedPlayers(){const n=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&n.push(r)})}),n}createNamespace(n,t){const r=new Cte(n,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[n]=r}_balanceNamespaceList(n,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let a=!1,u=this.driver.getParentElement(t);for(;u;){const h=i.get(u);if(h){const f=r.indexOf(h);r.splice(f+1,0,n),a=!0;break}u=this.driver.getParentElement(u)}a||r.unshift(n)}else r.push(n);return i.set(t,n),n}register(n,t){let r=this._namespaceLookup[n];return r||(r=this.createNamespace(n,t)),r}registerTrigger(n,t,r){let i=this._namespaceLookup[n];i&&i.register(t,r)&&this.totalAnimations++}destroy(n,t){n&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const r=this._fetchNamespace(n);this.namespacesByHostElement.delete(r.hostElement);const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(t),delete this._namespaceLookup[n]}))}_fetchNamespace(n){return this._namespaceLookup[n]}fetchNamespacesByElement(n){const t=new Set,r=this.statesByElement.get(n);if(r)for(let i of r.values())if(i.namespaceId){const o=this._fetchNamespace(i.namespaceId);o&&t.add(o)}return t}trigger(n,t,r,i){if(dy(t)){const o=this._fetchNamespace(n);if(o)return o.trigger(t,r,i),!0}return!1}insertNode(n,t,r,i){if(!dy(t))return;const o=t[Al];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const a=this.collectedLeaveElements.indexOf(t);a>=0&&this.collectedLeaveElements.splice(a,1)}if(n){const a=this._fetchNamespace(n);a&&a.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(n){this.collectedEnterElements.push(n)}markElementAsDisabled(n,t){t?this.disabledNodes.has(n)||(this.disabledNodes.add(n),wl(n,Sx)):this.disabledNodes.has(n)&&(this.disabledNodes.delete(n),fh(n,Sx))}removeNode(n,t,r){if(dy(t)){const i=n?this._fetchNamespace(n):null;i?i.removeNode(t,r):this.markElementAsRemoved(n,t,!1,r);const o=this.namespacesByHostElement.get(t);o&&o.id!==n&&o.removeNode(t,r)}else this._onRemovalComplete(t,r)}markElementAsRemoved(n,t,r,i,o){this.collectedLeaveElements.push(t),t[Al]={namespaceId:n,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:o}}listen(n,t,r,i,o){return dy(t)?this._fetchNamespace(n).listen(t,r,i,o):()=>{}}_buildInstruction(n,t,r,i,o){return n.transition.build(this.driver,n.element,n.fromState.value,n.toState.value,r,i,n.fromState.options,n.toState.options,t,o)}destroyInnerAnimations(n){let t=this.driver.query(n,ny,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(n,gx,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(n){const t=this.playersByElement.get(n);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(n){const t=this.playersByQueriedElement.get(n);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(n=>{if(this.players.length)return ic(this.players).onDone(()=>n());n()})}processLeaveNode(n){const t=n[Al];if(t&&t.setForRemoval){if(n[Al]=VN,t.namespaceId){this.destroyInnerAnimations(n);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(n)}this._onRemovalComplete(n,t.setForRemoval)}n.classList?.contains(Sx)&&this.markElementAsDisabled(n,!1),this.driver.query(n,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(n=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)wl(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,n)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?ic(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(n){throw function Iee(e){return new nt(3402,!1)}()}_flushAnimations(n,t){const r=new ly,i=[],o=new Map,a=[],u=new Map,h=new Map,f=new Map,_=new Set;this.disabledNodes.forEach(mt=>{_.add(mt);const Nt=this.driver.query(mt,".ng-animate-queued",!0);for(let Ht=0;Ht<Nt.length;Ht++)_.add(Nt[Ht])});const b=this.bodyNode,C=Array.from(this.statesByElement.keys()),D=jN(C,this.collectedEnterElements),q=new Map;let j=0;D.forEach((mt,Nt)=>{const Ht=mx+j++;q.set(Nt,Ht),mt.forEach(Kt=>wl(Kt,Ht))});const ae=[],se=new Set,K=new Set;for(let mt=0;mt<this.collectedLeaveElements.length;mt++){const Nt=this.collectedLeaveElements[mt],Ht=Nt[Al];Ht&&Ht.setForRemoval&&(ae.push(Nt),se.add(Nt),Ht.hasAnimation?this.driver.query(Nt,".ng-star-inserted",!0).forEach(Kt=>se.add(Kt)):K.add(Nt))}const ce=new Map,Le=jN(C,Array.from(se));Le.forEach((mt,Nt)=>{const Ht=ey+j++;ce.set(Nt,Ht),mt.forEach(Kt=>wl(Kt,Ht))}),n.push(()=>{D.forEach((mt,Nt)=>{const Ht=q.get(Nt);mt.forEach(Kt=>fh(Kt,Ht))}),Le.forEach((mt,Nt)=>{const Ht=ce.get(Nt);mt.forEach(Kt=>fh(Kt,Ht))}),ae.forEach(mt=>{this.processLeaveNode(mt)})});const Ae=[],Ze=[];for(let mt=this._namespaceList.length-1;mt>=0;mt--)this._namespaceList[mt].drainQueuedTransitions(t).forEach(Ht=>{const Kt=Ht.player,oi=Ht.element;if(Ae.push(Kt),this.collectedEnterElements.length){const eo=oi[Al];if(eo&&eo.setForMove){if(eo.previousTriggersValues&&eo.previousTriggersValues.has(Ht.triggerName)){const Rl=eo.previousTriggersValues.get(Ht.triggerName),As=this.statesByElement.get(Ht.element);if(As&&As.has(Ht.triggerName)){const Fu=As.get(Ht.triggerName);Fu.value=Rl,As.set(Ht.triggerName,Fu)}}return void Kt.destroy()}}const Ci=!b||!this.driver.containsElement(b,oi),yi=ce.get(oi),gr=q.get(oi),Nn=this._buildInstruction(Ht,r,gr,yi,Ci);if(Nn.errors&&Nn.errors.length)return void Ze.push(Nn);if(Ci)return Kt.onStart(()=>Uc(oi,Nn.fromStyles)),Kt.onDestroy(()=>cu(oi,Nn.toStyles)),void i.push(Kt);if(Ht.isFallbackTransition)return Kt.onStart(()=>Uc(oi,Nn.fromStyles)),Kt.onDestroy(()=>cu(oi,Nn.toStyles)),void i.push(Kt);const Ji=[];Nn.timelines.forEach(eo=>{eo.stretchStartingKeyframe=!0,this.disabledNodes.has(eo.element)||Ji.push(eo)}),Nn.timelines=Ji,r.append(oi,Nn.timelines),a.push({instruction:Nn,player:Kt,element:oi}),Nn.queriedElements.forEach(eo=>Ja(u,eo,[]).push(Kt)),Nn.preStyleProps.forEach((eo,Rl)=>{if(eo.size){let As=h.get(Rl);As||h.set(Rl,As=new Set),eo.forEach((Fu,sc)=>As.add(sc))}}),Nn.postStyleProps.forEach((eo,Rl)=>{let As=f.get(Rl);As||f.set(Rl,As=new Set),eo.forEach((Fu,sc)=>As.add(sc))})});if(Ze.length){const mt=[];Ze.forEach(Nt=>{mt.push(function Pee(e,n){return new nt(3505,!1)}())}),Ae.forEach(Nt=>Nt.destroy()),this.reportError(mt)}const Ke=new Map,it=new Map;a.forEach(mt=>{const Nt=mt.element;r.has(Nt)&&(it.set(Nt,Nt),this._beforeAnimationBuild(mt.player.namespaceId,mt.instruction,Ke))}),i.forEach(mt=>{const Nt=mt.element;this._getPreviousPlayers(Nt,!1,mt.namespaceId,mt.triggerName,null).forEach(Kt=>{Ja(Ke,Nt,[]).push(Kt),Kt.destroy()})});const ke=ae.filter(mt=>qN(mt,h,f)),un=new Map;HN(un,this.driver,K,f,Lu).forEach(mt=>{qN(mt,h,f)&&ke.push(mt)});const Sn=new Map;D.forEach((mt,Nt)=>{HN(Sn,this.driver,new Set(mt),h,"!")}),ke.forEach(mt=>{const Nt=un.get(mt),Ht=Sn.get(mt);un.set(mt,new Map([...Nt?.entries()??[],...Ht?.entries()??[]]))});const Tn=[],It=[],vn={};a.forEach(mt=>{const{element:Nt,player:Ht,instruction:Kt}=mt;if(r.has(Nt)){if(_.has(Nt))return Ht.onDestroy(()=>cu(Nt,Kt.toStyles)),Ht.disabled=!0,Ht.overrideTotalTime(Kt.totalTime),void i.push(Ht);let oi=vn;if(it.size>1){let yi=Nt;const gr=[];for(;yi=yi.parentNode;){const Nn=it.get(yi);if(Nn){oi=Nn;break}gr.push(yi)}gr.forEach(Nn=>it.set(Nn,oi))}const Ci=this._buildAnimation(Ht.namespaceId,Kt,Ke,o,Sn,un);if(Ht.setRealPlayer(Ci),oi===vn)Tn.push(Ht);else{const yi=this.playersByElement.get(oi);yi&&yi.length&&(Ht.parentPlayer=ic(yi)),i.push(Ht)}}else Uc(Nt,Kt.fromStyles),Ht.onDestroy(()=>cu(Nt,Kt.toStyles)),It.push(Ht),_.has(Nt)&&i.push(Ht)}),It.forEach(mt=>{const Nt=o.get(mt.element);if(Nt&&Nt.length){const Ht=ic(Nt);mt.setRealPlayer(Ht)}}),i.forEach(mt=>{mt.parentPlayer?mt.syncPlayerEvents(mt.parentPlayer):mt.destroy()});for(let mt=0;mt<ae.length;mt++){const Nt=ae[mt],Ht=Nt[Al];if(fh(Nt,ey),Ht&&Ht.hasAnimation)continue;let Kt=[];if(u.size){let Ci=u.get(Nt);Ci&&Ci.length&&Kt.push(...Ci);let yi=this.driver.query(Nt,gx,!0);for(let gr=0;gr<yi.length;gr++){let Nn=u.get(yi[gr]);Nn&&Nn.length&&Kt.push(...Nn)}}const oi=Kt.filter(Ci=>!Ci.destroyed);oi.length?Ite(this,Nt,oi):this.processLeaveNode(Nt)}return ae.length=0,Tn.forEach(mt=>{this.players.push(mt),mt.onDone(()=>{mt.destroy();const Nt=this.players.indexOf(mt);this.players.splice(Nt,1)}),mt.play()}),Tn}afterFlush(n){this._flushFns.push(n)}afterFlushAnimationsDone(n){this._whenQuietFns.push(n)}_getPreviousPlayers(n,t,r,i,o){let a=[];if(t){const u=this.playersByQueriedElement.get(n);u&&(a=u)}else{const u=this.playersByElement.get(n);if(u){const h=!o||o==Sp;u.forEach(f=>{f.queued||!h&&f.triggerName!=i||a.push(f)})}}return(r||i)&&(a=a.filter(u=>!(r&&r!=u.namespaceId||i&&i!=u.triggerName))),a}_beforeAnimationBuild(n,t,r){const o=t.element,a=t.isRemovalTransition?void 0:n,u=t.isRemovalTransition?void 0:t.triggerName;for(const h of t.timelines){const f=h.element,_=f!==o,b=Ja(r,f,[]);this._getPreviousPlayers(f,_,a,u,t.toState).forEach(D=>{const q=D.getRealPlayer();q.beforeDestroy&&q.beforeDestroy(),D.destroy(),b.push(D)})}Uc(o,t.fromStyles)}_buildAnimation(n,t,r,i,o,a){const u=t.triggerName,h=t.element,f=[],_=new Set,b=new Set,C=t.timelines.map(q=>{const j=q.element;_.add(j);const ae=j[Al];if(ae&&ae.removedBeforeQueried)return new Gf(q.duration,q.delay);const se=j!==h,K=function Pte(e){const n=[];return GN(e,n),n}((r.get(j)||xte).map(Ke=>Ke.getRealPlayer())).filter(Ke=>!!Ke.element&&Ke.element===j),ce=o.get(j),Le=a.get(j),Ae=bN(this._normalizer,q.keyframes,ce,Le),Ze=this._buildPlayer(q,Ae,K);if(q.subTimeline&&i&&b.add(j),se){const Ke=new Px(n,u,j);Ke.setRealPlayer(Ze),f.push(Ke)}return Ze});f.forEach(q=>{Ja(this.playersByQueriedElement,q.element,[]).push(q),q.onDone(()=>function Dte(e,n,t){let r=e.get(n);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&e.delete(n)}return r}(this.playersByQueriedElement,q.element,q))}),_.forEach(q=>wl(q,SN));const D=ic(C);return D.onDestroy(()=>{_.forEach(q=>fh(q,SN)),cu(h,t.toStyles)}),b.forEach(q=>{Ja(i,q,[]).push(D)}),D}_buildPlayer(n,t,r){return t.length>0?this.driver.animate(n.element,t,n.duration,n.delay,n.easing,r):new Gf(n.duration,n.delay)}}class Px{constructor(n,t,r){this.namespaceId=n,this.triggerName=t,this.element=r,this._player=new Gf,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(n){this._containsRealPlayer||(this._player=n,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>cx(n,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(n.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(n){this.totalTime=n}syncPlayerEvents(n){const t=this._player;t.triggerCallback&&n.onStart(()=>t.triggerCallback("start")),n.onDone(()=>this.finish()),n.onDestroy(()=>this.destroy())}_queueEvent(n,t){Ja(this._queuedCallbacks,n,[]).push(t)}onDone(n){this.queued&&this._queueEvent("done",n),this._player.onDone(n)}onStart(n){this.queued&&this._queueEvent("start",n),this._player.onStart(n)}onDestroy(n){this.queued&&this._queueEvent("destroy",n),this._player.onDestroy(n)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(n){this.queued||this._player.setPosition(n)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(n){const t=this._player;t.triggerCallback&&t.triggerCallback(n)}}function dy(e){return e&&1===e.nodeType}function UN(e,n){const t=e.style.display;return e.style.display=n??"none",t}function HN(e,n,t,r,i){const o=[];t.forEach(h=>o.push(UN(h)));const a=[];r.forEach((h,f)=>{const _=new Map;h.forEach(b=>{const C=n.computeStyle(f,b,i);_.set(b,C),(!C||0==C.length)&&(f[Al]=Ete,a.push(f))}),e.set(f,_)});let u=0;return t.forEach(h=>UN(h,o[u++])),a}function jN(e,n){const t=new Map;if(e.forEach(u=>t.set(u,[])),0==n.length)return t;const i=new Set(n),o=new Map;function a(u){if(!u)return 1;let h=o.get(u);if(h)return h;const f=u.parentNode;return h=t.has(f)?f:i.has(f)?1:a(f),o.set(u,h),h}return n.forEach(u=>{const h=a(u);1!==h&&t.get(h).push(u)}),t}function wl(e,n){e.classList?.add(n)}function fh(e,n){e.classList?.remove(n)}function Ite(e,n,t){ic(t).onDone(()=>e.processLeaveNode(n))}function GN(e,n){for(let t=0;t<e.length;t++){const r=e[t];r instanceof Ak?GN(r.players,n):n.push(r)}}function qN(e,n,t){const r=t.get(e);if(!r)return!1;let i=n.get(e);return i?r.forEach(o=>i.add(o)):n.set(e,r),t.delete(e),!0}class hy{constructor(n,t,r){this.bodyNode=n,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,o)=>{},this._transitionEngine=new Mte(n,t,r),this._timelineEngine=new _te(n,t,r),this._transitionEngine.onRemovalComplete=(i,o)=>this.onRemovalComplete(i,o)}registerTrigger(n,t,r,i,o){const a=n+"-"+i;let u=this._triggerCache[a];if(!u){const h=[],_=bx(this._driver,o,h,[]);if(h.length)throw function vee(e,n){return new nt(3404,!1)}();u=function fte(e,n,t){return new pte(e,n,t)}(i,_,this._normalizer),this._triggerCache[a]=u}this._transitionEngine.registerTrigger(t,i,u)}register(n,t){this._transitionEngine.register(n,t)}destroy(n,t){this._transitionEngine.destroy(n,t)}onInsert(n,t,r,i){this._transitionEngine.insertNode(n,t,r,i)}onRemove(n,t,r){this._transitionEngine.removeNode(n,t,r)}disableAnimations(n,t){this._transitionEngine.markElementAsDisabled(n,t)}process(n,t,r,i){if("@"==r.charAt(0)){const[o,a]=wN(r);this._timelineEngine.command(o,t,a,i)}else this._transitionEngine.trigger(n,t,r,i)}listen(n,t,r,i,o){if("@"==r.charAt(0)){const[a,u]=wN(r);return this._timelineEngine.listen(a,t,u,o)}return this._transitionEngine.listen(n,t,r,i,o)}flush(n=-1){this._transitionEngine.flush(n)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(n){this._transitionEngine.afterFlushAnimationsDone(n)}}let Ate=(()=>{class e{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let o=e.initialStylesByElement.get(t);o||e.initialStylesByElement.set(t,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&cu(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(cu(this._element,this._initialStyles),this._endStyles&&(cu(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&(Uc(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Uc(this._element,this._endStyles),this._endStyles=null),cu(this._element,this._initialStyles),this._state=3)}}return e.initialStylesByElement=new WeakMap,e})();function Tx(e){let n=null;return e.forEach((t,r)=>{(function Rte(e){return"display"===e||"position"===e})(r)&&(n=n||new Map,n.set(r,t))}),n}class $N{constructor(n,t,r,i){this.element=n,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const n=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,n,this.options),this._finalKeyframe=n.length?n[n.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(n){const t=[];return n.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(n,t,r){return n.animate(this._convertKeyframesToObject(t),r)}onStart(n){this._originalOnStartFns.push(n),this._onStartFns.push(n)}onDone(n){this._originalOnDoneFns.push(n),this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(n=>n()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}setPosition(n){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=n*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const n=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&n.set(i,this._finished?r:TN(this.element,i))}),this.currentSnapshot=n}triggerCallback(n){const t="start"===n?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class Ote{validateStyleProperty(n){return!0}validateAnimatableStyleProperty(n){return!0}matchesElement(n,t){return!1}containsElement(n,t){return EN(n,t)}getParentElement(n){return fx(n)}query(n,t,r){return CN(n,t,r)}computeStyle(n,t,r){return window.getComputedStyle(n)[t]}animate(n,t,r,i,o,a=[]){const h={duration:r,delay:i,fill:0==i?"both":"forwards"};o&&(h.easing=o);const f=new Map,_=a.filter(D=>D instanceof $N);(function Hee(e,n){return 0===e||0===n})(r,i)&&_.forEach(D=>{D.currentSnapshot.forEach((q,j)=>f.set(j,q))});let b=function zee(e){return e.length?e[0]instanceof Map?e:e.map(n=>LN(n)):[]}(t).map(D=>oc(D));b=function jee(e,n,t){if(t.size&&n.length){let r=n[0],i=[];if(t.forEach((o,a)=>{r.has(a)||i.push(a),r.set(a,o)}),i.length)for(let o=1;o<n.length;o++){let a=n[o];i.forEach(u=>a.set(u,TN(e,u)))}}return n}(n,b,f);const C=function kte(e,n){let t=null,r=null;return Array.isArray(n)&&n.length?(t=Tx(n[0]),n.length>1&&(r=Tx(n[n.length-1]))):n instanceof Map&&(t=Tx(n)),t||r?new Ate(e,t,r):null}(n,b);return new $N(n,b,h,C)}}let Nte=(()=>{class e extends Tk{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:bi.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?kk(t):t;return WN(this._renderer,null,r,"register",[i]),new Fte(r,this._renderer)}}return e.\u0275fac=function(t){return new(t||e)(et(kh),et(lr))},e.\u0275prov=gt({token:e,factory:e.\u0275fac}),e})();class Fte extends k9{constructor(n,t){super(),this._id=n,this._renderer=t}create(n,t){return new Bte(this._id,n,t||{},this._renderer)}}class Bte{constructor(n,t,r,i){this.id=n,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(n,t){return this._renderer.listen(this.element,`@@${this.id}:${n}`,t)}_command(n,...t){return WN(this._renderer,this.element,this.id,n,t)}onDone(n){this._listen("done",n)}onStart(n){this._listen("start",n)}onDestroy(n){this._listen("destroy",n)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(n){this._command("setPosition",n)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function WN(e,n,t,r,i){return e.setProperty(n,`@@${t}:${r}`,i)}const YN="@.disabled";let zte=(()=>{class e{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,r.onRemovalComplete=(o,a)=>{const u=a?.parentNode(o);u&&a.removeChild(u,o)}}createRenderer(t,r){const o=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let _=this._rendererCache.get(o);return _||(_=new ZN("",o,this.engine,()=>this._rendererCache.delete(o)),this._rendererCache.set(o,_)),_}const a=r.id,u=r.id+"-"+this._currentId;this._currentId++,this.engine.register(u,t);const h=_=>{Array.isArray(_)?_.forEach(h):this.engine.registerTrigger(a,u,t,_.name,_)};return r.data.animation.forEach(h),new Vte(this,u,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[a,u]=o;a(u)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return e.\u0275fac=function(t){return new(t||e)(et(kh),et(hy),et(yn))},e.\u0275prov=gt({token:e,factory:e.\u0275fac}),e})();class ZN{constructor(n,t,r,i){this.namespaceId=n,this.delegate=t,this.engine=r,this._onDestroy=i}get data(){return this.delegate.data}destroyNode(n){this.delegate.destroyNode?.(n)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(n,t){return this.delegate.createElement(n,t)}createComment(n){return this.delegate.createComment(n)}createText(n){return this.delegate.createText(n)}appendChild(n,t){this.delegate.appendChild(n,t),this.engine.onInsert(this.namespaceId,t,n,!1)}insertBefore(n,t,r,i=!0){this.delegate.insertBefore(n,t,r),this.engine.onInsert(this.namespaceId,t,n,i)}removeChild(n,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(n,t){return this.delegate.selectRootElement(n,t)}parentNode(n){return this.delegate.parentNode(n)}nextSibling(n){return this.delegate.nextSibling(n)}setAttribute(n,t,r,i){this.delegate.setAttribute(n,t,r,i)}removeAttribute(n,t,r){this.delegate.removeAttribute(n,t,r)}addClass(n,t){this.delegate.addClass(n,t)}removeClass(n,t){this.delegate.removeClass(n,t)}setStyle(n,t,r,i){this.delegate.setStyle(n,t,r,i)}removeStyle(n,t,r){this.delegate.removeStyle(n,t,r)}setProperty(n,t,r){"@"==t.charAt(0)&&t==YN?this.disableAnimations(n,!!r):this.delegate.setProperty(n,t,r)}setValue(n,t){this.delegate.setValue(n,t)}listen(n,t,r){return this.delegate.listen(n,t,r)}disableAnimations(n,t){this.engine.disableAnimations(n,t)}}class Vte extends ZN{constructor(n,t,r,i,o){super(t,r,i,o),this.factory=n,this.namespaceId=t}setProperty(n,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==YN?this.disableAnimations(n,r=void 0===r||!!r):this.engine.process(this.namespaceId,n,t.slice(1),r):this.delegate.setProperty(n,t,r)}listen(n,t,r){if("@"==t.charAt(0)){const i=function Ute(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(n);let o=t.slice(1),a="";return"@"!=o.charAt(0)&&([o,a]=function Hte(e){const n=e.indexOf(".");return[e.substring(0,n),e.slice(n+1)]}(o)),this.engine.listen(this.namespaceId,i,o,a,u=>{this.factory.scheduleListenerCallback(u._data||-1,r,u)})}return this.delegate.listen(n,t,r)}}const XN=[{provide:Tk,useClass:Nte},{provide:Mx,useFactory:function Gte(){return new ute}},{provide:hy,useClass:(()=>{class e extends hy{constructor(t,r,i,o){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return e.\u0275fac=function(t){return new(t||e)(et(lr),et(px),et(Mx),et(qu))},e.\u0275prov=gt({token:e,factory:e.\u0275fac}),e})()},{provide:kh,useFactory:function qte(e,n,t){return new zte(e,n,t)},deps:[sb,hy,yn]}],kx=[{provide:px,useFactory:()=>new Ote},{provide:_u,useValue:"BrowserAnimations"},...XN],KN=[{provide:px,useClass:MN},{provide:_u,useValue:"NoopAnimations"},...XN];let $te=(()=>{class e{static withConfig(t){return{ngModule:e,providers:t.disableAnimations?KN:kx}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=wn({type:e}),e.\u0275inj=zn({providers:kx,imports:[wI]}),e})(),Wte=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=wn({type:e,bootstrap:[KJ]}),e.\u0275inj=zn({providers:[Ep],imports:[Zb.forRoot([],{bindToComponentInputs:!0}),wI,XJ,$te,z7,$J,Pk,K7,PG,Pw,lY,y$,y9,gY,Kk,dN,SJ]}),e})();i8().bootstrapModule(Wte).catch(e=>console.error(e))},1568:(ft,Ye,fe)=>{"use strict";var w=fe(8570);function x(I){var O=[1/0,1/0,-1/0,-1/0];return w.coordEach(I,function(U){O[0]>U[0]&&(O[0]=U[0]),O[1]>U[1]&&(O[1]=U[1]),O[2]<U[0]&&(O[2]=U[0]),O[3]<U[1]&&(O[3]=U[1])}),O}x.default=x,Ye.Z=x},6960:function(ft){ft.exports=function(){"use strict";function fe(x,I,O,U,$){for(;U>O;){if(U-O>600){var ne=U-O+1,ve=I-O+1,Ne=Math.log(ne),Re=.5*Math.exp(2*Ne/3),ye=.5*Math.sqrt(Ne*Re*(ne-Re)/ne)*(ve-ne/2<0?-1:1);fe(x,I,Math.max(O,Math.floor(I-ve*Re/ne+ye)),Math.min(U,Math.floor(I+(ne-ve)*Re/ne+ye)),$)}var oe=x[I],he=O,z=U;for(F(x,O,I),$(x[U],oe)>0&&F(x,O,U);he<z;){for(F(x,he,z),he++,z--;$(x[he],oe)<0;)he++;for(;$(x[z],oe)>0;)z--}0===$(x[O],oe)?F(x,O,z):F(x,++z,U),z<=I&&(O=z+1),I<=z&&(U=z-1)}}function F(x,I,O){var U=x[I];x[I]=x[O],x[O]=U}function w(x,I){return x<I?-1:x>I?1:0}return function Ye(x,I,O,U,$){fe(x,I,O||0,U||x.length-1,$||w)}}()},3884:(ft,Ye,fe)=>{"use strict";ft.exports=w,ft.exports.default=w;var F=fe(6960);function w(z,R){if(!(this instanceof w))return new w(z,R);this._maxEntries=Math.max(4,z||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),R&&this._initFormat(R),this.clear()}function x(z,R,V){if(!V)return R.indexOf(z);for(var J=0;J<R.length;J++)if(V(z,R[J]))return J;return-1}function I(z,R){O(z,0,z.children.length,R,z)}function O(z,R,V,J,Q){Q||(Q=oe(null)),Q.minX=1/0,Q.minY=1/0,Q.maxX=-1/0,Q.maxY=-1/0;for(var ie,ee=R;ee<V;ee++)ie=z.children[ee],U(Q,z.leaf?J(ie):ie);return Q}function U(z,R){return z.minX=Math.min(z.minX,R.minX),z.minY=Math.min(z.minY,R.minY),z.maxX=Math.max(z.maxX,R.maxX),z.maxY=Math.max(z.maxY,R.maxY),z}function $(z,R){return z.minX-R.minX}function ne(z,R){return z.minY-R.minY}function ve(z){return(z.maxX-z.minX)*(z.maxY-z.minY)}function Ne(z){return z.maxX-z.minX+(z.maxY-z.minY)}function Re(z,R){return(Math.max(R.maxX,z.maxX)-Math.min(R.minX,z.minX))*(Math.max(R.maxY,z.maxY)-Math.min(R.minY,z.minY))}function ye(z,R){var V=Math.max(z.minX,R.minX),J=Math.max(z.minY,R.minY),Q=Math.min(z.maxX,R.maxX),ee=Math.min(z.maxY,R.maxY);return Math.max(0,Q-V)*Math.max(0,ee-J)}function _e(z,R){return z.minX<=R.minX&&z.minY<=R.minY&&R.maxX<=z.maxX&&R.maxY<=z.maxY}function Oe(z,R){return R.minX<=z.maxX&&R.minY<=z.maxY&&R.maxX>=z.minX&&R.maxY>=z.minY}function oe(z){return{children:z,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function he(z,R,V,J,Q){for(var ie,ee=[R,V];ee.length;)!((V=ee.pop())-(R=ee.pop())<=J)&&(ie=R+Math.ceil((V-R)/J/2)*J,F(z,ie,R,V,Q),ee.push(R,ie,ie,V))}w.prototype={all:function(){return this._all(this.data,[])},search:function(z){var R=this.data,V=[],J=this.toBBox;if(!Oe(z,R))return V;for(var ee,ie,W,De,Q=[];R;){for(ee=0,ie=R.children.length;ee<ie;ee++)W=R.children[ee],Oe(z,De=R.leaf?J(W):W)&&(R.leaf?V.push(W):_e(z,De)?this._all(W,V):Q.push(W));R=Q.pop()}return V},collides:function(z){var R=this.data,V=this.toBBox;if(!Oe(z,R))return!1;for(var Q,ee,ie,W,J=[];R;){for(Q=0,ee=R.children.length;Q<ee;Q++)if(ie=R.children[Q],Oe(z,W=R.leaf?V(ie):ie)){if(R.leaf||_e(z,W))return!0;J.push(ie)}R=J.pop()}return!1},load:function(z){if(!z||!z.length)return this;if(z.length<this._minEntries){for(var R=0,V=z.length;R<V;R++)this.insert(z[R]);return this}var J=this._build(z.slice(),0,z.length-1,0);if(this.data.children.length)if(this.data.height===J.height)this._splitRoot(this.data,J);else{if(this.data.height<J.height){var Q=this.data;this.data=J,J=Q}this._insert(J,this.data.height-J.height-1,!0)}else this.data=J;return this},insert:function(z){return z&&this._insert(z,this.data.height-1),this},clear:function(){return this.data=oe([]),this},remove:function(z,R){if(!z)return this;for(var ie,W,De,ge,V=this.data,J=this.toBBox(z),Q=[],ee=[];V||Q.length;){if(V||(V=Q.pop(),W=Q[Q.length-1],ie=ee.pop(),ge=!0),V.leaf&&-1!==(De=x(z,V.children,R)))return V.children.splice(De,1),Q.push(V),this._condense(Q),this;ge||V.leaf||!_e(V,J)?W?(ie++,V=W.children[ie],ge=!1):V=null:(Q.push(V),ee.push(ie),ie=0,W=V,V=V.children[0])}return this},toBBox:function(z){return z},compareMinX:$,compareMinY:ne,toJSON:function(){return this.data},fromJSON:function(z){return this.data=z,this},_all:function(z,R){for(var V=[];z;)z.leaf?R.push.apply(R,z.children):V.push.apply(V,z.children),z=V.pop();return R},_build:function(z,R,V,J){var ie,Q=V-R+1,ee=this._maxEntries;if(Q<=ee)return I(ie=oe(z.slice(R,V+1)),this.toBBox),ie;J||(J=Math.ceil(Math.log(Q)/Math.log(ee)),ee=Math.ceil(Q/Math.pow(ee,J-1))),(ie=oe([])).leaf=!1,ie.height=J;var ge,Ee,de,Qe,W=Math.ceil(Q/ee),De=W*Math.ceil(Math.sqrt(ee));for(he(z,R,V,De,this.compareMinX),ge=R;ge<=V;ge+=De)for(he(z,ge,de=Math.min(ge+De-1,V),W,this.compareMinY),Ee=ge;Ee<=de;Ee+=W)Qe=Math.min(Ee+W-1,de),ie.children.push(this._build(z,Ee,Qe,J-1));return I(ie,this.toBBox),ie},_chooseSubtree:function(z,R,V,J){for(var Q,ee,ie,W,De,ge,Ee,de;J.push(R),!R.leaf&&J.length-1!==V;){for(Ee=de=1/0,Q=0,ee=R.children.length;Q<ee;Q++)De=ve(ie=R.children[Q]),(ge=Re(z,ie)-De)<de?(de=ge,Ee=De<Ee?De:Ee,W=ie):ge===de&&De<Ee&&(Ee=De,W=ie);R=W||R.children[0]}return R},_insert:function(z,R,V){var Q=V?z:(0,this.toBBox)(z),ee=[],ie=this._chooseSubtree(Q,this.data,R,ee);for(ie.children.push(z),U(ie,Q);R>=0&&ee[R].children.length>this._maxEntries;)this._split(ee,R),R--;this._adjustParentBBoxes(Q,ee,R)},_split:function(z,R){var V=z[R],J=V.children.length,Q=this._minEntries;this._chooseSplitAxis(V,Q,J);var ee=this._chooseSplitIndex(V,Q,J),ie=oe(V.children.splice(ee,V.children.length-ee));ie.height=V.height,ie.leaf=V.leaf,I(V,this.toBBox),I(ie,this.toBBox),R?z[R-1].children.push(ie):this._splitRoot(V,ie)},_splitRoot:function(z,R){this.data=oe([z,R]),this.data.height=z.height+1,this.data.leaf=!1,I(this.data,this.toBBox)},_chooseSplitIndex:function(z,R,V){var J,Q,ee,ie,W,De,ge,Ee;for(De=ge=1/0,J=R;J<=V-R;J++)ie=ye(Q=O(z,0,J,this.toBBox),ee=O(z,J,V,this.toBBox)),W=ve(Q)+ve(ee),ie<De?(De=ie,Ee=J,ge=W<ge?W:ge):ie===De&&W<ge&&(ge=W,Ee=J);return Ee},_chooseSplitAxis:function(z,R,V){var J=z.leaf?this.compareMinX:$,Q=z.leaf?this.compareMinY:ne;this._allDistMargin(z,R,V,J)<this._allDistMargin(z,R,V,Q)&&z.children.sort(J)},_allDistMargin:function(z,R,V,J){z.children.sort(J);var De,ge,Q=this.toBBox,ee=O(z,0,R,Q),ie=O(z,V-R,V,Q),W=Ne(ee)+Ne(ie);for(De=R;De<V-R;De++)ge=z.children[De],U(ee,z.leaf?Q(ge):ge),W+=Ne(ee);for(De=V-R-1;De>=R;De--)ge=z.children[De],U(ie,z.leaf?Q(ge):ge),W+=Ne(ie);return W},_adjustParentBBoxes:function(z,R,V){for(var J=V;J>=0;J--)U(R[J],z)},_condense:function(z){for(var V,R=z.length-1;R>=0;R--)0===z[R].children.length?R>0?(V=z[R-1].children).splice(V.indexOf(z[R]),1):this.clear():I(z[R],this.toBBox)},_initFormat:function(z){var R=["return a"," - b",";"];this.compareMinX=new Function("a","b",R.join(z[0])),this.compareMinY=new Function("a","b",R.join(z[1])),this.toBBox=new Function("a","return {minX: a"+z[0]+", minY: a"+z[1]+", maxX: a"+z[2]+", maxY: a"+z[3]+"};")}}},621:(ft,Ye)=>{"use strict";function fe(ge,Ee,de){void 0===de&&(de={});var Qe={type:"Feature"};return(0===de.id||de.id)&&(Qe.id=de.id),de.bbox&&(Qe.bbox=de.bbox),Qe.properties=Ee||{},Qe.geometry=ge,Qe}function w(ge,Ee,de){if(void 0===de&&(de={}),!ge)throw new Error("coordinates is required");if(!Array.isArray(ge))throw new Error("coordinates must be an Array");if(ge.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!ee(ge[0])||!ee(ge[1]))throw new Error("coordinates must contain numbers");return fe({type:"Point",coordinates:ge},Ee,de)}function I(ge,Ee,de){void 0===de&&(de={});for(var Qe=0,We=ge;Qe<We.length;Qe++){var we=We[Qe];if(we.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var Me=0;Me<we[we.length-1].length;Me++)if(we[we.length-1][Me]!==we[0][Me])throw new Error("First and last Position are not equivalent.")}return fe({type:"Polygon",coordinates:ge},Ee,de)}function U(ge,Ee,de){if(void 0===de&&(de={}),ge.length<2)throw new Error("coordinates must be an array of two or more positions");return fe({type:"LineString",coordinates:ge},Ee,de)}function ne(ge,Ee){void 0===Ee&&(Ee={});var de={type:"FeatureCollection"};return Ee.id&&(de.id=Ee.id),Ee.bbox&&(de.bbox=Ee.bbox),de.features=ge,de}function ve(ge,Ee,de){return void 0===de&&(de={}),fe({type:"MultiLineString",coordinates:ge},Ee,de)}function Ne(ge,Ee,de){return void 0===de&&(de={}),fe({type:"MultiPoint",coordinates:ge},Ee,de)}function Re(ge,Ee,de){return void 0===de&&(de={}),fe({type:"MultiPolygon",coordinates:ge},Ee,de)}function Oe(ge,Ee){void 0===Ee&&(Ee="kilometers");var de=Ye.factors[Ee];if(!de)throw new Error(Ee+" units is invalid");return ge*de}function oe(ge,Ee){void 0===Ee&&(Ee="kilometers");var de=Ye.factors[Ee];if(!de)throw new Error(Ee+" units is invalid");return ge/de}function R(ge){return ge%(2*Math.PI)*180/Math.PI}function ee(ge){return!isNaN(ge)&&null!==ge&&!Array.isArray(ge)}Object.defineProperty(Ye,"__esModule",{value:!0}),Ye.earthRadius=6371008.8,Ye.factors={centimeters:100*Ye.earthRadius,centimetres:100*Ye.earthRadius,degrees:Ye.earthRadius/111325,feet:3.28084*Ye.earthRadius,inches:39.37*Ye.earthRadius,kilometers:Ye.earthRadius/1e3,kilometres:Ye.earthRadius/1e3,meters:Ye.earthRadius,metres:Ye.earthRadius,miles:Ye.earthRadius/1609.344,millimeters:1e3*Ye.earthRadius,millimetres:1e3*Ye.earthRadius,nauticalmiles:Ye.earthRadius/1852,radians:1,yards:1.0936*Ye.earthRadius},Ye.unitsFactors={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/Ye.earthRadius,yards:1.0936133},Ye.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},Ye.feature=fe,Ye.geometry=function F(ge,Ee,de){switch(void 0===de&&(de={}),ge){case"Point":return w(Ee).geometry;case"LineString":return U(Ee).geometry;case"Polygon":return I(Ee).geometry;case"MultiPoint":return Ne(Ee).geometry;case"MultiLineString":return ve(Ee).geometry;case"MultiPolygon":return Re(Ee).geometry;default:throw new Error(ge+" is invalid")}},Ye.point=w,Ye.points=function x(ge,Ee,de){return void 0===de&&(de={}),ne(ge.map(function(Qe){return w(Qe,Ee)}),de)},Ye.polygon=I,Ye.polygons=function O(ge,Ee,de){return void 0===de&&(de={}),ne(ge.map(function(Qe){return I(Qe,Ee)}),de)},Ye.lineString=U,Ye.lineStrings=function $(ge,Ee,de){return void 0===de&&(de={}),ne(ge.map(function(Qe){return U(Qe,Ee)}),de)},Ye.featureCollection=ne,Ye.multiLineString=ve,Ye.multiPoint=Ne,Ye.multiPolygon=Re,Ye.geometryCollection=function ye(ge,Ee,de){return void 0===de&&(de={}),fe({type:"GeometryCollection",geometries:ge},Ee,de)},Ye.round=function _e(ge,Ee){if(void 0===Ee&&(Ee=0),Ee&&!(Ee>=0))throw new Error("precision must be a positive number");var de=Math.pow(10,Ee||0);return Math.round(ge*de)/de},Ye.radiansToLength=Oe,Ye.lengthToRadians=oe,Ye.lengthToDegrees=function he(ge,Ee){return R(oe(ge,Ee))},Ye.bearingToAzimuth=function z(ge){var Ee=ge%360;return Ee<0&&(Ee+=360),Ee},Ye.radiansToDegrees=R,Ye.degreesToRadians=function V(ge){return ge%360*Math.PI/180},Ye.convertLength=function J(ge,Ee,de){if(void 0===Ee&&(Ee="kilometers"),void 0===de&&(de="kilometers"),!(ge>=0))throw new Error("length must be a positive number");return Oe(oe(ge,Ee),de)},Ye.convertArea=function Q(ge,Ee,de){if(void 0===Ee&&(Ee="meters"),void 0===de&&(de="kilometers"),!(ge>=0))throw new Error("area must be a positive number");var Qe=Ye.areaFactors[Ee];if(!Qe)throw new Error("invalid original units");var We=Ye.areaFactors[de];if(!We)throw new Error("invalid final units");return ge/Qe*We},Ye.isNumber=ee,Ye.isObject=function ie(ge){return!!ge&&ge.constructor===Object},Ye.validateBBox=function W(ge){if(!ge)throw new Error("bbox is required");if(!Array.isArray(ge))throw new Error("bbox must be an Array");if(4!==ge.length&&6!==ge.length)throw new Error("bbox must be an Array of 4 or 6 numbers");ge.forEach(function(Ee){if(!ee(Ee))throw new Error("bbox must only contain numbers")})},Ye.validateId=function De(ge){if(!ge)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof ge))throw new Error("id must be a number or a string")}},8570:(ft,Ye,fe)=>{"use strict";Object.defineProperty(Ye,"__esModule",{value:!0});var F=fe(621);function w(V,J,Q){if(null!==V)for(var ee,ie,W,De,ge,Ee,de,we,Qe=0,We=0,Me=V.type,be="FeatureCollection"===Me,Se="Feature"===Me,Fe=be?V.features.length:1,me=0;me<Fe;me++){ge=(we=!!(de=be?V.features[me].geometry:Se?V.geometry:V)&&"GeometryCollection"===de.type)?de.geometries.length:1;for(var rt=0;rt<ge;rt++){var qe=0,dt=0;if(null!==(De=we?de.geometries[rt]:de)){Ee=De.coordinates;var $e=De.type;switch(Qe=!Q||"Polygon"!==$e&&"MultiPolygon"!==$e?0:1,$e){case null:break;case"Point":if(!1===J(Ee,We,me,qe,dt))return!1;We++,qe++;break;case"LineString":case"MultiPoint":for(ee=0;ee<Ee.length;ee++){if(!1===J(Ee[ee],We,me,qe,dt))return!1;We++,"MultiPoint"===$e&&qe++}"LineString"===$e&&qe++;break;case"Polygon":case"MultiLineString":for(ee=0;ee<Ee.length;ee++){for(ie=0;ie<Ee[ee].length-Qe;ie++){if(!1===J(Ee[ee][ie],We,me,qe,dt))return!1;We++}"MultiLineString"===$e&&qe++,"Polygon"===$e&&dt++}"Polygon"===$e&&qe++;break;case"MultiPolygon":for(ee=0;ee<Ee.length;ee++){for(dt=0,ie=0;ie<Ee[ee].length;ie++){for(W=0;W<Ee[ee][ie].length-Qe;W++){if(!1===J(Ee[ee][ie][W],We,me,qe,dt))return!1;We++}dt++}qe++}break;case"GeometryCollection":for(ee=0;ee<De.geometries.length;ee++)if(!1===w(De.geometries[ee],J,Q))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function I(V,J){var Q;switch(V.type){case"FeatureCollection":for(Q=0;Q<V.features.length&&!1!==J(V.features[Q].properties,Q);Q++);break;case"Feature":J(V.properties,0)}}function U(V,J){if("Feature"===V.type)J(V,0);else if("FeatureCollection"===V.type)for(var Q=0;Q<V.features.length&&!1!==J(V.features[Q],Q);Q++);}function ve(V,J){var Q,ee,ie,W,De,ge,Ee,de,Qe,We,we=0,Me="FeatureCollection"===V.type,be="Feature"===V.type,Se=Me?V.features.length:1;for(Q=0;Q<Se;Q++){for(de=Me?V.features[Q].properties:be?V.properties:{},Qe=Me?V.features[Q].bbox:be?V.bbox:void 0,We=Me?V.features[Q].id:be?V.id:void 0,De=(Ee=!!(ge=Me?V.features[Q].geometry:be?V.geometry:V)&&"GeometryCollection"===ge.type)?ge.geometries.length:1,ie=0;ie<De;ie++)if(null!==(W=Ee?ge.geometries[ie]:ge))switch(W.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===J(W,we,de,Qe,We))return!1;break;case"GeometryCollection":for(ee=0;ee<W.geometries.length;ee++)if(!1===J(W.geometries[ee],we,de,Qe,We))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===J(null,we,de,Qe,We))return!1;we++}}function Re(V,J){ve(V,function(Q,ee,ie,W,De){var Ee,ge=null===Q?null:Q.type;switch(ge){case null:case"Point":case"LineString":case"Polygon":return!1!==J(F.feature(Q,ie,{bbox:W,id:De}),ee,0)&&void 0}switch(ge){case"MultiPoint":Ee="Point";break;case"MultiLineString":Ee="LineString";break;case"MultiPolygon":Ee="Polygon"}for(var de=0;de<Q.coordinates.length;de++)if(!1===J(F.feature({type:Ee,coordinates:Q.coordinates[de]},ie),ee,de))return!1})}function _e(V,J){Re(V,function(Q,ee,ie){var W=0;if(Q.geometry){var De=Q.geometry.type;if("Point"!==De&&"MultiPoint"!==De){var ge,Ee=0,de=0,Qe=0;if(!1===w(Q,function(We,we,Me,be,Se){if(void 0===ge||ee>Ee||be>de||Se>Qe)return ge=We,Ee=ee,de=be,Qe=Se,void(W=0);var Fe=F.lineString([ge,We],Q.properties);if(!1===J(Fe,ee,ie,Se,W))return!1;W++,ge=We}))return!1}}})}function oe(V,J){if(!V)throw new Error("geojson is required");Re(V,function(Q,ee,ie){if(null!==Q.geometry){var De=Q.geometry.coordinates;switch(Q.geometry.type){case"LineString":if(!1===J(Q,ee,ie,0,0))return!1;break;case"Polygon":for(var ge=0;ge<De.length;ge++)if(!1===J(F.lineString(De[ge],Q.properties),ee,ie,ge))return!1}}})}Ye.coordAll=function ne(V){var J=[];return w(V,function(Q){J.push(Q)}),J},Ye.coordEach=w,Ye.coordReduce=function x(V,J,Q,ee){var ie=Q;return w(V,function(W,De,ge,Ee,de){ie=0===De&&void 0===Q?W:J(ie,W,De,ge,Ee,de)},ee),ie},Ye.featureEach=U,Ye.featureReduce=function $(V,J,Q){var ee=Q;return U(V,function(ie,W){ee=0===W&&void 0===Q?ie:J(ee,ie,W)}),ee},Ye.findPoint=function R(V,J){if(!F.isObject(J=J||{}))throw new Error("options is invalid");var ge,Q=J.featureIndex||0,ee=J.multiFeatureIndex||0,ie=J.geometryIndex||0,W=J.coordIndex||0,De=J.properties;switch(V.type){case"FeatureCollection":Q<0&&(Q=V.features.length+Q),De=De||V.features[Q].properties,ge=V.features[Q].geometry;break;case"Feature":De=De||V.properties,ge=V.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":ge=V;break;default:throw new Error("geojson is invalid")}if(null===ge)return null;var Ee=ge.coordinates;switch(ge.type){case"Point":return F.point(Ee,De,J);case"MultiPoint":return ee<0&&(ee=Ee.length+ee),F.point(Ee[ee],De,J);case"LineString":return W<0&&(W=Ee.length+W),F.point(Ee[W],De,J);case"Polygon":return ie<0&&(ie=Ee.length+ie),W<0&&(W=Ee[ie].length+W),F.point(Ee[ie][W],De,J);case"MultiLineString":return ee<0&&(ee=Ee.length+ee),W<0&&(W=Ee[ee].length+W),F.point(Ee[ee][W],De,J);case"MultiPolygon":return ee<0&&(ee=Ee.length+ee),ie<0&&(ie=Ee[ee].length+ie),W<0&&(W=Ee[ee][ie].length-W),F.point(Ee[ee][ie][W],De,J)}throw new Error("geojson is invalid")},Ye.findSegment=function z(V,J){if(!F.isObject(J=J||{}))throw new Error("options is invalid");var ge,Q=J.featureIndex||0,ee=J.multiFeatureIndex||0,ie=J.geometryIndex||0,W=J.segmentIndex||0,De=J.properties;switch(V.type){case"FeatureCollection":Q<0&&(Q=V.features.length+Q),De=De||V.features[Q].properties,ge=V.features[Q].geometry;break;case"Feature":De=De||V.properties,ge=V.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":ge=V;break;default:throw new Error("geojson is invalid")}if(null===ge)return null;var Ee=ge.coordinates;switch(ge.type){case"Point":case"MultiPoint":return null;case"LineString":return W<0&&(W=Ee.length+W-1),F.lineString([Ee[W],Ee[W+1]],De,J);case"Polygon":return ie<0&&(ie=Ee.length+ie),W<0&&(W=Ee[ie].length+W-1),F.lineString([Ee[ie][W],Ee[ie][W+1]],De,J);case"MultiLineString":return ee<0&&(ee=Ee.length+ee),W<0&&(W=Ee[ee].length+W-1),F.lineString([Ee[ee][W],Ee[ee][W+1]],De,J);case"MultiPolygon":return ee<0&&(ee=Ee.length+ee),ie<0&&(ie=Ee[ee].length+ie),W<0&&(W=Ee[ee][ie].length-W-1),F.lineString([Ee[ee][ie][W],Ee[ee][ie][W+1]],De,J)}throw new Error("geojson is invalid")},Ye.flattenEach=Re,Ye.flattenReduce=function ye(V,J,Q){var ee=Q;return Re(V,function(ie,W,De){ee=0===W&&0===De&&void 0===Q?ie:J(ee,ie,W,De)}),ee},Ye.geomEach=ve,Ye.geomReduce=function Ne(V,J,Q){var ee=Q;return ve(V,function(ie,W,De,ge,Ee){ee=0===W&&void 0===Q?ie:J(ee,ie,W,De,ge,Ee)}),ee},Ye.lineEach=oe,Ye.lineReduce=function he(V,J,Q){var ee=Q;return oe(V,function(ie,W,De,ge){ee=0===W&&void 0===Q?ie:J(ee,ie,W,De,ge)}),ee},Ye.propEach=I,Ye.propReduce=function O(V,J,Q){var ee=Q;return I(V,function(ie,W){ee=0===W&&void 0===Q?ie:J(ee,ie,W)}),ee},Ye.segmentEach=_e,Ye.segmentReduce=function Oe(V,J,Q){var ee=Q,ie=!1;return _e(V,function(W,De,ge,Ee,de){ee=!1===ie&&void 0===Q?W:J(ee,W,De,ge,Ee,de),ie=!0}),ee}},2906:function(ft){ft.exports=function(){"use strict";function fe(x,I,O,U,$){for(;U>O;){if(U-O>600){var ne=U-O+1,ve=I-O+1,Ne=Math.log(ne),Re=.5*Math.exp(2*Ne/3),ye=.5*Math.sqrt(Ne*Re*(ne-Re)/ne)*(ve-ne/2<0?-1:1);fe(x,I,Math.max(O,Math.floor(I-ve*Re/ne+ye)),Math.min(U,Math.floor(I+(ne-ve)*Re/ne+ye)),$)}var oe=x[I],he=O,z=U;for(F(x,O,I),$(x[U],oe)>0&&F(x,O,U);he<z;){for(F(x,he,z),he++,z--;$(x[he],oe)<0;)he++;for(;$(x[z],oe)>0;)z--}0===$(x[O],oe)?F(x,O,z):F(x,++z,U),z<=I&&(O=z+1),I<=z&&(U=z-1)}}function F(x,I,O){var U=x[I];x[I]=x[O],x[O]=U}function w(x,I){return x<I?-1:x>I?1:0}return function Ye(x,I,O,U,$){fe(x,I,O||0,U||x.length-1,$||w)}}()},7929:(ft,Ye,fe)=>{"use strict";ft.exports=w,ft.exports.default=w;var F=fe(2906);function w(z,R){if(!(this instanceof w))return new w(z,R);this._maxEntries=Math.max(4,z||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),R&&this._initFormat(R),this.clear()}function x(z,R,V){if(!V)return R.indexOf(z);for(var J=0;J<R.length;J++)if(V(z,R[J]))return J;return-1}function I(z,R){O(z,0,z.children.length,R,z)}function O(z,R,V,J,Q){Q||(Q=oe(null)),Q.minX=1/0,Q.minY=1/0,Q.maxX=-1/0,Q.maxY=-1/0;for(var ie,ee=R;ee<V;ee++)ie=z.children[ee],U(Q,z.leaf?J(ie):ie);return Q}function U(z,R){return z.minX=Math.min(z.minX,R.minX),z.minY=Math.min(z.minY,R.minY),z.maxX=Math.max(z.maxX,R.maxX),z.maxY=Math.max(z.maxY,R.maxY),z}function $(z,R){return z.minX-R.minX}function ne(z,R){return z.minY-R.minY}function ve(z){return(z.maxX-z.minX)*(z.maxY-z.minY)}function Ne(z){return z.maxX-z.minX+(z.maxY-z.minY)}function Re(z,R){return(Math.max(R.maxX,z.maxX)-Math.min(R.minX,z.minX))*(Math.max(R.maxY,z.maxY)-Math.min(R.minY,z.minY))}function ye(z,R){var V=Math.max(z.minX,R.minX),J=Math.max(z.minY,R.minY),Q=Math.min(z.maxX,R.maxX),ee=Math.min(z.maxY,R.maxY);return Math.max(0,Q-V)*Math.max(0,ee-J)}function _e(z,R){return z.minX<=R.minX&&z.minY<=R.minY&&R.maxX<=z.maxX&&R.maxY<=z.maxY}function Oe(z,R){return R.minX<=z.maxX&&R.minY<=z.maxY&&R.maxX>=z.minX&&R.maxY>=z.minY}function oe(z){return{children:z,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function he(z,R,V,J,Q){for(var ie,ee=[R,V];ee.length;)!((V=ee.pop())-(R=ee.pop())<=J)&&(ie=R+Math.ceil((V-R)/J/2)*J,F(z,ie,R,V,Q),ee.push(R,ie,ie,V))}w.prototype={all:function(){return this._all(this.data,[])},search:function(z){var R=this.data,V=[],J=this.toBBox;if(!Oe(z,R))return V;for(var ee,ie,W,De,Q=[];R;){for(ee=0,ie=R.children.length;ee<ie;ee++)W=R.children[ee],Oe(z,De=R.leaf?J(W):W)&&(R.leaf?V.push(W):_e(z,De)?this._all(W,V):Q.push(W));R=Q.pop()}return V},collides:function(z){var R=this.data,V=this.toBBox;if(!Oe(z,R))return!1;for(var Q,ee,ie,W,J=[];R;){for(Q=0,ee=R.children.length;Q<ee;Q++)if(ie=R.children[Q],Oe(z,W=R.leaf?V(ie):ie)){if(R.leaf||_e(z,W))return!0;J.push(ie)}R=J.pop()}return!1},load:function(z){if(!z||!z.length)return this;if(z.length<this._minEntries){for(var R=0,V=z.length;R<V;R++)this.insert(z[R]);return this}var J=this._build(z.slice(),0,z.length-1,0);if(this.data.children.length)if(this.data.height===J.height)this._splitRoot(this.data,J);else{if(this.data.height<J.height){var Q=this.data;this.data=J,J=Q}this._insert(J,this.data.height-J.height-1,!0)}else this.data=J;return this},insert:function(z){return z&&this._insert(z,this.data.height-1),this},clear:function(){return this.data=oe([]),this},remove:function(z,R){if(!z)return this;for(var ie,W,De,ge,V=this.data,J=this.toBBox(z),Q=[],ee=[];V||Q.length;){if(V||(V=Q.pop(),W=Q[Q.length-1],ie=ee.pop(),ge=!0),V.leaf&&-1!==(De=x(z,V.children,R)))return V.children.splice(De,1),Q.push(V),this._condense(Q),this;ge||V.leaf||!_e(V,J)?W?(ie++,V=W.children[ie],ge=!1):V=null:(Q.push(V),ee.push(ie),ie=0,W=V,V=V.children[0])}return this},toBBox:function(z){return z},compareMinX:$,compareMinY:ne,toJSON:function(){return this.data},fromJSON:function(z){return this.data=z,this},_all:function(z,R){for(var V=[];z;)z.leaf?R.push.apply(R,z.children):V.push.apply(V,z.children),z=V.pop();return R},_build:function(z,R,V,J){var ie,Q=V-R+1,ee=this._maxEntries;if(Q<=ee)return I(ie=oe(z.slice(R,V+1)),this.toBBox),ie;J||(J=Math.ceil(Math.log(Q)/Math.log(ee)),ee=Math.ceil(Q/Math.pow(ee,J-1))),(ie=oe([])).leaf=!1,ie.height=J;var ge,Ee,de,Qe,W=Math.ceil(Q/ee),De=W*Math.ceil(Math.sqrt(ee));for(he(z,R,V,De,this.compareMinX),ge=R;ge<=V;ge+=De)for(he(z,ge,de=Math.min(ge+De-1,V),W,this.compareMinY),Ee=ge;Ee<=de;Ee+=W)Qe=Math.min(Ee+W-1,de),ie.children.push(this._build(z,Ee,Qe,J-1));return I(ie,this.toBBox),ie},_chooseSubtree:function(z,R,V,J){for(var Q,ee,ie,W,De,ge,Ee,de;J.push(R),!R.leaf&&J.length-1!==V;){for(Ee=de=1/0,Q=0,ee=R.children.length;Q<ee;Q++)De=ve(ie=R.children[Q]),(ge=Re(z,ie)-De)<de?(de=ge,Ee=De<Ee?De:Ee,W=ie):ge===de&&De<Ee&&(Ee=De,W=ie);R=W||R.children[0]}return R},_insert:function(z,R,V){var Q=V?z:(0,this.toBBox)(z),ee=[],ie=this._chooseSubtree(Q,this.data,R,ee);for(ie.children.push(z),U(ie,Q);R>=0&&ee[R].children.length>this._maxEntries;)this._split(ee,R),R--;this._adjustParentBBoxes(Q,ee,R)},_split:function(z,R){var V=z[R],J=V.children.length,Q=this._minEntries;this._chooseSplitAxis(V,Q,J);var ee=this._chooseSplitIndex(V,Q,J),ie=oe(V.children.splice(ee,V.children.length-ee));ie.height=V.height,ie.leaf=V.leaf,I(V,this.toBBox),I(ie,this.toBBox),R?z[R-1].children.push(ie):this._splitRoot(V,ie)},_splitRoot:function(z,R){this.data=oe([z,R]),this.data.height=z.height+1,this.data.leaf=!1,I(this.data,this.toBBox)},_chooseSplitIndex:function(z,R,V){var J,Q,ee,ie,W,De,ge,Ee;for(De=ge=1/0,J=R;J<=V-R;J++)ie=ye(Q=O(z,0,J,this.toBBox),ee=O(z,J,V,this.toBBox)),W=ve(Q)+ve(ee),ie<De?(De=ie,Ee=J,ge=W<ge?W:ge):ie===De&&W<ge&&(ge=W,Ee=J);return Ee},_chooseSplitAxis:function(z,R,V){var J=z.leaf?this.compareMinX:$,Q=z.leaf?this.compareMinY:ne;this._allDistMargin(z,R,V,J)<this._allDistMargin(z,R,V,Q)&&z.children.sort(J)},_allDistMargin:function(z,R,V,J){z.children.sort(J);var De,ge,Q=this.toBBox,ee=O(z,0,R,Q),ie=O(z,V-R,V,Q),W=Ne(ee)+Ne(ie);for(De=R;De<V-R;De++)ge=z.children[De],U(ee,z.leaf?Q(ge):ge),W+=Ne(ee);for(De=V-R-1;De>=R;De--)ge=z.children[De],U(ie,z.leaf?Q(ge):ge),W+=Ne(ie);return W},_adjustParentBBoxes:function(z,R,V){for(var J=V;J>=0;J--)U(R[J],z)},_condense:function(z){for(var V,R=z.length-1;R>=0;R--)0===z[R].children.length?R>0?(V=z[R-1].children).splice(V.indexOf(z[R]),1):this.clear():I(z[R],this.toBBox)},_initFormat:function(z){var R=["return a"," - b",";"];this.compareMinX=new Function("a","b",R.join(z[0])),this.compareMinY=new Function("a","b",R.join(z[1])),this.toBBox=new Function("a","return {minX: a"+z[0]+", minY: a"+z[1]+", maxX: a"+z[2]+", maxY: a"+z[3]+"};")}}},1098:(ft,Ye,fe)=>{"use strict";var F=fe(491),w=fe(5436),x=w(F("String.prototype.indexOf"));ft.exports=function(O,U){var $=F(O,!!U);return"function"==typeof $&&x(O,".prototype.")>-1?w($):$}},5436:(ft,Ye,fe)=>{"use strict";var F=fe(5333),w=fe(491),x=w("%Function.prototype.apply%"),I=w("%Function.prototype.call%"),O=w("%Reflect.apply%",!0)||F.call(I,x),U=w("%Object.getOwnPropertyDescriptor%",!0),$=w("%Object.defineProperty%",!0),ne=w("%Math.max%");if($)try{$({},"a",{value:1})}catch{$=null}ft.exports=function(Re){var ye=O(F,I,arguments);return U&&$&&U(ye,"length").configurable&&$(ye,"length",{value:1+ne(0,Re.length-(arguments.length-1))}),ye};var ve=function(){return O(F,x,arguments)};$?$(ft.exports,"apply",{value:ve}):ft.exports.apply=ve},3664:(ft,Ye,fe)=>{"use strict";var F=fe(1414),w=fe(7935),x=fe(4179),I=fe(6138).orient2d;function O(Q,ee,ie){ee=Math.max(0,void 0===ee?2:ee),ie=ie||0;var W=function Oe(Q){for(var ee=Q[0],ie=Q[0],W=Q[0],De=Q[0],ge=0;ge<Q.length;ge++){var Ee=Q[ge];Ee[0]<ee[0]&&(ee=Ee),Ee[0]>W[0]&&(W=Ee),Ee[1]<ie[1]&&(ie=Ee),Ee[1]>De[1]&&(De=Ee)}var de=[ee,ie,W,De],Qe=de.slice();for(ge=0;ge<Q.length;ge++)x(Q[ge],de)||Qe.push(Q[ge]);return function J(Q){Q.sort(V);for(var ee=[],ie=0;ie<Q.length;ie++){for(;ee.length>=2&&Re(ee[ee.length-2],ee[ee.length-1],Q[ie])<=0;)ee.pop();ee.push(Q[ie])}for(var W=[],De=Q.length-1;De>=0;De--){for(;W.length>=2&&Re(W[W.length-2],W[W.length-1],Q[De])<=0;)W.pop();W.push(Q[De])}return W.pop(),ee.pop(),ee.concat(W)}(Qe)}(Q),De=new F(16);De.toBBox=function(dt){return{minX:dt[0],minY:dt[1],maxX:dt[0],maxY:dt[1]}},De.compareMinX=function(dt,$e){return dt[0]-$e[0]},De.compareMinY=function(dt,$e){return dt[1]-$e[1]},De.load(Q);for(var de,ge=[],Ee=0;Ee<W.length;Ee++){var Qe=W[Ee];De.remove(Qe),de=oe(Qe,de),ge.push(de)}var We=new F(16);for(Ee=0;Ee<ge.length;Ee++)We.insert(_e(ge[Ee]));for(var we=ee*ee,Me=ie*ie;ge.length;){var be=ge.shift(),Se=be.p,Fe=be.next.p,me=he(Se,Fe);if(!(me<Me)){var rt=me/we;(Qe=U(De,be.prev.p,Se,Fe,be.next.next.p,rt,We))&&Math.min(he(Qe,Se),he(Qe,Fe))<=rt&&(ge.push(be),ge.push(oe(Qe,be)),De.remove(Qe),We.remove(be),We.insert(_e(be)),We.insert(_e(be.next)))}}be=de;var qe=[];do{qe.push(be.p),be=be.next}while(be!==de);return qe.push(be.p),qe}function U(Q,ee,ie,W,De,ge,Ee){for(var de=new w([],$),Qe=Q.data;Qe;){for(var We=0;We<Qe.children.length;We++){var we=Qe.children[We],Me=Qe.leaf?z(we,ie,W):ne(ie,W,we);Me>ge||de.push({node:we,dist:Me})}for(;de.length&&!de.peek().node.children;){var be=de.pop(),Se=be.node,Fe=z(Se,ee,ie),me=z(Se,W,De);if(be.dist<Fe&&be.dist<me&&Ne(ie,Se,Ee)&&Ne(W,Se,Ee))return Se}(Qe=de.pop())&&(Qe=Qe.node)}return null}function $(Q,ee){return Q.dist-ee.dist}function ne(Q,ee,ie){if(ve(Q,ie)||ve(ee,ie))return 0;var W=R(Q[0],Q[1],ee[0],ee[1],ie.minX,ie.minY,ie.maxX,ie.minY);if(0===W)return 0;var De=R(Q[0],Q[1],ee[0],ee[1],ie.minX,ie.minY,ie.minX,ie.maxY);if(0===De)return 0;var ge=R(Q[0],Q[1],ee[0],ee[1],ie.maxX,ie.minY,ie.maxX,ie.maxY);if(0===ge)return 0;var Ee=R(Q[0],Q[1],ee[0],ee[1],ie.minX,ie.maxY,ie.maxX,ie.maxY);return 0===Ee?0:Math.min(W,De,ge,Ee)}function ve(Q,ee){return Q[0]>=ee.minX&&Q[0]<=ee.maxX&&Q[1]>=ee.minY&&Q[1]<=ee.maxY}function Ne(Q,ee,ie){for(var W=Math.min(Q[0],ee[0]),De=Math.min(Q[1],ee[1]),ge=Math.max(Q[0],ee[0]),Ee=Math.max(Q[1],ee[1]),de=ie.search({minX:W,minY:De,maxX:ge,maxY:Ee}),Qe=0;Qe<de.length;Qe++)if(ye(de[Qe].p,de[Qe].next.p,Q,ee))return!1;return!0}function Re(Q,ee,ie){return I(Q[0],Q[1],ee[0],ee[1],ie[0],ie[1])}function ye(Q,ee,ie,W){return Q!==W&&ee!==ie&&Re(Q,ee,ie)>0!=Re(Q,ee,W)>0&&Re(ie,W,Q)>0!=Re(ie,W,ee)>0}function _e(Q){var ee=Q.p,ie=Q.next.p;return Q.minX=Math.min(ee[0],ie[0]),Q.minY=Math.min(ee[1],ie[1]),Q.maxX=Math.max(ee[0],ie[0]),Q.maxY=Math.max(ee[1],ie[1]),Q}function oe(Q,ee){var ie={p:Q,prev:null,next:null,minX:0,minY:0,maxX:0,maxY:0};return ee?(ie.next=ee.next,ie.prev=ee,ee.next.prev=ie,ee.next=ie):(ie.prev=ie,ie.next=ie),ie}function he(Q,ee){var ie=Q[0]-ee[0],W=Q[1]-ee[1];return ie*ie+W*W}function z(Q,ee,ie){var W=ee[0],De=ee[1],ge=ie[0]-W,Ee=ie[1]-De;if(0!==ge||0!==Ee){var de=((Q[0]-W)*ge+(Q[1]-De)*Ee)/(ge*ge+Ee*Ee);de>1?(W=ie[0],De=ie[1]):de>0&&(W+=ge*de,De+=Ee*de)}return(ge=Q[0]-W)*ge+(Ee=Q[1]-De)*Ee}function R(Q,ee,ie,W,De,ge,Ee,de){var Rt,Et,Dt,Ft,Qe=ie-Q,We=W-ee,we=Ee-De,Me=de-ge,be=Q-De,Se=ee-ge,Fe=Qe*Qe+We*We,me=Qe*we+We*Me,rt=we*we+Me*Me,qe=Qe*be+We*Se,dt=we*be+Me*Se,$e=Fe*rt-me*me,yt=$e,vt=$e;0===$e?(Et=0,yt=1,Ft=dt,vt=rt):(Ft=Fe*dt-me*qe,(Et=me*dt-rt*qe)<0?(Et=0,Ft=dt,vt=rt):Et>yt&&(Et=yt,Ft=dt+me,vt=rt)),Ft<0?(Ft=0,-qe<0?Et=0:-qe>Fe?Et=yt:(Et=-qe,yt=Fe)):Ft>vt&&(Ft=vt,-qe+me<0?Et=0:-qe+me>Fe?Et=yt:(Et=-qe+me,yt=Fe));var dn=(1-(Dt=0===Ft?0:Ft/vt))*De+Dt*Ee-((1-(Rt=0===Et?0:Et/yt))*Q+Rt*ie),Xe=(1-Dt)*ge+Dt*de-((1-Rt)*ee+Rt*W);return dn*dn+Xe*Xe}function V(Q,ee){return Q[0]===ee[0]?Q[1]-ee[1]:Q[0]-ee[0]}w.default&&(w=w.default),ft.exports=O,ft.exports.default=O},3970:(ft,Ye,fe)=>{var F=fe(7809),w=fe(8147),x=fe(314),I=fe(4720),O=fe(1139),U=fe(2365),$=Date.prototype.getTime;function ve(ye){return null==ye}function Ne(ye){return!(!ye||"object"!=typeof ye||"number"!=typeof ye.length||"function"!=typeof ye.copy||"function"!=typeof ye.slice||ye.length>0&&"number"!=typeof ye[0])}ft.exports=function ne(ye,_e,Oe){var oe=Oe||{};return!!(oe.strict?x(ye,_e):ye===_e)||(!ye||!_e||"object"!=typeof ye&&"object"!=typeof _e?oe.strict?x(ye,_e):ye==_e:function Re(ye,_e,Oe){var oe,he;if(typeof ye!=typeof _e||ve(ye)||ve(_e)||ye.prototype!==_e.prototype||w(ye)!==w(_e))return!1;var z=I(ye),R=I(_e);if(z!==R)return!1;if(z||R)return ye.source===_e.source&&O(ye)===O(_e);if(U(ye)&&U(_e))return $.call(ye)===$.call(_e);var V=Ne(ye),J=Ne(_e);if(V!==J)return!1;if(V||J){if(ye.length!==_e.length)return!1;for(oe=0;oe<ye.length;oe++)if(ye[oe]!==_e[oe])return!1;return!0}if(typeof ye!=typeof _e)return!1;try{var Q=F(ye),ee=F(_e)}catch{return!1}if(Q.length!==ee.length)return!1;for(Q.sort(),ee.sort(),oe=Q.length-1;oe>=0;oe--)if(Q[oe]!=ee[oe])return!1;for(oe=Q.length-1;oe>=0;oe--)if(!ne(ye[he=Q[oe]],_e[he],Oe))return!1;return!0}(ye,_e,oe))}},1648:(ft,Ye,fe)=>{"use strict";var F=fe(7809),w="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),x=Object.prototype.toString,I=Array.prototype.concat,O=Object.defineProperty,$=fe(2486)(),ne=O&&$,ve=function(Re,ye,_e,Oe){if(ye in Re)if(!0===Oe){if(Re[ye]===_e)return}else if(!function(Re){return"function"==typeof Re&&"[object Function]"===x.call(Re)}(Oe)||!Oe())return;ne?O(Re,ye,{configurable:!0,enumerable:!1,value:_e,writable:!0}):Re[ye]=_e},Ne=function(Re,ye){var _e=arguments.length>2?arguments[2]:{},Oe=F(ye);w&&(Oe=I.call(Oe,Object.getOwnPropertySymbols(ye)));for(var oe=0;oe<Oe.length;oe+=1)ve(Re,Oe[oe],ye[Oe[oe]],_e[Oe[oe]])};Ne.supportsDescriptors=!!ne,ft.exports=Ne},7649:ft=>{function Ye(fe,F,w,x){this.dataset=[],this.epsilon=1,this.minPts=2,this.distance=this._euclideanDistance,this.clusters=[],this.noise=[],this._visited=[],this._assigned=[],this._datasetLength=0,this._init(fe,F,w,x)}Ye.prototype.run=function(fe,F,w,x){this._init(fe,F,w,x);for(var I=0;I<this._datasetLength;I++)if(1!==this._visited[I]){this._visited[I]=1;var O=this._regionQuery(I);if(O.length<this.minPts)this.noise.push(I);else{var U=this.clusters.length;this.clusters.push([]),this._addToCluster(I,U),this._expandCluster(U,O)}}return this.clusters},Ye.prototype._init=function(fe,F,w,x){if(fe){if(!(fe instanceof Array))throw Error("Dataset must be of type array, "+typeof fe+" given");this.dataset=fe,this.clusters=[],this.noise=[],this._datasetLength=fe.length,this._visited=new Array(this._datasetLength),this._assigned=new Array(this._datasetLength)}F&&(this.epsilon=F),w&&(this.minPts=w),x&&(this.distance=x)},Ye.prototype._expandCluster=function(fe,F){for(var w=0;w<F.length;w++){var x=F[w];if(1!==this._visited[x]){this._visited[x]=1;var I=this._regionQuery(x);I.length>=this.minPts&&(F=this._mergeArrays(F,I))}1!==this._assigned[x]&&this._addToCluster(x,fe)}},Ye.prototype._addToCluster=function(fe,F){this.clusters[F].push(fe),this._assigned[fe]=1},Ye.prototype._regionQuery=function(fe){for(var F=[],w=0;w<this._datasetLength;w++)this.distance(this.dataset[fe],this.dataset[w])<this.epsilon&&F.push(w);return F},Ye.prototype._mergeArrays=function(fe,F){for(var w=F.length,x=0;x<w;x++){var I=F[x];fe.indexOf(I)<0&&fe.push(I)}return fe},Ye.prototype._euclideanDistance=function(fe,F){for(var w=0,x=Math.min(fe.length,F.length);x--;)w+=(fe[x]-F[x])*(fe[x]-F[x]);return Math.sqrt(w)},ft.exports&&(ft.exports=Ye)},442:ft=>{function Ye(fe,F,w){this.k=3,this.dataset=[],this.assignments=[],this.centroids=[],this.init(fe,F,w)}Ye.prototype.init=function(fe,F,w){this.assignments=[],this.centroids=[],typeof fe<"u"&&(this.dataset=fe),typeof F<"u"&&(this.k=F),typeof w<"u"&&(this.distance=w)},Ye.prototype.run=function(fe,F){this.init(fe,F);for(var w=this.dataset.length,x=0;x<this.k;x++)this.centroids[x]=this.randomCentroid();for(var I=!0;I;){I=this.assign();for(var O=0;O<this.k;O++){for(var U=new Array(Ne),$=0,ne=0;ne<Ne;ne++)U[ne]=0;for(var ve=0;ve<w;ve++){var Ne=this.dataset[ve].length;if(O===this.assignments[ve]){for(ne=0;ne<Ne;ne++)U[ne]+=this.dataset[ve][ne];$++}}if($>0){for(ne=0;ne<Ne;ne++)U[ne]/=$;this.centroids[O]=U}else this.centroids[O]=this.randomCentroid(),I=!0}}return this.getClusters()},Ye.prototype.randomCentroid=function(){var F,w,fe=this.dataset.length-1;do{w=Math.round(Math.random()*fe),F=this.dataset[w]}while(this.centroids.indexOf(F)>=0);return F},Ye.prototype.assign=function(){for(var w,fe=!1,F=this.dataset.length,x=0;x<F;x++)(w=this.argmin(this.dataset[x],this.centroids,this.distance))!=this.assignments[x]&&(this.assignments[x]=w,fe=!0);return fe},Ye.prototype.getClusters=function(){for(var F,fe=new Array(this.k),w=0;w<this.assignments.length;w++)typeof fe[F=this.assignments[w]]>"u"&&(fe[F]=[]),fe[F].push(w);return fe},Ye.prototype.argmin=function(fe,F,w){for(var U,x=Number.MAX_VALUE,I=0,O=F.length,$=0;$<O;$++)(U=w(fe,F[$]))<x&&(x=U,I=$);return I},Ye.prototype.distance=function(fe,F){for(var w=0,x=Math.min(fe.length,F.length);x--;){var I=fe[x]-F[x];w+=I*I}return Math.sqrt(w)},ft.exports&&(ft.exports=Ye)},2195:(ft,Ye,fe)=>{if(ft.exports)var F=fe(6216);function w(x,I,O,U){this.epsilon=1,this.minPts=1,this.distance=this._euclideanDistance,this._reachability=[],this._processed=[],this._coreDistance=0,this._orderedList=[],this._init(x,I,O,U)}w.prototype.run=function(x,I,O,U){this._init(x,I,O,U);for(var $=0,ne=this.dataset.length;$<ne;$++)if(1!==this._processed[$]){this._processed[$]=1,this.clusters.push([$]);var ve=this.clusters.length-1;this._orderedList.push($);var Ne=new F(null,null,"asc"),Re=this._regionQuery($);void 0!==this._distanceToCore($)&&(this._updateQueue($,Re,Ne),this._expandCluster(ve,Ne))}return this.clusters},w.prototype.getReachabilityPlot=function(){for(var x=[],I=0,O=this._orderedList.length;I<O;I++){var U=this._orderedList[I];x.push([U,this._reachability[U]])}return x},w.prototype._init=function(x,I,O,U){if(x){if(!(x instanceof Array))throw Error("Dataset must be of type array, "+typeof x+" given");this.dataset=x,this.clusters=[],this._reachability=new Array(this.dataset.length),this._processed=new Array(this.dataset.length),this._coreDistance=0,this._orderedList=[]}I&&(this.epsilon=I),O&&(this.minPts=O),U&&(this.distance=U)},w.prototype._updateQueue=function(x,I,O){var U=this;this._coreDistance=this._distanceToCore(x),I.forEach(function($){if(void 0===U._processed[$]){var ne=U.distance(U.dataset[x],U.dataset[$]),ve=Math.max(U._coreDistance,ne);void 0===U._reachability[$]?(U._reachability[$]=ve,O.insert($,ve)):ve<U._reachability[$]&&(U._reachability[$]=ve,O.remove($),O.insert($,ve))}})},w.prototype._expandCluster=function(x,I){for(var O=I.getElements(),U=0,$=O.length;U<$;U++){var ne=O[U];if(void 0===this._processed[ne]){var ve=this._regionQuery(ne);this._processed[ne]=1,this.clusters[x].push(ne),this._orderedList.push(ne),void 0!==this._distanceToCore(ne)&&(this._updateQueue(ne,ve,I),this._expandCluster(x,I))}}},w.prototype._distanceToCore=function(x){for(var I=this.epsilon,O=0;O<I;O++)if(this._regionQuery(x,O).length>=this.minPts)return O},w.prototype._regionQuery=function(x,I){I=I||this.epsilon;for(var O=[],U=0,$=this.dataset.length;U<$;U++)this.distance(this.dataset[x],this.dataset[U])<I&&O.push(U);return O},w.prototype._euclideanDistance=function(x,I){for(var O=0,U=Math.min(x.length,I.length);U--;)O+=(x[U]-I[U])*(x[U]-I[U]);return Math.sqrt(O)},ft.exports&&(ft.exports=w)},6216:ft=>{function Ye(fe,F,w){this._queue=[],this._priorities=[],this._sorting="desc",this._init(fe,F,w)}Ye.prototype.insert=function(fe,F){for(var w=this._queue.length,x=w;x--;){var I=this._priorities[x];"desc"===this._sorting?F>I&&(w=x):F<I&&(w=x)}this._insertAt(fe,F,w)},Ye.prototype.remove=function(fe){for(var F=this._queue.length;F--;)if(fe===this._queue[F]){this._queue.splice(F,1),this._priorities.splice(F,1);break}},Ye.prototype.forEach=function(fe){this._queue.forEach(fe)},Ye.prototype.getElements=function(){return this._queue},Ye.prototype.getElementPriority=function(fe){return this._priorities[fe]},Ye.prototype.getPriorities=function(){return this._priorities},Ye.prototype.getElementsWithPriorities=function(){for(var fe=[],F=0,w=this._queue.length;F<w;F++)fe.push([this._queue[F],this._priorities[F]]);return fe},Ye.prototype._init=function(fe,F,w){if(fe&&F){if(this._queue=[],this._priorities=[],fe.length!==F.length)throw new Error("Arrays must have the same length");for(var x=0;x<fe.length;x++)this.insert(fe[x],F[x])}w&&(this._sorting=w)},Ye.prototype._insertAt=function(fe,F,w){this._queue.length===w?(this._queue.push(fe),this._priorities.push(F)):(this._queue.splice(w,0,fe),this._priorities.splice(w,0,F))},ft.exports&&(ft.exports=Ye)},3367:(ft,Ye,fe)=>{ft.exports&&(ft.exports={DBSCAN:fe(7649),KMEANS:fe(442),OPTICS:fe(2195),PriorityQueue:fe(6216)})},9145:ft=>{"use strict";function Ye(we,Me,be){be=be||2;var qe,dt,$e,Rt,Et,Dt,Ft,Se=Me&&Me.length,Fe=Se?Me[0]*be:we.length,me=fe(we,0,Fe,be,!0),rt=[];if(!me||me.next===me.prev)return rt;if(Se&&(me=function $(we,Me,be,Se){var me,rt,$e,Fe=[];for(me=0,rt=Me.length;me<rt;me++)($e=fe(we,Me[me]*Se,me<rt-1?Me[me+1]*Se:we.length,Se,!1))===$e.next&&($e.steiner=!0),Fe.push(oe($e));for(Fe.sort(ne),me=0;me<Fe.length;me++)be=ve(Fe[me],be);return be}(we,Me,me,be)),we.length>80*be){qe=$e=we[0],dt=Rt=we[1];for(var yt=be;yt<Fe;yt+=be)(Et=we[yt])<qe&&(qe=Et),(Dt=we[yt+1])<dt&&(dt=Dt),Et>$e&&($e=Et),Dt>Rt&&(Rt=Dt);Ft=0!==(Ft=Math.max($e-qe,Rt-dt))?32767/Ft:0}return w(me,rt,be,qe,dt,Ft,0),rt}function fe(we,Me,be,Se,Fe){var me,rt;if(Fe===We(we,Me,be,Se)>0)for(me=Me;me<be;me+=Se)rt=Ee(me,we[me],we[me+1],rt);else for(me=be-Se;me>=Me;me-=Se)rt=Ee(me,we[me],we[me+1],rt);return rt&&V(rt,rt.next)&&(de(rt),rt=rt.next),rt}function F(we,Me){if(!we)return we;Me||(Me=we);var Se,be=we;do{if(Se=!1,be.steiner||!V(be,be.next)&&0!==R(be.prev,be,be.next))be=be.next;else{if(de(be),(be=Me=be.prev)===be.next)break;Se=!0}}while(Se||be!==Me);return Me}function w(we,Me,be,Se,Fe,me,rt){if(we){!rt&&me&&function ye(we,Me,be,Se){var Fe=we;do{0===Fe.z&&(Fe.z=Oe(Fe.x,Fe.y,Me,be,Se)),Fe.prevZ=Fe.prev,Fe.nextZ=Fe.next,Fe=Fe.next}while(Fe!==we);Fe.prevZ.nextZ=null,Fe.prevZ=null,function _e(we){var Me,be,Se,Fe,me,rt,qe,dt,$e=1;do{for(be=we,we=null,me=null,rt=0;be;){for(rt++,Se=be,qe=0,Me=0;Me<$e&&(qe++,Se=Se.nextZ);Me++);for(dt=$e;qe>0||dt>0&&Se;)0!==qe&&(0===dt||!Se||be.z<=Se.z)?(Fe=be,be=be.nextZ,qe--):(Fe=Se,Se=Se.nextZ,dt--),me?me.nextZ=Fe:we=Fe,Fe.prevZ=me,me=Fe;be=Se}me.nextZ=null,$e*=2}while(rt>1)}(Fe)}(we,Se,Fe,me);for(var dt,$e,qe=we;we.prev!==we.next;)if(dt=we.prev,$e=we.next,me?I(we,Se,Fe,me):x(we))Me.push(dt.i/be|0),Me.push(we.i/be|0),Me.push($e.i/be|0),de(we),we=$e.next,qe=$e.next;else if((we=$e)===qe){rt?1===rt?w(we=O(F(we),Me,be),Me,be,Se,Fe,me,2):2===rt&&U(we,Me,be,Se,Fe,me):w(F(we),Me,be,Se,Fe,me,1);break}}}function x(we){var Me=we.prev,be=we,Se=we.next;if(R(Me,be,Se)>=0)return!1;for(var Fe=Me.x,me=be.x,rt=Se.x,qe=Me.y,dt=be.y,$e=Se.y,Rt=Fe<me?Fe<rt?Fe:rt:me<rt?me:rt,Et=qe<dt?qe<$e?qe:$e:dt<$e?dt:$e,Dt=Fe>me?Fe>rt?Fe:rt:me>rt?me:rt,Ft=qe>dt?qe>$e?qe:$e:dt>$e?dt:$e,yt=Se.next;yt!==Me;){if(yt.x>=Rt&&yt.x<=Dt&&yt.y>=Et&&yt.y<=Ft&&he(Fe,qe,me,dt,rt,$e,yt.x,yt.y)&&R(yt.prev,yt,yt.next)>=0)return!1;yt=yt.next}return!0}function I(we,Me,be,Se){var Fe=we.prev,me=we,rt=we.next;if(R(Fe,me,rt)>=0)return!1;for(var qe=Fe.x,dt=me.x,$e=rt.x,Rt=Fe.y,Et=me.y,Dt=rt.y,Ft=qe<dt?qe<$e?qe:$e:dt<$e?dt:$e,yt=Rt<Et?Rt<Dt?Rt:Dt:Et<Dt?Et:Dt,vt=qe>dt?qe>$e?qe:$e:dt>$e?dt:$e,dr=Rt>Et?Rt>Dt?Rt:Dt:Et>Dt?Et:Dt,In=Oe(Ft,yt,Me,be,Se),jr=Oe(vt,dr,Me,be,Se),Jt=we.prevZ,dn=we.nextZ;Jt&&Jt.z>=In&&dn&&dn.z<=jr;){if(Jt.x>=Ft&&Jt.x<=vt&&Jt.y>=yt&&Jt.y<=dr&&Jt!==Fe&&Jt!==rt&&he(qe,Rt,dt,Et,$e,Dt,Jt.x,Jt.y)&&R(Jt.prev,Jt,Jt.next)>=0||(Jt=Jt.prevZ,dn.x>=Ft&&dn.x<=vt&&dn.y>=yt&&dn.y<=dr&&dn!==Fe&&dn!==rt&&he(qe,Rt,dt,Et,$e,Dt,dn.x,dn.y)&&R(dn.prev,dn,dn.next)>=0))return!1;dn=dn.nextZ}for(;Jt&&Jt.z>=In;){if(Jt.x>=Ft&&Jt.x<=vt&&Jt.y>=yt&&Jt.y<=dr&&Jt!==Fe&&Jt!==rt&&he(qe,Rt,dt,Et,$e,Dt,Jt.x,Jt.y)&&R(Jt.prev,Jt,Jt.next)>=0)return!1;Jt=Jt.prevZ}for(;dn&&dn.z<=jr;){if(dn.x>=Ft&&dn.x<=vt&&dn.y>=yt&&dn.y<=dr&&dn!==Fe&&dn!==rt&&he(qe,Rt,dt,Et,$e,Dt,dn.x,dn.y)&&R(dn.prev,dn,dn.next)>=0)return!1;dn=dn.nextZ}return!0}function O(we,Me,be){var Se=we;do{var Fe=Se.prev,me=Se.next.next;!V(Fe,me)&&J(Fe,Se,Se.next,me)&&W(Fe,me)&&W(me,Fe)&&(Me.push(Fe.i/be|0),Me.push(Se.i/be|0),Me.push(me.i/be|0),de(Se),de(Se.next),Se=we=me),Se=Se.next}while(Se!==we);return F(Se)}function U(we,Me,be,Se,Fe,me){var rt=we;do{for(var qe=rt.next.next;qe!==rt.prev;){if(rt.i!==qe.i&&z(rt,qe)){var dt=ge(rt,qe);return rt=F(rt,rt.next),dt=F(dt,dt.next),w(rt,Me,be,Se,Fe,me,0),void w(dt,Me,be,Se,Fe,me,0)}qe=qe.next}rt=rt.next}while(rt!==we)}function ne(we,Me){return we.x-Me.x}function ve(we,Me){var be=function Ne(we,Me){var rt,be=Me,Se=we.x,Fe=we.y,me=-1/0;do{if(Fe<=be.y&&Fe>=be.next.y&&be.next.y!==be.y){var qe=be.x+(Fe-be.y)*(be.next.x-be.x)/(be.next.y-be.y);if(qe<=Se&&qe>me&&(me=qe,rt=be.x<be.next.x?be:be.next,qe===Se))return rt}be=be.next}while(be!==Me);if(!rt)return null;var Dt,dt=rt,$e=rt.x,Rt=rt.y,Et=1/0;be=rt;do{Se>=be.x&&be.x>=$e&&Se!==be.x&&he(Fe<Rt?Se:me,Fe,$e,Rt,Fe<Rt?me:Se,Fe,be.x,be.y)&&(Dt=Math.abs(Fe-be.y)/(Se-be.x),W(be,we)&&(Dt<Et||Dt===Et&&(be.x>rt.x||be.x===rt.x&&Re(rt,be)))&&(rt=be,Et=Dt)),be=be.next}while(be!==dt);return rt}(we,Me);if(!be)return Me;var Se=ge(be,we);return F(Se,Se.next),F(be,be.next)}function Re(we,Me){return R(we.prev,we,Me.prev)<0&&R(Me.next,we,we.next)<0}function Oe(we,Me,be,Se,Fe){return(we=1431655765&((we=858993459&((we=252645135&((we=16711935&((we=(we-be)*Fe|0)|we<<8))|we<<4))|we<<2))|we<<1))|(Me=1431655765&((Me=858993459&((Me=252645135&((Me=16711935&((Me=(Me-Se)*Fe|0)|Me<<8))|Me<<4))|Me<<2))|Me<<1))<<1}function oe(we){var Me=we,be=we;do{(Me.x<be.x||Me.x===be.x&&Me.y<be.y)&&(be=Me),Me=Me.next}while(Me!==we);return be}function he(we,Me,be,Se,Fe,me,rt,qe){return(Fe-rt)*(Me-qe)>=(we-rt)*(me-qe)&&(we-rt)*(Se-qe)>=(be-rt)*(Me-qe)&&(be-rt)*(me-qe)>=(Fe-rt)*(Se-qe)}function z(we,Me){return we.next.i!==Me.i&&we.prev.i!==Me.i&&!function ie(we,Me){var be=we;do{if(be.i!==we.i&&be.next.i!==we.i&&be.i!==Me.i&&be.next.i!==Me.i&&J(be,be.next,we,Me))return!0;be=be.next}while(be!==we);return!1}(we,Me)&&(W(we,Me)&&W(Me,we)&&function De(we,Me){var be=we,Se=!1,Fe=(we.x+Me.x)/2,me=(we.y+Me.y)/2;do{be.y>me!=be.next.y>me&&be.next.y!==be.y&&Fe<(be.next.x-be.x)*(me-be.y)/(be.next.y-be.y)+be.x&&(Se=!Se),be=be.next}while(be!==we);return Se}(we,Me)&&(R(we.prev,we,Me.prev)||R(we,Me.prev,Me))||V(we,Me)&&R(we.prev,we,we.next)>0&&R(Me.prev,Me,Me.next)>0)}function R(we,Me,be){return(Me.y-we.y)*(be.x-Me.x)-(Me.x-we.x)*(be.y-Me.y)}function V(we,Me){return we.x===Me.x&&we.y===Me.y}function J(we,Me,be,Se){var Fe=ee(R(we,Me,be)),me=ee(R(we,Me,Se)),rt=ee(R(be,Se,we)),qe=ee(R(be,Se,Me));return!!(Fe!==me&&rt!==qe||0===Fe&&Q(we,be,Me)||0===me&&Q(we,Se,Me)||0===rt&&Q(be,we,Se)||0===qe&&Q(be,Me,Se))}function Q(we,Me,be){return Me.x<=Math.max(we.x,be.x)&&Me.x>=Math.min(we.x,be.x)&&Me.y<=Math.max(we.y,be.y)&&Me.y>=Math.min(we.y,be.y)}function ee(we){return we>0?1:we<0?-1:0}function W(we,Me){return R(we.prev,we,we.next)<0?R(we,Me,we.next)>=0&&R(we,we.prev,Me)>=0:R(we,Me,we.prev)<0||R(we,we.next,Me)<0}function ge(we,Me){var be=new Qe(we.i,we.x,we.y),Se=new Qe(Me.i,Me.x,Me.y),Fe=we.next,me=Me.prev;return we.next=Me,Me.prev=we,be.next=Fe,Fe.prev=be,Se.next=be,be.prev=Se,me.next=Se,Se.prev=me,Se}function Ee(we,Me,be,Se){var Fe=new Qe(we,Me,be);return Se?(Fe.next=Se.next,Fe.prev=Se,Se.next.prev=Fe,Se.next=Fe):(Fe.prev=Fe,Fe.next=Fe),Fe}function de(we){we.next.prev=we.prev,we.prev.next=we.next,we.prevZ&&(we.prevZ.nextZ=we.nextZ),we.nextZ&&(we.nextZ.prevZ=we.prevZ)}function Qe(we,Me,be){this.i=we,this.x=Me,this.y=be,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function We(we,Me,be,Se){for(var Fe=0,me=Me,rt=be-Se;me<be;me+=Se)Fe+=(we[rt]-we[me])*(we[me+1]+we[rt+1]),rt=me;return Fe}ft.exports=Ye,ft.exports.default=Ye,Ye.deviation=function(we,Me,be,Se){var Fe=Me&&Me.length,rt=Math.abs(We(we,0,Fe?Me[0]*be:we.length,be));if(Fe)for(var qe=0,dt=Me.length;qe<dt;qe++)rt-=Math.abs(We(we,Me[qe]*be,qe<dt-1?Me[qe+1]*be:we.length,be));var Et=0;for(qe=0;qe<Se.length;qe+=3){var Dt=Se[qe]*be,Ft=Se[qe+1]*be,yt=Se[qe+2]*be;Et+=Math.abs((we[Dt]-we[yt])*(we[Ft+1]-we[Dt+1])-(we[Dt]-we[Ft])*(we[yt+1]-we[Dt+1]))}return 0===rt&&0===Et?0:Math.abs((Et-rt)/rt)},Ye.flatten=function(we){for(var Me=we[0][0].length,be={vertices:[],holes:[],dimensions:Me},Se=0,Fe=0;Fe<we.length;Fe++){for(var me=0;me<we[Fe].length;me++)for(var rt=0;rt<Me;rt++)be.vertices.push(we[Fe][me][rt]);Fe>0&&be.holes.push(Se+=we[Fe-1].length)}return be}},238:ft=>{"use strict";var fe=Array.prototype.slice,F=Object.prototype.toString;ft.exports=function(I){var O=this;if("function"!=typeof O||"[object Function]"!==F.call(O))throw new TypeError("Function.prototype.bind called on incompatible "+O);for(var $,U=fe.call(arguments,1),ve=Math.max(0,O.length-U.length),Ne=[],Re=0;Re<ve;Re++)Ne.push("$"+Re);if($=Function("binder","return function ("+Ne.join(",")+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof $){var _e=O.apply(this,U.concat(fe.call(arguments)));return Object(_e)===_e?_e:this}return O.apply(I,U.concat(fe.call(arguments)))}),O.prototype){var ye=function(){};ye.prototype=O.prototype,$.prototype=new ye,ye.prototype=null}return $}},5333:(ft,Ye,fe)=>{"use strict";var F=fe(238);ft.exports=Function.prototype.bind||F},1552:ft=>{"use strict";var Ye=function(){return"string"==typeof function(){}.name},fe=Object.getOwnPropertyDescriptor;if(fe)try{fe([],"length")}catch{fe=null}Ye.functionsHaveConfigurableNames=function(){if(!Ye()||!fe)return!1;var x=fe(function(){},"name");return!!x&&!!x.configurable};var F=Function.prototype.bind;Ye.boundFunctionsHaveNames=function(){return Ye()&&"function"==typeof F&&""!==function(){}.bind().name},ft.exports=Ye},3198:(ft,Ye,fe)=>{var F=fe(3970),w=function(U){this.precision=U&&U.precision?U.precision:17,this.direction=!(!U||!U.direction)&&U.direction,this.pseudoNode=!(!U||!U.pseudoNode)&&U.pseudoNode,this.objectComparator=U&&U.objectComparator?U.objectComparator:O};function x(U){return U.coordinates.map(function($){return{type:U.type.replace("Multi",""),coordinates:$}})}function I(U,$){return U.hasOwnProperty("coordinates")?U.coordinates.length===$.coordinates.length:U.length===$.length}function O(U,$){return F(U,$,{strict:!0})}w.prototype.compare=function(U,$){if(U.type!==$.type||!I(U,$))return!1;switch(U.type){case"Point":return this.compareCoord(U.coordinates,$.coordinates);case"LineString":return this.compareLine(U.coordinates,$.coordinates,0,!1);case"Polygon":return this.comparePolygon(U,$);case"Feature":return this.compareFeature(U,$);default:if(0===U.type.indexOf("Multi")){var ne=this,ve=x(U),Ne=x($);return ve.every(function(Re){return this.some(function(ye){return ne.compare(Re,ye)})},Ne)}}return!1},w.prototype.compareCoord=function(U,$){if(U.length!==$.length)return!1;for(var ne=0;ne<U.length;ne++)if(U[ne].toFixed(this.precision)!==$[ne].toFixed(this.precision))return!1;return!0},w.prototype.compareLine=function(U,$,ne,ve){if(!I(U,$))return!1;var Ne=this.pseudoNode?U:this.removePseudo(U),Re=this.pseudoNode?$:this.removePseudo($);if(!ve||this.compareCoord(Ne[0],Re[0])||(Re=this.fixStartIndex(Re,Ne))){var ye=this.compareCoord(Ne[ne],Re[ne]);return this.direction||ye?this.comparePath(Ne,Re):!!this.compareCoord(Ne[ne],Re[Re.length-(1+ne)])&&this.comparePath(Ne.slice().reverse(),Re)}},w.prototype.fixStartIndex=function(U,$){for(var ne,ve=-1,Ne=0;Ne<U.length;Ne++)if(this.compareCoord(U[Ne],$[0])){ve=Ne;break}return ve>=0&&(ne=[].concat(U.slice(ve,U.length),U.slice(1,ve+1))),ne},w.prototype.comparePath=function(U,$){var ne=this;return U.every(function(ve,Ne){return ne.compareCoord(ve,this[Ne])},$)},w.prototype.comparePolygon=function(U,$){if(this.compareLine(U.coordinates[0],$.coordinates[0],1,!0)){var ne=U.coordinates.slice(1,U.coordinates.length),ve=$.coordinates.slice(1,$.coordinates.length),Ne=this;return ne.every(function(Re){return this.some(function(ye){return Ne.compareLine(Re,ye,1,!0)})},ve)}return!1},w.prototype.compareFeature=function(U,$){return!(U.id!==$.id||!this.objectComparator(U.properties,$.properties)||!this.compareBBox(U,$))&&this.compare(U.geometry,$.geometry)},w.prototype.compareBBox=function(U,$){return!!(!U.bbox&&!$.bbox||U.bbox&&$.bbox&&this.compareCoord(U.bbox,$.bbox))},w.prototype.removePseudo=function(U){return U},ft.exports=w},5665:(ft,Ye,fe)=>{var F=fe(1414),w=fe(621),x=fe(8570),I=fe(1568).Z,O=x.featureEach,ne=w.featureCollection;function ve(Ne){var Re=new F(Ne);return Re.insert=function(ye){if("Feature"!==ye.type)throw new Error("invalid feature");return ye.bbox=ye.bbox?ye.bbox:I(ye),F.prototype.insert.call(this,ye)},Re.load=function(ye){var _e=[];return Array.isArray(ye)?ye.forEach(function(Oe){if("Feature"!==Oe.type)throw new Error("invalid features");Oe.bbox=Oe.bbox?Oe.bbox:I(Oe),_e.push(Oe)}):O(ye,function(Oe){if("Feature"!==Oe.type)throw new Error("invalid features");Oe.bbox=Oe.bbox?Oe.bbox:I(Oe),_e.push(Oe)}),F.prototype.load.call(this,_e)},Re.remove=function(ye,_e){if("Feature"!==ye.type)throw new Error("invalid feature");return ye.bbox=ye.bbox?ye.bbox:I(ye),F.prototype.remove.call(this,ye,_e)},Re.clear=function(){return F.prototype.clear.call(this)},Re.search=function(ye){var _e=F.prototype.search.call(this,this.toBBox(ye));return ne(_e)},Re.collides=function(ye){return F.prototype.collides.call(this,this.toBBox(ye))},Re.all=function(){var ye=F.prototype.all.call(this);return ne(ye)},Re.toJSON=function(){return F.prototype.toJSON.call(this)},Re.fromJSON=function(ye){return F.prototype.fromJSON.call(this,ye)},Re.toBBox=function(ye){var _e;if(ye.bbox)_e=ye.bbox;else if(Array.isArray(ye)&&4===ye.length)_e=ye;else if(Array.isArray(ye)&&6===ye.length)_e=[ye[0],ye[1],ye[3],ye[4]];else if("Feature"===ye.type)_e=I(ye);else{if("FeatureCollection"!==ye.type)throw new Error("invalid geojson");_e=I(ye)}return{minX:_e[0],minY:_e[1],maxX:_e[2],maxY:_e[3]}},Re}ft.exports=ve,ft.exports.default=ve},491:(ft,Ye,fe)=>{"use strict";var F,w=SyntaxError,x=Function,I=TypeError,O=function(Qe){try{return x('"use strict"; return ('+Qe+").constructor;")()}catch{}},U=Object.getOwnPropertyDescriptor;if(U)try{U({},"")}catch{U=null}var $=function(){throw new I},ne=U?function(){try{return $}catch{try{return U(arguments,"callee").get}catch{return $}}}():$,ve=fe(6152)(),Ne=fe(9028)(),Re=Object.getPrototypeOf||(Ne?function(Qe){return Qe.__proto__}:null),ye={},_e=typeof Uint8Array>"u"||!Re?F:Re(Uint8Array),Oe={"%AggregateError%":typeof AggregateError>"u"?F:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?F:ArrayBuffer,"%ArrayIteratorPrototype%":ve&&Re?Re([][Symbol.iterator]()):F,"%AsyncFromSyncIteratorPrototype%":F,"%AsyncFunction%":ye,"%AsyncGenerator%":ye,"%AsyncGeneratorFunction%":ye,"%AsyncIteratorPrototype%":ye,"%Atomics%":typeof Atomics>"u"?F:Atomics,"%BigInt%":typeof BigInt>"u"?F:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?F:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?F:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?F:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?F:Float32Array,"%Float64Array%":typeof Float64Array>"u"?F:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?F:FinalizationRegistry,"%Function%":x,"%GeneratorFunction%":ye,"%Int8Array%":typeof Int8Array>"u"?F:Int8Array,"%Int16Array%":typeof Int16Array>"u"?F:Int16Array,"%Int32Array%":typeof Int32Array>"u"?F:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":ve&&Re?Re(Re([][Symbol.iterator]())):F,"%JSON%":"object"==typeof JSON?JSON:F,"%Map%":typeof Map>"u"?F:Map,"%MapIteratorPrototype%":typeof Map>"u"||!ve||!Re?F:Re((new Map)[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?F:Promise,"%Proxy%":typeof Proxy>"u"?F:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?F:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?F:Set,"%SetIteratorPrototype%":typeof Set>"u"||!ve||!Re?F:Re((new Set)[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?F:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":ve&&Re?Re(""[Symbol.iterator]()):F,"%Symbol%":ve?Symbol:F,"%SyntaxError%":w,"%ThrowTypeError%":ne,"%TypedArray%":_e,"%TypeError%":I,"%Uint8Array%":typeof Uint8Array>"u"?F:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?F:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?F:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?F:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?F:WeakMap,"%WeakRef%":typeof WeakRef>"u"?F:WeakRef,"%WeakSet%":typeof WeakSet>"u"?F:WeakSet};if(Re)try{null.error}catch(Qe){var oe=Re(Re(Qe));Oe["%Error.prototype%"]=oe}var he=function Qe(We){var we;if("%AsyncFunction%"===We)we=O("async function () {}");else if("%GeneratorFunction%"===We)we=O("function* () {}");else if("%AsyncGeneratorFunction%"===We)we=O("async function* () {}");else if("%AsyncGenerator%"===We){var Me=Qe("%AsyncGeneratorFunction%");Me&&(we=Me.prototype)}else if("%AsyncIteratorPrototype%"===We){var be=Qe("%AsyncGenerator%");be&&Re&&(we=Re(be.prototype))}return Oe[We]=we,we},z={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},R=fe(5333),V=fe(8533),J=R.call(Function.call,Array.prototype.concat),Q=R.call(Function.apply,Array.prototype.splice),ee=R.call(Function.call,String.prototype.replace),ie=R.call(Function.call,String.prototype.slice),W=R.call(Function.call,RegExp.prototype.exec),De=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,ge=/\\(\\)?/g,de=function(We,we){var be,Me=We;if(V(z,Me)&&(Me="%"+(be=z[Me])[0]+"%"),V(Oe,Me)){var Se=Oe[Me];if(Se===ye&&(Se=he(Me)),typeof Se>"u"&&!we)throw new I("intrinsic "+We+" exists, but is not available. Please file an issue!");return{alias:be,name:Me,value:Se}}throw new w("intrinsic "+We+" does not exist!")};ft.exports=function(We,we){if("string"!=typeof We||0===We.length)throw new I("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof we)throw new I('"allowMissing" argument must be a boolean');if(null===W(/^%?[^%]*%?$/,We))throw new w("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var Me=function(We){var we=ie(We,0,1),Me=ie(We,-1);if("%"===we&&"%"!==Me)throw new w("invalid intrinsic syntax, expected closing `%`");if("%"===Me&&"%"!==we)throw new w("invalid intrinsic syntax, expected opening `%`");var be=[];return ee(We,De,function(Se,Fe,me,rt){be[be.length]=me?ee(rt,ge,"$1"):Fe||Se}),be}(We),be=Me.length>0?Me[0]:"",Se=de("%"+be+"%",we),Fe=Se.name,me=Se.value,rt=!1,qe=Se.alias;qe&&(be=qe[0],Q(Me,J([0,1],qe)));for(var dt=1,$e=!0;dt<Me.length;dt+=1){var Rt=Me[dt],Et=ie(Rt,0,1),Dt=ie(Rt,-1);if(('"'===Et||"'"===Et||"`"===Et||'"'===Dt||"'"===Dt||"`"===Dt)&&Et!==Dt)throw new w("property names with quotes must have matching quotes");if(("constructor"===Rt||!$e)&&(rt=!0),V(Oe,Fe="%"+(be+="."+Rt)+"%"))me=Oe[Fe];else if(null!=me){if(!(Rt in me)){if(!we)throw new I("base intrinsic for "+We+" exists, but the property is not available.");return}if(U&&dt+1>=Me.length){var Ft=U(me,Rt);me=($e=!!Ft)&&"get"in Ft&&!("originalValue"in Ft.get)?Ft.get:me[Rt]}else $e=V(me,Rt),me=me[Rt];$e&&!rt&&(Oe[Fe]=me)}}return me}},2486:(ft,Ye,fe)=>{"use strict";var w=fe(491)("%Object.defineProperty%",!0),x=function(){if(w)try{return w({},"a",{value:1}),!0}catch{return!1}return!1};x.hasArrayLengthDefineBug=function(){if(!x())return null;try{return 1!==w([],"length",{value:1}).length}catch{return!0}},ft.exports=x},9028:ft=>{"use strict";var Ye={foo:{}},fe=Object;ft.exports=function(){return{__proto__:Ye}.foo===Ye.foo&&!({__proto__:null}instanceof fe)}},6152:(ft,Ye,fe)=>{"use strict";var F=typeof Symbol<"u"&&Symbol,w=fe(5441);ft.exports=function(){return"function"==typeof F&&"function"==typeof Symbol&&"symbol"==typeof F("foo")&&"symbol"==typeof Symbol("bar")&&w()}},5441:ft=>{"use strict";ft.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var fe={},F=Symbol("test"),w=Object(F);if("string"==typeof F||"[object Symbol]"!==Object.prototype.toString.call(F)||"[object Symbol]"!==Object.prototype.toString.call(w))return!1;for(F in fe[F]=42,fe)return!1;if("function"==typeof Object.keys&&0!==Object.keys(fe).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(fe).length)return!1;var I=Object.getOwnPropertySymbols(fe);if(1!==I.length||I[0]!==F||!Object.prototype.propertyIsEnumerable.call(fe,F))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var O=Object.getOwnPropertyDescriptor(fe,F);if(42!==O.value||!0!==O.enumerable)return!1}return!0}},8041:(ft,Ye,fe)=>{"use strict";var F=fe(5441);ft.exports=function(){return F()&&!!Symbol.toStringTag}},8533:(ft,Ye,fe)=>{"use strict";var F=fe(5333);ft.exports=F.call(Function.call,Object.prototype.hasOwnProperty)},8147:(ft,Ye,fe)=>{"use strict";var F=fe(8041)(),x=fe(1098)("Object.prototype.toString"),I=function(ne){return!(F&&ne&&"object"==typeof ne&&Symbol.toStringTag in ne)&&"[object Arguments]"===x(ne)},O=function(ne){return!!I(ne)||null!==ne&&"object"==typeof ne&&"number"==typeof ne.length&&ne.length>=0&&"[object Array]"!==x(ne)&&"[object Function]"===x(ne.callee)},U=function(){return I(arguments)}();I.isLegacyArguments=O,ft.exports=U?I:O},2365:(ft,Ye,fe)=>{"use strict";var F=Date.prototype.getDay,x=Object.prototype.toString,O=fe(8041)();ft.exports=function($){return"object"==typeof $&&null!==$&&(O?function($){try{return F.call($),!0}catch{return!1}}($):"[object Date]"===x.call($))}},4720:(ft,Ye,fe)=>{"use strict";var x,I,O,U,F=fe(1098),w=fe(8041)();if(w){x=F("Object.prototype.hasOwnProperty"),I=F("RegExp.prototype.exec"),O={};var $=function(){throw O};U={toString:$,valueOf:$},"symbol"==typeof Symbol.toPrimitive&&(U[Symbol.toPrimitive]=$)}var ne=F("Object.prototype.toString"),ve=Object.getOwnPropertyDescriptor;ft.exports=w?function(ye){if(!ye||"object"!=typeof ye)return!1;var _e=ve(ye,"lastIndex");if(!_e||!x(_e,"value"))return!1;try{I(ye,U)}catch(oe){return oe===O}}:function(ye){return!(!ye||"object"!=typeof ye&&"function"!=typeof ye)&&"[object RegExp]"===ne(ye)}},4115:()=>{var ft,Ye,w;ft=window,Ye=document,L.drawVersion="1.0.4",L.Draw={},L.drawLocal={draw:{toolbar:{actions:{title:"Cancel drawing",text:"Cancel"},finish:{title:"Finish drawing",text:"Finish"},undo:{title:"Delete last point drawn",text:"Delete last point"},buttons:{polyline:"Draw a polyline",polygon:"Draw a polygon",rectangle:"Draw a rectangle",circle:"Draw a circle",marker:"Draw a marker",circlemarker:"Draw a circlemarker"}},handlers:{circle:{tooltip:{start:"Click and drag to draw circle."},radius:"Radius"},circlemarker:{tooltip:{start:"Click map to place circle marker."}},marker:{tooltip:{start:"Click map to place marker."}},polygon:{tooltip:{start:"Click to start drawing shape.",cont:"Click to continue drawing shape.",end:"Click first point to close this shape."}},polyline:{error:"<strong>Error:</strong> shape edges cannot cross!",tooltip:{start:"Click to start drawing line.",cont:"Click to continue drawing line.",end:"Click last point to finish line."}},rectangle:{tooltip:{start:"Click and drag to draw rectangle."}},simpleshape:{tooltip:{end:"Release mouse to finish drawing."}}}},edit:{toolbar:{actions:{save:{title:"Save changes",text:"Save"},cancel:{title:"Cancel editing, discards all changes",text:"Cancel"},clearAll:{title:"Clear all layers",text:"Clear All"}},buttons:{edit:"Edit layers",editDisabled:"No layers to edit",remove:"Delete layers",removeDisabled:"No layers to delete"}},handlers:{edit:{tooltip:{text:"Drag handles or markers to edit features.",subtext:"Click cancel to undo changes."}},remove:{tooltip:{text:"Click on a feature to remove."}}}}},L.Draw.Event={},L.Draw.Event.CREATED="draw:created",L.Draw.Event.EDITED="draw:edited",L.Draw.Event.DELETED="draw:deleted",L.Draw.Event.DRAWSTART="draw:drawstart",L.Draw.Event.DRAWSTOP="draw:drawstop",L.Draw.Event.DRAWVERTEX="draw:drawvertex",L.Draw.Event.EDITSTART="draw:editstart",L.Draw.Event.EDITMOVE="draw:editmove",L.Draw.Event.EDITRESIZE="draw:editresize",L.Draw.Event.EDITVERTEX="draw:editvertex",L.Draw.Event.EDITSTOP="draw:editstop",L.Draw.Event.DELETESTART="draw:deletestart",L.Draw.Event.DELETESTOP="draw:deletestop",L.Draw.Event.TOOLBAROPENED="draw:toolbaropened",L.Draw.Event.TOOLBARCLOSED="draw:toolbarclosed",L.Draw.Event.MARKERCONTEXT="draw:markercontext",L.Draw=L.Draw||{},L.Draw.Feature=L.Handler.extend({initialize:function(w,x){this._map=w,this._container=w._container,this._overlayPane=w._panes.overlayPane,this._popupPane=w._panes.popupPane,x&&x.shapeOptions&&(x.shapeOptions=L.Util.extend({},this.options.shapeOptions,x.shapeOptions)),L.setOptions(this,x);var I=L.version.split(".");1===parseInt(I[0],10)&&parseInt(I[1],10)>=2?L.Draw.Feature.include(L.Evented.prototype):L.Draw.Feature.include(L.Mixin.Events)},enable:function(){this._enabled||(L.Handler.prototype.enable.call(this),this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.DRAWSTART,{layerType:this.type}))},disable:function(){this._enabled&&(L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.DRAWSTOP,{layerType:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var w=this._map;w&&(L.DomUtil.disableTextSelection(),w.getContainer().focus(),this._tooltip=new L.Draw.Tooltip(this._map),L.DomEvent.on(this._container,"keyup",this._cancelDrawing,this))},removeHooks:function(){this._map&&(L.DomUtil.enableTextSelection(),this._tooltip.dispose(),this._tooltip=null,L.DomEvent.off(this._container,"keyup",this._cancelDrawing,this))},setOptions:function(w){L.setOptions(this,w)},_fireCreatedEvent:function(w){this._map.fire(L.Draw.Event.CREATED,{layer:w,layerType:this.type})},_cancelDrawing:function(w){27===w.keyCode&&(this._map.fire("draw:canceled",{layerType:this.type}),this.disable())}}),L.Draw.Polyline=L.Draw.Feature.extend({statics:{TYPE:"polyline"},Poly:L.Polyline,options:{allowIntersection:!0,repeatMode:!1,drawError:{color:"#b00b00",timeout:2500},icon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"}),guidelineDistance:20,maxGuideLineLength:4e3,shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!1,clickable:!0},metric:!0,feet:!0,nautic:!1,showLength:!0,zIndexOffset:2e3,factor:1,maxPoints:0},initialize:function(w,x){L.Browser.touch&&(this.options.icon=this.options.touchIcon),this.options.drawError.message=L.drawLocal.draw.handlers.polyline.error,x&&x.drawError&&(x.drawError=L.Util.extend({},this.options.drawError,x.drawError)),this.type=L.Draw.Polyline.TYPE,L.Draw.Feature.prototype.initialize.call(this,w,x)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._markers=[],this._markerGroup=new L.LayerGroup,this._map.addLayer(this._markerGroup),this._poly=new L.Polyline([],this.options.shapeOptions),this._tooltip.updateContent(this._getTooltipText()),this._mouseMarker||(this._mouseMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"leaflet-mouse-marker",iconAnchor:[20,20],iconSize:[40,40]}),opacity:0,zIndexOffset:this.options.zIndexOffset})),this._mouseMarker.on("mouseout",this._onMouseOut,this).on("mousemove",this._onMouseMove,this).on("mousedown",this._onMouseDown,this).on("mouseup",this._onMouseUp,this).addTo(this._map),this._map.on("mouseup",this._onMouseUp,this).on("mousemove",this._onMouseMove,this).on("zoomlevelschange",this._onZoomEnd,this).on("touchstart",this._onTouch,this).on("zoomend",this._onZoomEnd,this))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._clearHideErrorTimeout(),this._cleanUpShape(),this._map.removeLayer(this._markerGroup),delete this._markerGroup,delete this._markers,this._map.removeLayer(this._poly),delete this._poly,this._mouseMarker.off("mousedown",this._onMouseDown,this).off("mouseout",this._onMouseOut,this).off("mouseup",this._onMouseUp,this).off("mousemove",this._onMouseMove,this),this._map.removeLayer(this._mouseMarker),delete this._mouseMarker,this._clearGuides(),this._map.off("mouseup",this._onMouseUp,this).off("mousemove",this._onMouseMove,this).off("zoomlevelschange",this._onZoomEnd,this).off("zoomend",this._onZoomEnd,this).off("touchstart",this._onTouch,this).off("click",this._onTouch,this)},deleteLastVertex:function(){if(!(this._markers.length<=1)){var w=this._markers.pop(),x=this._poly,I=x.getLatLngs(),O=I.splice(-1,1)[0];this._poly.setLatLngs(I),this._markerGroup.removeLayer(w),x.getLatLngs().length<2&&this._map.removeLayer(x),this._vertexChanged(O,!1)}},addVertex:function(w){this._markers.length>=2&&!this.options.allowIntersection&&this._poly.newLatLngIntersects(w)?this._showErrorTooltip():(this._errorShown&&this._hideErrorTooltip(),this._markers.push(this._createMarker(w)),this._poly.addLatLng(w),2===this._poly.getLatLngs().length&&this._map.addLayer(this._poly),this._vertexChanged(w,!0))},completeShape:function(){this._markers.length<=1||!this._shapeIsValid()||(this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable())},_finishShape:function(){var w=this._poly._defaultShape?this._poly._defaultShape():this._poly.getLatLngs(),x=this._poly.newLatLngIntersects(w[w.length-1]);!this.options.allowIntersection&&x||!this._shapeIsValid()?this._showErrorTooltip():(this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable())},_shapeIsValid:function(){return!0},_onZoomEnd:function(){null!==this._markers&&this._updateGuide()},_onMouseMove:function(w){var x=this._map.mouseEventToLayerPoint(w.originalEvent),I=this._map.layerPointToLatLng(x);this._currentLatLng=I,this._updateTooltip(I),this._updateGuide(x),this._mouseMarker.setLatLng(I),L.DomEvent.preventDefault(w.originalEvent)},_vertexChanged:function(w,x){this._map.fire(L.Draw.Event.DRAWVERTEX,{layers:this._markerGroup}),this._updateFinishHandler(),this._updateRunningMeasure(w,x),this._clearGuides(),this._updateTooltip()},_onMouseDown:function(w){if(!this._clickHandled&&!this._touchHandled&&!this._disableMarkers){this._onMouseMove(w),this._clickHandled=!0,this._disableNewMarkers();var x=w.originalEvent;this._startPoint.call(this,x.clientX,x.clientY)}},_startPoint:function(w,x){this._mouseDownOrigin=L.point(w,x)},_onMouseUp:function(w){var x=w.originalEvent;this._endPoint.call(this,x.clientX,x.clientY,w),this._clickHandled=null},_endPoint:function(w,x,I){if(this._mouseDownOrigin){var O=L.point(w,x).distanceTo(this._mouseDownOrigin),U=this._calculateFinishDistance(I.latlng);this.options.maxPoints>1&&this.options.maxPoints==this._markers.length+1?(this.addVertex(I.latlng),this._finishShape()):U<10&&L.Browser.touch?this._finishShape():Math.abs(O)<9*(ft.devicePixelRatio||1)&&this.addVertex(I.latlng),this._enableNewMarkers()}this._mouseDownOrigin=null},_onTouch:function(w){var x,I,O=w.originalEvent;!O.touches||!O.touches[0]||this._clickHandled||this._touchHandled||this._disableMarkers||(x=O.touches[0].clientX,I=O.touches[0].clientY,this._disableNewMarkers(),this._touchHandled=!0,this._startPoint.call(this,x,I),this._endPoint.call(this,x,I,w),this._touchHandled=null),this._clickHandled=null},_onMouseOut:function(){this._tooltip&&this._tooltip._onMouseOut.call(this._tooltip)},_calculateFinishDistance:function(w){var x;if(this._markers.length>0){var I;if(this.type===L.Draw.Polyline.TYPE)I=this._markers[this._markers.length-1];else{if(this.type!==L.Draw.Polygon.TYPE)return 1/0;I=this._markers[0]}var O=this._map.latLngToContainerPoint(I.getLatLng()),U=new L.Marker(w,{icon:this.options.icon,zIndexOffset:2*this.options.zIndexOffset}),$=this._map.latLngToContainerPoint(U.getLatLng());x=O.distanceTo($)}else x=1/0;return x},_updateFinishHandler:function(){var w=this._markers.length;w>1&&this._markers[w-1].on("click",this._finishShape,this),w>2&&this._markers[w-2].off("click",this._finishShape,this)},_createMarker:function(w){var x=new L.Marker(w,{icon:this.options.icon,zIndexOffset:2*this.options.zIndexOffset});return this._markerGroup.addLayer(x),x},_updateGuide:function(w){var x=this._markers?this._markers.length:0;x>0&&(w=w||this._map.latLngToLayerPoint(this._currentLatLng),this._clearGuides(),this._drawGuide(this._map.latLngToLayerPoint(this._markers[x-1].getLatLng()),w))},_updateTooltip:function(w){var x=this._getTooltipText();w&&this._tooltip.updatePosition(w),this._errorShown||this._tooltip.updateContent(x)},_drawGuide:function(w,x){var I,O,U,$=Math.floor(Math.sqrt(Math.pow(x.x-w.x,2)+Math.pow(x.y-w.y,2))),ve=this.options.maxGuideLineLength,Ne=$>ve?$-ve:this.options.guidelineDistance;for(this._guidesContainer||(this._guidesContainer=L.DomUtil.create("div","leaflet-draw-guides",this._overlayPane));Ne<$;Ne+=this.options.guidelineDistance)I=Ne/$,O={x:Math.floor(w.x*(1-I)+I*x.x),y:Math.floor(w.y*(1-I)+I*x.y)},(U=L.DomUtil.create("div","leaflet-draw-guide-dash",this._guidesContainer)).style.backgroundColor=this._errorShown?this.options.drawError.color:this.options.shapeOptions.color,L.DomUtil.setPosition(U,O)},_updateGuideColor:function(w){if(this._guidesContainer)for(var x=0,I=this._guidesContainer.childNodes.length;x<I;x++)this._guidesContainer.childNodes[x].style.backgroundColor=w},_clearGuides:function(){if(this._guidesContainer)for(;this._guidesContainer.firstChild;)this._guidesContainer.removeChild(this._guidesContainer.firstChild)},_getTooltipText:function(){var w,x;return 0===this._markers.length?w={text:L.drawLocal.draw.handlers.polyline.tooltip.start}:(x=this.options.showLength?this._getMeasurementString():"",w=1===this._markers.length?{text:L.drawLocal.draw.handlers.polyline.tooltip.cont,subtext:x}:{text:L.drawLocal.draw.handlers.polyline.tooltip.end,subtext:x}),w},_updateRunningMeasure:function(w,x){var I,O,U=this._markers.length;1===this._markers.length?this._measurementRunningTotal=0:(I=U-(x?2:1),O=L.GeometryUtil.isVersion07x()?w.distanceTo(this._markers[I].getLatLng())*(this.options.factor||1):this._map.distance(w,this._markers[I].getLatLng())*(this.options.factor||1),this._measurementRunningTotal+=O*(x?1:-1))},_getMeasurementString:function(){var w,x=this._currentLatLng,I=this._markers[this._markers.length-1].getLatLng();return w=L.GeometryUtil.isVersion07x()?I&&x&&x.distanceTo?this._measurementRunningTotal+x.distanceTo(I)*(this.options.factor||1):this._measurementRunningTotal||0:I&&x?this._measurementRunningTotal+this._map.distance(x,I)*(this.options.factor||1):this._measurementRunningTotal||0,L.GeometryUtil.readableDistance(w,this.options.metric,this.options.feet,this.options.nautic,this.options.precision)},_showErrorTooltip:function(){this._errorShown=!0,this._tooltip.showAsError().updateContent({text:this.options.drawError.message}),this._updateGuideColor(this.options.drawError.color),this._poly.setStyle({color:this.options.drawError.color}),this._clearHideErrorTimeout(),this._hideErrorTimeout=setTimeout(L.Util.bind(this._hideErrorTooltip,this),this.options.drawError.timeout)},_hideErrorTooltip:function(){this._errorShown=!1,this._clearHideErrorTimeout(),this._tooltip.removeError().updateContent(this._getTooltipText()),this._updateGuideColor(this.options.shapeOptions.color),this._poly.setStyle({color:this.options.shapeOptions.color})},_clearHideErrorTimeout:function(){this._hideErrorTimeout&&(clearTimeout(this._hideErrorTimeout),this._hideErrorTimeout=null)},_disableNewMarkers:function(){this._disableMarkers=!0},_enableNewMarkers:function(){setTimeout(function(){this._disableMarkers=!1}.bind(this),50)},_cleanUpShape:function(){this._markers.length>1&&this._markers[this._markers.length-1].off("click",this._finishShape,this)},_fireCreatedEvent:function(){var w=new this.Poly(this._poly.getLatLngs(),this.options.shapeOptions);L.Draw.Feature.prototype._fireCreatedEvent.call(this,w)}}),L.Draw.Polygon=L.Draw.Polyline.extend({statics:{TYPE:"polygon"},Poly:L.Polygon,options:{showArea:!1,showLength:!1,shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},metric:!0,feet:!0,nautic:!1,precision:{}},initialize:function(w,x){L.Draw.Polyline.prototype.initialize.call(this,w,x),this.type=L.Draw.Polygon.TYPE},_updateFinishHandler:function(){var w=this._markers.length;1===w&&this._markers[0].on("click",this._finishShape,this),w>2&&(this._markers[w-1].on("dblclick",this._finishShape,this),w>3&&this._markers[w-2].off("dblclick",this._finishShape,this))},_getTooltipText:function(){var w,x;return 0===this._markers.length?w=L.drawLocal.draw.handlers.polygon.tooltip.start:this._markers.length<3?(w=L.drawLocal.draw.handlers.polygon.tooltip.cont,x=this._getMeasurementString()):(w=L.drawLocal.draw.handlers.polygon.tooltip.end,x=this._getMeasurementString()),{text:w,subtext:x}},_getMeasurementString:function(){var w=this._area,x="";return w||this.options.showLength?(this.options.showLength&&(x=L.Draw.Polyline.prototype._getMeasurementString.call(this)),w&&(x+="<br>"+L.GeometryUtil.readableArea(w,this.options.metric,this.options.precision)),x):null},_shapeIsValid:function(){return this._markers.length>=3},_vertexChanged:function(w,x){var I;!this.options.allowIntersection&&this.options.showArea&&(I=this._poly.getLatLngs(),this._area=L.GeometryUtil.geodesicArea(I)),L.Draw.Polyline.prototype._vertexChanged.call(this,w,x)},_cleanUpShape:function(){var w=this._markers.length;w>0&&(this._markers[0].off("click",this._finishShape,this),w>2&&this._markers[w-1].off("dblclick",this._finishShape,this))}}),L.SimpleShape={},L.Draw.SimpleShape=L.Draw.Feature.extend({options:{repeatMode:!1},initialize:function(w,x){this._endLabelText=L.drawLocal.draw.handlers.simpleshape.tooltip.end,L.Draw.Feature.prototype.initialize.call(this,w,x)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._mapDraggable=this._map.dragging.enabled(),this._mapDraggable&&this._map.dragging.disable(),this._container.style.cursor="crosshair",this._tooltip.updateContent({text:this._initialLabelText}),this._map.on("mousedown",this._onMouseDown,this).on("mousemove",this._onMouseMove,this).on("touchstart",this._onMouseDown,this).on("touchmove",this._onMouseMove,this),Ye.addEventListener("touchstart",L.DomEvent.preventDefault,{passive:!1}))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._map&&(this._mapDraggable&&this._map.dragging.enable(),this._container.style.cursor="",this._map.off("mousedown",this._onMouseDown,this).off("mousemove",this._onMouseMove,this).off("touchstart",this._onMouseDown,this).off("touchmove",this._onMouseMove,this),L.DomEvent.off(Ye,"mouseup",this._onMouseUp,this),L.DomEvent.off(Ye,"touchend",this._onMouseUp,this),Ye.removeEventListener("touchstart",L.DomEvent.preventDefault),this._shape&&(this._map.removeLayer(this._shape),delete this._shape)),this._isDrawing=!1},_getTooltipText:function(){return{text:this._endLabelText}},_onMouseDown:function(w){this._isDrawing=!0,this._startLatLng=w.latlng,L.DomEvent.on(Ye,"mouseup",this._onMouseUp,this).on(Ye,"touchend",this._onMouseUp,this).preventDefault(w.originalEvent)},_onMouseMove:function(w){var x=w.latlng;this._tooltip.updatePosition(x),this._isDrawing&&(this._tooltip.updateContent(this._getTooltipText()),this._drawShape(x))},_onMouseUp:function(){this._shape&&this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()}}),L.Draw.Rectangle=L.Draw.SimpleShape.extend({statics:{TYPE:"rectangle"},options:{shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},showArea:!0,metric:!0},initialize:function(w,x){this.type=L.Draw.Rectangle.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.rectangle.tooltip.start,L.Draw.SimpleShape.prototype.initialize.call(this,w,x)},disable:function(){this._enabled&&(this._isCurrentlyTwoClickDrawing=!1,L.Draw.SimpleShape.prototype.disable.call(this))},_onMouseUp:function(w){this._shape||this._isCurrentlyTwoClickDrawing?this._isCurrentlyTwoClickDrawing&&!function F(w,x){for(;(w=w.parentElement)&&!w.classList.contains(x););return w}(w.target,"leaflet-pane")||L.Draw.SimpleShape.prototype._onMouseUp.call(this):this._isCurrentlyTwoClickDrawing=!0},_drawShape:function(w){this._shape?this._shape.setBounds(new L.LatLngBounds(this._startLatLng,w)):(this._shape=new L.Rectangle(new L.LatLngBounds(this._startLatLng,w),this.options.shapeOptions),this._map.addLayer(this._shape))},_fireCreatedEvent:function(){var w=new L.Rectangle(this._shape.getBounds(),this.options.shapeOptions);L.Draw.SimpleShape.prototype._fireCreatedEvent.call(this,w)},_getTooltipText:function(){var w,x,I,O=L.Draw.SimpleShape.prototype._getTooltipText.call(this),$=this.options.showArea;return this._shape&&(w=this._shape._defaultShape?this._shape._defaultShape():this._shape.getLatLngs(),x=L.GeometryUtil.geodesicArea(w),I=$?L.GeometryUtil.readableArea(x,this.options.metric):""),{text:O.text,subtext:I}}}),L.Draw.Marker=L.Draw.Feature.extend({statics:{TYPE:"marker"},options:{icon:new L.Icon.Default,repeatMode:!1,zIndexOffset:2e3},initialize:function(w,x){this.type=L.Draw.Marker.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.marker.tooltip.start,L.Draw.Feature.prototype.initialize.call(this,w,x)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._tooltip.updateContent({text:this._initialLabelText}),this._mouseMarker||(this._mouseMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"leaflet-mouse-marker",iconAnchor:[20,20],iconSize:[40,40]}),opacity:0,zIndexOffset:this.options.zIndexOffset})),this._mouseMarker.on("click",this._onClick,this).addTo(this._map),this._map.on("mousemove",this._onMouseMove,this),this._map.on("click",this._onTouch,this))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._map&&(this._map.off("click",this._onClick,this).off("click",this._onTouch,this),this._marker&&(this._marker.off("click",this._onClick,this),this._map.removeLayer(this._marker),delete this._marker),this._mouseMarker.off("click",this._onClick,this),this._map.removeLayer(this._mouseMarker),delete this._mouseMarker,this._map.off("mousemove",this._onMouseMove,this))},_onMouseMove:function(w){var x=w.latlng;this._tooltip.updatePosition(x),this._mouseMarker.setLatLng(x),this._marker?(x=this._mouseMarker.getLatLng(),this._marker.setLatLng(x)):(this._marker=this._createMarker(x),this._marker.on("click",this._onClick,this),this._map.on("click",this._onClick,this).addLayer(this._marker))},_createMarker:function(w){return new L.Marker(w,{icon:this.options.icon,zIndexOffset:this.options.zIndexOffset})},_onClick:function(){this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()},_onTouch:function(w){this._onMouseMove(w),this._onClick()},_fireCreatedEvent:function(){var w=new L.Marker.Touch(this._marker.getLatLng(),{icon:this.options.icon});L.Draw.Feature.prototype._fireCreatedEvent.call(this,w)}}),L.Draw.CircleMarker=L.Draw.Marker.extend({statics:{TYPE:"circlemarker"},options:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0,zIndexOffset:2e3},initialize:function(w,x){this.type=L.Draw.CircleMarker.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.circlemarker.tooltip.start,L.Draw.Feature.prototype.initialize.call(this,w,x)},_fireCreatedEvent:function(){var w=new L.CircleMarker(this._marker.getLatLng(),this.options);L.Draw.Feature.prototype._fireCreatedEvent.call(this,w)},_createMarker:function(w){return new L.CircleMarker(w,this.options)}}),L.Draw.Circle=L.Draw.SimpleShape.extend({statics:{TYPE:"circle"},options:{shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},showRadius:!0,metric:!0,feet:!0,nautic:!1},initialize:function(w,x){this.type=L.Draw.Circle.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.circle.tooltip.start,L.Draw.SimpleShape.prototype.initialize.call(this,w,x)},_drawShape:function(w){if(L.GeometryUtil.isVersion07x())var x=this._startLatLng.distanceTo(w);else x=this._map.distance(this._startLatLng,w);this._shape?this._shape.setRadius(x):(this._shape=new L.Circle(this._startLatLng,x,this.options.shapeOptions),this._map.addLayer(this._shape))},_fireCreatedEvent:function(){var w=new L.Circle(this._startLatLng,this._shape.getRadius(),this.options.shapeOptions);L.Draw.SimpleShape.prototype._fireCreatedEvent.call(this,w)},_onMouseMove:function(w){var x,I=w.latlng,O=this.options.showRadius,U=this.options.metric;if(this._tooltip.updatePosition(I),this._isDrawing){this._drawShape(I),x=this._shape.getRadius().toFixed(1);var $="";O&&($=L.drawLocal.draw.handlers.circle.radius+": "+L.GeometryUtil.readableDistance(x,U,this.options.feet,this.options.nautic)),this._tooltip.updateContent({text:this._endLabelText,subtext:$})}}}),L.Edit=L.Edit||{},L.Edit.Marker=L.Handler.extend({initialize:function(w,x){this._marker=w,L.setOptions(this,x)},addHooks:function(){var w=this._marker;w.dragging.enable(),w.on("dragend",this._onDragEnd,w),this._toggleMarkerHighlight()},removeHooks:function(){var w=this._marker;w.dragging.disable(),w.off("dragend",this._onDragEnd,w),this._toggleMarkerHighlight()},_onDragEnd:function(w){var x=w.target;x.edited=!0,this._map.fire(L.Draw.Event.EDITMOVE,{layer:x})},_toggleMarkerHighlight:function(){var w=this._marker._icon;w&&(w.style.display="none",L.DomUtil.hasClass(w,"leaflet-edit-marker-selected")?(L.DomUtil.removeClass(w,"leaflet-edit-marker-selected"),this._offsetMarker(w,-4)):(L.DomUtil.addClass(w,"leaflet-edit-marker-selected"),this._offsetMarker(w,4)),w.style.display="")},_offsetMarker:function(w,x){var I=parseInt(w.style.marginTop,10)-x,O=parseInt(w.style.marginLeft,10)-x;w.style.marginTop=I+"px",w.style.marginLeft=O+"px"}}),L.Marker.addInitHook(function(){L.Edit.Marker&&(this.editing=new L.Edit.Marker(this),this.options.editable&&this.editing.enable())}),L.Edit=L.Edit||{},L.Edit.Poly=L.Handler.extend({initialize:function(w){this.latlngs=[w._latlngs],w._holes&&(this.latlngs=this.latlngs.concat(w._holes)),this._poly=w,this._poly.on("revert-edited",this._updateLatLngs,this)},_defaultShape:function(){return L.Polyline._flat?L.Polyline._flat(this._poly._latlngs)?this._poly._latlngs:this._poly._latlngs[0]:this._poly._latlngs},_eachVertexHandler:function(w){for(var x=0;x<this._verticesHandlers.length;x++)w(this._verticesHandlers[x])},addHooks:function(){this._initHandlers(),this._eachVertexHandler(function(w){w.addHooks()})},removeHooks:function(){this._eachVertexHandler(function(w){w.removeHooks()})},updateMarkers:function(){this._eachVertexHandler(function(w){w.updateMarkers()})},_initHandlers:function(){this._verticesHandlers=[];for(var w=0;w<this.latlngs.length;w++)this._verticesHandlers.push(new L.Edit.PolyVerticesEdit(this._poly,this.latlngs[w],this._poly.options.poly))},_updateLatLngs:function(w){this.latlngs=[w.layer._latlngs],w.layer._holes&&(this.latlngs=this.latlngs.concat(w.layer._holes))}}),L.Edit.PolyVerticesEdit=L.Handler.extend({options:{icon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"}),drawError:{color:"#b00b00",timeout:1e3}},initialize:function(w,x,I){L.Browser.touch&&(this.options.icon=this.options.touchIcon),this._poly=w,I&&I.drawError&&(I.drawError=L.Util.extend({},this.options.drawError,I.drawError)),this._latlngs=x,L.setOptions(this,I)},_defaultShape:function(){return L.Polyline._flat?L.Polyline._flat(this._latlngs)?this._latlngs:this._latlngs[0]:this._latlngs},addHooks:function(){var w=this._poly,x=w._path;w instanceof L.Polygon||(w.options.fill=!1,w.options.editing&&(w.options.editing.fill=!1)),x&&w.options.editing&&w.options.editing.className&&(w.options.original.className&&w.options.original.className.split(" ").forEach(function(I){L.DomUtil.removeClass(x,I)}),w.options.editing.className.split(" ").forEach(function(I){L.DomUtil.addClass(x,I)})),w.setStyle(w.options.editing),this._poly._map&&(this._map=this._poly._map,this._markerGroup||this._initMarkers(),this._poly._map.addLayer(this._markerGroup))},removeHooks:function(){var w=this._poly,x=w._path;x&&w.options.editing&&w.options.editing.className&&(w.options.editing.className.split(" ").forEach(function(I){L.DomUtil.removeClass(x,I)}),w.options.original.className&&w.options.original.className.split(" ").forEach(function(I){L.DomUtil.addClass(x,I)})),w.setStyle(w.options.original),w._map&&(w._map.removeLayer(this._markerGroup),delete this._markerGroup,delete this._markers)},updateMarkers:function(){this._markerGroup.clearLayers(),this._initMarkers()},_initMarkers:function(){this._markerGroup||(this._markerGroup=new L.LayerGroup),this._markers=[];var w,x,I,O,$,ne,U=this._defaultShape();for(w=0,I=U.length;w<I;w++)(O=this._createMarker(U[w],w)).on("click",this._onMarkerClick,this),O.on("contextmenu",this._onContextMenu,this),this._markers.push(O);for(w=0,x=I-1;w<I;x=w++)(0!==w||L.Polygon&&this._poly instanceof L.Polygon)&&(this._createMiddleMarker($=this._markers[x],ne=this._markers[w]),this._updatePrevNext($,ne))},_createMarker:function(w,x){var I=new L.Marker.Touch(w,{draggable:!0,icon:this.options.icon});return I._origLatLng=w,I._index=x,I.on("dragstart",this._onMarkerDragStart,this).on("drag",this._onMarkerDrag,this).on("dragend",this._fireEdit,this).on("touchmove",this._onTouchMove,this).on("touchend",this._fireEdit,this).on("MSPointerMove",this._onTouchMove,this).on("MSPointerUp",this._fireEdit,this),this._markerGroup.addLayer(I),I},_onMarkerDragStart:function(){this._poly.fire("editstart")},_spliceLatLngs:function(){var w=this._defaultShape(),x=[].splice.apply(w,arguments);return this._poly._convertLatLngs(w,!0),this._poly.redraw(),x},_removeMarker:function(w){var x=w._index;this._markerGroup.removeLayer(w),this._markers.splice(x,1),this._spliceLatLngs(x,1),this._updateIndexes(x,-1),w.off("dragstart",this._onMarkerDragStart,this).off("drag",this._onMarkerDrag,this).off("dragend",this._fireEdit,this).off("touchmove",this._onMarkerDrag,this).off("touchend",this._fireEdit,this).off("click",this._onMarkerClick,this).off("MSPointerMove",this._onTouchMove,this).off("MSPointerUp",this._fireEdit,this)},_fireEdit:function(){this._poly.edited=!0,this._poly.fire("edit"),this._poly._map.fire(L.Draw.Event.EDITVERTEX,{layers:this._markerGroup,poly:this._poly})},_onMarkerDrag:function(w){var x=w.target,I=this._poly,O=L.LatLngUtil.cloneLatLng(x._origLatLng);if(L.extend(x._origLatLng,x._latlng),I.options.poly){var U=I._map._editTooltip;if(!I.options.poly.allowIntersection&&I.intersects()){L.extend(x._origLatLng,O),x.setLatLng(O);var $=I.options.color;I.setStyle({color:this.options.drawError.color}),U&&U.updateContent({text:L.drawLocal.draw.handlers.polyline.error}),setTimeout(function(){I.setStyle({color:$}),U&&U.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext})},1e3)}}x._middleLeft&&x._middleLeft.setLatLng(this._getMiddleLatLng(x._prev,x)),x._middleRight&&x._middleRight.setLatLng(this._getMiddleLatLng(x,x._next)),this._poly._bounds._southWest=L.latLng(1/0,1/0),this._poly._bounds._northEast=L.latLng(-1/0,-1/0);var ne=this._poly.getLatLngs();this._poly._convertLatLngs(ne,!0),this._poly.redraw(),this._poly.fire("editdrag")},_onMarkerClick:function(w){var x=L.Polygon&&this._poly instanceof L.Polygon?4:3,I=w.target;this._defaultShape().length<x||(this._removeMarker(I),this._updatePrevNext(I._prev,I._next),I._middleLeft&&this._markerGroup.removeLayer(I._middleLeft),I._middleRight&&this._markerGroup.removeLayer(I._middleRight),I._prev&&I._next?this._createMiddleMarker(I._prev,I._next):I._prev?I._next||(I._prev._middleRight=null):I._next._middleLeft=null,this._fireEdit())},_onContextMenu:function(w){this._poly._map.fire(L.Draw.Event.MARKERCONTEXT,{marker:w.target,layers:this._markerGroup,poly:this._poly}),L},_onTouchMove:function(w){var x=this._map.mouseEventToLayerPoint(w.originalEvent.touches[0]),I=this._map.layerPointToLatLng(x),O=w.target;L.extend(O._origLatLng,I),O._middleLeft&&O._middleLeft.setLatLng(this._getMiddleLatLng(O._prev,O)),O._middleRight&&O._middleRight.setLatLng(this._getMiddleLatLng(O,O._next)),this._poly.redraw(),this.updateMarkers()},_updateIndexes:function(w,x){this._markerGroup.eachLayer(function(I){I._index>w&&(I._index+=x)})},_createMiddleMarker:function(w,x){var I,O,U,$=this._getMiddleLatLng(w,x),ne=this._createMarker($);ne.setOpacity(.6),w._middleRight=x._middleLeft=ne,O=function(){ne.off("touchmove",O,this);var ve=x._index;ne._index=ve,ne.off("click",I,this).on("click",this._onMarkerClick,this),$.lat=ne.getLatLng().lat,$.lng=ne.getLatLng().lng,this._spliceLatLngs(ve,0,$),this._markers.splice(ve,0,ne),ne.setOpacity(1),this._updateIndexes(ve,1),x._index++,this._updatePrevNext(w,ne),this._updatePrevNext(ne,x),this._poly.fire("editstart")},U=function(){ne.off("dragstart",O,this),ne.off("dragend",U,this),ne.off("touchmove",O,this),this._createMiddleMarker(w,ne),this._createMiddleMarker(ne,x)},ne.on("click",I=function(){O.call(this),U.call(this),this._fireEdit()},this).on("dragstart",O,this).on("dragend",U,this).on("touchmove",O,this),this._markerGroup.addLayer(ne)},_updatePrevNext:function(w,x){w&&(w._next=x),x&&(x._prev=w)},_getMiddleLatLng:function(w,x){var I=this._poly._map,O=I.project(w.getLatLng()),U=I.project(x.getLatLng());return I.unproject(O._add(U)._divideBy(2))}}),L.Polyline.addInitHook(function(){this.editing||(L.Edit.Poly&&(this.editing=new L.Edit.Poly(this),this.options.editable&&this.editing.enable()),this.on("add",function(){this.editing&&this.editing.enabled()&&this.editing.addHooks()}),this.on("remove",function(){this.editing&&this.editing.enabled()&&this.editing.removeHooks()}))}),L.Edit=L.Edit||{},L.Edit.SimpleShape=L.Handler.extend({options:{moveIcon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-move"}),resizeIcon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-resize"}),touchMoveIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-move leaflet-touch-icon"}),touchResizeIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-resize leaflet-touch-icon"})},initialize:function(w,x){L.Browser.touch&&(this.options.moveIcon=this.options.touchMoveIcon,this.options.resizeIcon=this.options.touchResizeIcon),this._shape=w,L.Util.setOptions(this,x)},addHooks:function(){var w=this._shape;this._shape._map&&(this._map=this._shape._map,w.setStyle(w.options.editing),w._map&&(this._map=w._map,this._markerGroup||this._initMarkers(),this._map.addLayer(this._markerGroup)))},removeHooks:function(){var w=this._shape;if(w.setStyle(w.options.original),w._map){this._unbindMarker(this._moveMarker);for(var x=0,I=this._resizeMarkers.length;x<I;x++)this._unbindMarker(this._resizeMarkers[x]);this._resizeMarkers=null,this._map.removeLayer(this._markerGroup),delete this._markerGroup}this._map=null},updateMarkers:function(){this._markerGroup.clearLayers(),this._initMarkers()},_initMarkers:function(){this._markerGroup||(this._markerGroup=new L.LayerGroup),this._createMoveMarker(),this._createResizeMarker()},_createMoveMarker:function(){},_createResizeMarker:function(){},_createMarker:function(w,x){var I=new L.Marker.Touch(w,{draggable:!0,icon:x,zIndexOffset:10});return this._bindMarker(I),this._markerGroup.addLayer(I),I},_bindMarker:function(w){w.on("dragstart",this._onMarkerDragStart,this).on("drag",this._onMarkerDrag,this).on("dragend",this._onMarkerDragEnd,this).on("touchstart",this._onTouchStart,this).on("touchmove",this._onTouchMove,this).on("MSPointerMove",this._onTouchMove,this).on("touchend",this._onTouchEnd,this).on("MSPointerUp",this._onTouchEnd,this)},_unbindMarker:function(w){w.off("dragstart",this._onMarkerDragStart,this).off("drag",this._onMarkerDrag,this).off("dragend",this._onMarkerDragEnd,this).off("touchstart",this._onTouchStart,this).off("touchmove",this._onTouchMove,this).off("MSPointerMove",this._onTouchMove,this).off("touchend",this._onTouchEnd,this).off("MSPointerUp",this._onTouchEnd,this)},_onMarkerDragStart:function(w){w.target.setOpacity(0),this._shape.fire("editstart")},_fireEdit:function(){this._shape.edited=!0,this._shape.fire("edit")},_onMarkerDrag:function(w){var x=w.target,I=x.getLatLng();x===this._moveMarker?this._move(I):this._resize(I),this._shape.redraw(),this._shape.fire("editdrag")},_onMarkerDragEnd:function(w){w.target.setOpacity(1),this._fireEdit()},_onTouchStart:function(w){if(L.Edit.SimpleShape.prototype._onMarkerDragStart.call(this,w),"function"==typeof this._getCorners){var x=this._getCorners(),I=w.target,O=I._cornerIndex;I.setOpacity(0),this._oppositeCorner=x[(O+2)%4],this._toggleCornerMarkers(0,O)}this._shape.fire("editstart")},_onTouchMove:function(w){var x=this._map.mouseEventToLayerPoint(w.originalEvent.touches[0]),I=this._map.layerPointToLatLng(x);return w.target===this._moveMarker?this._move(I):this._resize(I),this._shape.redraw(),!1},_onTouchEnd:function(w){w.target.setOpacity(1),this.updateMarkers(),this._fireEdit()},_move:function(){},_resize:function(){}}),L.Edit=L.Edit||{},L.Edit.Rectangle=L.Edit.SimpleShape.extend({_createMoveMarker:function(){var x=this._shape.getBounds().getCenter();this._moveMarker=this._createMarker(x,this.options.moveIcon)},_createResizeMarker:function(){var w=this._getCorners();this._resizeMarkers=[];for(var x=0,I=w.length;x<I;x++)this._resizeMarkers.push(this._createMarker(w[x],this.options.resizeIcon)),this._resizeMarkers[x]._cornerIndex=x},_onMarkerDragStart:function(w){L.Edit.SimpleShape.prototype._onMarkerDragStart.call(this,w);var x=this._getCorners(),O=w.target._cornerIndex;this._oppositeCorner=x[(O+2)%4],this._toggleCornerMarkers(0,O)},_onMarkerDragEnd:function(w){var I,O=w.target;O===this._moveMarker&&(I=this._shape.getBounds().getCenter(),O.setLatLng(I)),this._toggleCornerMarkers(1),this._repositionCornerMarkers(),L.Edit.SimpleShape.prototype._onMarkerDragEnd.call(this,w)},_move:function(w){for(var x,I=this._shape._defaultShape?this._shape._defaultShape():this._shape.getLatLngs(),U=this._shape.getBounds().getCenter(),$=[],ne=0,ve=I.length;ne<ve;ne++)$.push([w.lat+(x=[I[ne].lat-U.lat,I[ne].lng-U.lng])[0],w.lng+x[1]]);this._shape.setLatLngs($),this._repositionCornerMarkers(),this._map.fire(L.Draw.Event.EDITMOVE,{layer:this._shape})},_resize:function(w){var x;this._shape.setBounds(L.latLngBounds(w,this._oppositeCorner)),x=this._shape.getBounds(),this._moveMarker.setLatLng(x.getCenter()),this._map.fire(L.Draw.Event.EDITRESIZE,{layer:this._shape})},_getCorners:function(){var w=this._shape.getBounds();return[w.getNorthWest(),w.getNorthEast(),w.getSouthEast(),w.getSouthWest()]},_toggleCornerMarkers:function(w){for(var x=0,I=this._resizeMarkers.length;x<I;x++)this._resizeMarkers[x].setOpacity(w)},_repositionCornerMarkers:function(){for(var w=this._getCorners(),x=0,I=this._resizeMarkers.length;x<I;x++)this._resizeMarkers[x].setLatLng(w[x])}}),L.Rectangle.addInitHook(function(){L.Edit.Rectangle&&(this.editing=new L.Edit.Rectangle(this),this.options.editable&&this.editing.enable())}),L.Edit=L.Edit||{},L.Edit.CircleMarker=L.Edit.SimpleShape.extend({_createMoveMarker:function(){var w=this._shape.getLatLng();this._moveMarker=this._createMarker(w,this.options.moveIcon)},_createResizeMarker:function(){this._resizeMarkers=[]},_move:function(w){if(this._resizeMarkers.length){var x=this._getResizeMarkerPoint(w);this._resizeMarkers[0].setLatLng(x)}this._shape.setLatLng(w),this._map.fire(L.Draw.Event.EDITMOVE,{layer:this._shape})}}),L.CircleMarker.addInitHook(function(){L.Edit.CircleMarker&&(this.editing=new L.Edit.CircleMarker(this),this.options.editable&&this.editing.enable()),this.on("add",function(){this.editing&&this.editing.enabled()&&this.editing.addHooks()}),this.on("remove",function(){this.editing&&this.editing.enabled()&&this.editing.removeHooks()})}),L.Edit=L.Edit||{},L.Edit.Circle=L.Edit.CircleMarker.extend({_createResizeMarker:function(){var w=this._shape.getLatLng(),x=this._getResizeMarkerPoint(w);this._resizeMarkers=[],this._resizeMarkers.push(this._createMarker(x,this.options.resizeIcon))},_getResizeMarkerPoint:function(w){var x=this._shape._radius*Math.cos(Math.PI/4),I=this._map.project(w);return this._map.unproject([I.x+x,I.y-x])},_resize:function(w){var x=this._moveMarker.getLatLng();L.GeometryUtil.isVersion07x()?radius=x.distanceTo(w):radius=this._map.distance(x,w),this._shape.setRadius(radius),this._map.editTooltip&&this._map._editTooltip.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.subtext+"<br />"+L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.draw.handlers.circle.radius+": "+L.GeometryUtil.readableDistance(radius,!0,this.options.feet,this.options.nautic)}),this._shape.setRadius(radius),this._map.fire(L.Draw.Event.EDITRESIZE,{layer:this._shape})}}),L.Circle.addInitHook(function(){L.Edit.Circle&&(this.editing=new L.Edit.Circle(this),this.options.editable&&this.editing.enable())}),L.Map.mergeOptions({touchExtend:!0}),L.Map.TouchExtend=L.Handler.extend({initialize:function(w){this._map=w,this._container=w._container,this._pane=w._panes.overlayPane},addHooks:function(){L.DomEvent.on(this._container,"touchstart",this._onTouchStart,this),L.DomEvent.on(this._container,"touchend",this._onTouchEnd,this),L.DomEvent.on(this._container,"touchmove",this._onTouchMove,this),this._detectIE()?(L.DomEvent.on(this._container,"MSPointerDown",this._onTouchStart,this),L.DomEvent.on(this._container,"MSPointerUp",this._onTouchEnd,this),L.DomEvent.on(this._container,"MSPointerMove",this._onTouchMove,this),L.DomEvent.on(this._container,"MSPointerCancel",this._onTouchCancel,this)):(L.DomEvent.on(this._container,"touchcancel",this._onTouchCancel,this),L.DomEvent.on(this._container,"touchleave",this._onTouchLeave,this))},removeHooks:function(){L.DomEvent.off(this._container,"touchstart",this._onTouchStart,this),L.DomEvent.off(this._container,"touchend",this._onTouchEnd,this),L.DomEvent.off(this._container,"touchmove",this._onTouchMove,this),this._detectIE()?(L.DomEvent.off(this._container,"MSPointerDown",this._onTouchStart,this),L.DomEvent.off(this._container,"MSPointerUp",this._onTouchEnd,this),L.DomEvent.off(this._container,"MSPointerMove",this._onTouchMove,this),L.DomEvent.off(this._container,"MSPointerCancel",this._onTouchCancel,this)):(L.DomEvent.off(this._container,"touchcancel",this._onTouchCancel,this),L.DomEvent.off(this._container,"touchleave",this._onTouchLeave,this))},_touchEvent:function(w,x){var I={};if(void 0!==w.touches){if(!w.touches.length)return;I=w.touches[0]}else if("touch"!==w.pointerType||(I=w,!this._filterClick(w)))return;var O=this._map.mouseEventToContainerPoint(I),U=this._map.mouseEventToLayerPoint(I),$=this._map.layerPointToLatLng(U);this._map.fire(x,{latlng:$,layerPoint:U,containerPoint:O,pageX:I.pageX,pageY:I.pageY,originalEvent:w})},_filterClick:function(w){var x=w.timeStamp||w.originalEvent.timeStamp,I=L.DomEvent._lastClick&&x-L.DomEvent._lastClick;return I&&I>100&&I<500||w.target._simulatedClick&&!w._simulated?(L.DomEvent.stop(w),!1):(L.DomEvent._lastClick=x,!0)},_onTouchStart:function(w){this._map._loaded&&this._touchEvent(w,"touchstart")},_onTouchEnd:function(w){this._map._loaded&&this._touchEvent(w,"touchend")},_onTouchCancel:function(w){if(this._map._loaded){var x="touchcancel";this._detectIE()&&(x="pointercancel"),this._touchEvent(w,x)}},_onTouchLeave:function(w){this._map._loaded&&this._touchEvent(w,"touchleave")},_onTouchMove:function(w){this._map._loaded&&this._touchEvent(w,"touchmove")},_detectIE:function(){var w=ft.navigator.userAgent,x=w.indexOf("MSIE ");if(x>0)return parseInt(w.substring(x+5,w.indexOf(".",x)),10);if(w.indexOf("Trident/")>0){var I=w.indexOf("rv:");return parseInt(w.substring(I+3,w.indexOf(".",I)),10)}var O=w.indexOf("Edge/");return O>0&&parseInt(w.substring(O+5,w.indexOf(".",O)),10)}}),L.Map.addInitHook("addHandler","touchExtend",L.Map.TouchExtend),L.Marker.Touch=L.Marker.extend({_initInteraction:function(){return this.addInteractiveTarget?L.Marker.prototype._initInteraction.apply(this):this._initInteractionLegacy()},_initInteractionLegacy:function(){if(this.options.clickable){var w=this._icon,x=["dblclick","mousedown","mouseover","mouseout","contextmenu","touchstart","touchend","touchmove"];x.concat(this._detectIE?["MSPointerDown","MSPointerUp","MSPointerMove","MSPointerCancel"]:["touchcancel"]),L.DomUtil.addClass(w,"leaflet-clickable"),L.DomEvent.on(w,"click",this._onMouseClick,this),L.DomEvent.on(w,"keypress",this._onKeyPress,this);for(var I=0;I<x.length;I++)L.DomEvent.on(w,x[I],this._fireMouseEvent,this);L.Handler.MarkerDrag&&(this.dragging=new L.Handler.MarkerDrag(this),this.options.draggable&&this.dragging.enable())}},_detectIE:function(){var w=ft.navigator.userAgent,x=w.indexOf("MSIE ");if(x>0)return parseInt(w.substring(x+5,w.indexOf(".",x)),10);if(w.indexOf("Trident/")>0){var I=w.indexOf("rv:");return parseInt(w.substring(I+3,w.indexOf(".",I)),10)}var O=w.indexOf("Edge/");return O>0&&parseInt(w.substring(O+5,w.indexOf(".",O)),10)}}),L.LatLngUtil={cloneLatLngs:function(w){for(var x=[],I=0,O=w.length;I<O;I++)Array.isArray(w[I])?x.push(L.LatLngUtil.cloneLatLngs(w[I])):x.push(this.cloneLatLng(w[I]));return x},cloneLatLng:function(w){return L.latLng(w.lat,w.lng)}},w={km:2,ha:2,m:0,mi:2,ac:2,yd:0,ft:0,nm:2},L.GeometryUtil=L.extend(L.GeometryUtil||{},{geodesicArea:function(x){var I,O,U=x.length,$=0,ne=Math.PI/180;if(U>2){for(var ve=0;ve<U;ve++)$+=((O=x[(ve+1)%U]).lng-(I=x[ve]).lng)*ne*(2+Math.sin(I.lat*ne)+Math.sin(O.lat*ne));$=6378137*$*6378137/2}return Math.abs($)},formattedNumber:function(x,I){var O=parseFloat(x).toFixed(I),U=L.drawLocal.format&&L.drawLocal.format.numeric,$=U&&U.delimiters,ne=$&&$.thousands,ve=$&&$.decimal;if(ne||ve){var Ne=O.split(".");O=ne?Ne[0].replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+ne):Ne[0],ve=ve||".",Ne.length>1&&(O=O+ve+Ne[1])}return O},readableArea:function(x,I,ne){var U,$;return ne=L.Util.extend({},w,ne),I?($=["ha","m"],type=typeof I,"string"===type?$=[I]:"boolean"!==type&&($=I),U=x>=1e6&&-1!==$.indexOf("km")?L.GeometryUtil.formattedNumber(1e-6*x,ne.km)+" km\xb2":x>=1e4&&-1!==$.indexOf("ha")?L.GeometryUtil.formattedNumber(1e-4*x,ne.ha)+" ha":L.GeometryUtil.formattedNumber(x,ne.m)+" m\xb2"):U=(x/=.836127)>=3097600?L.GeometryUtil.formattedNumber(x/3097600,ne.mi)+" mi\xb2":x>=4840?L.GeometryUtil.formattedNumber(x/4840,ne.ac)+" acres":L.GeometryUtil.formattedNumber(x,ne.yd)+" yd\xb2",U},readableDistance:function(x,I,O,U,ve){var ne;switch(ve=L.Util.extend({},w,ve),I?"string"==typeof I?I:"metric":O?"feet":U?"nauticalMile":"yards"){case"metric":ne=x>1e3?L.GeometryUtil.formattedNumber(x/1e3,ve.km)+" km":L.GeometryUtil.formattedNumber(x,ve.m)+" m";break;case"feet":x*=3.28083,ne=L.GeometryUtil.formattedNumber(x,ve.ft)+" ft";break;case"nauticalMile":x*=.53996,ne=L.GeometryUtil.formattedNumber(x/1e3,ve.nm)+" nm";break;default:ne=(x*=1.09361)>1760?L.GeometryUtil.formattedNumber(x/1760,ve.mi)+" miles":L.GeometryUtil.formattedNumber(x,ve.yd)+" yd"}return ne},isVersion07x:function(){var x=L.version.split(".");return 0===parseInt(x[0],10)&&7===parseInt(x[1],10)}}),L.Util.extend(L.LineUtil,{segmentsIntersect:function(w,x,I,O){return this._checkCounterclockwise(w,I,O)!==this._checkCounterclockwise(x,I,O)&&this._checkCounterclockwise(w,x,I)!==this._checkCounterclockwise(w,x,O)},_checkCounterclockwise:function(w,x,I){return(I.y-w.y)*(x.x-w.x)>(x.y-w.y)*(I.x-w.x)}}),L.Polyline.include({intersects:function(){var w,O=this._getProjectedPoints(),U=O?O.length:0;if(this._tooFewPointsForIntersection())return!1;for(w=U-1;w>=3;w--)if(this._lineSegmentsIntersectsRange(O[w-1],O[w],w-2))return!0;return!1},newLatLngIntersects:function(w,x){return!!this._map&&this.newPointIntersects(this._map.latLngToLayerPoint(w),x)},newPointIntersects:function(w,x){var I=this._getProjectedPoints(),O=I?I.length:0,U=I?I[O-1]:null,$=O-2;return!this._tooFewPointsForIntersection(1)&&this._lineSegmentsIntersectsRange(U,w,$,x?1:0)},_tooFewPointsForIntersection:function(w){var x=this._getProjectedPoints(),I=x?x.length:0;return!x||(I+=w||0)<=3},_lineSegmentsIntersectsRange:function(w,x,I,O){var ne=this._getProjectedPoints();O=O||0;for(var ve=I;ve>O;ve--)if(L.LineUtil.segmentsIntersect(w,x,ne[ve-1],ne[ve]))return!0;return!1},_getProjectedPoints:function(){if(!this._defaultShape)return this._originalPoints;for(var w=[],x=this._defaultShape(),I=0;I<x.length;I++)w.push(this._map.latLngToLayerPoint(x[I]));return w}}),L.Polygon.include({intersects:function(){var w,U=this._getProjectedPoints();return!this._tooFewPointsForIntersection()&&(!!L.Polyline.prototype.intersects.call(this)||this._lineSegmentsIntersectsRange(U[(w=U.length)-1],U[0],w-2,1))}}),L.Control.Draw=L.Control.extend({options:{position:"topleft",draw:{},edit:!1},initialize:function(w){if(L.version<"0.7")throw new Error("Leaflet.draw 0.2.3+ requires Leaflet 0.7.0+. Download latest from https://github.com/Leaflet/Leaflet/");var x;L.Control.prototype.initialize.call(this,w),this._toolbars={},L.DrawToolbar&&this.options.draw&&(x=new L.DrawToolbar(this.options.draw),this._toolbars[L.DrawToolbar.TYPE]=x,this._toolbars[L.DrawToolbar.TYPE].on("enable",this._toolbarEnabled,this)),L.EditToolbar&&this.options.edit&&(x=new L.EditToolbar(this.options.edit),this._toolbars[L.EditToolbar.TYPE]=x,this._toolbars[L.EditToolbar.TYPE].on("enable",this._toolbarEnabled,this)),L.toolbar=this},onAdd:function(w){var x,I=L.DomUtil.create("div","leaflet-draw"),O=!1;for(var U in this._toolbars)this._toolbars.hasOwnProperty(U)&&(x=this._toolbars[U].addToolbar(w))&&(O||(L.DomUtil.hasClass(x,"leaflet-draw-toolbar-top")||L.DomUtil.addClass(x.childNodes[0],"leaflet-draw-toolbar-top"),O=!0),I.appendChild(x));return I},onRemove:function(){for(var w in this._toolbars)this._toolbars.hasOwnProperty(w)&&this._toolbars[w].removeToolbar()},setDrawingOptions:function(w){for(var x in this._toolbars)this._toolbars[x]instanceof L.DrawToolbar&&this._toolbars[x].setOptions(w)},_toolbarEnabled:function(w){var x=w.target;for(var I in this._toolbars)this._toolbars[I]!==x&&this._toolbars[I].disable()}}),L.Map.mergeOptions({drawControlTooltips:!0,drawControl:!1}),L.Map.addInitHook(function(){this.options.drawControl&&(this.drawControl=new L.Control.Draw,this.addControl(this.drawControl))}),L.Toolbar=L.Class.extend({initialize:function(w){L.setOptions(this,w),this._modes={},this._actionButtons=[],this._activeMode=null;var x=L.version.split(".");1===parseInt(x[0],10)&&parseInt(x[1],10)>=2?L.Toolbar.include(L.Evented.prototype):L.Toolbar.include(L.Mixin.Events)},enabled:function(){return null!==this._activeMode},disable:function(){this.enabled()&&this._activeMode.handler.disable()},addToolbar:function(w){var x,I=L.DomUtil.create("div","leaflet-draw-section"),O=0,U=this._toolbarClass||"",$=this.getModeHandlers(w);for(this._toolbarContainer=L.DomUtil.create("div","leaflet-draw-toolbar leaflet-bar"),this._map=w,x=0;x<$.length;x++)$[x].enabled&&this._initModeHandler($[x].handler,this._toolbarContainer,O++,U,$[x].title);if(O)return this._lastButtonIndex=--O,this._actionsContainer=L.DomUtil.create("ul","leaflet-draw-actions"),I.appendChild(this._toolbarContainer),I.appendChild(this._actionsContainer),I},removeToolbar:function(){for(var w in this._modes)this._modes.hasOwnProperty(w)&&(this._disposeButton(this._modes[w].button,this._modes[w].handler.enable,this._modes[w].handler),this._modes[w].handler.disable(),this._modes[w].handler.off("enabled",this._handlerActivated,this).off("disabled",this._handlerDeactivated,this));this._modes={};for(var x=0,I=this._actionButtons.length;x<I;x++)this._disposeButton(this._actionButtons[x].button,this._actionButtons[x].callback,this);this._actionButtons=[],this._actionsContainer=null},_initModeHandler:function(w,x,I,O,U){var $=w.type;this._modes[$]={},this._modes[$].handler=w,this._modes[$].button=this._createButton({type:$,title:U,className:O+"-"+$,container:x,callback:this._modes[$].handler.enable,context:this._modes[$].handler}),this._modes[$].buttonIndex=I,this._modes[$].handler.on("enabled",this._handlerActivated,this).on("disabled",this._handlerDeactivated,this)},_detectIOS:function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!ft.MSStream},_createButton:function(w){var x=L.DomUtil.create("a",w.className||"",w.container),I=L.DomUtil.create("span","sr-only",w.container);x.href="#",x.appendChild(I),w.title&&(x.title=w.title,I.innerHTML=w.title),w.text&&(x.innerHTML=w.text,I.innerHTML=w.text);var O=this._detectIOS()?"touchstart":"click";return L.DomEvent.on(x,"click",L.DomEvent.stopPropagation).on(x,"mousedown",L.DomEvent.stopPropagation).on(x,"dblclick",L.DomEvent.stopPropagation).on(x,"touchstart",L.DomEvent.stopPropagation).on(x,"click",L.DomEvent.preventDefault).on(x,O,w.callback,w.context),x},_disposeButton:function(w,x){var I=this._detectIOS()?"touchstart":"click";L.DomEvent.off(w,"click",L.DomEvent.stopPropagation).off(w,"mousedown",L.DomEvent.stopPropagation).off(w,"dblclick",L.DomEvent.stopPropagation).off(w,"touchstart",L.DomEvent.stopPropagation).off(w,"click",L.DomEvent.preventDefault).off(w,I,x)},_handlerActivated:function(w){this.disable(),this._activeMode=this._modes[w.handler],L.DomUtil.addClass(this._activeMode.button,"leaflet-draw-toolbar-button-enabled"),this._showActionsToolbar(),this.fire("enable")},_handlerDeactivated:function(){this._hideActionsToolbar(),L.DomUtil.removeClass(this._activeMode.button,"leaflet-draw-toolbar-button-enabled"),this._activeMode=null,this.fire("disable")},_createActions:function(w){var x,I,O,U,$=this._actionsContainer,ne=this.getActions(w),ve=ne.length;for(I=0,O=this._actionButtons.length;I<O;I++)this._disposeButton(this._actionButtons[I].button,this._actionButtons[I].callback);for(this._actionButtons=[];$.firstChild;)$.removeChild($.firstChild);for(var Ne=0;Ne<ve;Ne++)"enabled"in ne[Ne]&&!ne[Ne].enabled||(x=L.DomUtil.create("li","",$),U=this._createButton({title:ne[Ne].title,text:ne[Ne].text,container:x,callback:ne[Ne].callback,context:ne[Ne].context}),this._actionButtons.push({button:U,callback:ne[Ne].callback}))},_showActionsToolbar:function(){var w=this._activeMode.buttonIndex,x=this._lastButtonIndex,I=this._activeMode.button.offsetTop-1;this._createActions(this._activeMode.handler),this._actionsContainer.style.top=I+"px",0===w&&(L.DomUtil.addClass(this._toolbarContainer,"leaflet-draw-toolbar-notop"),L.DomUtil.addClass(this._actionsContainer,"leaflet-draw-actions-top")),w===x&&(L.DomUtil.addClass(this._toolbarContainer,"leaflet-draw-toolbar-nobottom"),L.DomUtil.addClass(this._actionsContainer,"leaflet-draw-actions-bottom")),this._actionsContainer.style.display="block",this._map.fire(L.Draw.Event.TOOLBAROPENED)},_hideActionsToolbar:function(){this._actionsContainer.style.display="none",L.DomUtil.removeClass(this._toolbarContainer,"leaflet-draw-toolbar-notop"),L.DomUtil.removeClass(this._toolbarContainer,"leaflet-draw-toolbar-nobottom"),L.DomUtil.removeClass(this._actionsContainer,"leaflet-draw-actions-top"),L.DomUtil.removeClass(this._actionsContainer,"leaflet-draw-actions-bottom"),this._map.fire(L.Draw.Event.TOOLBARCLOSED)}}),L.Draw=L.Draw||{},L.Draw.Tooltip=L.Class.extend({initialize:function(w){this._map=w,this._popupPane=w._panes.popupPane,this._visible=!1,this._container=w.options.drawControlTooltips?L.DomUtil.create("div","leaflet-draw-tooltip",this._popupPane):null,this._singleLineLabel=!1,this._map.on("mouseout",this._onMouseOut,this)},dispose:function(){this._map.off("mouseout",this._onMouseOut,this),this._container&&(this._popupPane.removeChild(this._container),this._container=null)},updateContent:function(w){return this._container?(w.subtext=w.subtext||"",0!==w.subtext.length||this._singleLineLabel?w.subtext.length>0&&this._singleLineLabel&&(L.DomUtil.removeClass(this._container,"leaflet-draw-tooltip-single"),this._singleLineLabel=!1):(L.DomUtil.addClass(this._container,"leaflet-draw-tooltip-single"),this._singleLineLabel=!0),this._container.innerHTML=(w.subtext.length>0?'<span class="leaflet-draw-tooltip-subtext">'+w.subtext+"</span><br />":"")+"<span>"+w.text+"</span>",w.text||w.subtext?(this._visible=!0,this._container.style.visibility="inherit"):(this._visible=!1,this._container.style.visibility="hidden"),this):this},updatePosition:function(w){var x=this._map.latLngToLayerPoint(w),I=this._container;return this._container&&(this._visible&&(I.style.visibility="inherit"),L.DomUtil.setPosition(I,x)),this},showAsError:function(){return this._container&&L.DomUtil.addClass(this._container,"leaflet-error-draw-tooltip"),this},removeError:function(){return this._container&&L.DomUtil.removeClass(this._container,"leaflet-error-draw-tooltip"),this},_onMouseOut:function(){this._container&&(this._container.style.visibility="hidden")}}),L.DrawToolbar=L.Toolbar.extend({statics:{TYPE:"draw"},options:{polyline:{},polygon:{},rectangle:{},circle:{},marker:{},circlemarker:{}},initialize:function(w){for(var x in this.options)this.options.hasOwnProperty(x)&&w[x]&&(w[x]=L.extend({},this.options[x],w[x]));this._toolbarClass="leaflet-draw-draw",L.Toolbar.prototype.initialize.call(this,w)},getModeHandlers:function(w){return[{enabled:this.options.polyline,handler:new L.Draw.Polyline(w,this.options.polyline),title:L.drawLocal.draw.toolbar.buttons.polyline},{enabled:this.options.polygon,handler:new L.Draw.Polygon(w,this.options.polygon),title:L.drawLocal.draw.toolbar.buttons.polygon},{enabled:this.options.rectangle,handler:new L.Draw.Rectangle(w,this.options.rectangle),title:L.drawLocal.draw.toolbar.buttons.rectangle},{enabled:this.options.circle,handler:new L.Draw.Circle(w,this.options.circle),title:L.drawLocal.draw.toolbar.buttons.circle},{enabled:this.options.marker,handler:new L.Draw.Marker(w,this.options.marker),title:L.drawLocal.draw.toolbar.buttons.marker},{enabled:this.options.circlemarker,handler:new L.Draw.CircleMarker(w,this.options.circlemarker),title:L.drawLocal.draw.toolbar.buttons.circlemarker}]},getActions:function(w){return[{enabled:w.completeShape,title:L.drawLocal.draw.toolbar.finish.title,text:L.drawLocal.draw.toolbar.finish.text,callback:w.completeShape,context:w},{enabled:w.deleteLastVertex,title:L.drawLocal.draw.toolbar.undo.title,text:L.drawLocal.draw.toolbar.undo.text,callback:w.deleteLastVertex,context:w},{title:L.drawLocal.draw.toolbar.actions.title,text:L.drawLocal.draw.toolbar.actions.text,callback:this.disable,context:this}]},setOptions:function(w){for(var x in L.setOptions(this,w),this._modes)this._modes.hasOwnProperty(x)&&w.hasOwnProperty(x)&&this._modes[x].handler.setOptions(w[x])}}),L.EditToolbar=L.Toolbar.extend({statics:{TYPE:"edit"},options:{edit:{selectedPathOptions:{dashArray:"10, 10",fill:!0,fillColor:"#fe57a1",fillOpacity:.1,maintainColor:!1}},remove:{},poly:null,featureGroup:null},initialize:function(w){w.edit&&(void 0===w.edit.selectedPathOptions&&(w.edit.selectedPathOptions=this.options.edit.selectedPathOptions),w.edit.selectedPathOptions=L.extend({},this.options.edit.selectedPathOptions,w.edit.selectedPathOptions)),w.remove&&(w.remove=L.extend({},this.options.remove,w.remove)),w.poly&&(w.poly=L.extend({},this.options.poly,w.poly)),this._toolbarClass="leaflet-draw-edit",L.Toolbar.prototype.initialize.call(this,w),this._selectedFeatureCount=0},getModeHandlers:function(w){var x=this.options.featureGroup;return[{enabled:this.options.edit,handler:new L.EditToolbar.Edit(w,{featureGroup:x,selectedPathOptions:this.options.edit.selectedPathOptions,poly:this.options.poly}),title:L.drawLocal.edit.toolbar.buttons.edit},{enabled:this.options.remove,handler:new L.EditToolbar.Delete(w,{featureGroup:x}),title:L.drawLocal.edit.toolbar.buttons.remove}]},getActions:function(w){var x=[{title:L.drawLocal.edit.toolbar.actions.save.title,text:L.drawLocal.edit.toolbar.actions.save.text,callback:this._save,context:this},{title:L.drawLocal.edit.toolbar.actions.cancel.title,text:L.drawLocal.edit.toolbar.actions.cancel.text,callback:this.disable,context:this}];return w.removeAllLayers&&x.push({title:L.drawLocal.edit.toolbar.actions.clearAll.title,text:L.drawLocal.edit.toolbar.actions.clearAll.text,callback:this._clearAllLayers,context:this}),x},addToolbar:function(w){var x=L.Toolbar.prototype.addToolbar.call(this,w);return this._checkDisabled(),this.options.featureGroup.on("layeradd layerremove",this._checkDisabled,this),x},removeToolbar:function(){this.options.featureGroup.off("layeradd layerremove",this._checkDisabled,this),L.Toolbar.prototype.removeToolbar.call(this)},disable:function(){this.enabled()&&(this._activeMode.handler.revertLayers(),L.Toolbar.prototype.disable.call(this))},_save:function(){this._activeMode.handler.save(),this._activeMode&&this._activeMode.handler.disable()},_clearAllLayers:function(){this._activeMode.handler.removeAllLayers(),this._activeMode&&this._activeMode.handler.disable()},_checkDisabled:function(){var w,I=0!==this.options.featureGroup.getLayers().length;this.options.edit&&(w=this._modes[L.EditToolbar.Edit.TYPE].button,I?L.DomUtil.removeClass(w,"leaflet-disabled"):L.DomUtil.addClass(w,"leaflet-disabled"),w.setAttribute("title",I?L.drawLocal.edit.toolbar.buttons.edit:L.drawLocal.edit.toolbar.buttons.editDisabled)),this.options.remove&&(w=this._modes[L.EditToolbar.Delete.TYPE].button,I?L.DomUtil.removeClass(w,"leaflet-disabled"):L.DomUtil.addClass(w,"leaflet-disabled"),w.setAttribute("title",I?L.drawLocal.edit.toolbar.buttons.remove:L.drawLocal.edit.toolbar.buttons.removeDisabled))}}),L.EditToolbar.Edit=L.Handler.extend({statics:{TYPE:"edit"},initialize:function(w,x){if(L.Handler.prototype.initialize.call(this,w),L.setOptions(this,x),this._featureGroup=x.featureGroup,!(this._featureGroup instanceof L.FeatureGroup))throw new Error("options.featureGroup must be a L.FeatureGroup");this._uneditedLayerProps={},this.type=L.EditToolbar.Edit.TYPE;var I=L.version.split(".");1===parseInt(I[0],10)&&parseInt(I[1],10)>=2?L.EditToolbar.Edit.include(L.Evented.prototype):L.EditToolbar.Edit.include(L.Mixin.Events)},enable:function(){!this._enabled&&this._hasAvailableLayers()&&(this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.EDITSTART,{handler:this.type}),L.Handler.prototype.enable.call(this),this._featureGroup.on("layeradd",this._enableLayerEdit,this).on("layerremove",this._disableLayerEdit,this))},disable:function(){this._enabled&&(this._featureGroup.off("layeradd",this._enableLayerEdit,this).off("layerremove",this._disableLayerEdit,this),L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.EDITSTOP,{handler:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var w=this._map;w&&(w.getContainer().focus(),this._featureGroup.eachLayer(this._enableLayerEdit,this),this._tooltip=new L.Draw.Tooltip(this._map),this._tooltip.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext}),w._editTooltip=this._tooltip,this._updateTooltip(),this._map.on("mousemove",this._onMouseMove,this).on("touchmove",this._onMouseMove,this).on("MSPointerMove",this._onMouseMove,this).on(L.Draw.Event.EDITVERTEX,this._updateTooltip,this))},removeHooks:function(){this._map&&(this._featureGroup.eachLayer(this._disableLayerEdit,this),this._uneditedLayerProps={},this._tooltip.dispose(),this._tooltip=null,this._map.off("mousemove",this._onMouseMove,this).off("touchmove",this._onMouseMove,this).off("MSPointerMove",this._onMouseMove,this).off(L.Draw.Event.EDITVERTEX,this._updateTooltip,this))},revertLayers:function(){this._featureGroup.eachLayer(function(w){this._revertLayer(w)},this)},save:function(){var w=new L.LayerGroup;this._featureGroup.eachLayer(function(x){x.edited&&(w.addLayer(x),x.edited=!1)}),this._map.fire(L.Draw.Event.EDITED,{layers:w})},_backupLayer:function(w){var x=L.Util.stamp(w);this._uneditedLayerProps[x]||(w instanceof L.Polyline||w instanceof L.Polygon||w instanceof L.Rectangle?this._uneditedLayerProps[x]={latlngs:L.LatLngUtil.cloneLatLngs(w.getLatLngs())}:w instanceof L.Circle?this._uneditedLayerProps[x]={latlng:L.LatLngUtil.cloneLatLng(w.getLatLng()),radius:w.getRadius()}:(w instanceof L.Marker||w instanceof L.CircleMarker)&&(this._uneditedLayerProps[x]={latlng:L.LatLngUtil.cloneLatLng(w.getLatLng())}))},_getTooltipText:function(){return{text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext}},_updateTooltip:function(){this._tooltip.updateContent(this._getTooltipText())},_revertLayer:function(w){var x=L.Util.stamp(w);w.edited=!1,this._uneditedLayerProps.hasOwnProperty(x)&&(w instanceof L.Polyline||w instanceof L.Polygon||w instanceof L.Rectangle?w.setLatLngs(this._uneditedLayerProps[x].latlngs):w instanceof L.Circle?(w.setLatLng(this._uneditedLayerProps[x].latlng),w.setRadius(this._uneditedLayerProps[x].radius)):(w instanceof L.Marker||w instanceof L.CircleMarker)&&w.setLatLng(this._uneditedLayerProps[x].latlng),w.fire("revert-edited",{layer:w}))},_enableLayerEdit:function(w){var x,I,O=w.layer||w.target||w;this._backupLayer(O),this.options.poly&&(I=L.Util.extend({},this.options.poly),O.options.poly=I),this.options.selectedPathOptions&&((x=L.Util.extend({},this.options.selectedPathOptions)).maintainColor&&(x.color=O.options.color,x.fillColor=O.options.fillColor),O.options.original=L.extend({},O.options),O.options.editing=x),O instanceof L.Marker?(O.editing&&O.editing.enable(),O.dragging.enable(),O.on("dragend",this._onMarkerDragEnd).on("touchmove",this._onTouchMove,this).on("MSPointerMove",this._onTouchMove,this).on("touchend",this._onMarkerDragEnd,this).on("MSPointerUp",this._onMarkerDragEnd,this)):O.editing.enable()},_disableLayerEdit:function(w){var x=w.layer||w.target||w;x.edited=!1,x.editing&&x.editing.disable(),delete x.options.editing,delete x.options.original,this._selectedPathOptions&&(x instanceof L.Marker?this._toggleMarkerHighlight(x):(x.setStyle(x.options.previousOptions),delete x.options.previousOptions)),x instanceof L.Marker?(x.dragging.disable(),x.off("dragend",this._onMarkerDragEnd,this).off("touchmove",this._onTouchMove,this).off("MSPointerMove",this._onTouchMove,this).off("touchend",this._onMarkerDragEnd,this).off("MSPointerUp",this._onMarkerDragEnd,this)):x.editing.disable()},_onMouseMove:function(w){this._tooltip.updatePosition(w.latlng)},_onMarkerDragEnd:function(w){var x=w.target;x.edited=!0,this._map.fire(L.Draw.Event.EDITMOVE,{layer:x})},_onTouchMove:function(w){var I=this._map.mouseEventToLayerPoint(w.originalEvent.changedTouches[0]),O=this._map.layerPointToLatLng(I);w.target.setLatLng(O)},_hasAvailableLayers:function(){return 0!==this._featureGroup.getLayers().length}}),L.EditToolbar.Delete=L.Handler.extend({statics:{TYPE:"remove"},initialize:function(w,x){if(L.Handler.prototype.initialize.call(this,w),L.Util.setOptions(this,x),this._deletableLayers=this.options.featureGroup,!(this._deletableLayers instanceof L.FeatureGroup))throw new Error("options.featureGroup must be a L.FeatureGroup");this.type=L.EditToolbar.Delete.TYPE;var I=L.version.split(".");1===parseInt(I[0],10)&&parseInt(I[1],10)>=2?L.EditToolbar.Delete.include(L.Evented.prototype):L.EditToolbar.Delete.include(L.Mixin.Events)},enable:function(){!this._enabled&&this._hasAvailableLayers()&&(this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.DELETESTART,{handler:this.type}),L.Handler.prototype.enable.call(this),this._deletableLayers.on("layeradd",this._enableLayerDelete,this).on("layerremove",this._disableLayerDelete,this))},disable:function(){this._enabled&&(this._deletableLayers.off("layeradd",this._enableLayerDelete,this).off("layerremove",this._disableLayerDelete,this),L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.DELETESTOP,{handler:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var w=this._map;w&&(w.getContainer().focus(),this._deletableLayers.eachLayer(this._enableLayerDelete,this),this._deletedLayers=new L.LayerGroup,this._tooltip=new L.Draw.Tooltip(this._map),this._tooltip.updateContent({text:L.drawLocal.edit.handlers.remove.tooltip.text}),this._map.on("mousemove",this._onMouseMove,this))},removeHooks:function(){this._map&&(this._deletableLayers.eachLayer(this._disableLayerDelete,this),this._deletedLayers=null,this._tooltip.dispose(),this._tooltip=null,this._map.off("mousemove",this._onMouseMove,this))},revertLayers:function(){this._deletedLayers.eachLayer(function(w){this._deletableLayers.addLayer(w),w.fire("revert-deleted",{layer:w})},this)},save:function(){this._map.fire(L.Draw.Event.DELETED,{layers:this._deletedLayers})},removeAllLayers:function(){this._deletableLayers.eachLayer(function(w){this._removeLayer({layer:w})},this),this.save()},_enableLayerDelete:function(w){(w.layer||w.target||w).on("click",this._removeLayer,this)},_disableLayerDelete:function(w){var x=w.layer||w.target||w;x.off("click",this._removeLayer,this),this._deletedLayers.removeLayer(x)},_removeLayer:function(w){var x=w.layer||w.target||w;this._deletableLayers.removeLayer(x),this._deletedLayers.addLayer(x),x.fire("deleted")},_onMouseMove:function(w){this._tooltip.updatePosition(w.latlng)},_hasAvailableLayers:function(){return 0!==this._deletableLayers.getLayers().length}})},8433:function(ft,Ye){!function(fe){"use strict";function w(c){var g,E,k,Y;for(E=1,k=arguments.length;E<k;E++)for(g in Y=arguments[E])c[g]=Y[g];return c}var x=Object.create||function(){function c(){}return function(g){return c.prototype=g,new c}}();function I(c,g){var E=Array.prototype.slice;if(c.bind)return c.bind.apply(c,E.call(arguments,1));var k=E.call(arguments,2);return function(){return c.apply(g,k.length?k.concat(E.call(arguments)):arguments)}}var O=0;function U(c){return"_leaflet_id"in c||(c._leaflet_id=++O),c._leaflet_id}function $(c,g,E){var k,Y,le,Ue;return Ue=function(){k=!1,Y&&(le.apply(E,Y),Y=!1)},le=function(){k?Y=arguments:(c.apply(E,arguments),setTimeout(Ue,g),k=!0)},le}function ne(c,g,E){var k=g[1],Y=g[0],le=k-Y;return c===k&&E?c:((c-Y)%le+le)%le+Y}function ve(){return!1}function Ne(c,g){if(!1===g)return c;var E=Math.pow(10,void 0===g?6:g);return Math.round(c*E)/E}function Re(c){return c.trim?c.trim():c.replace(/^\s+|\s+$/g,"")}function ye(c){return Re(c).split(/\s+/)}function _e(c,g){for(var E in Object.prototype.hasOwnProperty.call(c,"options")||(c.options=c.options?x(c.options):{}),g)c.options[E]=g[E];return c.options}function Oe(c,g,E){var k=[];for(var Y in c)k.push(encodeURIComponent(E?Y.toUpperCase():Y)+"="+encodeURIComponent(c[Y]));return(g&&-1!==g.indexOf("?")?"&":"?")+k.join("&")}var oe=/\{ *([\w_ -]+) *\}/g;function he(c,g){return c.replace(oe,function(E,k){var Y=g[k];if(void 0===Y)throw new Error("No value provided for variable "+E);return"function"==typeof Y&&(Y=Y(g)),Y})}var z=Array.isArray||function(c){return"[object Array]"===Object.prototype.toString.call(c)};function R(c,g){for(var E=0;E<c.length;E++)if(c[E]===g)return E;return-1}var V="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function J(c){return window["webkit"+c]||window["moz"+c]||window["ms"+c]}var Q=0;function ee(c){var g=+new Date,E=Math.max(0,16-(g-Q));return Q=g+E,window.setTimeout(c,E)}var ie=window.requestAnimationFrame||J("RequestAnimationFrame")||ee,W=window.cancelAnimationFrame||J("CancelAnimationFrame")||J("CancelRequestAnimationFrame")||function(c){window.clearTimeout(c)};function De(c,g,E){if(!E||ie!==ee)return ie.call(window,I(c,g));c.call(g)}function ge(c){c&&W.call(window,c)}var Ee={__proto__:null,extend:w,create:x,bind:I,get lastId(){return O},stamp:U,throttle:$,wrapNum:ne,falseFn:ve,formatNum:Ne,trim:Re,splitWords:ye,setOptions:_e,getParamString:Oe,template:he,isArray:z,indexOf:R,emptyImageUrl:V,requestFn:ie,cancelFn:W,requestAnimFrame:De,cancelAnimFrame:ge};function de(){}de.extend=function(c){var g=function(){_e(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},E=g.__super__=this.prototype,k=x(E);for(var Y in k.constructor=g,g.prototype=k,this)Object.prototype.hasOwnProperty.call(this,Y)&&"prototype"!==Y&&"__super__"!==Y&&(g[Y]=this[Y]);return c.statics&&w(g,c.statics),c.includes&&(function Qe(c){if(!(typeof L>"u")&&L&&L.Mixin){c=z(c)?c:[c];for(var g=0;g<c.length;g++)c[g]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}(c.includes),w.apply(null,[k].concat(c.includes))),w(k,c),delete k.statics,delete k.includes,k.options&&(k.options=E.options?x(E.options):{},w(k.options,c.options)),k._initHooks=[],k.callInitHooks=function(){if(!this._initHooksCalled){E.callInitHooks&&E.callInitHooks.call(this),this._initHooksCalled=!0;for(var le=0,Ue=k._initHooks.length;le<Ue;le++)k._initHooks[le].call(this)}},g},de.include=function(c){var g=this.prototype.options;return w(this.prototype,c),c.options&&(this.prototype.options=g,this.mergeOptions(c.options)),this},de.mergeOptions=function(c){return w(this.prototype.options,c),this},de.addInitHook=function(c){var g=Array.prototype.slice.call(arguments,1),E="function"==typeof c?c:function(){this[c].apply(this,g)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(E),this};var We={on:function(c,g,E){if("object"==typeof c)for(var k in c)this._on(k,c[k],g);else for(var Y=0,le=(c=ye(c)).length;Y<le;Y++)this._on(c[Y],g,E);return this},off:function(c,g,E){if(arguments.length)if("object"==typeof c)for(var k in c)this._off(k,c[k],g);else{c=ye(c);for(var Y=1===arguments.length,le=0,Ue=c.length;le<Ue;le++)Y?this._off(c[le]):this._off(c[le],g,E)}else delete this._events;return this},_on:function(c,g,E,k){if("function"==typeof g){if(!1===this._listens(c,g,E)){E===this&&(E=void 0);var Y={fn:g,ctx:E};k&&(Y.once=!0),this._events=this._events||{},this._events[c]=this._events[c]||[],this._events[c].push(Y)}}else console.warn("wrong listener type: "+typeof g)},_off:function(c,g,E){var k,Y,le;if(this._events&&(k=this._events[c])){if(1===arguments.length){if(this._firingCount)for(Y=0,le=k.length;Y<le;Y++)k[Y].fn=ve;return void delete this._events[c]}if("function"!=typeof g)return void console.warn("wrong listener type: "+typeof g);var Ue=this._listens(c,g,E);!1!==Ue&&(this._firingCount&&(k[Ue].fn=ve,this._events[c]=k=k.slice()),k.splice(Ue,1))}},fire:function(c,g,E){if(!this.listens(c,E))return this;var k=w({},g,{type:c,target:this,sourceTarget:g&&g.sourceTarget||this});if(this._events){var Y=this._events[c];if(Y){this._firingCount=this._firingCount+1||1;for(var le=0,Ue=Y.length;le<Ue;le++){var tt=Y[le],at=tt.fn;tt.once&&this.off(c,at,tt.ctx),at.call(tt.ctx||this,k)}this._firingCount--}}return E&&this._propagateEvent(k),this},listens:function(c,g,E,k){"string"!=typeof c&&console.warn('"string" type argument expected');var Y=g;"function"!=typeof g&&(k=!!g,Y=void 0,E=void 0);var le=this._events&&this._events[c];if(le&&le.length&&!1!==this._listens(c,Y,E))return!0;if(k)for(var Ue in this._eventParents)if(this._eventParents[Ue].listens(c,g,E,k))return!0;return!1},_listens:function(c,g,E){if(!this._events)return!1;var k=this._events[c]||[];if(!g)return!!k.length;E===this&&(E=void 0);for(var Y=0,le=k.length;Y<le;Y++)if(k[Y].fn===g&&k[Y].ctx===E)return Y;return!1},once:function(c,g,E){if("object"==typeof c)for(var k in c)this._on(k,c[k],g,!0);else for(var Y=0,le=(c=ye(c)).length;Y<le;Y++)this._on(c[Y],g,E,!0);return this},addEventParent:function(c){return this._eventParents=this._eventParents||{},this._eventParents[U(c)]=c,this},removeEventParent:function(c){return this._eventParents&&delete this._eventParents[U(c)],this},_propagateEvent:function(c){for(var g in this._eventParents)this._eventParents[g].fire(c.type,w({layer:c.target,propagatedFrom:c.target},c),!0)}};We.addEventListener=We.on,We.removeEventListener=We.clearAllEventListeners=We.off,We.addOneTimeEventListener=We.once,We.fireEvent=We.fire,We.hasEventListeners=We.listens;var we=de.extend(We);function Me(c,g,E){this.x=E?Math.round(c):c,this.y=E?Math.round(g):g}var be=Math.trunc||function(c){return c>0?Math.floor(c):Math.ceil(c)};function Se(c,g,E){return c instanceof Me?c:z(c)?new Me(c[0],c[1]):null==c?c:"object"==typeof c&&"x"in c&&"y"in c?new Me(c.x,c.y):new Me(c,g,E)}function Fe(c,g){if(c)for(var E=g?[c,g]:c,k=0,Y=E.length;k<Y;k++)this.extend(E[k])}function me(c,g){return!c||c instanceof Fe?c:new Fe(c,g)}function rt(c,g){if(c)for(var E=g?[c,g]:c,k=0,Y=E.length;k<Y;k++)this.extend(E[k])}function qe(c,g){return c instanceof rt?c:new rt(c,g)}function dt(c,g,E){if(isNaN(c)||isNaN(g))throw new Error("Invalid LatLng object: ("+c+", "+g+")");this.lat=+c,this.lng=+g,void 0!==E&&(this.alt=+E)}function $e(c,g,E){return c instanceof dt?c:z(c)&&"object"!=typeof c[0]?3===c.length?new dt(c[0],c[1],c[2]):2===c.length?new dt(c[0],c[1]):null:null==c?c:"object"==typeof c&&"lat"in c?new dt(c.lat,"lng"in c?c.lng:c.lon,c.alt):void 0===g?null:new dt(c,g,E)}Me.prototype={clone:function(){return new Me(this.x,this.y)},add:function(c){return this.clone()._add(Se(c))},_add:function(c){return this.x+=c.x,this.y+=c.y,this},subtract:function(c){return this.clone()._subtract(Se(c))},_subtract:function(c){return this.x-=c.x,this.y-=c.y,this},divideBy:function(c){return this.clone()._divideBy(c)},_divideBy:function(c){return this.x/=c,this.y/=c,this},multiplyBy:function(c){return this.clone()._multiplyBy(c)},_multiplyBy:function(c){return this.x*=c,this.y*=c,this},scaleBy:function(c){return new Me(this.x*c.x,this.y*c.y)},unscaleBy:function(c){return new Me(this.x/c.x,this.y/c.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=be(this.x),this.y=be(this.y),this},distanceTo:function(c){var g=(c=Se(c)).x-this.x,E=c.y-this.y;return Math.sqrt(g*g+E*E)},equals:function(c){return(c=Se(c)).x===this.x&&c.y===this.y},contains:function(c){return c=Se(c),Math.abs(c.x)<=Math.abs(this.x)&&Math.abs(c.y)<=Math.abs(this.y)},toString:function(){return"Point("+Ne(this.x)+", "+Ne(this.y)+")"}},Fe.prototype={extend:function(c){var g,E;if(!c)return this;if(c instanceof Me||"number"==typeof c[0]||"x"in c)g=E=Se(c);else if(E=(c=me(c)).max,!(g=c.min)||!E)return this;return this.min||this.max?(this.min.x=Math.min(g.x,this.min.x),this.max.x=Math.max(E.x,this.max.x),this.min.y=Math.min(g.y,this.min.y),this.max.y=Math.max(E.y,this.max.y)):(this.min=g.clone(),this.max=E.clone()),this},getCenter:function(c){return Se((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,c)},getBottomLeft:function(){return Se(this.min.x,this.max.y)},getTopRight:function(){return Se(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(c){var g,E;return(c="number"==typeof c[0]||c instanceof Me?Se(c):me(c))instanceof Fe?(g=c.min,E=c.max):g=E=c,g.x>=this.min.x&&E.x<=this.max.x&&g.y>=this.min.y&&E.y<=this.max.y},intersects:function(c){c=me(c);var g=this.min,E=this.max,k=c.min,Y=c.max;return Y.x>=g.x&&k.x<=E.x&&Y.y>=g.y&&k.y<=E.y},overlaps:function(c){c=me(c);var g=this.min,E=this.max,k=c.min,Y=c.max;return Y.x>g.x&&k.x<E.x&&Y.y>g.y&&k.y<E.y},isValid:function(){return!(!this.min||!this.max)},pad:function(c){var g=this.min,E=this.max,k=Math.abs(g.x-E.x)*c,Y=Math.abs(g.y-E.y)*c;return me(Se(g.x-k,g.y-Y),Se(E.x+k,E.y+Y))},equals:function(c){return!!c&&(c=me(c),this.min.equals(c.getTopLeft())&&this.max.equals(c.getBottomRight()))}},rt.prototype={extend:function(c){var k,Y,g=this._southWest,E=this._northEast;if(c instanceof dt)k=c,Y=c;else{if(!(c instanceof rt))return c?this.extend($e(c)||qe(c)):this;if(Y=c._northEast,!(k=c._southWest)||!Y)return this}return g||E?(g.lat=Math.min(k.lat,g.lat),g.lng=Math.min(k.lng,g.lng),E.lat=Math.max(Y.lat,E.lat),E.lng=Math.max(Y.lng,E.lng)):(this._southWest=new dt(k.lat,k.lng),this._northEast=new dt(Y.lat,Y.lng)),this},pad:function(c){var g=this._southWest,E=this._northEast,k=Math.abs(g.lat-E.lat)*c,Y=Math.abs(g.lng-E.lng)*c;return new rt(new dt(g.lat-k,g.lng-Y),new dt(E.lat+k,E.lng+Y))},getCenter:function(){return new dt((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new dt(this.getNorth(),this.getWest())},getSouthEast:function(){return new dt(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(c){c="number"==typeof c[0]||c instanceof dt||"lat"in c?$e(c):qe(c);var k,Y,g=this._southWest,E=this._northEast;return c instanceof rt?(k=c.getSouthWest(),Y=c.getNorthEast()):k=Y=c,k.lat>=g.lat&&Y.lat<=E.lat&&k.lng>=g.lng&&Y.lng<=E.lng},intersects:function(c){c=qe(c);var g=this._southWest,E=this._northEast,k=c.getSouthWest(),Y=c.getNorthEast();return Y.lat>=g.lat&&k.lat<=E.lat&&Y.lng>=g.lng&&k.lng<=E.lng},overlaps:function(c){c=qe(c);var g=this._southWest,E=this._northEast,k=c.getSouthWest(),Y=c.getNorthEast();return Y.lat>g.lat&&k.lat<E.lat&&Y.lng>g.lng&&k.lng<E.lng},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(c,g){return!!c&&(c=qe(c),this._southWest.equals(c.getSouthWest(),g)&&this._northEast.equals(c.getNorthEast(),g))},isValid:function(){return!(!this._southWest||!this._northEast)}},dt.prototype={equals:function(c,g){return!!c&&(c=$e(c),Math.max(Math.abs(this.lat-c.lat),Math.abs(this.lng-c.lng))<=(void 0===g?1e-9:g))},toString:function(c){return"LatLng("+Ne(this.lat,c)+", "+Ne(this.lng,c)+")"},distanceTo:function(c){return Et.distance(this,$e(c))},wrap:function(){return Et.wrapLatLng(this)},toBounds:function(c){var g=180*c/40075017,E=g/Math.cos(Math.PI/180*this.lat);return qe([this.lat-g,this.lng-E],[this.lat+g,this.lng+E])},clone:function(){return new dt(this.lat,this.lng,this.alt)}};var c,Rt={latLngToPoint:function(c,g){var E=this.projection.project(c),k=this.scale(g);return this.transformation._transform(E,k)},pointToLatLng:function(c,g){var E=this.scale(g),k=this.transformation.untransform(c,E);return this.projection.unproject(k)},project:function(c){return this.projection.project(c)},unproject:function(c){return this.projection.unproject(c)},scale:function(c){return 256*Math.pow(2,c)},zoom:function(c){return Math.log(c/256)/Math.LN2},getProjectedBounds:function(c){if(this.infinite)return null;var g=this.projection.bounds,E=this.scale(c);return new Fe(this.transformation.transform(g.min,E),this.transformation.transform(g.max,E))},infinite:!1,wrapLatLng:function(c){var g=this.wrapLng?ne(c.lng,this.wrapLng,!0):c.lng;return new dt(this.wrapLat?ne(c.lat,this.wrapLat,!0):c.lat,g,c.alt)},wrapLatLngBounds:function(c){var g=c.getCenter(),E=this.wrapLatLng(g),k=g.lat-E.lat,Y=g.lng-E.lng;if(0===k&&0===Y)return c;var le=c.getSouthWest(),Ue=c.getNorthEast();return new rt(new dt(le.lat-k,le.lng-Y),new dt(Ue.lat-k,Ue.lng-Y))}},Et=w({},Rt,{wrapLng:[-180,180],R:6371e3,distance:function(c,g){var E=Math.PI/180,k=c.lat*E,Y=g.lat*E,le=Math.sin((g.lat-c.lat)*E/2),Ue=Math.sin((g.lng-c.lng)*E/2),tt=le*le+Math.cos(k)*Math.cos(Y)*Ue*Ue,at=2*Math.atan2(Math.sqrt(tt),Math.sqrt(1-tt));return this.R*at}}),Ft={R:6378137,MAX_LATITUDE:85.0511287798,project:function(c){var g=Math.PI/180,E=this.MAX_LATITUDE,k=Math.max(Math.min(E,c.lat),-E),Y=Math.sin(k*g);return new Me(this.R*c.lng*g,this.R*Math.log((1+Y)/(1-Y))/2)},unproject:function(c){var g=180/Math.PI;return new dt((2*Math.atan(Math.exp(c.y/this.R))-Math.PI/2)*g,c.x*g/this.R)},bounds:(c=6378137*Math.PI,new Fe([-c,-c],[c,c]))};function yt(c,g,E,k){if(z(c))return this._a=c[0],this._b=c[1],this._c=c[2],void(this._d=c[3]);this._a=c,this._b=g,this._c=E,this._d=k}function vt(c,g,E,k){return new yt(c,g,E,k)}yt.prototype={transform:function(c,g){return this._transform(c.clone(),g)},_transform:function(c,g){return c.x=(g=g||1)*(this._a*c.x+this._b),c.y=g*(this._c*c.y+this._d),c},untransform:function(c,g){return new Me((c.x/(g=g||1)-this._b)/this._a,(c.y/g-this._d)/this._c)}};var dr=w({},Et,{code:"EPSG:3857",projection:Ft,transformation:function(){var c=.5/(Math.PI*Ft.R);return vt(c,.5,-c,.5)}()}),In=w({},dr,{code:"EPSG:900913"});function jr(c){return document.createElementNS("http://www.w3.org/2000/svg",c)}function Jt(c,g){var k,Y,le,Ue,tt,at,E="";for(k=0,le=c.length;k<le;k++){for(Y=0,Ue=(tt=c[k]).length;Y<Ue;Y++)E+=(Y?"L":"M")+(at=tt[Y]).x+" "+at.y;E+=g?rn.svg?"z":"x":""}return E||"M0 0"}var dn=document.documentElement.style,Xe="ActiveXObject"in window,H=Xe&&!document.addEventListener,P="msLaunchUri"in navigator&&!("documentMode"in document),T=Bi("webkit"),G=Bi("android"),re=Bi("android 2")||Bi("android 3"),pe=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Ve=G&&Bi("Google")&&pe<537&&!("AudioNode"in window),Ge=!!window.opera,He=!P&&Bi("chrome"),wt=Bi("gecko")&&!T&&!Ge&&!Xe,Pt=!He&&Bi("safari"),pt=Bi("phantom"),kt="OTransition"in dn,hn=0===navigator.platform.indexOf("Win"),Bt=Xe&&"transition"in dn,on="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!re,kn="MozPerspective"in dn,Zn=!window.L_DISABLE_3D&&(Bt||on||kn)&&!kt&&!pt,tr=typeof orientation<"u"||Bi("mobile"),nr=tr&&T,Xr=tr&&on,Xn=!window.PointerEvent&&window.MSPointerEvent,Mi=!(!window.PointerEvent&&!Xn),pr="ontouchstart"in window||!!window.TouchEvent,bt=!window.L_NO_TOUCH&&(pr||Mi),Uo=tr&&Ge,ho=tr&&wt,sn=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,si=function(){var c=!1;try{var g=Object.defineProperty({},"passive",{get:function(){c=!0}});window.addEventListener("testPassiveEventSupport",ve,g),window.removeEventListener("testPassiveEventSupport",ve,g)}catch{}return c}(),fo=!!document.createElement("canvas").getContext,Ko=!(!document.createElementNS||!jr("svg").createSVGRect),Ks=!!Ko&&function(){var c=document.createElement("div");return c.innerHTML="<svg/>","http://www.w3.org/2000/svg"===(c.firstChild&&c.firstChild.namespaceURI)}(),tl=!Ko&&function(){try{var c=document.createElement("div");c.innerHTML='<v:shape adj="1"/>';var g=c.firstChild;return g.style.behavior="url(#default#VML)",g&&"object"==typeof g.adj}catch{return!1}}();function Bi(c){return navigator.userAgent.toLowerCase().indexOf(c)>=0}var rn={ie:Xe,ielt9:H,edge:P,webkit:T,android:G,android23:re,androidStock:Ve,opera:Ge,chrome:He,gecko:wt,safari:Pt,phantom:pt,opera12:kt,win:hn,ie3d:Bt,webkit3d:on,gecko3d:kn,any3d:Zn,mobile:tr,mobileWebkit:nr,mobileWebkit3d:Xr,msPointer:Xn,pointer:Mi,touch:bt,touchNative:pr,mobileOpera:Uo,mobileGecko:ho,retina:sn,passiveEvents:si,canvas:fo,svg:Ko,vml:tl,inlineSvg:Ks,mac:0===navigator.platform.indexOf("Mac"),linux:0===navigator.platform.indexOf("Linux")},Na=rn.msPointer?"MSPointerDown":"pointerdown",ri=rn.msPointer?"MSPointerMove":"pointermove",Fn=rn.msPointer?"MSPointerUp":"pointerup",Qo=rn.msPointer?"MSPointerCancel":"pointercancel",Oo={touchstart:Na,touchmove:ri,touchend:Fn,touchcancel:Qo},bo={touchstart:function po(c,g){g.MSPOINTER_TYPE_TOUCH&&g.pointerType===g.MSPOINTER_TYPE_TOUCH&&ze(g),Fa(c,g)},touchmove:Fa,touchend:Fa,touchcancel:Fa},Di={},Qs=!1;function Ho(c,g,E){return"touchstart"===g&&function Kn(){Qs||(document.addEventListener(Na,jo,!0),document.addEventListener(ri,zi,!0),document.addEventListener(Fn,Gr,!0),document.addEventListener(Qo,Gr,!0),Qs=!0)}(),bo[g]?(E=bo[g].bind(this,E),c.addEventListener(Oo[g],E,!1),E):(console.warn("wrong event specified:",g),ve)}function jo(c){Di[c.pointerId]=c}function zi(c){Di[c.pointerId]&&(Di[c.pointerId]=c)}function Gr(c){delete Di[c.pointerId]}function Fa(c,g){if(g.pointerType!==(g.MSPOINTER_TYPE_MOUSE||"mouse")){for(var E in g.touches=[],Di)g.touches.push(Di[E]);g.changedTouches=[g],c(g)}}var vi=200;var aa,ol,st,sl,Vi,Jo=Nl(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Wi=Nl(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),nl="webkitTransition"===Wi||"OTransition"===Wi?Wi+"End":"transitionend";function rl(c){return"string"==typeof c?document.getElementById(c):c}function Js(c,g){var E=c.style[g]||c.currentStyle&&c.currentStyle[g];if((!E||"auto"===E)&&document.defaultView){var k=document.defaultView.getComputedStyle(c,null);E=k?k[g]:null}return"auto"===E?null:E}function qn(c,g,E){var k=document.createElement(c);return k.className=g||"",E&&E.appendChild(k),k}function Cn(c){var g=c.parentNode;g&&g.removeChild(c)}function Ba(c){for(;c.firstChild;)c.removeChild(c.firstChild)}function Do(c){var g=c.parentNode;g&&g.lastChild!==c&&g.appendChild(c)}function oa(c){var g=c.parentNode;g&&g.firstChild!==c&&g.insertBefore(c,g.firstChild)}function Si(c,g){if(void 0!==c.classList)return c.classList.contains(g);var E=sa(c);return E.length>0&&new RegExp("(^|\\s)"+g+"(\\s|$)").test(E)}function zt(c,g){if(void 0!==c.classList)for(var E=ye(g),k=0,Y=E.length;k<Y;k++)c.classList.add(E[k]);else if(!Si(c,g)){var le=sa(c);So(c,(le?le+" ":"")+g)}}function Vt(c,g){void 0!==c.classList?c.classList.remove(g):So(c,Re((" "+sa(c)+" ").replace(" "+g+" "," ")))}function So(c,g){void 0===c.className.baseVal?c.className=g:c.className.baseVal=g}function sa(c){return c.correspondingElement&&(c=c.correspondingElement),void 0===c.className.baseVal?c.className:c.className.baseVal}function nn(c,g){"opacity"in c.style?c.style.opacity=g:"filter"in c.style&&function il(c,g){var E=!1,k="DXImageTransform.Microsoft.Alpha";try{E=c.filters.item(k)}catch{if(1===g)return}g=Math.round(100*g),E?(E.Enabled=100!==g,E.Opacity=g):c.style.filter+=" progid:"+k+"(opacity="+g+")"}(c,g)}function Nl(c){for(var g=document.documentElement.style,E=0;E<c.length;E++)if(c[E]in g)return c[E];return!1}function $n(c,g,E){var k=g||new Me(0,0);c.style[Jo]=(rn.ie3d?"translate("+k.x+"px,"+k.y+"px)":"translate3d("+k.x+"px,"+k.y+"px,0)")+(E?" scale("+E+")":"")}function Wn(c,g){c._leaflet_pos=g,rn.any3d?$n(c,g):(c.style.left=g.x+"px",c.style.top=g.y+"px")}function rr(c){return c._leaflet_pos||new Me(0,0)}if("onselectstart"in document)aa=function(){_n(window,"selectstart",ze)},ol=function(){v(window,"selectstart",ze)};else{var gn=Nl(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);aa=function(){if(gn){var c=document.documentElement.style;st=c[gn],c[gn]="none"}},ol=function(){gn&&(document.documentElement.style[gn]=st,st=void 0)}}function wo(){_n(window,"dragstart",ze)}function es(){v(window,"dragstart",ze)}function nt(c){for(;-1===c.tabIndex;)c=c.parentNode;c.style&&(Bn(),sl=c,Vi=c.style.outlineStyle,c.style.outlineStyle="none",_n(window,"keydown",Bn))}function Bn(){sl&&(sl.style.outlineStyle=Vi,sl=void 0,Vi=void 0,v(window,"keydown",Bn))}function Zt(c){do{c=c.parentNode}while(!(c.offsetWidth&&c.offsetHeight||c===document.body));return c}function qr(c){var g=c.getBoundingClientRect();return{x:g.width/c.offsetWidth||1,y:g.height/c.offsetHeight||1,boundingClientRect:g}}var ac={__proto__:null,TRANSFORM:Jo,TRANSITION:Wi,TRANSITION_END:nl,get:rl,getStyle:Js,create:qn,remove:Cn,empty:Ba,toFront:Do,toBack:oa,hasClass:Si,addClass:zt,removeClass:Vt,setClass:So,getClass:sa,setOpacity:nn,testProp:Nl,setTransform:$n,setPosition:Wn,getPosition:rr,get disableTextSelection(){return aa},get enableTextSelection(){return ol},disableImageDrag:wo,enableImageDrag:es,preventOutline:nt,restoreOutline:Bn,getSizedParentNode:Zt,getScale:qr};function _n(c,g,E,k){if(g&&"object"==typeof g)for(var Y in g)X(c,Y,g[Y],E);else for(var le=0,Ue=(g=ye(g)).length;le<Ue;le++)X(c,g[le],E,k);return this}var m="_leaflet_events";function v(c,g,E,k){if(1===arguments.length)M(c),delete c[m];else if(g&&"object"==typeof g)for(var Y in g)Ce(c,Y,g[Y],E);else if(g=ye(g),2===arguments.length)M(c,function(tt){return-1!==R(g,tt)});else for(var le=0,Ue=g.length;le<Ue;le++)Ce(c,g[le],E,k);return this}function M(c,g){for(var E in c[m]){var k=E.split(/\d/)[0];(!g||g(k))&&Ce(c,k,null,null,E)}}var B={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function X(c,g,E,k){var Y=g+U(E)+(k?"_"+U(k):"");if(c[m]&&c[m][Y])return this;var le=function(tt){return E.call(k||c,tt||window.event)},Ue=le;!rn.touchNative&&rn.pointer&&0===g.indexOf("touch")?le=Ho(c,g,le):rn.touch&&"dblclick"===g?le=function Os(c,g){c.addEventListener("dblclick",g);var k,E=0;function Y(le){if(1===le.detail){if("mouse"!==le.pointerType&&(!le.sourceCapabilities||le.sourceCapabilities.firesTouchEvents)){var Ue=ht(le);if(!Ue.some(function(at){return at instanceof HTMLLabelElement&&at.attributes.for})||Ue.some(function(at){return at instanceof HTMLInputElement||at instanceof HTMLSelectElement})){var tt=Date.now();tt-E<=vi?2==++k&&g(function Rs(c){var E,k,g={};for(k in c)g[k]=(E=c[k])&&E.bind?E.bind(c):E;return c=g,g.type="dblclick",g.detail=2,g.isTrusted=!1,g._simulated=!0,g}(le)):k=1,E=tt}}}else k=le.detail}return c.addEventListener("click",Y),{dblclick:g,simDblclick:Y}}(c,le):"addEventListener"in c?"touchstart"===g||"touchmove"===g||"wheel"===g||"mousewheel"===g?c.addEventListener(B[g]||g,le,!!rn.passiveEvents&&{passive:!1}):"mouseenter"===g||"mouseleave"===g?c.addEventListener(B[g],le=function(tt){tt=tt||window.event,an(c,tt)&&Ue(tt)},!1):c.addEventListener(g,Ue,!1):c.attachEvent("on"+g,le),c[m]=c[m]||{},c[m][Y]=le}function Ce(c,g,E,k,Y){Y=Y||g+U(E)+(k?"_"+U(k):"");var le=c[m]&&c[m][Y];if(!le)return this;!rn.touchNative&&rn.pointer&&0===g.indexOf("touch")?function ws(c,g,E){Oo[g]?c.removeEventListener(Oo[g],E,!1):console.warn("wrong event specified:",g)}(c,g,le):rn.touch&&"dblclick"===g?function Go(c,g){c.removeEventListener("dblclick",g.dblclick),c.removeEventListener("click",g.simDblclick)}(c,le):"removeEventListener"in c?c.removeEventListener(B[g]||g,le,!1):c.detachEvent("on"+g,le),c[m][Y]=null}function Ie(c){return c.stopPropagation?c.stopPropagation():c.originalEvent?c.originalEvent._stopped=!0:c.cancelBubble=!0,this}function Pe(c){return X(c,"wheel",Ie),this}function Te(c){return _n(c,"mousedown touchstart dblclick contextmenu",Ie),c._leaflet_disable_click=!0,this}function ze(c){return c.preventDefault?c.preventDefault():c.returnValue=!1,this}function Je(c){return ze(c),Ie(c),this}function ht(c){if(c.composedPath)return c.composedPath();for(var g=[],E=c.target;E;)g.push(E),E=E.parentNode;return g}function ut(c,g){if(!g)return new Me(c.clientX,c.clientY);var E=qr(g),k=E.boundingClientRect;return new Me((c.clientX-k.left)/E.x-g.clientLeft,(c.clientY-k.top)/E.y-g.clientTop)}var Ct=rn.linux&&rn.chrome?window.devicePixelRatio:rn.mac?3*window.devicePixelRatio:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Lt(c){return rn.edge?c.wheelDeltaY/2:c.deltaY&&0===c.deltaMode?-c.deltaY/Ct:c.deltaY&&1===c.deltaMode?20*-c.deltaY:c.deltaY&&2===c.deltaMode?60*-c.deltaY:c.deltaX||c.deltaZ?0:c.wheelDelta?(c.wheelDeltaY||c.wheelDelta)/2:c.detail&&Math.abs(c.detail)<32765?20*-c.detail:c.detail?c.detail/-32765*60:0}function an(c,g){var E=g.relatedTarget;if(!E)return!0;try{for(;E&&E!==c;)E=E.parentNode}catch{return!1}return E!==c}var Ot={__proto__:null,on:_n,off:v,stopPropagation:Ie,disableScrollPropagation:Pe,disableClickPropagation:Te,preventDefault:ze,stop:Je,getPropagationPath:ht,getMousePosition:ut,getWheelDelta:Lt,isExternalTarget:an,addListener:_n,removeListener:v},Mn=we.extend({run:function(c,g,E,k){this.stop(),this._el=c,this._inProgress=!0,this._duration=E||.25,this._easeOutPower=1/Math.max(k||.5,.2),this._startPos=rr(c),this._offset=g.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=De(this._animate,this),this._step()},_step:function(c){var g=+new Date-this._startTime,E=1e3*this._duration;g<E?this._runFrame(this._easeOut(g/E),c):(this._runFrame(1),this._complete())},_runFrame:function(c,g){var E=this._startPos.add(this._offset.multiplyBy(c));g&&E._round(),Wn(this._el,E),this.fire("step")},_complete:function(){ge(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(c){return 1-Math.pow(1-c,this._easeOutPower)}}),$t=we.extend({options:{crs:dr,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(c,g){g=_e(this,g),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(c),this._initLayout(),this._onResize=I(this._onResize,this),this._initEvents(),g.maxBounds&&this.setMaxBounds(g.maxBounds),void 0!==g.zoom&&(this._zoom=this._limitZoom(g.zoom)),g.center&&void 0!==g.zoom&&this.setView($e(g.center),g.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Wi&&rn.any3d&&!rn.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),_n(this._proxy,nl,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(c,g,E){return g=void 0===g?this._zoom:this._limitZoom(g),c=this._limitCenter($e(c),g,this.options.maxBounds),E=E||{},this._stop(),this._loaded&&!E.reset&&!0!==E&&(void 0!==E.animate&&(E.zoom=w({animate:E.animate},E.zoom),E.pan=w({animate:E.animate,duration:E.duration},E.pan)),this._zoom!==g?this._tryAnimatedZoom&&this._tryAnimatedZoom(c,g,E.zoom):this._tryAnimatedPan(c,E.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(c,g,E.pan&&E.pan.noMoveStart),this)},setZoom:function(c,g){return this._loaded?this.setView(this.getCenter(),c,{zoom:g}):(this._zoom=c,this)},zoomIn:function(c,g){return this.setZoom(this._zoom+(c=c||(rn.any3d?this.options.zoomDelta:1)),g)},zoomOut:function(c,g){return this.setZoom(this._zoom-(c=c||(rn.any3d?this.options.zoomDelta:1)),g)},setZoomAround:function(c,g,E){var k=this.getZoomScale(g),Y=this.getSize().divideBy(2),Ue=(c instanceof Me?c:this.latLngToContainerPoint(c)).subtract(Y).multiplyBy(1-1/k),tt=this.containerPointToLatLng(Y.add(Ue));return this.setView(tt,g,{zoom:E})},_getBoundsCenterZoom:function(c,g){g=g||{},c=c.getBounds?c.getBounds():qe(c);var E=Se(g.paddingTopLeft||g.padding||[0,0]),k=Se(g.paddingBottomRight||g.padding||[0,0]),Y=this.getBoundsZoom(c,!1,E.add(k));if((Y="number"==typeof g.maxZoom?Math.min(g.maxZoom,Y):Y)===1/0)return{center:c.getCenter(),zoom:Y};var le=k.subtract(E).divideBy(2),Ue=this.project(c.getSouthWest(),Y),tt=this.project(c.getNorthEast(),Y);return{center:this.unproject(Ue.add(tt).divideBy(2).add(le),Y),zoom:Y}},fitBounds:function(c,g){if(!(c=qe(c)).isValid())throw new Error("Bounds are not valid.");var E=this._getBoundsCenterZoom(c,g);return this.setView(E.center,E.zoom,g)},fitWorld:function(c){return this.fitBounds([[-90,-180],[90,180]],c)},panTo:function(c,g){return this.setView(c,this._zoom,{pan:g})},panBy:function(c,g){if(g=g||{},!(c=Se(c).round()).x&&!c.y)return this.fire("moveend");if(!0!==g.animate&&!this.getSize().contains(c))return this._resetView(this.unproject(this.project(this.getCenter()).add(c)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Mn,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),g.noMoveStart||this.fire("movestart"),!1!==g.animate){zt(this._mapPane,"leaflet-pan-anim");var E=this._getMapPanePos().subtract(c).round();this._panAnim.run(this._mapPane,E,g.duration||.25,g.easeLinearity)}else this._rawPanBy(c),this.fire("move").fire("moveend");return this},flyTo:function(c,g,E){if(!1===(E=E||{}).animate||!rn.any3d)return this.setView(c,g,E);this._stop();var k=this.project(this.getCenter()),Y=this.project(c),le=this.getSize(),Ue=this._zoom;c=$e(c),g=void 0===g?Ue:g;var tt=Math.max(le.x,le.y),at=tt*this.getZoomScale(Ue,g),ct=Y.distanceTo(k)||1,jt=1.42,bn=jt*jt;function Vn(ii){var s=(at*at-tt*tt+(ii?-1:1)*bn*bn*ct*ct)/(2*(ii?at:tt)*bn*ct),l=Math.sqrt(s*s+1)-s;return l<1e-9?-18:Math.log(l)}function Pi(ii){return(Math.exp(ii)-Math.exp(-ii))/2}function Ti(ii){return(Math.exp(ii)+Math.exp(-ii))/2}var ao=Vn(0);function Cl(ii){return tt*(Ti(ao)*function qi(ii){return Pi(ii)/Ti(ii)}(ao+jt*ii)-Pi(ao))/bn}var lo=Date.now(),ja=(Vn(1)-ao)/jt,Ds=E.duration?1e3*E.duration:1e3*ja*.8;return this._moveStart(!0,E.noMoveStart),function Po(){var ii=(Date.now()-lo)/Ds,Co=function ln(ii){return 1-Math.pow(1-ii,1.5)}(ii)*ja;ii<=1?(this._flyToFrame=De(Po,this),this._move(this.unproject(k.add(Y.subtract(k).multiplyBy(Cl(Co)/ct)),Ue),this.getScaleZoom(tt/function ki(ii){return tt*(Ti(ao)/Ti(ao+jt*ii))}(Co),Ue),{flyTo:!0})):this._move(c,g)._moveEnd(!0)}.call(this),this},flyToBounds:function(c,g){var E=this._getBoundsCenterZoom(c,g);return this.flyTo(E.center,E.zoom,g)},setMaxBounds:function(c){return c=qe(c),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),c.isValid()?(this.options.maxBounds=c,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(c){var g=this.options.minZoom;return this.options.minZoom=c,this._loaded&&g!==c&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(c):this},setMaxZoom:function(c){var g=this.options.maxZoom;return this.options.maxZoom=c,this._loaded&&g!==c&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(c):this},panInsideBounds:function(c,g){this._enforcingBounds=!0;var E=this.getCenter(),k=this._limitCenter(E,this._zoom,qe(c));return E.equals(k)||this.panTo(k,g),this._enforcingBounds=!1,this},panInside:function(c,g){var E=Se((g=g||{}).paddingTopLeft||g.padding||[0,0]),k=Se(g.paddingBottomRight||g.padding||[0,0]),Y=this.project(this.getCenter()),le=this.project(c),Ue=this.getPixelBounds(),tt=me([Ue.min.add(E),Ue.max.subtract(k)]),at=tt.getSize();if(!tt.contains(le)){this._enforcingBounds=!0;var ct=le.subtract(tt.getCenter()),jt=tt.extend(le).getSize().subtract(at);Y.x+=ct.x<0?-jt.x:jt.x,Y.y+=ct.y<0?-jt.y:jt.y,this.panTo(this.unproject(Y),g),this._enforcingBounds=!1}return this},invalidateSize:function(c){if(!this._loaded)return this;c=w({animate:!1,pan:!0},!0===c?{animate:!0}:c);var g=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var E=this.getSize(),k=g.divideBy(2).round(),Y=E.divideBy(2).round(),le=k.subtract(Y);return le.x||le.y?(c.animate&&c.pan?this.panBy(le):(c.pan&&this._rawPanBy(le),this.fire("move"),c.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(I(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:g,newSize:E})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(c){if(c=this._locateOptions=w({timeout:1e4,watch:!1},c),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var g=I(this._handleGeolocationResponse,this),E=I(this._handleGeolocationError,this);return c.watch?this._locationWatchId=navigator.geolocation.watchPosition(g,E,c):navigator.geolocation.getCurrentPosition(g,E,c),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(c){if(this._container._leaflet_id){var g=c.code,E=c.message||(1===g?"permission denied":2===g?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:g,message:"Geolocation error: "+E+"."})}},_handleGeolocationResponse:function(c){if(this._container._leaflet_id){var k=new dt(c.coords.latitude,c.coords.longitude),Y=k.toBounds(2*c.coords.accuracy),le=this._locateOptions;if(le.setView){var Ue=this.getBoundsZoom(Y);this.setView(k,le.maxZoom?Math.min(Ue,le.maxZoom):Ue)}var tt={latlng:k,bounds:Y,timestamp:c.timestamp};for(var at in c.coords)"number"==typeof c.coords[at]&&(tt[at]=c.coords[at]);this.fire("locationfound",tt)}},addHandler:function(c,g){if(!g)return this;var E=this[c]=new g(this);return this._handlers.push(E),this.options[c]&&E.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}var c;for(c in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),Cn(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(ge(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[c].remove();for(c in this._panes)Cn(this._panes[c]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(c,g){var k=qn("div","leaflet-pane"+(c?" leaflet-"+c.replace("Pane","")+"-pane":""),g||this._mapPane);return c&&(this._panes[c]=k),k},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var c=this.getPixelBounds();return new rt(this.unproject(c.getBottomLeft()),this.unproject(c.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(c,g,E){c=qe(c),E=Se(E||[0,0]);var k=this.getZoom()||0,Y=this.getMinZoom(),le=this.getMaxZoom(),Ue=c.getNorthWest(),tt=c.getSouthEast(),at=this.getSize().subtract(E),ct=me(this.project(tt,k),this.project(Ue,k)).getSize(),jt=rn.any3d?this.options.zoomSnap:1,bn=at.x/ct.x,Vn=at.y/ct.y,Pi=g?Math.max(bn,Vn):Math.min(bn,Vn);return k=this.getScaleZoom(Pi,k),jt&&(k=Math.round(k/(jt/100))*(jt/100),k=g?Math.ceil(k/jt)*jt:Math.floor(k/jt)*jt),Math.max(Y,Math.min(le,k))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new Me(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(c,g){var E=this._getTopLeftPoint(c,g);return new Fe(E,E.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(c){return this.options.crs.getProjectedBounds(void 0===c?this.getZoom():c)},getPane:function(c){return"string"==typeof c?this._panes[c]:c},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(c,g){var E=this.options.crs;return g=void 0===g?this._zoom:g,E.scale(c)/E.scale(g)},getScaleZoom:function(c,g){var E=this.options.crs,k=E.zoom(c*E.scale(g=void 0===g?this._zoom:g));return isNaN(k)?1/0:k},project:function(c,g){return g=void 0===g?this._zoom:g,this.options.crs.latLngToPoint($e(c),g)},unproject:function(c,g){return g=void 0===g?this._zoom:g,this.options.crs.pointToLatLng(Se(c),g)},layerPointToLatLng:function(c){var g=Se(c).add(this.getPixelOrigin());return this.unproject(g)},latLngToLayerPoint:function(c){return this.project($e(c))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(c){return this.options.crs.wrapLatLng($e(c))},wrapLatLngBounds:function(c){return this.options.crs.wrapLatLngBounds(qe(c))},distance:function(c,g){return this.options.crs.distance($e(c),$e(g))},containerPointToLayerPoint:function(c){return Se(c).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(c){return Se(c).add(this._getMapPanePos())},containerPointToLatLng:function(c){var g=this.containerPointToLayerPoint(Se(c));return this.layerPointToLatLng(g)},latLngToContainerPoint:function(c){return this.layerPointToContainerPoint(this.latLngToLayerPoint($e(c)))},mouseEventToContainerPoint:function(c){return ut(c,this._container)},mouseEventToLayerPoint:function(c){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(c))},mouseEventToLatLng:function(c){return this.layerPointToLatLng(this.mouseEventToLayerPoint(c))},_initContainer:function(c){var g=this._container=rl(c);if(!g)throw new Error("Map container not found.");if(g._leaflet_id)throw new Error("Map container is already initialized.");_n(g,"scroll",this._onScroll,this),this._containerId=U(g)},_initLayout:function(){var c=this._container;this._fadeAnimated=this.options.fadeAnimation&&rn.any3d,zt(c,"leaflet-container"+(rn.touch?" leaflet-touch":"")+(rn.retina?" leaflet-retina":"")+(rn.ielt9?" leaflet-oldie":"")+(rn.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var g=Js(c,"position");"absolute"!==g&&"relative"!==g&&"fixed"!==g&&"sticky"!==g&&(c.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var c=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Wn(this._mapPane,new Me(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(zt(c.markerPane,"leaflet-zoom-hide"),zt(c.shadowPane,"leaflet-zoom-hide"))},_resetView:function(c,g,E){Wn(this._mapPane,new Me(0,0));var k=!this._loaded;this._loaded=!0,g=this._limitZoom(g),this.fire("viewprereset");var Y=this._zoom!==g;this._moveStart(Y,E)._move(c,g)._moveEnd(Y),this.fire("viewreset"),k&&this.fire("load")},_moveStart:function(c,g){return c&&this.fire("zoomstart"),g||this.fire("movestart"),this},_move:function(c,g,E,k){void 0===g&&(g=this._zoom);var Y=this._zoom!==g;return this._zoom=g,this._lastCenter=c,this._pixelOrigin=this._getNewPixelOrigin(c),k?E&&E.pinch&&this.fire("zoom",E):((Y||E&&E.pinch)&&this.fire("zoom",E),this.fire("move",E)),this},_moveEnd:function(c){return c&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return ge(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(c){Wn(this._mapPane,this._getMapPanePos().subtract(c))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(c){this._targets={},this._targets[U(this._container)]=this;var g=c?v:_n;g(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&g(window,"resize",this._onResize,this),rn.any3d&&this.options.transform3DLimit&&(c?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){ge(this._resizeRequest),this._resizeRequest=De(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var c=this._getMapPanePos();Math.max(Math.abs(c.x),Math.abs(c.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(c,g){for(var k,E=[],Y="mouseout"===g||"mouseover"===g,le=c.target||c.srcElement,Ue=!1;le;){if((k=this._targets[U(le)])&&("click"===g||"preclick"===g)&&this._draggableMoved(k)){Ue=!0;break}if(k&&k.listens(g,!0)&&(Y&&!an(le,c)||(E.push(k),Y))||le===this._container)break;le=le.parentNode}return!E.length&&!Ue&&!Y&&this.listens(g,!0)&&(E=[this]),E},_isClickDisabled:function(c){for(;c&&c!==this._container;){if(c._leaflet_disable_click)return!0;c=c.parentNode}},_handleDOMEvent:function(c){var g=c.target||c.srcElement;if(!(!this._loaded||g._leaflet_disable_events||"click"===c.type&&this._isClickDisabled(g))){var E=c.type;"mousedown"===E&&nt(g),this._fireDOMEvent(c,E)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(c,g,E){if("click"===c.type){var k=w({},c);k.type="preclick",this._fireDOMEvent(k,k.type,E)}var Y=this._findEventTargets(c,g);if(E){for(var le=[],Ue=0;Ue<E.length;Ue++)E[Ue].listens(g,!0)&&le.push(E[Ue]);Y=le.concat(Y)}if(Y.length){"contextmenu"===g&&ze(c);var tt=Y[0],at={originalEvent:c};if("keypress"!==c.type&&"keydown"!==c.type&&"keyup"!==c.type){var ct=tt.getLatLng&&(!tt._radius||tt._radius<=10);at.containerPoint=ct?this.latLngToContainerPoint(tt.getLatLng()):this.mouseEventToContainerPoint(c),at.layerPoint=this.containerPointToLayerPoint(at.containerPoint),at.latlng=ct?tt.getLatLng():this.layerPointToLatLng(at.layerPoint)}for(Ue=0;Ue<Y.length;Ue++)if(Y[Ue].fire(g,at,!0),at.originalEvent._stopped||!1===Y[Ue].options.bubblingMouseEvents&&-1!==R(this._mouseEvents,g))return}},_draggableMoved:function(c){return(c=c.dragging&&c.dragging.enabled()?c:this).dragging&&c.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var c=0,g=this._handlers.length;c<g;c++)this._handlers[c].disable()},whenReady:function(c,g){return this._loaded?c.call(g||this,{target:this}):this.on("load",c,g),this},_getMapPanePos:function(){return rr(this._mapPane)||new Me(0,0)},_moved:function(){var c=this._getMapPanePos();return c&&!c.equals([0,0])},_getTopLeftPoint:function(c,g){return(c&&void 0!==g?this._getNewPixelOrigin(c,g):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(c,g){var E=this.getSize()._divideBy(2);return this.project(c,g)._subtract(E)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(c,g,E){var k=this._getNewPixelOrigin(E,g);return this.project(c,g)._subtract(k)},_latLngBoundsToNewLayerBounds:function(c,g,E){var k=this._getNewPixelOrigin(E,g);return me([this.project(c.getSouthWest(),g)._subtract(k),this.project(c.getNorthWest(),g)._subtract(k),this.project(c.getSouthEast(),g)._subtract(k),this.project(c.getNorthEast(),g)._subtract(k)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(c){return this.latLngToLayerPoint(c).subtract(this._getCenterLayerPoint())},_limitCenter:function(c,g,E){if(!E)return c;var k=this.project(c,g),Y=this.getSize().divideBy(2),le=new Fe(k.subtract(Y),k.add(Y)),Ue=this._getBoundsOffset(le,E,g);return Math.abs(Ue.x)<=1&&Math.abs(Ue.y)<=1?c:this.unproject(k.add(Ue),g)},_limitOffset:function(c,g){if(!g)return c;var E=this.getPixelBounds(),k=new Fe(E.min.add(c),E.max.add(c));return c.add(this._getBoundsOffset(k,g))},_getBoundsOffset:function(c,g,E){var k=me(this.project(g.getNorthEast(),E),this.project(g.getSouthWest(),E)),Y=k.min.subtract(c.min),le=k.max.subtract(c.max);return new Me(this._rebound(Y.x,-le.x),this._rebound(Y.y,-le.y))},_rebound:function(c,g){return c+g>0?Math.round(c-g)/2:Math.max(0,Math.ceil(c))-Math.max(0,Math.floor(g))},_limitZoom:function(c){var g=this.getMinZoom(),E=this.getMaxZoom(),k=rn.any3d?this.options.zoomSnap:1;return k&&(c=Math.round(c/k)*k),Math.max(g,Math.min(E,c))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Vt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(c,g){var E=this._getCenterOffset(c)._trunc();return!(!0!==(g&&g.animate)&&!this.getSize().contains(E)||(this.panBy(E,g),0))},_createAnimProxy:function(){var c=this._proxy=qn("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(c),this.on("zoomanim",function(g){var E=Jo,k=this._proxy.style[E];$n(this._proxy,this.project(g.center,g.zoom),this.getZoomScale(g.zoom,1)),k===this._proxy.style[E]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Cn(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var c=this.getCenter(),g=this.getZoom();$n(this._proxy,this.project(c,g),this.getZoomScale(g,1))},_catchTransitionEnd:function(c){this._animatingZoom&&c.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(c,g,E){if(this._animatingZoom)return!0;if(E=E||{},!this._zoomAnimated||!1===E.animate||this._nothingToAnimate()||Math.abs(g-this._zoom)>this.options.zoomAnimationThreshold)return!1;var k=this.getZoomScale(g),Y=this._getCenterOffset(c)._divideBy(1-1/k);return!(!0!==E.animate&&!this.getSize().contains(Y)||(De(function(){this._moveStart(!0,E.noMoveStart||!1)._animateZoom(c,g,!0)},this),0))},_animateZoom:function(c,g,E,k){this._mapPane&&(E&&(this._animatingZoom=!0,this._animateToCenter=c,this._animateToZoom=g,zt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:c,zoom:g,noUpdate:k}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(I(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Vt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});var gt=de.extend({options:{position:"topright"},initialize:function(c){_e(this,c)},getPosition:function(){return this.options.position},setPosition:function(c){var g=this._map;return g&&g.removeControl(this),this.options.position=c,g&&g.addControl(this),this},getContainer:function(){return this._container},addTo:function(c){this.remove(),this._map=c;var g=this._container=this.onAdd(c),E=this.getPosition(),k=c._controlCorners[E];return zt(g,"leaflet-control"),-1!==E.indexOf("bottom")?k.insertBefore(g,k.firstChild):k.appendChild(g),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Cn(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(c){this._map&&c&&c.screenX>0&&c.screenY>0&&this._map.getContainer().focus()}}),to=function(c){return new gt(c)};$t.include({addControl:function(c){return c.addTo(this),this},removeControl:function(c){return c.remove(),this},_initControlPos:function(){var c=this._controlCorners={},g="leaflet-",E=this._controlContainer=qn("div",g+"control-container",this._container);function k(Y,le){c[Y+le]=qn("div",g+Y+" "+g+le,E)}k("top","left"),k("top","right"),k("bottom","left"),k("bottom","right")},_clearControlPos:function(){for(var c in this._controlCorners)Cn(this._controlCorners[c]);Cn(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var zn=gt.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(c,g,E,k){return E<k?-1:k<E?1:0}},initialize:function(c,g,E){for(var k in _e(this,E),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1,c)this._addLayer(c[k],k);for(k in g)this._addLayer(g[k],k,!0)},onAdd:function(c){this._initLayout(),this._update(),this._map=c,c.on("zoomend",this._checkDisabledLayers,this);for(var g=0;g<this._layers.length;g++)this._layers[g].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(c){return gt.prototype.addTo.call(this,c),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var c=0;c<this._layers.length;c++)this._layers[c].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(c,g){return this._addLayer(c,g),this._map?this._update():this},addOverlay:function(c,g){return this._addLayer(c,g,!0),this._map?this._update():this},removeLayer:function(c){c.off("add remove",this._onLayerChange,this);var g=this._getLayer(U(c));return g&&this._layers.splice(this._layers.indexOf(g),1),this._map?this._update():this},expand:function(){zt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var c=this._map.getSize().y-(this._container.offsetTop+50);return c<this._section.clientHeight?(zt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=c+"px"):Vt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Vt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var c="leaflet-control-layers",g=this._container=qn("div",c),E=this.options.collapsed;g.setAttribute("aria-haspopup",!0),Te(g),Pe(g);var k=this._section=qn("section",c+"-list");E&&(this._map.on("click",this.collapse,this),_n(g,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var Y=this._layersLink=qn("a",c+"-toggle",g);Y.href="#",Y.title="Layers",Y.setAttribute("role","button"),_n(Y,{keydown:function(le){13===le.keyCode&&this._expandSafely()},click:function(le){ze(le),this._expandSafely()}},this),E||this.expand(),this._baseLayersList=qn("div",c+"-base",k),this._separator=qn("div",c+"-separator",k),this._overlaysList=qn("div",c+"-overlays",k),g.appendChild(k)},_getLayer:function(c){for(var g=0;g<this._layers.length;g++)if(this._layers[g]&&U(this._layers[g].layer)===c)return this._layers[g]},_addLayer:function(c,g,E){this._map&&c.on("add remove",this._onLayerChange,this),this._layers.push({layer:c,name:g,overlay:E}),this.options.sortLayers&&this._layers.sort(I(function(k,Y){return this.options.sortFunction(k.layer,Y.layer,k.name,Y.name)},this)),this.options.autoZIndex&&c.setZIndex&&(this._lastZIndex++,c.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Ba(this._baseLayersList),Ba(this._overlaysList),this._layerControlInputs=[];var c,g,E,k,Y=0;for(E=0;E<this._layers.length;E++)this._addItem(k=this._layers[E]),g=g||k.overlay,c=c||!k.overlay,Y+=k.overlay?0:1;return this.options.hideSingleBase&&(this._baseLayersList.style.display=(c=c&&Y>1)?"":"none"),this._separator.style.display=g&&c?"":"none",this},_onLayerChange:function(c){this._handlingClick||this._update();var g=this._getLayer(U(c.target)),E=g.overlay?"add"===c.type?"overlayadd":"overlayremove":"add"===c.type?"baselayerchange":null;E&&this._map.fire(E,g)},_createRadioElement:function(c,g){var E='<input type="radio" class="leaflet-control-layers-selector" name="'+c+'"'+(g?' checked="checked"':"")+"/>",k=document.createElement("div");return k.innerHTML=E,k.firstChild},_addItem:function(c){var k,g=document.createElement("label"),E=this._map.hasLayer(c.layer);c.overlay?((k=document.createElement("input")).type="checkbox",k.className="leaflet-control-layers-selector",k.defaultChecked=E):k=this._createRadioElement("leaflet-base-layers_"+U(this),E),this._layerControlInputs.push(k),k.layerId=U(c.layer),_n(k,"click",this._onInputClick,this);var Y=document.createElement("span");Y.innerHTML=" "+c.name;var le=document.createElement("span");return g.appendChild(le),le.appendChild(k),le.appendChild(Y),(c.overlay?this._overlaysList:this._baseLayersList).appendChild(g),this._checkDisabledLayers(),g},_onInputClick:function(){if(!this._preventClick){var g,E,c=this._layerControlInputs,k=[],Y=[];this._handlingClick=!0;for(var le=c.length-1;le>=0;le--)E=this._getLayer((g=c[le]).layerId).layer,g.checked?k.push(E):g.checked||Y.push(E);for(le=0;le<Y.length;le++)this._map.hasLayer(Y[le])&&this._map.removeLayer(Y[le]);for(le=0;le<k.length;le++)this._map.hasLayer(k[le])||this._map.addLayer(k[le]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var g,E,c=this._layerControlInputs,k=this._map.getZoom(),Y=c.length-1;Y>=0;Y--)E=this._getLayer((g=c[Y]).layerId).layer,g.disabled=void 0!==E.options.minZoom&&k<E.options.minZoom||void 0!==E.options.maxZoom&&k>E.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var c=this._section;this._preventClick=!0,_n(c,"click",ze),this.expand();var g=this;setTimeout(function(){v(c,"click",ze),g._preventClick=!1})}}),Yi=gt.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(c){var g="leaflet-control-zoom",E=qn("div",g+" leaflet-bar"),k=this.options;return this._zoomInButton=this._createButton(k.zoomInText,k.zoomInTitle,g+"-in",E,this._zoomIn),this._zoomOutButton=this._createButton(k.zoomOutText,k.zoomOutTitle,g+"-out",E,this._zoomOut),this._updateDisabled(),c.on("zoomend zoomlevelschange",this._updateDisabled,this),E},onRemove:function(c){c.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(c){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(c.shiftKey?3:1))},_zoomOut:function(c){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(c.shiftKey?3:1))},_createButton:function(c,g,E,k,Y){var le=qn("a",E,k);return le.innerHTML=c,le.href="#",le.title=g,le.setAttribute("role","button"),le.setAttribute("aria-label",g),Te(le),_n(le,"click",Je),_n(le,"click",Y,this),_n(le,"click",this._refocusOnMap,this),le},_updateDisabled:function(){var c=this._map,g="leaflet-disabled";Vt(this._zoomInButton,g),Vt(this._zoomOutButton,g),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||c._zoom===c.getMinZoom())&&(zt(this._zoomOutButton,g),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||c._zoom===c.getMaxZoom())&&(zt(this._zoomInButton,g),this._zoomInButton.setAttribute("aria-disabled","true"))}});$t.mergeOptions({zoomControl:!0}),$t.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Yi,this.addControl(this.zoomControl))});var no=gt.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(c){var g="leaflet-control-scale",E=qn("div",g),k=this.options;return this._addScales(k,g+"-line",E),c.on(k.updateWhenIdle?"moveend":"move",this._update,this),c.whenReady(this._update,this),E},onRemove:function(c){c.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(c,g,E){c.metric&&(this._mScale=qn("div",g,E)),c.imperial&&(this._iScale=qn("div",g,E))},_update:function(){var c=this._map,g=c.getSize().y/2,E=c.distance(c.containerPointToLatLng([0,g]),c.containerPointToLatLng([this.options.maxWidth,g]));this._updateScales(E)},_updateScales:function(c){this.options.metric&&c&&this._updateMetric(c),this.options.imperial&&c&&this._updateImperial(c)},_updateMetric:function(c){var g=this._getRoundNum(c);this._updateScale(this._mScale,g<1e3?g+" m":g/1e3+" km",g/c)},_updateImperial:function(c){var E,k,Y,g=3.2808399*c;g>5280?(k=this._getRoundNum(E=g/5280),this._updateScale(this._iScale,k+" mi",k/E)):(Y=this._getRoundNum(g),this._updateScale(this._iScale,Y+" ft",Y/g))},_updateScale:function(c,g,E){c.style.width=Math.round(this.options.maxWidth*E)+"px",c.innerHTML=g},_getRoundNum:function(c){var g=Math.pow(10,(Math.floor(c)+"").length-1),E=c/g;return g*(E>=10?10:E>=5?5:E>=3?3:E>=2?2:1)}}),Ns=gt.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(rn.inlineSvg?'<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg> ':"")+"Leaflet</a>"},initialize:function(c){_e(this,c),this._attributions={}},onAdd:function(c){for(var g in c.attributionControl=this,this._container=qn("div","leaflet-control-attribution"),Te(this._container),c._layers)c._layers[g].getAttribution&&this.addAttribution(c._layers[g].getAttribution());return this._update(),c.on("layeradd",this._addAttribution,this),this._container},onRemove:function(c){c.off("layeradd",this._addAttribution,this)},_addAttribution:function(c){c.layer.getAttribution&&(this.addAttribution(c.layer.getAttribution()),c.layer.once("remove",function(){this.removeAttribution(c.layer.getAttribution())},this))},setPrefix:function(c){return this.options.prefix=c,this._update(),this},addAttribution:function(c){return c?(this._attributions[c]||(this._attributions[c]=0),this._attributions[c]++,this._update(),this):this},removeAttribution:function(c){return c?(this._attributions[c]&&(this._attributions[c]--,this._update()),this):this},_update:function(){if(this._map){var c=[];for(var g in this._attributions)this._attributions[g]&&c.push(g);var E=[];this.options.prefix&&E.push(this.options.prefix),c.length&&E.push(c.join(", ")),this._container.innerHTML=E.join(' <span aria-hidden="true">|</span> ')}}});$t.mergeOptions({attributionControl:!0}),$t.addInitHook(function(){this.options.attributionControl&&(new Ns).addTo(this)});gt.Layers=zn,gt.Zoom=Yi,gt.Scale=no,gt.Attribution=Ns,to.layers=function(c,g,E){return new zn(c,g,E)},to.zoom=function(c){return new Yi(c)},to.scale=function(c){return new no(c)},to.attribution=function(c){return new Ns(c)};var qt=de.extend({initialize:function(c){this._map=c},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});qt.addTo=function(c,g){return c.addHandler(g,this),this};var Qn={Events:We},ll=rn.touch?"touchstart mousedown":"mousedown",Ui=we.extend({options:{clickTolerance:3},initialize:function(c,g,E,k){_e(this,k),this._element=c,this._dragStartTarget=g||c,this._preventOutline=E},enable:function(){this._enabled||(_n(this._dragStartTarget,ll,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Ui._dragging===this&&this.finishDrag(!0),v(this._dragStartTarget,ll,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(c){if(this._enabled&&(this._moved=!1,!Si(this._element,"leaflet-zoom-anim"))){if(c.touches&&1!==c.touches.length)return void(Ui._dragging===this&&this.finishDrag());if(!(Ui._dragging||c.shiftKey||1!==c.which&&1!==c.button&&!c.touches||(Ui._dragging=this,this._preventOutline&&nt(this._element),wo(),aa(),this._moving))){this.fire("down");var g=c.touches?c.touches[0]:c,E=Zt(this._element);this._startPoint=new Me(g.clientX,g.clientY),this._startPos=rr(this._element),this._parentScale=qr(E);var k="mousedown"===c.type;_n(document,k?"mousemove":"touchmove",this._onMove,this),_n(document,k?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(c){if(this._enabled){if(c.touches&&c.touches.length>1)return void(this._moved=!0);var g=c.touches&&1===c.touches.length?c.touches[0]:c,E=new Me(g.clientX,g.clientY)._subtract(this._startPoint);!E.x&&!E.y||Math.abs(E.x)+Math.abs(E.y)<this.options.clickTolerance||(E.x/=this._parentScale.x,E.y/=this._parentScale.y,ze(c),this._moved||(this.fire("dragstart"),this._moved=!0,zt(document.body,"leaflet-dragging"),this._lastTarget=c.target||c.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),zt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(E),this._moving=!0,this._lastEvent=c,this._updatePosition())}},_updatePosition:function(){var c={originalEvent:this._lastEvent};this.fire("predrag",c),Wn(this._element,this._newPos),this.fire("drag",c)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(c){Vt(document.body,"leaflet-dragging"),this._lastTarget&&(Vt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),v(document,"mousemove touchmove",this._onMove,this),v(document,"mouseup touchend touchcancel",this._onUp,this),es(),ol();var g=this._moved&&this._moving;this._moving=!1,Ui._dragging=!1,g&&this.fire("dragend",{noInertia:c,distance:this._newPos.distanceTo(this._startPos)})}});function Li(c,g,E){var k,le,Ue,tt,at,ct,jt,bn,Vn,Y=[1,4,2,8];for(le=0,jt=c.length;le<jt;le++)c[le]._code=mr(c[le],g);for(tt=0;tt<4;tt++){for(bn=Y[tt],k=[],le=0,Ue=(jt=c.length)-1;le<jt;Ue=le++)ct=c[Ue],(at=c[le])._code&bn?ct._code&bn||((Vn=Ca(ct,at,bn,g,E))._code=mr(Vn,g),k.push(Vn)):(ct._code&bn&&((Vn=Ca(ct,at,bn,g,E))._code=mr(Vn,g),k.push(Vn)),k.push(at));c=k}return c}function Ea(c,g){var E,k,Y,le,Ue,tt,at,ct;if(!c||0===c.length)throw new Error("latlngs not passed");Ri(c)||(console.warn("latlngs are not flat! Only the first ring will be used"),c=c[0]);var bn=$e([0,0]),Vn=qe(c);Vn.getNorthWest().distanceTo(Vn.getSouthWest())*Vn.getNorthEast().distanceTo(Vn.getNorthWest())<1700&&(bn=Fl(c));var Ti=c.length,qi=[];for(E=0;E<Ti;E++){var ao=$e(c[E]);qi.push(g.project($e([ao.lat-bn.lat,ao.lng-bn.lng])))}for(tt=at=ct=0,E=0,k=Ti-1;E<Ti;k=E++)at+=((Y=qi[E]).x+(le=qi[k]).x)*(Ue=Y.y*le.x-le.y*Y.x),ct+=(Y.y+le.y)*Ue,tt+=3*Ue;var ki=g.unproject(Se(0===tt?qi[0]:[at/tt,ct/tt]));return $e([ki.lat+bn.lat,ki.lng+bn.lng])}function Fl(c){for(var g=0,E=0,k=0,Y=0;Y<c.length;Y++){var le=$e(c[Y]);g+=le.lat,E+=le.lng,k++}return $e([g/k,E/k])}var lc,ci={__proto__:null,clipPolygon:Li,polygonCenter:Ea,centroid:Fl};function jc(c,g){if(!g||!c.length)return c.slice();var E=g*g;return function ai(c,g){var E=c.length,Y=new(typeof Uint8Array!=void 0+""?Uint8Array:Array)(E);Y[0]=Y[E-1]=1,Va(c,Y,g,0,E-1);var le,Ue=[];for(le=0;le<E;le++)Y[le]&&Ue.push(c[le]);return Ue}(c=function Fo(c,g){for(var E=[c[0]],k=1,Y=0,le=c.length;k<le;k++)Ma(c[k],c[Y])>g&&(E.push(c[k]),Y=k);return Y<le-1&&E.push(c[le-1]),E}(c,E),E)}function hr(c,g,E){return Math.sqrt(mo(c,g,E,!0))}function Va(c,g,E,k,Y){var Ue,tt,at,le=0;for(tt=k+1;tt<=Y-1;tt++)(at=mo(c[tt],c[k],c[Y],!0))>le&&(Ue=tt,le=at);le>E&&(g[Ue]=1,Va(c,g,E,k,Ue),Va(c,g,E,Ue,Y))}function Gn(c,g,E,k,Y){var tt,at,ct,le=k?lc:mr(c,E),Ue=mr(g,E);for(lc=Ue;;){if(!(le|Ue))return[c,g];if(le&Ue)return!1;ct=mr(at=Ca(c,g,tt=le||Ue,E,Y),E),tt===le?(c=at,le=ct):(g=at,Ue=ct)}}function Ca(c,g,E,k,Y){var ct,jt,le=g.x-c.x,Ue=g.y-c.y,tt=k.min,at=k.max;return 8&E?(ct=c.x+le*(at.y-c.y)/Ue,jt=at.y):4&E?(ct=c.x+le*(tt.y-c.y)/Ue,jt=tt.y):2&E?(ct=at.x,jt=c.y+Ue*(at.x-c.x)/le):1&E&&(ct=tt.x,jt=c.y+Ue*(tt.x-c.x)/le),new Me(ct,jt,Y)}function mr(c,g){var E=0;return c.x<g.min.x?E|=1:c.x>g.max.x&&(E|=2),c.y<g.min.y?E|=4:c.y>g.max.y&&(E|=8),E}function Ma(c,g){var E=g.x-c.x,k=g.y-c.y;return E*E+k*k}function mo(c,g,E,k){var ct,Y=g.x,le=g.y,Ue=E.x-Y,tt=E.y-le,at=Ue*Ue+tt*tt;return at>0&&((ct=((c.x-Y)*Ue+(c.y-le)*tt)/at)>1?(Y=E.x,le=E.y):ct>0&&(Y+=Ue*ct,le+=tt*ct)),Ue=c.x-Y,tt=c.y-le,k?Ue*Ue+tt*tt:new Me(Y,le)}function Ri(c){return!z(c[0])||"object"!=typeof c[0][0]&&typeof c[0][0]<"u"}function uc(c){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Ri(c)}function et(c,g){var E,k,Y,le,Ue,tt,at,ct;if(!c||0===c.length)throw new Error("latlngs not passed");Ri(c)||(console.warn("latlngs are not flat! Only the first ring will be used"),c=c[0]);var jt=$e([0,0]),bn=qe(c);bn.getNorthWest().distanceTo(bn.getSouthWest())*bn.getNorthEast().distanceTo(bn.getNorthWest())<1700&&(jt=Fl(c));var Pi=c.length,Ti=[];for(E=0;E<Pi;E++){var qi=$e(c[E]);Ti.push(g.project($e([qi.lat-jt.lat,qi.lng-jt.lng])))}for(E=0,k=0;E<Pi-1;E++)k+=Ti[E].distanceTo(Ti[E+1])/2;if(0===k)ct=Ti[0];else for(E=0,le=0;E<Pi-1;E++)if((le+=Y=(Ue=Ti[E]).distanceTo(tt=Ti[E+1]))>k){ct=[tt.x-(at=(le-k)/Y)*(tt.x-Ue.x),tt.y-at*(tt.y-Ue.y)];break}var ao=g.unproject(Se(ct));return $e([ao.lat+jt.lat,ao.lng+jt.lng])}var ur={__proto__:null,simplify:jc,pointToSegmentDistance:hr,closestPointOnSegment:function za(c,g,E){return mo(c,g,E)},clipSegment:Gn,_getEdgeIntersection:Ca,_getBitCode:mr,_sqClosestPointOnSegment:mo,isFlat:Ri,_flat:uc,polylineCenter:et},Mt={project:function(c){return new Me(c.lng,c.lat)},unproject:function(c){return new dt(c.y,c.x)},bounds:new Fe([-180,-90],[180,90])},ua={R:6378137,R_MINOR:6356752.314245179,bounds:new Fe([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(c){var g=Math.PI/180,E=this.R,k=c.lat*g,Y=this.R_MINOR/E,le=Math.sqrt(1-Y*Y),Ue=le*Math.sin(k),tt=Math.tan(Math.PI/4-k/2)/Math.pow((1-Ue)/(1+Ue),le/2);return k=-E*Math.log(Math.max(tt,1e-10)),new Me(c.lng*g*E,k)},unproject:function(c){for(var ct,g=180/Math.PI,E=this.R,k=this.R_MINOR/E,Y=Math.sqrt(1-k*k),le=Math.exp(-c.y/E),Ue=Math.PI/2-2*Math.atan(le),tt=0,at=.1;tt<15&&Math.abs(at)>1e-7;tt++)ct=Y*Math.sin(Ue),ct=Math.pow((1-ct)/(1+ct),Y/2),Ue+=at=Math.PI/2-2*Math.atan(le*ct)-Ue;return new dt(Ue*g,c.x*g/E)}},Fs={__proto__:null,LonLat:Mt,Mercator:ua,SphericalMercator:Ft},Lo=w({},Et,{code:"EPSG:3395",projection:ua,transformation:function(){var c=.5/(Math.PI*ua.R);return vt(c,.5,-c,.5)}()}),xo=w({},Et,{code:"EPSG:4326",projection:Mt,transformation:vt(1/180,1,-1/180,.5)}),ph=w({},Rt,{projection:Mt,transformation:vt(1,0,-1,0),scale:function(c){return Math.pow(2,c)},zoom:function(c){return Math.log(c)/Math.LN2},distance:function(c,g){var E=g.lng-c.lng,k=g.lat-c.lat;return Math.sqrt(E*E+k*k)},infinite:!0});Rt.Earth=Et,Rt.EPSG3395=Lo,Rt.EPSG3857=dr,Rt.EPSG900913=In,Rt.EPSG4326=xo,Rt.Simple=ph;var ea=we.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(c){return c.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(c){return c&&c.removeLayer(this),this},getPane:function(c){return this._map.getPane(c?this.options[c]||c:this.options.pane)},addInteractiveTarget:function(c){return this._map._targets[U(c)]=this,this},removeInteractiveTarget:function(c){return delete this._map._targets[U(c)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(c){var g=c.target;if(g.hasLayer(this)){if(this._map=g,this._zoomAnimated=g._zoomAnimated,this.getEvents){var E=this.getEvents();g.on(E,this),this.once("remove",function(){g.off(E,this)},this)}this.onAdd(g),this.fire("add"),g.fire("layeradd",{layer:this})}}});$t.include({addLayer:function(c){if(!c._layerAdd)throw new Error("The provided object is not a Layer.");var g=U(c);return this._layers[g]||(this._layers[g]=c,c._mapToAdd=this,c.beforeAdd&&c.beforeAdd(this),this.whenReady(c._layerAdd,c)),this},removeLayer:function(c){var g=U(c);return this._layers[g]?(this._loaded&&c.onRemove(this),delete this._layers[g],this._loaded&&(this.fire("layerremove",{layer:c}),c.fire("remove")),c._map=c._mapToAdd=null,this):this},hasLayer:function(c){return U(c)in this._layers},eachLayer:function(c,g){for(var E in this._layers)c.call(g,this._layers[E]);return this},_addLayers:function(c){for(var g=0,E=(c=c?z(c)?c:[c]:[]).length;g<E;g++)this.addLayer(c[g])},_addZoomLimit:function(c){(!isNaN(c.options.maxZoom)||!isNaN(c.options.minZoom))&&(this._zoomBoundLayers[U(c)]=c,this._updateZoomLevels())},_removeZoomLimit:function(c){var g=U(c);this._zoomBoundLayers[g]&&(delete this._zoomBoundLayers[g],this._updateZoomLevels())},_updateZoomLevels:function(){var c=1/0,g=-1/0,E=this._getZoomSpan();for(var k in this._zoomBoundLayers){var Y=this._zoomBoundLayers[k].options;c=void 0===Y.minZoom?c:Math.min(c,Y.minZoom),g=void 0===Y.maxZoom?g:Math.max(g,Y.maxZoom)}this._layersMaxZoom=g===-1/0?void 0:g,this._layersMinZoom=c===1/0?void 0:c,E!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var ro=ea.extend({initialize:function(c,g){var E,k;if(_e(this,g),this._layers={},c)for(E=0,k=c.length;E<k;E++)this.addLayer(c[E])},addLayer:function(c){var g=this.getLayerId(c);return this._layers[g]=c,this._map&&this._map.addLayer(c),this},removeLayer:function(c){var g=c in this._layers?c:this.getLayerId(c);return this._map&&this._layers[g]&&this._map.removeLayer(this._layers[g]),delete this._layers[g],this},hasLayer:function(c){return("number"==typeof c?c:this.getLayerId(c))in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(c){var E,k,g=Array.prototype.slice.call(arguments,1);for(E in this._layers)(k=this._layers[E])[c]&&k[c].apply(k,g);return this},onAdd:function(c){this.eachLayer(c.addLayer,c)},onRemove:function(c){this.eachLayer(c.removeLayer,c)},eachLayer:function(c,g){for(var E in this._layers)c.call(g,this._layers[E]);return this},getLayer:function(c){return this._layers[c]},getLayers:function(){var c=[];return this.eachLayer(c.push,c),c},setZIndex:function(c){return this.invoke("setZIndex",c)},getLayerId:function(c){return U(c)}}),bi=ro.extend({addLayer:function(c){return this.hasLayer(c)?this:(c.addEventParent(this),ro.prototype.addLayer.call(this,c),this.fire("layeradd",{layer:c}))},removeLayer:function(c){return this.hasLayer(c)?(c in this._layers&&(c=this._layers[c]),c.removeEventParent(this),ro.prototype.removeLayer.call(this,c),this.fire("layerremove",{layer:c})):this},setStyle:function(c){return this.invoke("setStyle",c)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var c=new rt;for(var g in this._layers){var E=this._layers[g];c.extend(E.getBounds?E.getBounds():E.getLatLng())}return c}}),Rn=de.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(c){_e(this,c)},createIcon:function(c){return this._createIcon("icon",c)},createShadow:function(c){return this._createIcon("shadow",c)},_createIcon:function(c,g){var E=this._getIconUrl(c);if(!E){if("icon"===c)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var k=this._createImg(E,g&&"IMG"===g.tagName?g:null);return this._setIconStyles(k,c),(this.options.crossOrigin||""===this.options.crossOrigin)&&(k.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),k},_setIconStyles:function(c,g){var E=this.options,k=E[g+"Size"];"number"==typeof k&&(k=[k,k]);var Y=Se(k),le=Se("shadow"===g&&E.shadowAnchor||E.iconAnchor||Y&&Y.divideBy(2,!0));c.className="leaflet-marker-"+g+" "+(E.className||""),le&&(c.style.marginLeft=-le.x+"px",c.style.marginTop=-le.y+"px"),Y&&(c.style.width=Y.x+"px",c.style.height=Y.y+"px")},_createImg:function(c,g){return(g=g||document.createElement("img")).src=c,g},_getIconUrl:function(c){return rn.retina&&this.options[c+"RetinaUrl"]||this.options[c+"Url"]}});var Es=Rn.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(c){return"string"!=typeof Es.imagePath&&(Es.imagePath=this._detectIconPath()),(this.options.imagePath||Es.imagePath)+Rn.prototype._getIconUrl.call(this,c)},_stripUrl:function(c){var g=function(E,k,Y){var le=k.exec(E);return le&&le[Y]};return(c=g(c,/^url\((['"])?(.+)\1\)$/,2))&&g(c,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var c=qn("div","leaflet-default-icon-path",document.body),g=Js(c,"background-image")||Js(c,"backgroundImage");if(document.body.removeChild(c),g=this._stripUrl(g))return g;var E=document.querySelector('link[href$="leaflet.css"]');return E?E.href.substring(0,E.href.length-11-1):""}}),Bs=qt.extend({initialize:function(c){this._marker=c},addHooks:function(){var c=this._marker._icon;this._draggable||(this._draggable=new Ui(c,c,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),zt(c,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Vt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(c){var g=this._marker,E=g._map,k=this._marker.options.autoPanSpeed,Y=this._marker.options.autoPanPadding,le=rr(g._icon),Ue=E.getPixelBounds(),tt=E.getPixelOrigin(),at=me(Ue.min._subtract(tt).add(Y),Ue.max._subtract(tt).subtract(Y));if(!at.contains(le)){var ct=Se((Math.max(at.max.x,le.x)-at.max.x)/(Ue.max.x-at.max.x)-(Math.min(at.min.x,le.x)-at.min.x)/(Ue.min.x-at.min.x),(Math.max(at.max.y,le.y)-at.max.y)/(Ue.max.y-at.max.y)-(Math.min(at.min.y,le.y)-at.min.y)/(Ue.min.y-at.min.y)).multiplyBy(k);E.panBy(ct,{animate:!1}),this._draggable._newPos._add(ct),this._draggable._startPos._add(ct),Wn(g._icon,this._draggable._newPos),this._onDrag(c),this._panRequest=De(this._adjustPan.bind(this,c))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(c){this._marker.options.autoPan&&(ge(this._panRequest),this._panRequest=De(this._adjustPan.bind(this,c)))},_onDrag:function(c){var g=this._marker,E=g._shadow,k=rr(g._icon),Y=g._map.layerPointToLatLng(k);E&&Wn(E,k),g._latlng=Y,c.latlng=Y,c.oldLatLng=this._oldLatLng,g.fire("move",c).fire("drag",c)},_onDragEnd:function(c){ge(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",c)}}),ji=ea.extend({options:{icon:new Es,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(c,g){_e(this,g),this._latlng=$e(c)},onAdd:function(c){this._zoomAnimated=this._zoomAnimated&&c.options.markerZoomAnimation,this._zoomAnimated&&c.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(c){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&c.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(c){var g=this._latlng;return this._latlng=$e(c),this.update(),this.fire("move",{oldLatLng:g,latlng:this._latlng})},setZIndexOffset:function(c){return this.options.zIndexOffset=c,this.update()},getIcon:function(){return this.options.icon},setIcon:function(c){return this.options.icon=c,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var c=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(c)}return this},_initIcon:function(){var c=this.options,g="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),E=c.icon.createIcon(this._icon),k=!1;E!==this._icon&&(this._icon&&this._removeIcon(),k=!0,c.title&&(E.title=c.title),"IMG"===E.tagName&&(E.alt=c.alt||"")),zt(E,g),c.keyboard&&(E.tabIndex="0",E.setAttribute("role","button")),this._icon=E,c.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&_n(E,"focus",this._panOnFocus,this);var Y=c.icon.createShadow(this._shadow),le=!1;Y!==this._shadow&&(this._removeShadow(),le=!0),Y&&(zt(Y,g),Y.alt=""),this._shadow=Y,c.opacity<1&&this._updateOpacity(),k&&this.getPane().appendChild(this._icon),this._initInteraction(),Y&&le&&this.getPane(c.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&v(this._icon,"focus",this._panOnFocus,this),Cn(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Cn(this._shadow),this._shadow=null},_setPos:function(c){this._icon&&Wn(this._icon,c),this._shadow&&Wn(this._shadow,c),this._zIndex=c.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(c){this._icon&&(this._icon.style.zIndex=this._zIndex+c)},_animateZoom:function(c){var g=this._map._latLngToNewLayerPoint(this._latlng,c.zoom,c.center).round();this._setPos(g)},_initInteraction:function(){if(this.options.interactive&&(zt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Bs)){var c=this.options.draggable;this.dragging&&(c=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Bs(this),c&&this.dragging.enable()}},setOpacity:function(c){return this.options.opacity=c,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var c=this.options.opacity;this._icon&&nn(this._icon,c),this._shadow&&nn(this._shadow,c)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var c=this._map;if(c){var g=this.options.icon.options,E=g.iconSize?Se(g.iconSize):Se(0,0),k=g.iconAnchor?Se(g.iconAnchor):Se(0,0);c.panInside(this._latlng,{paddingTopLeft:k,paddingBottomRight:E.subtract(k)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});var cs=ea.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(c){this._renderer=c.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(c){return _e(this,c),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&c&&Object.prototype.hasOwnProperty.call(c,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),io=cs.extend({options:{fill:!0,radius:10},initialize:function(c,g){_e(this,g),this._latlng=$e(c),this._radius=this.options.radius},setLatLng:function(c){var g=this._latlng;return this._latlng=$e(c),this.redraw(),this.fire("move",{oldLatLng:g,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(c){return this.options.radius=this._radius=c,this.redraw()},getRadius:function(){return this._radius},setStyle:function(c){var g=c&&c.radius||this._radius;return cs.prototype.setStyle.call(this,c),this.setRadius(g),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var c=this._radius,g=this._radiusY||c,E=this._clickTolerance(),k=[c+E,g+E];this._pxBounds=new Fe(this._point.subtract(k),this._point.add(k))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(c){return c.distanceTo(this._point)<=this._radius+this._clickTolerance()}});var rs=io.extend({initialize:function(c,g,E){if("number"==typeof g&&(g=w({},E,{radius:g})),_e(this,g),this._latlng=$e(c),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(c){return this._mRadius=c,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var c=[this._radius,this._radiusY||this._radius];return new rt(this._map.layerPointToLatLng(this._point.subtract(c)),this._map.layerPointToLatLng(this._point.add(c)))},setStyle:cs.prototype.setStyle,_project:function(){var c=this._latlng.lng,g=this._latlng.lat,E=this._map,k=E.options.crs;if(k.distance===Et.distance){var Y=Math.PI/180,le=this._mRadius/Et.R/Y,Ue=E.project([g+le,c]),tt=E.project([g-le,c]),at=Ue.add(tt).divideBy(2),ct=E.unproject(at).lat,jt=Math.acos((Math.cos(le*Y)-Math.sin(g*Y)*Math.sin(ct*Y))/(Math.cos(g*Y)*Math.cos(ct*Y)))/Y;(isNaN(jt)||0===jt)&&(jt=le/Math.cos(Math.PI/180*g)),this._point=at.subtract(E.getPixelOrigin()),this._radius=isNaN(jt)?0:at.x-E.project([ct,c-jt]).x,this._radiusY=at.y-Ue.y}else{var bn=k.unproject(k.project(this._latlng).subtract([this._mRadius,0]));this._point=E.latLngToLayerPoint(this._latlng),this._radius=this._point.x-E.latLngToLayerPoint(bn).x}this._updateBounds()}});var Ii=cs.extend({options:{smoothFactor:1,noClip:!1},initialize:function(c,g){_e(this,g),this._setLatLngs(c)},getLatLngs:function(){return this._latlngs},setLatLngs:function(c){return this._setLatLngs(c),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(c){for(var Y,le,g=1/0,E=null,k=mo,Ue=0,tt=this._parts.length;Ue<tt;Ue++)for(var at=this._parts[Ue],ct=1,jt=at.length;ct<jt;ct++){var bn=k(c,Y=at[ct-1],le=at[ct],!0);bn<g&&(g=bn,E=k(c,Y,le))}return E&&(E.distance=Math.sqrt(g)),E},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return et(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(c,g){return g=g||this._defaultShape(),c=$e(c),g.push(c),this._bounds.extend(c),this.redraw()},_setLatLngs:function(c){this._bounds=new rt,this._latlngs=this._convertLatLngs(c)},_defaultShape:function(){return Ri(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(c){for(var g=[],E=Ri(c),k=0,Y=c.length;k<Y;k++)E?(g[k]=$e(c[k]),this._bounds.extend(g[k])):g[k]=this._convertLatLngs(c[k]);return g},_project:function(){var c=new Fe;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,c),this._bounds.isValid()&&c.isValid()&&(this._rawPxBounds=c,this._updateBounds())},_updateBounds:function(){var c=this._clickTolerance(),g=new Me(c,c);this._rawPxBounds&&(this._pxBounds=new Fe([this._rawPxBounds.min.subtract(g),this._rawPxBounds.max.add(g)]))},_projectLatlngs:function(c,g,E){var le,Ue,Y=c.length;if(c[0]instanceof dt){for(Ue=[],le=0;le<Y;le++)Ue[le]=this._map.latLngToLayerPoint(c[le]),E.extend(Ue[le]);g.push(Ue)}else for(le=0;le<Y;le++)this._projectLatlngs(c[le],g,E)},_clipPoints:function(){var c=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(c)){if(this.options.noClip)return void(this._parts=this._rings);var E,k,Y,le,Ue,tt,at,g=this._parts;for(E=0,Y=0,le=this._rings.length;E<le;E++)for(k=0,Ue=(at=this._rings[E]).length;k<Ue-1;k++)(tt=Gn(at[k],at[k+1],c,k,!0))&&(g[Y]=g[Y]||[],g[Y].push(tt[0]),(tt[1]!==at[k+1]||k===Ue-2)&&(g[Y].push(tt[1]),Y++))}},_simplifyPoints:function(){for(var c=this._parts,g=this.options.smoothFactor,E=0,k=c.length;E<k;E++)c[E]=jc(c[E],g)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(c,g){var E,k,Y,le,Ue,tt,at=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(c))return!1;for(E=0,le=this._parts.length;E<le;E++)for(k=0,Y=(Ue=(tt=this._parts[E]).length)-1;k<Ue;Y=k++)if((g||0!==k)&&hr(c,tt[Y],tt[k])<=at)return!0;return!1}});Ii._flat=uc;var ca=Ii.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ea(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(c){var g=Ii.prototype._convertLatLngs.call(this,c),E=g.length;return E>=2&&g[0]instanceof dt&&g[0].equals(g[E-1])&&g.pop(),g},_setLatLngs:function(c){Ii.prototype._setLatLngs.call(this,c),Ri(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Ri(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var c=this._renderer._bounds,g=this.options.weight,E=new Me(g,g);if(c=new Fe(c.min.subtract(E),c.max.add(E)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(c)){if(this.options.noClip)return void(this._parts=this._rings);for(var le,k=0,Y=this._rings.length;k<Y;k++)(le=Li(this._rings[k],c,!0)).length&&this._parts.push(le)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(c){var E,k,Y,le,Ue,tt,at,ct,g=!1;if(!this._pxBounds||!this._pxBounds.contains(c))return!1;for(le=0,at=this._parts.length;le<at;le++)for(Ue=0,tt=(ct=(E=this._parts[le]).length)-1;Ue<ct;tt=Ue++)(k=E[Ue]).y>c.y!=(Y=E[tt]).y>c.y&&c.x<(Y.x-k.x)*(c.y-k.y)/(Y.y-k.y)+k.x&&(g=!g);return g||Ii.prototype._containsPoint.call(this,c,!0)}});var La=bi.extend({initialize:function(c,g){_e(this,g),this._layers={},c&&this.addData(c)},addData:function(c){var E,k,Y,g=z(c)?c:c.features;if(g){for(E=0,k=g.length;E<k;E++)((Y=g[E]).geometries||Y.geometry||Y.features||Y.coordinates)&&this.addData(Y);return this}var le=this.options;if(le.filter&&!le.filter(c))return this;var Ue=zl(c,le);return Ue?(Ue.feature=da(c),Ue.defaultOptions=Ue.options,this.resetStyle(Ue),le.onEachFeature&&le.onEachFeature(c,Ue),this.addLayer(Ue)):this},resetStyle:function(c){return void 0===c?this.eachLayer(this.resetStyle,this):(c.options=w({},c.defaultOptions),this._setLayerStyle(c,this.options.style),this)},setStyle:function(c){return this.eachLayer(function(g){this._setLayerStyle(g,c)},this)},_setLayerStyle:function(c,g){c.setStyle&&("function"==typeof g&&(g=g(c.feature)),c.setStyle(g))}});function zl(c,g){var tt,at,ct,jt,E="Feature"===c.type?c.geometry:c,k=E?E.coordinates:null,Y=[],le=g&&g.pointToLayer,Ue=g&&g.coordsToLatLng||zs;if(!k&&!E)return null;switch(E.type){case"Point":return ul(le,c,tt=Ue(k),g);case"MultiPoint":for(ct=0,jt=k.length;ct<jt;ct++)tt=Ue(k[ct]),Y.push(ul(le,c,tt,g));return new bi(Y);case"LineString":case"MultiLineString":return at=Kr(k,"LineString"===E.type?0:1,Ue),new Ii(at,g);case"Polygon":case"MultiPolygon":return at=Kr(k,"Polygon"===E.type?1:2,Ue),new ca(at,g);case"GeometryCollection":for(ct=0,jt=E.geometries.length;ct<jt;ct++){var bn=zl({geometry:E.geometries[ct],type:"Feature",properties:c.properties},g);bn&&Y.push(bn)}return new bi(Y);case"FeatureCollection":for(ct=0,jt=E.features.length;ct<jt;ct++){var Vn=zl(E.features[ct],g);Vn&&Y.push(Vn)}return new bi(Y);default:throw new Error("Invalid GeoJSON object.")}}function ul(c,g,E,k){return c?c(g,E):new ji(E,k&&k.markersInheritOptions&&k)}function zs(c){return new dt(c[1],c[0],c[2])}function Kr(c,g,E){for(var Ue,k=[],Y=0,le=c.length;Y<le;Y++)Ue=g?Kr(c[Y],g-1,E):(E||zs)(c[Y]),k.push(Ue);return k}function cl(c,g){return void 0!==(c=$e(c)).alt?[Ne(c.lng,g),Ne(c.lat,g),Ne(c.alt,g)]:[Ne(c.lng,g),Ne(c.lat,g)]}function oo(c,g,E,k){for(var Y=[],le=0,Ue=c.length;le<Ue;le++)Y.push(g?oo(c[le],Ri(c[le])?0:g-1,E,k):cl(c[le],k));return!g&&E&&Y.length>0&&Y.push(Y[0].slice()),Y}function is(c,g){return c.feature?w({},c.feature,{geometry:g}):da(g)}function da(c){return"Feature"===c.type||"FeatureCollection"===c.type?c:{type:"Feature",properties:{},geometry:c}}var hu={toGeoJSON:function(c){return is(this,{type:"Point",coordinates:cl(this.getLatLng(),c)})}};function dl(c,g){return new La(c,g)}ji.include(hu),rs.include(hu),io.include(hu),Ii.include({toGeoJSON:function(c){var g=!Ri(this._latlngs);return is(this,{type:(g?"Multi":"")+"LineString",coordinates:oo(this._latlngs,g?1:0,!1,c)})}}),ca.include({toGeoJSON:function(c){var g=!Ri(this._latlngs),E=g&&!Ri(this._latlngs[0]),k=oo(this._latlngs,E?2:g?1:0,!0,c);return g||(k=[k]),is(this,{type:(E?"Multi":"")+"Polygon",coordinates:k})}}),ro.include({toMultiPoint:function(c){var g=[];return this.eachLayer(function(E){g.push(E.toGeoJSON(c).geometry.coordinates)}),is(this,{type:"MultiPoint",coordinates:g})},toGeoJSON:function(c){var g=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===g)return this.toMultiPoint(c);var E="GeometryCollection"===g,k=[];return this.eachLayer(function(Y){if(Y.toGeoJSON){var le=Y.toGeoJSON(c);if(E)k.push(le.geometry);else{var Ue=da(le);"FeatureCollection"===Ue.type?k.push.apply(k,Ue.features):k.push(Ue)}}}),E?is(this,{geometries:k,type:"GeometryCollection"}):{type:"FeatureCollection",features:k}}});var Ia=dl,Vs=ea.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(c,g,E){this._url=c,this._bounds=qe(g),_e(this,E)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(zt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Cn(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(c){return this.options.opacity=c,this._image&&this._updateOpacity(),this},setStyle:function(c){return c.opacity&&this.setOpacity(c.opacity),this},bringToFront:function(){return this._map&&Do(this._image),this},bringToBack:function(){return this._map&&oa(this._image),this},setUrl:function(c){return this._url=c,this._image&&(this._image.src=c),this},setBounds:function(c){return this._bounds=qe(c),this._map&&this._reset(),this},getEvents:function(){var c={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(c.zoomanim=this._animateZoom),c},setZIndex:function(c){return this.options.zIndex=c,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var c="IMG"===this._url.tagName,g=this._image=c?this._url:qn("img");zt(g,"leaflet-image-layer"),this._zoomAnimated&&zt(g,"leaflet-zoom-animated"),this.options.className&&zt(g,this.options.className),g.onselectstart=ve,g.onmousemove=ve,g.onload=I(this.fire,this,"load"),g.onerror=I(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(g.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),c?this._url=g.src:(g.src=this._url,g.alt=this.options.alt)},_animateZoom:function(c){var g=this._map.getZoomScale(c.zoom),E=this._map._latLngBoundsToNewLayerBounds(this._bounds,c.zoom,c.center).min;$n(this._image,E,g)},_reset:function(){var c=this._image,g=new Fe(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),E=g.getSize();Wn(c,g.min),c.style.width=E.x+"px",c.style.height=E.y+"px"},_updateOpacity:function(){nn(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&null!=this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var c=this.options.errorOverlayUrl;c&&this._url!==c&&(this._url=c,this._image.src=c)},getCenter:function(){return this._bounds.getCenter()}}),Cs=Vs.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var c="VIDEO"===this._url.tagName,g=this._image=c?this._url:qn("video");if(zt(g,"leaflet-image-layer"),this._zoomAnimated&&zt(g,"leaflet-zoom-animated"),this.options.className&&zt(g,this.options.className),g.onselectstart=ve,g.onmousemove=ve,g.onloadeddata=I(this.fire,this,"load"),c){for(var E=g.getElementsByTagName("source"),k=[],Y=0;Y<E.length;Y++)k.push(E[Y].src);this._url=E.length>0?k:[g.src]}else{z(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(g.style,"objectFit")&&(g.style.objectFit="fill"),g.autoplay=!!this.options.autoplay,g.loop=!!this.options.loop,g.muted=!!this.options.muted,g.playsInline=!!this.options.playsInline;for(var le=0;le<this._url.length;le++){var Ue=qn("source");Ue.src=this._url[le],g.appendChild(Ue)}}}});var dc=Vs.extend({_initImage:function(){var c=this._image=this._url;zt(c,"leaflet-image-layer"),this._zoomAnimated&&zt(c,"leaflet-zoom-animated"),this.options.className&&zt(c,this.options.className),c.onselectstart=ve,c.onmousemove=ve}});var os=ea.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(c,g){c&&(c instanceof dt||z(c))?(this._latlng=$e(c),_e(this,g)):(_e(this,c),this._source=g),this.options.content&&(this._content=this.options.content)},openOn:function(c){return(c=arguments.length?c:this._source._map).hasLayer(this)||c.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(c){return this._map?this.close():(arguments.length?this._source=c:c=this._source,this._prepareOpen(),this.openOn(c._map)),this},onAdd:function(c){this._zoomAnimated=c._zoomAnimated,this._container||this._initLayout(),c._fadeAnimated&&nn(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),c._fadeAnimated&&nn(this._container,1),this.bringToFront(),this.options.interactive&&(zt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(c){c._fadeAnimated?(nn(this._container,0),this._removeTimeout=setTimeout(I(Cn,void 0,this._container),200)):Cn(this._container),this.options.interactive&&(Vt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(c){return this._latlng=$e(c),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(c){return this._content=c,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var c={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(c.zoomanim=this._animateZoom),c},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Do(this._container),this},bringToBack:function(){return this._map&&oa(this._container),this},_prepareOpen:function(c){var g=this._source;if(!g._map)return!1;if(g instanceof bi){g=null;var E=this._source._layers;for(var k in E)if(E[k]._map){g=E[k];break}if(!g)return!1;this._source=g}if(!c)if(g.getCenter)c=g.getCenter();else if(g.getLatLng)c=g.getLatLng();else{if(!g.getBounds)throw new Error("Unable to get source layer LatLng.");c=g.getBounds().getCenter()}return this.setLatLng(c),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var c=this._contentNode,g="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof g)c.innerHTML=g;else{for(;c.hasChildNodes();)c.removeChild(c.firstChild);c.appendChild(g)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var c=this._map.latLngToLayerPoint(this._latlng),g=Se(this.options.offset),E=this._getAnchor();this._zoomAnimated?Wn(this._container,c.add(E)):g=g.add(c).add(E);var k=this._containerBottom=-g.y,Y=this._containerLeft=-Math.round(this._containerWidth/2)+g.x;this._container.style.bottom=k+"px",this._container.style.left=Y+"px"}},_getAnchor:function(){return[0,0]}});$t.include({_initOverlay:function(c,g,E,k){var Y=g;return Y instanceof c||(Y=new c(k).setContent(g)),E&&Y.setLatLng(E),Y}}),ea.include({_initOverlay:function(c,g,E,k){var Y=E;return Y instanceof c?(_e(Y,k),Y._source=this):(Y=g&&!k?g:new c(k,this)).setContent(E),Y}});var wn=os.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(c){return!(c=arguments.length?c:this._source._map).hasLayer(this)&&c._popup&&c._popup.options.autoClose&&c.removeLayer(c._popup),c._popup=this,os.prototype.openOn.call(this,c)},onAdd:function(c){os.prototype.onAdd.call(this,c),c.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof cs||this._source.on("preclick",Ie))},onRemove:function(c){os.prototype.onRemove.call(this,c),c.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof cs||this._source.off("preclick",Ie))},getEvents:function(){var c=os.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(c.preclick=this.close),this.options.keepInView&&(c.moveend=this._adjustPan),c},_initLayout:function(){var c="leaflet-popup",g=this._container=qn("div",c+" "+(this.options.className||"")+" leaflet-zoom-animated"),E=this._wrapper=qn("div",c+"-content-wrapper",g);if(this._contentNode=qn("div",c+"-content",E),Te(g),Pe(this._contentNode),_n(g,"contextmenu",Ie),this._tipContainer=qn("div",c+"-tip-container",g),this._tip=qn("div",c+"-tip",this._tipContainer),this.options.closeButton){var k=this._closeButton=qn("a",c+"-close-button",g);k.setAttribute("role","button"),k.setAttribute("aria-label","Close popup"),k.href="#close",k.innerHTML='<span aria-hidden="true">&#215;</span>',_n(k,"click",function(Y){ze(Y),this.close()},this)}},_updateLayout:function(){var c=this._contentNode,g=c.style;g.width="",g.whiteSpace="nowrap";var E=c.offsetWidth;E=Math.min(E,this.options.maxWidth),E=Math.max(E,this.options.minWidth),g.width=E+1+"px",g.whiteSpace="",g.height="";var Y=this.options.maxHeight,le="leaflet-popup-scrolled";Y&&c.offsetHeight>Y?(g.height=Y+"px",zt(c,le)):Vt(c,le),this._containerWidth=this._container.offsetWidth},_animateZoom:function(c){var g=this._map._latLngToNewLayerPoint(this._latlng,c.zoom,c.center),E=this._getAnchor();Wn(this._container,g.add(E))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning)return void(this._autopanning=!1);var c=this._map,g=parseInt(Js(this._container,"marginBottom"),10)||0,E=this._container.offsetHeight+g,k=this._containerWidth,Y=new Me(this._containerLeft,-E-this._containerBottom);Y._add(rr(this._container));var le=c.layerPointToContainerPoint(Y),Ue=Se(this.options.autoPanPadding),tt=Se(this.options.autoPanPaddingTopLeft||Ue),at=Se(this.options.autoPanPaddingBottomRight||Ue),ct=c.getSize(),jt=0,bn=0;le.x+k+at.x>ct.x&&(jt=le.x+k-ct.x+at.x),le.x-jt-tt.x<0&&(jt=le.x-tt.x),le.y+E+at.y>ct.y&&(bn=le.y+E-ct.y+at.y),le.y-bn-tt.y<0&&(bn=le.y-tt.y),(jt||bn)&&(this.options.keepInView&&(this._autopanning=!0),c.fire("autopanstart").panBy([jt,bn]))}},_getAnchor:function(){return Se(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}});$t.mergeOptions({closePopupOnClick:!0}),$t.include({openPopup:function(c,g,E){return this._initOverlay(wn,c,g,E).openOn(this),this},closePopup:function(c){return(c=arguments.length?c:this._popup)&&c.close(),this}}),ea.include({bindPopup:function(c,g){return this._popup=this._initOverlay(wn,this._popup,c,g),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(c){return this._popup&&(this instanceof bi||(this._popup._source=this),this._popup._prepareOpen(c||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(c){return this._popup&&this._popup.setContent(c),this},getPopup:function(){return this._popup},_openPopup:function(c){if(this._popup&&this._map){Je(c);var g=c.layer||c.target;if(this._popup._source===g&&!(g instanceof cs))return void(this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(c.latlng));this._popup._source=g,this.openPopup(c.latlng)}},_movePopup:function(c){this._popup.setLatLng(c.latlng)},_onKeyPress:function(c){13===c.originalEvent.keyCode&&this._openPopup(c)}});var ss=os.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(c){os.prototype.onAdd.call(this,c),this.setOpacity(this.options.opacity),c.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(c){os.prototype.onRemove.call(this,c),c.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var c=os.prototype.getEvents.call(this);return this.options.permanent||(c.preclick=this.close),c},_initLayout:function(){this._contentNode=this._container=qn("div","leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide")),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+U(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(c){var g,E,k=this._map,Y=this._container,le=k.latLngToContainerPoint(k.getCenter()),Ue=k.layerPointToContainerPoint(c),tt=this.options.direction,at=Y.offsetWidth,ct=Y.offsetHeight,jt=Se(this.options.offset),bn=this._getAnchor();"top"===tt?(g=at/2,E=ct):"bottom"===tt?(g=at/2,E=0):"center"===tt?(g=at/2,E=ct/2):"right"===tt?(g=0,E=ct/2):"left"===tt?(g=at,E=ct/2):Ue.x<le.x?(tt="right",g=0,E=ct/2):(tt="left",g=at+2*(jt.x+bn.x),E=ct/2),c=c.subtract(Se(g,E,!0)).add(jt).add(bn),Vt(Y,"leaflet-tooltip-right"),Vt(Y,"leaflet-tooltip-left"),Vt(Y,"leaflet-tooltip-top"),Vt(Y,"leaflet-tooltip-bottom"),zt(Y,"leaflet-tooltip-"+tt),Wn(Y,c)},_updatePosition:function(){var c=this._map.latLngToLayerPoint(this._latlng);this._setPosition(c)},setOpacity:function(c){this.options.opacity=c,this._container&&nn(this._container,c)},_animateZoom:function(c){var g=this._map._latLngToNewLayerPoint(this._latlng,c.zoom,c.center);this._setPosition(g)},_getAnchor:function(){return Se(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}});$t.include({openTooltip:function(c,g,E){return this._initOverlay(ss,c,g,E).openOn(this),this},closeTooltip:function(c){return c.close(),this}}),ea.include({bindTooltip:function(c,g){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(ss,this._tooltip,c,g),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(c){if(c||!this._tooltipHandlersAdded){var g=c?"off":"on",E={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?E.add=this._openTooltip:(E.mouseover=this._openTooltip,E.mouseout=this.closeTooltip,E.click=this._openTooltip,this._map?this._addFocusListeners():E.add=this._addFocusListeners),this._tooltip.options.sticky&&(E.mousemove=this._moveTooltip),this[g](E),this._tooltipHandlersAdded=!c}},openTooltip:function(c){return this._tooltip&&(this instanceof bi||(this._tooltip._source=this),this._tooltip._prepareOpen(c)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(c){return this._tooltip&&this._tooltip.setContent(c),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(c){var g="function"==typeof c.getElement&&c.getElement();g&&(_n(g,"focus",function(){this._tooltip._source=c,this.openTooltip()},this),_n(g,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(c){var g="function"==typeof c.getElement&&c.getElement();g&&g.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(c){if(this._tooltip&&this._map){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var g=this;return void this._map.once("moveend",function(){g._openOnceFlag=!1,g._openTooltip(c)})}this._tooltip._source=c.layer||c.target,this.openTooltip(this._tooltip.options.sticky?c.latlng:void 0)}},_moveTooltip:function(c){var E,k,g=c.latlng;this._tooltip.options.sticky&&c.originalEvent&&(E=this._map.mouseEventToContainerPoint(c.originalEvent),k=this._map.containerPointToLayerPoint(E),g=this._map.layerPointToLatLng(k)),this._tooltip.setLatLng(g)}});var qo=Rn.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(c){var g=c&&"DIV"===c.tagName?c:document.createElement("div"),E=this.options;if(E.html instanceof Element?(Ba(g),g.appendChild(E.html)):g.innerHTML=!1!==E.html?E.html:"",E.bgPos){var k=Se(E.bgPos);g.style.backgroundPosition=-k.x+"px "+-k.y+"px"}return this._setIconStyles(g,"icon"),g},createShadow:function(){return null}});Rn.Default=Es;var gi=ea.extend({options:{tileSize:256,opacity:1,updateWhenIdle:rn.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(c){_e(this,c)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(c){c._addZoomLimit(this)},onRemove:function(c){this._removeAllTiles(),Cn(this._container),c._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Do(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(oa(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(c){return this.options.opacity=c,this._updateOpacity(),this},setZIndex:function(c){return this.options.zIndex=c,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var c=this._clampZoom(this._map.getZoom());c!==this._tileZoom&&(this._tileZoom=c,this._updateLevels()),this._update()}return this},getEvents:function(){var c={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=$(this._onMoveEnd,this.options.updateInterval,this)),c.move=this._onMove),this._zoomAnimated&&(c.zoomanim=this._animateZoom),c},createTile:function(){return document.createElement("div")},getTileSize:function(){var c=this.options.tileSize;return c instanceof Me?c:new Me(c,c)},_updateZIndex:function(){this._container&&null!=this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(c){for(var le,g=this.getPane().children,E=-c(-1/0,1/0),k=0,Y=g.length;k<Y;k++)le=g[k].style.zIndex,g[k]!==this._container&&le&&(E=c(E,+le));isFinite(E)&&(this.options.zIndex=E+c(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!rn.ielt9){nn(this._container,this.options.opacity);var c=+new Date,g=!1,E=!1;for(var k in this._tiles){var Y=this._tiles[k];if(Y.current&&Y.loaded){var le=Math.min(1,(c-Y.loaded)/200);nn(Y.el,le),le<1?g=!0:(Y.active?E=!0:this._onOpaqueTile(Y),Y.active=!0)}}E&&!this._noPrune&&this._pruneTiles(),g&&(ge(this._fadeFrame),this._fadeFrame=De(this._updateOpacity,this))}},_onOpaqueTile:ve,_initContainer:function(){this._container||(this._container=qn("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var c=this._tileZoom,g=this.options.maxZoom;if(void 0!==c){for(var E in this._levels)E=Number(E),this._levels[E].el.children.length||E===c?(this._levels[E].el.style.zIndex=g-Math.abs(c-E),this._onUpdateLevel(E)):(Cn(this._levels[E].el),this._removeTilesAtZoom(E),this._onRemoveLevel(E),delete this._levels[E]);var k=this._levels[c],Y=this._map;return k||((k=this._levels[c]={}).el=qn("div","leaflet-tile-container leaflet-zoom-animated",this._container),k.el.style.zIndex=g,k.origin=Y.project(Y.unproject(Y.getPixelOrigin()),c).round(),k.zoom=c,this._setZoomTransform(k,Y.getCenter(),Y.getZoom()),this._onCreateLevel(k)),this._level=k,k}},_onUpdateLevel:ve,_onRemoveLevel:ve,_onCreateLevel:ve,_pruneTiles:function(){if(this._map){var c,g,E=this._map.getZoom();if(E>this.options.maxZoom||E<this.options.minZoom)return void this._removeAllTiles();for(c in this._tiles)(g=this._tiles[c]).retain=g.current;for(c in this._tiles)if((g=this._tiles[c]).current&&!g.active){var k=g.coords;this._retainParent(k.x,k.y,k.z,k.z-5)||this._retainChildren(k.x,k.y,k.z,k.z+2)}for(c in this._tiles)this._tiles[c].retain||this._removeTile(c)}},_removeTilesAtZoom:function(c){for(var g in this._tiles)this._tiles[g].coords.z===c&&this._removeTile(g)},_removeAllTiles:function(){for(var c in this._tiles)this._removeTile(c)},_invalidateAll:function(){for(var c in this._levels)Cn(this._levels[c].el),this._onRemoveLevel(Number(c)),delete this._levels[c];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(c,g,E,k){var Y=Math.floor(c/2),le=Math.floor(g/2),Ue=E-1,tt=new Me(+Y,+le);tt.z=+Ue;var at=this._tileCoordsToKey(tt),ct=this._tiles[at];return ct&&ct.active?(ct.retain=!0,!0):(ct&&ct.loaded&&(ct.retain=!0),Ue>k&&this._retainParent(Y,le,Ue,k))},_retainChildren:function(c,g,E,k){for(var Y=2*c;Y<2*c+2;Y++)for(var le=2*g;le<2*g+2;le++){var Ue=new Me(Y,le);Ue.z=E+1;var tt=this._tileCoordsToKey(Ue),at=this._tiles[tt];at&&at.active?at.retain=!0:(at&&at.loaded&&(at.retain=!0),E+1<k&&this._retainChildren(Y,le,E+1,k))}},_resetView:function(c){var g=c&&(c.pinch||c.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),g,g)},_animateZoom:function(c){this._setView(c.center,c.zoom,!0,c.noUpdate)},_clampZoom:function(c){var g=this.options;return void 0!==g.minNativeZoom&&c<g.minNativeZoom?g.minNativeZoom:void 0!==g.maxNativeZoom&&g.maxNativeZoom<c?g.maxNativeZoom:c},_setView:function(c,g,E,k){var Y=Math.round(g);Y=void 0!==this.options.maxZoom&&Y>this.options.maxZoom||void 0!==this.options.minZoom&&Y<this.options.minZoom?void 0:this._clampZoom(Y),(!k||this.options.updateWhenZooming&&Y!==this._tileZoom)&&(this._tileZoom=Y,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==Y&&this._update(c),E||this._pruneTiles(),this._noPrune=!!E),this._setZoomTransforms(c,g)},_setZoomTransforms:function(c,g){for(var E in this._levels)this._setZoomTransform(this._levels[E],c,g)},_setZoomTransform:function(c,g,E){var k=this._map.getZoomScale(E,c.zoom),Y=c.origin.multiplyBy(k).subtract(this._map._getNewPixelOrigin(g,E)).round();rn.any3d?$n(c.el,Y,k):Wn(c.el,Y)},_resetGrid:function(){var c=this._map,g=c.options.crs,E=this._tileSize=this.getTileSize(),k=this._tileZoom,Y=this._map.getPixelWorldBounds(this._tileZoom);Y&&(this._globalTileRange=this._pxBoundsToTileRange(Y)),this._wrapX=g.wrapLng&&!this.options.noWrap&&[Math.floor(c.project([0,g.wrapLng[0]],k).x/E.x),Math.ceil(c.project([0,g.wrapLng[1]],k).x/E.y)],this._wrapY=g.wrapLat&&!this.options.noWrap&&[Math.floor(c.project([g.wrapLat[0],0],k).y/E.x),Math.ceil(c.project([g.wrapLat[1],0],k).y/E.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(c){var g=this._map,E=g._animatingZoom?Math.max(g._animateToZoom,g.getZoom()):g.getZoom(),k=g.getZoomScale(E,this._tileZoom),Y=g.project(c,this._tileZoom).floor(),le=g.getSize().divideBy(2*k);return new Fe(Y.subtract(le),Y.add(le))},_update:function(c){var g=this._map;if(g){var E=this._clampZoom(g.getZoom());if(void 0===c&&(c=g.getCenter()),void 0!==this._tileZoom){var k=this._getTiledPixelBounds(c),Y=this._pxBoundsToTileRange(k),le=Y.getCenter(),Ue=[],tt=this.options.keepBuffer,at=new Fe(Y.getBottomLeft().subtract([tt,-tt]),Y.getTopRight().add([tt,-tt]));if(!(isFinite(Y.min.x)&&isFinite(Y.min.y)&&isFinite(Y.max.x)&&isFinite(Y.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var ct in this._tiles){var jt=this._tiles[ct].coords;(jt.z!==this._tileZoom||!at.contains(new Me(jt.x,jt.y)))&&(this._tiles[ct].current=!1)}if(Math.abs(E-this._tileZoom)>1)return void this._setView(c,E);for(var bn=Y.min.y;bn<=Y.max.y;bn++)for(var Vn=Y.min.x;Vn<=Y.max.x;Vn++){var Pi=new Me(Vn,bn);if(Pi.z=this._tileZoom,this._isValidTile(Pi)){var Ti=this._tiles[this._tileCoordsToKey(Pi)];Ti?Ti.current=!0:Ue.push(Pi)}}if(Ue.sort(function(ao,ki){return ao.distanceTo(le)-ki.distanceTo(le)}),0!==Ue.length){this._loading||(this._loading=!0,this.fire("loading"));var qi=document.createDocumentFragment();for(Vn=0;Vn<Ue.length;Vn++)this._addTile(Ue[Vn],qi);this._level.el.appendChild(qi)}}}},_isValidTile:function(c){var g=this._map.options.crs;if(!g.infinite){var E=this._globalTileRange;if(!g.wrapLng&&(c.x<E.min.x||c.x>E.max.x)||!g.wrapLat&&(c.y<E.min.y||c.y>E.max.y))return!1}if(!this.options.bounds)return!0;var k=this._tileCoordsToBounds(c);return qe(this.options.bounds).overlaps(k)},_keyToBounds:function(c){return this._tileCoordsToBounds(this._keyToTileCoords(c))},_tileCoordsToNwSe:function(c){var g=this._map,E=this.getTileSize(),k=c.scaleBy(E),Y=k.add(E);return[g.unproject(k,c.z),g.unproject(Y,c.z)]},_tileCoordsToBounds:function(c){var g=this._tileCoordsToNwSe(c),E=new rt(g[0],g[1]);return this.options.noWrap||(E=this._map.wrapLatLngBounds(E)),E},_tileCoordsToKey:function(c){return c.x+":"+c.y+":"+c.z},_keyToTileCoords:function(c){var g=c.split(":"),E=new Me(+g[0],+g[1]);return E.z=+g[2],E},_removeTile:function(c){var g=this._tiles[c];g&&(Cn(g.el),delete this._tiles[c],this.fire("tileunload",{tile:g.el,coords:this._keyToTileCoords(c)}))},_initTile:function(c){zt(c,"leaflet-tile");var g=this.getTileSize();c.style.width=g.x+"px",c.style.height=g.y+"px",c.onselectstart=ve,c.onmousemove=ve,rn.ielt9&&this.options.opacity<1&&nn(c,this.options.opacity)},_addTile:function(c,g){var E=this._getTilePos(c),k=this._tileCoordsToKey(c),Y=this.createTile(this._wrapCoords(c),I(this._tileReady,this,c));this._initTile(Y),this.createTile.length<2&&De(I(this._tileReady,this,c,null,Y)),Wn(Y,E),this._tiles[k]={el:Y,coords:c,current:!0},g.appendChild(Y),this.fire("tileloadstart",{tile:Y,coords:c})},_tileReady:function(c,g,E){g&&this.fire("tileerror",{error:g,tile:E,coords:c});var k=this._tileCoordsToKey(c);(E=this._tiles[k])&&(E.loaded=+new Date,this._map._fadeAnimated?(nn(E.el,0),ge(this._fadeFrame),this._fadeFrame=De(this._updateOpacity,this)):(E.active=!0,this._pruneTiles()),g||(zt(E.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:E.el,coords:c})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),rn.ielt9||!this._map._fadeAnimated?De(this._pruneTiles,this):setTimeout(I(this._pruneTiles,this),250)))},_getTilePos:function(c){return c.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(c){var g=new Me(this._wrapX?ne(c.x,this._wrapX):c.x,this._wrapY?ne(c.y,this._wrapY):c.y);return g.z=c.z,g},_pxBoundsToTileRange:function(c){var g=this.getTileSize();return new Fe(c.min.unscaleBy(g).floor(),c.max.unscaleBy(g).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var c in this._tiles)if(!this._tiles[c].loaded)return!1;return!0}});var Us=gi.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(c,g){this._url=c,(g=_e(this,g)).detectRetina&&rn.retina&&g.maxZoom>0?(g.tileSize=Math.floor(g.tileSize/2),g.zoomReverse?(g.zoomOffset--,g.minZoom=Math.min(g.maxZoom,g.minZoom+1)):(g.zoomOffset++,g.maxZoom=Math.max(g.minZoom,g.maxZoom-1)),g.minZoom=Math.max(0,g.minZoom)):g.zoomReverse?g.minZoom=Math.min(g.maxZoom,g.minZoom):g.maxZoom=Math.max(g.minZoom,g.maxZoom),"string"==typeof g.subdomains&&(g.subdomains=g.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(c,g){return this._url===c&&void 0===g&&(g=!0),this._url=c,g||this.redraw(),this},createTile:function(c,g){var E=document.createElement("img");return _n(E,"load",I(this._tileOnLoad,this,g,E)),_n(E,"error",I(this._tileOnError,this,g,E)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(E.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),"string"==typeof this.options.referrerPolicy&&(E.referrerPolicy=this.options.referrerPolicy),E.alt="",E.src=this.getTileUrl(c),E},getTileUrl:function(c){var g={r:rn.retina?"@2x":"",s:this._getSubdomain(c),x:c.x,y:c.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var E=this._globalTileRange.max.y-c.y;this.options.tms&&(g.y=E),g["-y"]=E}return he(this._url,w(g,this.options))},_tileOnLoad:function(c,g){rn.ielt9?setTimeout(I(c,this,null,g),0):c(null,g)},_tileOnError:function(c,g,E){var k=this.options.errorTileUrl;k&&g.getAttribute("src")!==k&&(g.src=k),c(E,g)},_onTileRemove:function(c){c.tile.onload=null},_getZoomForUrl:function(){var c=this._tileZoom;return this.options.zoomReverse&&(c=this.options.maxZoom-c),c+this.options.zoomOffset},_getSubdomain:function(c){var g=Math.abs(c.x+c.y)%this.options.subdomains.length;return this.options.subdomains[g]},_abortLoading:function(){var c,g;for(c in this._tiles)if(this._tiles[c].coords.z!==this._tileZoom&&((g=this._tiles[c].el).onload=ve,g.onerror=ve,!g.complete)){g.src=V;var E=this._tiles[c].coords;Cn(g),delete this._tiles[c],this.fire("tileabort",{tile:g,coords:E})}},_removeTile:function(c){var g=this._tiles[c];if(g)return g.el.setAttribute("src",V),gi.prototype._removeTile.call(this,c)},_tileReady:function(c,g,E){if(this._map&&(!E||E.getAttribute("src")!==V))return gi.prototype._tileReady.call(this,c,g,E)}});function Qr(c,g){return new Us(c,g)}var fu=Us.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(c,g){this._url=c;var E=w({},this.defaultWmsParams);for(var k in g)k in this.options||(E[k]=g[k]);var Y=(g=_e(this,g)).detectRetina&&rn.retina?2:1,le=this.getTileSize();E.width=le.x*Y,E.height=le.y*Y,this.wmsParams=E},onAdd:function(c){this._crs=this.options.crs||c.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version),this.wmsParams[this._wmsVersion>=1.3?"crs":"srs"]=this._crs.code,Us.prototype.onAdd.call(this,c)},getTileUrl:function(c){var g=this._tileCoordsToNwSe(c),E=this._crs,k=me(E.project(g[0]),E.project(g[1])),Y=k.min,le=k.max,Ue=(this._wmsVersion>=1.3&&this._crs===xo?[Y.y,Y.x,le.y,le.x]:[Y.x,Y.y,le.x,le.y]).join(","),tt=Us.prototype.getTileUrl.call(this,c);return tt+Oe(this.wmsParams,tt,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+Ue},setParams:function(c,g){return w(this.wmsParams,c),g||this.redraw(),this}});Us.WMS=fu,Qr.wms=function Hs(c,g){return new fu(c,g)};var ei=ea.extend({options:{padding:.1},initialize:function(c){_e(this,c),U(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),zt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var c={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(c.zoomanim=this._onAnimZoom),c},_onAnimZoom:function(c){this._updateTransform(c.center,c.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(c,g){var E=this._map.getZoomScale(g,this._zoom),k=this._map.getSize().multiplyBy(.5+this.options.padding),Y=this._map.project(this._center,g),le=k.multiplyBy(-E).add(Y).subtract(this._map._getNewPixelOrigin(c,g));rn.any3d?$n(this._container,le,E):Wn(this._container,le)},_reset:function(){for(var c in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[c]._reset()},_onZoomEnd:function(){for(var c in this._layers)this._layers[c]._project()},_updatePaths:function(){for(var c in this._layers)this._layers[c]._update()},_update:function(){var c=this.options.padding,g=this._map.getSize(),E=this._map.containerPointToLayerPoint(g.multiplyBy(-c)).round();this._bounds=new Fe(E,E.add(g.multiplyBy(1+2*c)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Ms=ei.extend({options:{tolerance:0},getEvents:function(){var c=ei.prototype.getEvents.call(this);return c.viewprereset=this._onViewPreReset,c},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){ei.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var c=this._container=document.createElement("canvas");_n(c,"mousemove",this._onMouseMove,this),_n(c,"click dblclick mousedown mouseup contextmenu",this._onClick,this),_n(c,"mouseout",this._handleMouseOut,this),c._leaflet_disable_events=!0,this._ctx=c.getContext("2d")},_destroyContainer:function(){ge(this._redrawRequest),delete this._ctx,Cn(this._container),v(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var g in this._redrawBounds=null,this._layers)this._layers[g]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){ei.prototype._update.call(this);var c=this._bounds,g=this._container,E=c.getSize(),k=rn.retina?2:1;Wn(g,c.min),g.width=k*E.x,g.height=k*E.y,g.style.width=E.x+"px",g.style.height=E.y+"px",rn.retina&&this._ctx.scale(2,2),this._ctx.translate(-c.min.x,-c.min.y),this.fire("update")}},_reset:function(){ei.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(c){this._updateDashArray(c),this._layers[U(c)]=c;var g=c._order={layer:c,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=g),this._drawLast=g,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(c){this._requestRedraw(c)},_removePath:function(c){var g=c._order,E=g.next,k=g.prev;E?E.prev=k:this._drawLast=k,k?k.next=E:this._drawFirst=E,delete c._order,delete this._layers[U(c)],this._requestRedraw(c)},_updatePath:function(c){this._extendRedrawBounds(c),c._project(),c._update(),this._requestRedraw(c)},_updateStyle:function(c){this._updateDashArray(c),this._requestRedraw(c)},_updateDashArray:function(c){if("string"==typeof c.options.dashArray){var k,Y,g=c.options.dashArray.split(/[, ]+/),E=[];for(Y=0;Y<g.length;Y++){if(k=Number(g[Y]),isNaN(k))return;E.push(k)}c.options._dashArray=E}else c.options._dashArray=c.options.dashArray},_requestRedraw:function(c){this._map&&(this._extendRedrawBounds(c),this._redrawRequest=this._redrawRequest||De(this._redraw,this))},_extendRedrawBounds:function(c){if(c._pxBounds){var g=(c.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Fe,this._redrawBounds.extend(c._pxBounds.min.subtract([g,g])),this._redrawBounds.extend(c._pxBounds.max.add([g,g]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var c=this._redrawBounds;if(c){var g=c.getSize();this._ctx.clearRect(c.min.x,c.min.y,g.x,g.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var c,g=this._redrawBounds;if(this._ctx.save(),g){var E=g.getSize();this._ctx.beginPath(),this._ctx.rect(g.min.x,g.min.y,E.x,E.y),this._ctx.clip()}this._drawing=!0;for(var k=this._drawFirst;k;k=k.next)c=k.layer,(!g||c._pxBounds&&c._pxBounds.intersects(g))&&c._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(c,g){if(this._drawing){var E,k,Y,le,Ue=c._parts,tt=Ue.length,at=this._ctx;if(tt){for(at.beginPath(),E=0;E<tt;E++){for(k=0,Y=Ue[E].length;k<Y;k++)at[k?"lineTo":"moveTo"]((le=Ue[E][k]).x,le.y);g&&at.closePath()}this._fillStroke(at,c)}}},_updateCircle:function(c){if(this._drawing&&!c._empty()){var g=c._point,E=this._ctx,k=Math.max(Math.round(c._radius),1),Y=(Math.max(Math.round(c._radiusY),1)||k)/k;1!==Y&&(E.save(),E.scale(1,Y)),E.beginPath(),E.arc(g.x,g.y/Y,k,0,2*Math.PI,!1),1!==Y&&E.restore(),this._fillStroke(E,c)}},_fillStroke:function(c,g){var E=g.options;E.fill&&(c.globalAlpha=E.fillOpacity,c.fillStyle=E.fillColor||E.color,c.fill(E.fillRule||"evenodd")),E.stroke&&0!==E.weight&&(c.setLineDash&&c.setLineDash(g.options&&g.options._dashArray||[]),c.globalAlpha=E.opacity,c.lineWidth=E.weight,c.strokeStyle=E.color,c.lineCap=E.lineCap,c.lineJoin=E.lineJoin,c.stroke())},_onClick:function(c){for(var E,k,g=this._map.mouseEventToLayerPoint(c),Y=this._drawFirst;Y;Y=Y.next)(E=Y.layer).options.interactive&&E._containsPoint(g)&&("click"!==c.type&&"preclick"!==c.type||!this._map._draggableMoved(E))&&(k=E);this._fireEvent(!!k&&[k],c)},_onMouseMove:function(c){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var g=this._map.mouseEventToLayerPoint(c);this._handleMouseHover(c,g)}},_handleMouseOut:function(c){var g=this._hoveredLayer;g&&(Vt(this._container,"leaflet-interactive"),this._fireEvent([g],c,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(c,g){if(!this._mouseHoverThrottled){for(var E,k,Y=this._drawFirst;Y;Y=Y.next)(E=Y.layer).options.interactive&&E._containsPoint(g)&&(k=E);k!==this._hoveredLayer&&(this._handleMouseOut(c),k&&(zt(this._container,"leaflet-interactive"),this._fireEvent([k],c,"mouseover"),this._hoveredLayer=k)),this._fireEvent(!!this._hoveredLayer&&[this._hoveredLayer],c),this._mouseHoverThrottled=!0,setTimeout(I(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(c,g,E){this._map._fireDOMEvent(g,E||g.type,c)},_bringToFront:function(c){var g=c._order;if(g){var E=g.next,k=g.prev;if(!E)return;E.prev=k,k?k.next=E:E&&(this._drawFirst=E),g.prev=this._drawLast,this._drawLast.next=g,g.next=null,this._drawLast=g,this._requestRedraw(c)}},_bringToBack:function(c){var g=c._order;if(g){var E=g.next,k=g.prev;if(!k)return;k.next=E,E?E.prev=k:k&&(this._drawLast=k),g.prev=null,g.next=this._drawFirst,this._drawFirst.prev=g,this._drawFirst=g,this._requestRedraw(c)}}});function Ha(c){return rn.canvas?new Ms(c):null}var hi=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(c){return document.createElement("<lvml:"+c+' class="lvml">')}}catch{}return function(c){return document.createElement("<"+c+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Ut={_initContainer:function(){this._container=qn("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(ei.prototype._update.call(this),this.fire("update"))},_initPath:function(c){var g=c._container=hi("shape");zt(g,"leaflet-vml-shape "+(this.options.className||"")),g.coordsize="1 1",c._path=hi("path"),g.appendChild(c._path),this._updateStyle(c),this._layers[U(c)]=c},_addPath:function(c){var g=c._container;this._container.appendChild(g),c.options.interactive&&c.addInteractiveTarget(g)},_removePath:function(c){var g=c._container;Cn(g),c.removeInteractiveTarget(g),delete this._layers[U(c)]},_updateStyle:function(c){var g=c._stroke,E=c._fill,k=c.options,Y=c._container;Y.stroked=!!k.stroke,Y.filled=!!k.fill,k.stroke?(g||(g=c._stroke=hi("stroke")),Y.appendChild(g),g.weight=k.weight+"px",g.color=k.color,g.opacity=k.opacity,g.dashStyle=k.dashArray?z(k.dashArray)?k.dashArray.join(" "):k.dashArray.replace(/( *, *)/g," "):"",g.endcap=k.lineCap.replace("butt","flat"),g.joinstyle=k.lineJoin):g&&(Y.removeChild(g),c._stroke=null),k.fill?(E||(E=c._fill=hi("fill")),Y.appendChild(E),E.color=k.fillColor||k.color,E.opacity=k.fillOpacity):E&&(Y.removeChild(E),c._fill=null)},_updateCircle:function(c){var g=c._point.round(),E=Math.round(c._radius),k=Math.round(c._radiusY||E);this._setPath(c,c._empty()?"M0 0":"AL "+g.x+","+g.y+" "+E+","+k+" 0,23592600")},_setPath:function(c,g){c._path.v=g},_bringToFront:function(c){Do(c._container)},_bringToBack:function(c){oa(c._container)}},En=rn.vml?hi:jr,Hn=ei.extend({_initContainer:function(){this._container=En("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=En("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Cn(this._container),v(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!this._map._animatingZoom||!this._bounds){ei.prototype._update.call(this);var c=this._bounds,g=c.getSize(),E=this._container;(!this._svgSize||!this._svgSize.equals(g))&&(this._svgSize=g,E.setAttribute("width",g.x),E.setAttribute("height",g.y)),Wn(E,c.min),E.setAttribute("viewBox",[c.min.x,c.min.y,g.x,g.y].join(" ")),this.fire("update")}},_initPath:function(c){var g=c._path=En("path");c.options.className&&zt(g,c.options.className),c.options.interactive&&zt(g,"leaflet-interactive"),this._updateStyle(c),this._layers[U(c)]=c},_addPath:function(c){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(c._path),c.addInteractiveTarget(c._path)},_removePath:function(c){Cn(c._path),c.removeInteractiveTarget(c._path),delete this._layers[U(c)]},_updatePath:function(c){c._project(),c._update()},_updateStyle:function(c){var g=c._path,E=c.options;g&&(E.stroke?(g.setAttribute("stroke",E.color),g.setAttribute("stroke-opacity",E.opacity),g.setAttribute("stroke-width",E.weight),g.setAttribute("stroke-linecap",E.lineCap),g.setAttribute("stroke-linejoin",E.lineJoin),E.dashArray?g.setAttribute("stroke-dasharray",E.dashArray):g.removeAttribute("stroke-dasharray"),E.dashOffset?g.setAttribute("stroke-dashoffset",E.dashOffset):g.removeAttribute("stroke-dashoffset")):g.setAttribute("stroke","none"),E.fill?(g.setAttribute("fill",E.fillColor||E.color),g.setAttribute("fill-opacity",E.fillOpacity),g.setAttribute("fill-rule",E.fillRule||"evenodd")):g.setAttribute("fill","none"))},_updatePoly:function(c,g){this._setPath(c,Jt(c._parts,g))},_updateCircle:function(c){var g=c._point,E=Math.max(Math.round(c._radius),1),Y="a"+E+","+(Math.max(Math.round(c._radiusY),1)||E)+" 0 1,0 ",le=c._empty()?"M0 0":"M"+(g.x-E)+","+g.y+Y+2*E+",0 "+Y+2*-E+",0 ";this._setPath(c,le)},_setPath:function(c,g){c._path.setAttribute("d",g)},_bringToFront:function(c){Do(c._path)},_bringToBack:function(c){oa(c._path)}});function so(c){return rn.svg||rn.vml?new Hn(c):null}rn.vml&&Hn.include(Ut),$t.include({getRenderer:function(c){var g=c.options.renderer||this._getPaneRenderer(c.options.pane)||this.options.renderer||this._renderer;return g||(g=this._renderer=this._createRenderer()),this.hasLayer(g)||this.addLayer(g),g},_getPaneRenderer:function(c){if("overlayPane"===c||void 0===c)return!1;var g=this._paneRenderers[c];return void 0===g&&(g=this._createRenderer({pane:c}),this._paneRenderers[c]=g),g},_createRenderer:function(c){return this.options.preferCanvas&&Ha(c)||so(c)}});var li=ca.extend({initialize:function(c,g){ca.prototype.initialize.call(this,this._boundsToLatLngs(c),g)},setBounds:function(c){return this.setLatLngs(this._boundsToLatLngs(c))},_boundsToLatLngs:function(c){return[(c=qe(c)).getSouthWest(),c.getNorthWest(),c.getNorthEast(),c.getSouthEast()]}});Hn.create=En,Hn.pointsToPath=Jt,La.geometryToLayer=zl,La.coordsToLatLng=zs,La.coordsToLatLngs=Kr,La.latLngToCoords=cl,La.latLngsToCoords=oo,La.getFeature=is,La.asFeature=da,$t.mergeOptions({boxZoom:!0});var hl=qt.extend({initialize:function(c){this._map=c,this._container=c._container,this._pane=c._panes.overlayPane,this._resetStateTimeout=0,c.on("unload",this._destroy,this)},addHooks:function(){_n(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){v(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Cn(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(c){if(!c.shiftKey||1!==c.which&&1!==c.button)return!1;this._clearDeferredResetState(),this._resetState(),aa(),wo(),this._startPoint=this._map.mouseEventToContainerPoint(c),_n(document,{contextmenu:Je,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(c){this._moved||(this._moved=!0,this._box=qn("div","leaflet-zoom-box",this._container),zt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(c);var g=new Fe(this._point,this._startPoint),E=g.getSize();Wn(this._box,g.min),this._box.style.width=E.x+"px",this._box.style.height=E.y+"px"},_finish:function(){this._moved&&(Cn(this._box),Vt(this._container,"leaflet-crosshair")),ol(),es(),v(document,{contextmenu:Je,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(c){if((1===c.which||1===c.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(I(this._resetState,this),0);var g=new rt(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(g).fire("boxzoomend",{boxZoomBounds:g})}},_onKeyDown:function(c){27===c.keyCode&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});$t.addInitHook("addHandler","boxZoom",hl),$t.mergeOptions({doubleClickZoom:!0});var ir=qt.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(c){var g=this._map,E=g.getZoom(),k=g.options.zoomDelta,Y=c.originalEvent.shiftKey?E-k:E+k;"center"===g.options.doubleClickZoom?g.setZoom(Y):g.setZoomAround(c.containerPoint,Y)}});$t.addInitHook("addHandler","doubleClickZoom",ir),$t.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var ds=qt.extend({addHooks:function(){if(!this._draggable){var c=this._map;this._draggable=new Ui(c._mapPane,c._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),c.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),c.on("zoomend",this._onZoomEnd,this),c.whenReady(this._onZoomEnd,this))}zt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Vt(this._map._container,"leaflet-grab"),Vt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var c=this._map;if(c._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var g=qe(this._map.options.maxBounds);this._offsetLimit=me(this._map.latLngToContainerPoint(g.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(g.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;c.fire("movestart").fire("dragstart"),c.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(c){if(this._map.options.inertia){var g=this._lastTime=+new Date,E=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(E),this._times.push(g),this._prunePositions(g)}this._map.fire("move",c).fire("drag",c)},_prunePositions:function(c){for(;this._positions.length>1&&c-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var c=this._map.getSize().divideBy(2),g=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=g.subtract(c).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(c,g){return c-(c-g)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var c=this._draggable._newPos.subtract(this._draggable._startPos),g=this._offsetLimit;c.x<g.min.x&&(c.x=this._viscousLimit(c.x,g.min.x)),c.y<g.min.y&&(c.y=this._viscousLimit(c.y,g.min.y)),c.x>g.max.x&&(c.x=this._viscousLimit(c.x,g.max.x)),c.y>g.max.y&&(c.y=this._viscousLimit(c.y,g.max.y)),this._draggable._newPos=this._draggable._startPos.add(c)}},_onPreDragWrap:function(){var c=this._worldWidth,g=Math.round(c/2),E=this._initialWorldOffset,k=this._draggable._newPos.x,Y=(k-g+E)%c+g-E,le=(k+g+E)%c-g-E,Ue=Math.abs(Y+E)<Math.abs(le+E)?Y:le;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=Ue},_onDragEnd:function(c){var g=this._map,E=g.options,k=!E.inertia||c.noInertia||this._times.length<2;if(g.fire("dragend",c),k)g.fire("moveend");else{this._prunePositions(+new Date);var Y=this._lastPos.subtract(this._positions[0]),Ue=E.easeLinearity,tt=Y.multiplyBy(Ue/((this._lastTime-this._times[0])/1e3)),at=tt.distanceTo([0,0]),ct=Math.min(E.inertiaMaxSpeed,at),jt=tt.multiplyBy(ct/at),bn=ct/(E.inertiaDeceleration*Ue),Vn=jt.multiplyBy(-bn/2).round();Vn.x||Vn.y?(Vn=g._limitOffset(Vn,g.options.maxBounds),De(function(){g.panBy(Vn,{duration:bn,easeLinearity:Ue,noMoveStart:!0,animate:!0})})):g.fire("moveend")}}});$t.addInitHook("addHandler","dragging",ds),$t.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Pa=qt.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(c){this._map=c,this._setPanDelta(c.options.keyboardPanDelta),this._setZoomDelta(c.options.zoomDelta)},addHooks:function(){var c=this._map._container;c.tabIndex<=0&&(c.tabIndex="0"),_n(c,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),v(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var c=document.body,g=document.documentElement,E=c.scrollTop||g.scrollTop,k=c.scrollLeft||g.scrollLeft;this._map._container.focus(),window.scrollTo(k,E)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(c){var k,Y,g=this._panKeys={},E=this.keyCodes;for(k=0,Y=E.left.length;k<Y;k++)g[E.left[k]]=[-1*c,0];for(k=0,Y=E.right.length;k<Y;k++)g[E.right[k]]=[c,0];for(k=0,Y=E.down.length;k<Y;k++)g[E.down[k]]=[0,c];for(k=0,Y=E.up.length;k<Y;k++)g[E.up[k]]=[0,-1*c]},_setZoomDelta:function(c){var k,Y,g=this._zoomKeys={},E=this.keyCodes;for(k=0,Y=E.zoomIn.length;k<Y;k++)g[E.zoomIn[k]]=c;for(k=0,Y=E.zoomOut.length;k<Y;k++)g[E.zoomOut[k]]=-c},_addHooks:function(){_n(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){v(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(c){if(!(c.altKey||c.ctrlKey||c.metaKey)){var k,g=c.keyCode,E=this._map;if(g in this._panKeys){if(!E._panAnim||!E._panAnim._inProgress)if(k=this._panKeys[g],c.shiftKey&&(k=Se(k).multiplyBy(3)),E.options.maxBounds&&(k=E._limitOffset(Se(k),E.options.maxBounds)),E.options.worldCopyJump){var Y=E.wrapLatLng(E.unproject(E.project(E.getCenter()).add(k)));E.panTo(Y)}else E.panBy(k)}else if(g in this._zoomKeys)E.setZoom(E.getZoom()+(c.shiftKey?3:1)*this._zoomKeys[g]);else{if(27!==g||!E._popup||!E._popup.options.closeOnEscapeKey)return;E.closePopup()}Je(c)}}});$t.addInitHook("addHandler","keyboard",Pa),$t.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Ln=qt.extend({addHooks:function(){_n(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){v(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(c){var g=Lt(c),E=this._map.options.wheelDebounceTime;this._delta+=g,this._lastMousePos=this._map.mouseEventToContainerPoint(c),this._startTime||(this._startTime=+new Date);var k=Math.max(E-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(I(this._performZoom,this),k),Je(c)},_performZoom:function(){var c=this._map,g=c.getZoom(),E=this._map.options.zoomSnap||0;c._stop();var Y=4*Math.log(2/(1+Math.exp(-Math.abs(this._delta/(4*this._map.options.wheelPxPerZoomLevel)))))/Math.LN2,le=E?Math.ceil(Y/E)*E:Y,Ue=c._limitZoom(g+(this._delta>0?le:-le))-g;this._delta=0,this._startTime=null,Ue&&("center"===c.options.scrollWheelZoom?c.setZoom(g+Ue):c.setZoomAround(this._lastMousePos,g+Ue))}});$t.addInitHook("addHandler","scrollWheelZoom",Ln);$t.mergeOptions({tapHold:rn.touchNative&&rn.safari&&rn.mobile,tapTolerance:15});var Zi=qt.extend({addHooks:function(){_n(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){v(this._map._container,"touchstart",this._onDown,this)},_onDown:function(c){if(clearTimeout(this._holdTimeout),1===c.touches.length){var g=c.touches[0];this._startPos=this._newPos=new Me(g.clientX,g.clientY),this._holdTimeout=setTimeout(I(function(){this._cancel(),this._isTapValid()&&(_n(document,"touchend",ze),_n(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",g))},this),600),_n(document,"touchend touchcancel contextmenu",this._cancel,this),_n(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function c(){v(document,"touchend",ze),v(document,"touchend touchcancel",c)},_cancel:function(){clearTimeout(this._holdTimeout),v(document,"touchend touchcancel contextmenu",this._cancel,this),v(document,"touchmove",this._onMove,this)},_onMove:function(c){var g=c.touches[0];this._newPos=new Me(g.clientX,g.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(c,g){var E=new MouseEvent(c,{bubbles:!0,cancelable:!0,view:window,screenX:g.screenX,screenY:g.screenY,clientX:g.clientX,clientY:g.clientY});E._simulated=!0,g.target.dispatchEvent(E)}});$t.addInitHook("addHandler","tapHold",Zi),$t.mergeOptions({touchZoom:rn.touch,bounceAtZoomLimits:!0});var Gi=qt.extend({addHooks:function(){zt(this._map._container,"leaflet-touch-zoom"),_n(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Vt(this._map._container,"leaflet-touch-zoom"),v(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(c){var g=this._map;if(c.touches&&2===c.touches.length&&!g._animatingZoom&&!this._zooming){var E=g.mouseEventToContainerPoint(c.touches[0]),k=g.mouseEventToContainerPoint(c.touches[1]);this._centerPoint=g.getSize()._divideBy(2),this._startLatLng=g.containerPointToLatLng(this._centerPoint),"center"!==g.options.touchZoom&&(this._pinchStartLatLng=g.containerPointToLatLng(E.add(k)._divideBy(2))),this._startDist=E.distanceTo(k),this._startZoom=g.getZoom(),this._moved=!1,this._zooming=!0,g._stop(),_n(document,"touchmove",this._onTouchMove,this),_n(document,"touchend touchcancel",this._onTouchEnd,this),ze(c)}},_onTouchMove:function(c){if(c.touches&&2===c.touches.length&&this._zooming){var g=this._map,E=g.mouseEventToContainerPoint(c.touches[0]),k=g.mouseEventToContainerPoint(c.touches[1]),Y=E.distanceTo(k)/this._startDist;if(this._zoom=g.getScaleZoom(Y,this._startZoom),!g.options.bounceAtZoomLimits&&(this._zoom<g.getMinZoom()&&Y<1||this._zoom>g.getMaxZoom()&&Y>1)&&(this._zoom=g._limitZoom(this._zoom)),"center"===g.options.touchZoom){if(this._center=this._startLatLng,1===Y)return}else{var le=E._add(k)._divideBy(2)._subtract(this._centerPoint);if(1===Y&&0===le.x&&0===le.y)return;this._center=g.unproject(g.project(this._pinchStartLatLng,this._zoom).subtract(le),this._zoom)}this._moved||(g._moveStart(!0,!1),this._moved=!0),ge(this._animRequest);var Ue=I(g._move,g,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=De(Ue,this,!0),ze(c)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,ge(this._animRequest),v(document,"touchmove",this._onTouchMove,this),v(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});$t.addInitHook("addHandler","touchZoom",Gi),$t.BoxZoom=hl,$t.DoubleClickZoom=ir,$t.Drag=ds,$t.Keyboard=Pa,$t.ScrollWheelZoom=Ln,$t.TapHold=Zi,$t.TouchZoom=Gi,fe.Bounds=Fe,fe.Browser=rn,fe.CRS=Rt,fe.Canvas=Ms,fe.Circle=rs,fe.CircleMarker=io,fe.Class=de,fe.Control=gt,fe.DivIcon=qo,fe.DivOverlay=os,fe.DomEvent=Ot,fe.DomUtil=ac,fe.Draggable=Ui,fe.Evented=we,fe.FeatureGroup=bi,fe.GeoJSON=La,fe.GridLayer=gi,fe.Handler=qt,fe.Icon=Rn,fe.ImageOverlay=Vs,fe.LatLng=dt,fe.LatLngBounds=rt,fe.Layer=ea,fe.LayerGroup=ro,fe.LineUtil=ur,fe.Map=$t,fe.Marker=ji,fe.Mixin=Qn,fe.Path=cs,fe.Point=Me,fe.PolyUtil=ci,fe.Polygon=ca,fe.Polyline=Ii,fe.Popup=wn,fe.PosAnimation=Mn,fe.Projection=Fs,fe.Rectangle=li,fe.Renderer=ei,fe.SVG=Hn,fe.SVGOverlay=dc,fe.TileLayer=Us,fe.Tooltip=ss,fe.Transformation=yt,fe.Util=Ee,fe.VideoOverlay=Cs,fe.bind=I,fe.bounds=me,fe.canvas=Ha,fe.circle=function cc(c,g,E){return new rs(c,g,E)},fe.circleMarker=function Sa(c,g){return new io(c,g)},fe.control=to,fe.divIcon=function fr(c){return new qo(c)},fe.extend=w,fe.featureGroup=function(c,g){return new bi(c,g)},fe.geoJSON=dl,fe.geoJson=Ia,fe.gridLayer=function di(c){return new gi(c)},fe.icon=function xs(c){return new Rn(c)},fe.imageOverlay=function(c,g,E){return new Vs(c,g,E)},fe.latLng=$e,fe.latLngBounds=qe,fe.layerGroup=function(c,g){return new ro(c,g)},fe.map=function Jr(c,g){return new $t(c,g)},fe.marker=function Da(c,g){return new ji(c,g)},fe.point=Se,fe.polygon=function El(c,g){return new ca(c,g)},fe.polyline=function Bl(c,g){return new Ii(c,g)},fe.popup=function(c,g){return new wn(c,g)},fe.rectangle=function $o(c,g){return new li(c,g)},fe.setOptions=_e,fe.stamp=U,fe.svg=so,fe.svgOverlay=function Ua(c,g,E){return new dc(c,g,E)},fe.tileLayer=Qr,fe.tooltip=function(c,g){return new ss(c,g)},fe.transformation=vt,fe.version="1.9.4",fe.videoOverlay=function Dn(c,g,E){return new Cs(c,g,E)};var Oi=window.L;fe.noConflict=function(){return window.L=Oi,this},window.L=fe}(Ye)},4772:ft=>{"use strict";var Ye=Object.getOwnPropertySymbols,fe=Object.prototype.hasOwnProperty,F=Object.prototype.propertyIsEnumerable;ft.exports=function x(){try{if(!Object.assign)return!1;var I=new String("abc");if(I[5]="de","5"===Object.getOwnPropertyNames(I)[0])return!1;for(var O={},U=0;U<10;U++)O["_"+String.fromCharCode(U)]=U;if("0123456789"!==Object.getOwnPropertyNames(O).map(function(ve){return O[ve]}).join(""))return!1;var ne={};return"abcdefghijklmnopqrst".split("").forEach(function(ve){ne[ve]=ve}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},ne)).join("")}catch{return!1}}()?Object.assign:function(I,O){for(var U,ne,$=function w(I){if(null==I)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(I)}(I),ve=1;ve<arguments.length;ve++){for(var Ne in U=Object(arguments[ve]))fe.call(U,Ne)&&($[Ne]=U[Ne]);if(Ye){ne=Ye(U);for(var Re=0;Re<ne.length;Re++)F.call(U,ne[Re])&&($[ne[Re]]=U[ne[Re]])}}return $}},4246:ft=>{"use strict";var Ye=function(fe){return fe!=fe};ft.exports=function(F,w){return 0===F&&0===w?1/F==1/w:!!(F===w||Ye(F)&&Ye(w))}},314:(ft,Ye,fe)=>{"use strict";var F=fe(1648),w=fe(5436),x=fe(4246),I=fe(1353),O=fe(3090),U=w(I(),Object);F(U,{getPolyfill:I,implementation:x,shim:O}),ft.exports=U},1353:(ft,Ye,fe)=>{"use strict";var F=fe(4246);ft.exports=function(){return"function"==typeof Object.is?Object.is:F}},3090:(ft,Ye,fe)=>{"use strict";var F=fe(1353),w=fe(1648);ft.exports=function(){var I=F();return w(Object,{is:I},{is:function(){return Object.is!==I}}),I}},7972:(ft,Ye,fe)=>{"use strict";var F;if(!Object.keys){var w=Object.prototype.hasOwnProperty,x=Object.prototype.toString,I=fe(9637),O=Object.prototype.propertyIsEnumerable,U=!O.call({toString:null},"toString"),$=O.call(function(){},"prototype"),ne=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],ve=function(_e){var Oe=_e.constructor;return Oe&&Oe.prototype===_e},Ne={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},Re=function(){if(typeof window>"u")return!1;for(var _e in window)try{if(!Ne["$"+_e]&&w.call(window,_e)&&null!==window[_e]&&"object"==typeof window[_e])try{ve(window[_e])}catch{return!0}}catch{return!0}return!1}();F=function(Oe){var oe=null!==Oe&&"object"==typeof Oe,he="[object Function]"===x.call(Oe),z=I(Oe),R=oe&&"[object String]"===x.call(Oe),V=[];if(!oe&&!he&&!z)throw new TypeError("Object.keys called on a non-object");var J=$&&he;if(R&&Oe.length>0&&!w.call(Oe,0))for(var Q=0;Q<Oe.length;++Q)V.push(String(Q));if(z&&Oe.length>0)for(var ee=0;ee<Oe.length;++ee)V.push(String(ee));else for(var ie in Oe)(!J||"prototype"!==ie)&&w.call(Oe,ie)&&V.push(String(ie));if(U)for(var W=function(_e){if(typeof window>"u"||!Re)return ve(_e);try{return ve(_e)}catch{return!1}}(Oe),De=0;De<ne.length;++De)(!W||"constructor"!==ne[De])&&w.call(Oe,ne[De])&&V.push(ne[De]);return V}}ft.exports=F},7809:(ft,Ye,fe)=>{"use strict";var F=Array.prototype.slice,w=fe(9637),x=Object.keys,I=x?function($){return x($)}:fe(7972),O=Object.keys;I.shim=function(){if(Object.keys){var $=function(){var ne=Object.keys(arguments);return ne&&ne.length===arguments.length}(1,2);$||(Object.keys=function(ve){return w(ve)?O(F.call(ve)):O(ve)})}else Object.keys=I;return Object.keys||I},ft.exports=I},9637:ft=>{"use strict";var Ye=Object.prototype.toString;ft.exports=function(F){var w=Ye.call(F),x="[object Arguments]"===w;return x||(x="[object Array]"!==w&&null!==F&&"object"==typeof F&&"number"==typeof F.length&&F.length>=0&&"[object Function]"===Ye.call(F.callee)),x}},4018:ft=>{ft.exports=function(fe,F,w,x){var I=fe[0],O=fe[1],U=!1;void 0===w&&(w=0),void 0===x&&(x=F.length);for(var $=(x-w)/2,ne=0,ve=$-1;ne<$;ve=ne++){var Ne=F[w+2*ne+0],Re=F[w+2*ne+1],_e=F[w+2*ve+1];Re>O!=_e>O&&I<(F[w+2*ve+0]-Ne)*(O-Re)/(_e-Re)+Ne&&(U=!U)}return U}},4179:(ft,Ye,fe)=>{var F=fe(4018),w=fe(8875);ft.exports=function(I,O,U,$){return O.length>0&&Array.isArray(O[0])?w(I,O,U,$):F(I,O,U,$)},ft.exports.nested=w,ft.exports.flat=F},8875:ft=>{ft.exports=function(fe,F,w,x){var I=fe[0],O=fe[1],U=!1;void 0===w&&(w=0),void 0===x&&(x=F.length);for(var $=x-w,ne=0,ve=$-1;ne<$;ve=ne++){var Ne=F[ne+w][0],Re=F[ne+w][1],_e=F[ve+w][1];Re>O!=_e>O&&I<(F[ve+w][0]-Ne)*(O-Re)/(_e-Re)+Ne&&(U=!U)}return U}},8464:function(ft){ft.exports=function(){"use strict";function Ye(Xe,H){if(!(Xe instanceof H))throw new TypeError("Cannot call a class as a function")}function fe(Xe,H){for(var P=0;P<H.length;P++){var T=H[P];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(Xe,T.key,T)}}function F(Xe,H,P){return H&&fe(Xe.prototype,H),P&&fe(Xe,P),Xe}var w=function Xe(H,P){this.next=null,this.key=H,this.data=P,this.left=null,this.right=null};function x(Xe,H){return Xe>H?1:Xe<H?-1:0}function I(Xe,H,P){for(var T=new w(null,null),G=T,re=T;;){var pe=P(Xe,H.key);if(pe<0){if(null===H.left)break;if(P(Xe,H.left.key)<0&&(H.left=(Ve=H.left).right,Ve.right=H,null===(H=Ve).left))break;re.left=H,re=H,H=H.left}else{if(!(pe>0))break;if(null===H.right)break;var Ve;if(P(Xe,H.right.key)>0&&(H.right=(Ve=H.right).left,Ve.left=H,null===(H=Ve).right))break;G.right=H,G=H,H=H.right}}return G.right=H.left,re.left=H.right,H.left=T.right,H.right=T.left,H}function O(Xe,H,P,T){var G=new w(Xe,H);if(null===P)return G.left=G.right=null,G;var re=T(Xe,(P=I(Xe,P,T)).key);return re<0?(G.left=P.left,G.right=P,P.left=null):re>=0&&(G.right=P.right,G.left=P,P.right=null),G}function U(Xe,H,P){var T=null,G=null;if(H){var re=P((H=I(Xe,H,P)).key,Xe);0===re?(T=H.left,G=H.right):re<0?(G=H.right,H.right=null,T=H):(T=H.left,H.left=null,G=H)}return{left:T,right:G}}function ne(Xe,H,P,T,G){if(Xe){T(H+(P?"\u2514\u2500\u2500 ":"\u251c\u2500\u2500 ")+G(Xe)+"\n");var re=H+(P?"    ":"\u2502   ");Xe.left&&ne(Xe.left,re,!1,T,G),Xe.right&&ne(Xe.right,re,!0,T,G)}}var ve=function(){function Xe(H){void 0===H&&(H=x),this._root=null,this._size=0,this._comparator=H}return Xe.prototype.insert=function(H,P){return this._size++,this._root=O(H,P,this._root,this._comparator)},Xe.prototype.add=function(H,P){var T=new w(H,P);null===this._root&&(T.left=T.right=null,this._size++,this._root=T);var G=this._comparator,re=I(H,this._root,G),pe=G(H,re.key);return 0===pe?this._root=re:(pe<0?(T.left=re.left,T.right=re,re.left=null):pe>0&&(T.right=re.right,T.left=re,re.right=null),this._size++,this._root=T),this._root},Xe.prototype.remove=function(H){this._root=this._remove(H,this._root,this._comparator)},Xe.prototype._remove=function(H,P,T){var G;return null===P?null:0===T(H,(P=I(H,P,T)).key)?(null===P.left?G=P.right:(G=I(H,P.left,T)).right=P.right,this._size--,G):P},Xe.prototype.pop=function(){var H=this._root;if(H){for(;H.left;)H=H.left;return this._root=I(H.key,this._root,this._comparator),this._root=this._remove(H.key,this._root,this._comparator),{key:H.key,data:H.data}}return null},Xe.prototype.findStatic=function(H){for(var P=this._root,T=this._comparator;P;){var G=T(H,P.key);if(0===G)return P;P=G<0?P.left:P.right}return null},Xe.prototype.find=function(H){return this._root&&(this._root=I(H,this._root,this._comparator),0!==this._comparator(H,this._root.key))?null:this._root},Xe.prototype.contains=function(H){for(var P=this._root,T=this._comparator;P;){var G=T(H,P.key);if(0===G)return!0;P=G<0?P.left:P.right}return!1},Xe.prototype.forEach=function(H,P){for(var T=this._root,G=[],re=!1;!re;)null!==T?(G.push(T),T=T.left):0!==G.length?(T=G.pop(),H.call(P,T),T=T.right):re=!0;return this},Xe.prototype.range=function(H,P,T,G){for(var re=[],pe=this._comparator,Ve=this._root;0!==re.length||Ve;)if(Ve)re.push(Ve),Ve=Ve.left;else{if(pe((Ve=re.pop()).key,P)>0)break;if(pe(Ve.key,H)>=0&&T.call(G,Ve))return this;Ve=Ve.right}return this},Xe.prototype.keys=function(){var H=[];return this.forEach(function(P){return H.push(P.key)}),H},Xe.prototype.values=function(){var H=[];return this.forEach(function(P){return H.push(P.data)}),H},Xe.prototype.min=function(){return this._root?this.minNode(this._root).key:null},Xe.prototype.max=function(){return this._root?this.maxNode(this._root).key:null},Xe.prototype.minNode=function(H){if(void 0===H&&(H=this._root),H)for(;H.left;)H=H.left;return H},Xe.prototype.maxNode=function(H){if(void 0===H&&(H=this._root),H)for(;H.right;)H=H.right;return H},Xe.prototype.at=function(H){for(var P=this._root,T=!1,G=0,re=[];!T;)if(P)re.push(P),P=P.left;else if(re.length>0){if(P=re.pop(),G===H)return P;G++,P=P.right}else T=!0;return null},Xe.prototype.next=function(H){var P=this._root,T=null;if(H.right){for(T=H.right;T.left;)T=T.left;return T}for(var G=this._comparator;P;){var re=G(H.key,P.key);if(0===re)break;re<0?(T=P,P=P.left):P=P.right}return T},Xe.prototype.prev=function(H){var P=this._root,T=null;if(null!==H.left){for(T=H.left;T.right;)T=T.right;return T}for(var G=this._comparator;P;){var re=G(H.key,P.key);if(0===re)break;re<0?P=P.left:(T=P,P=P.right)}return T},Xe.prototype.clear=function(){return this._root=null,this._size=0,this},Xe.prototype.toList=function(){return function ye(Xe){for(var H=Xe,P=[],T=!1,G=new w(null,null),re=G;!T;)H?(P.push(H),H=H.left):P.length>0?H=(H=re=re.next=P.pop()).right:T=!0;return re.next=null,G.next}(this._root)},Xe.prototype.load=function(H,P,T){void 0===P&&(P=[]),void 0===T&&(T=!1);var G=H.length,re=this._comparator;if(T&&oe(H,P,0,G-1,re),null===this._root)this._root=Ne(H,P,0,G),this._size=G;else{var pe=function Oe(Xe,H,P){for(var T=new w(null,null),G=T,re=Xe,pe=H;null!==re&&null!==pe;)P(re.key,pe.key)<0?(G.next=re,re=re.next):(G.next=pe,pe=pe.next),G=G.next;return null!==re?G.next=re:null!==pe&&(G.next=pe),T.next}(this.toList(),function Re(Xe,H){for(var P=new w(null,null),T=P,G=0;G<Xe.length;G++)T=T.next=new w(Xe[G],H[G]);return T.next=null,P.next}(H,P),re);this._root=_e({head:pe},0,G=this._size+G)}return this},Xe.prototype.isEmpty=function(){return null===this._root},Object.defineProperty(Xe.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(Xe.prototype,"root",{get:function(){return this._root},enumerable:!0,configurable:!0}),Xe.prototype.toString=function(H){void 0===H&&(H=function(G){return String(G.key)});var P=[];return ne(this._root,"",!0,function(T){return P.push(T)},H),P.join("")},Xe.prototype.update=function(H,P,T){var G=this._comparator,re=U(H,this._root,G),pe=re.left,Ve=re.right;G(H,P)<0?Ve=O(P,T,Ve,G):pe=O(P,T,pe,G),this._root=function $(Xe,H,P){return null===H?Xe:(null===Xe||((H=I(Xe.key,H,P)).left=Xe),H)}(pe,Ve,G)},Xe.prototype.split=function(H){return U(H,this._root,this._comparator)},Xe}();function Ne(Xe,H,P,T){var G=T-P;if(G>0){var re=P+Math.floor(G/2),Ge=new w(Xe[re],H[re]);return Ge.left=Ne(Xe,H,P,re),Ge.right=Ne(Xe,H,re+1,T),Ge}return null}function _e(Xe,H,P){var T=P-H;if(T>0){var G=H+Math.floor(T/2),re=_e(Xe,H,G),pe=Xe.head;return pe.left=re,Xe.head=Xe.head.next,pe.right=_e(Xe,G+1,P),pe}return null}function oe(Xe,H,P,T,G){if(!(P>=T)){for(var re=Xe[P+T>>1],pe=P-1,Ve=T+1;;){do{pe++}while(G(Xe[pe],re)<0);do{Ve--}while(G(Xe[Ve],re)>0);if(pe>=Ve)break;var Ge=Xe[pe];Xe[pe]=Xe[Ve],Xe[Ve]=Ge,Ge=H[pe],H[pe]=H[Ve],H[Ve]=Ge}oe(Xe,H,P,Ve,G),oe(Xe,H,Ve+1,T,G)}}var he=function(H,P){return H.ll.x<=P.x&&P.x<=H.ur.x&&H.ll.y<=P.y&&P.y<=H.ur.y},z=function(H,P){return P.ur.x<H.ll.x||H.ur.x<P.ll.x||P.ur.y<H.ll.y||H.ur.y<P.ll.y?null:{ll:{x:H.ll.x<P.ll.x?P.ll.x:H.ll.x,y:H.ll.y<P.ll.y?P.ll.y:H.ll.y},ur:{x:H.ur.x<P.ur.x?H.ur.x:P.ur.x,y:H.ur.y<P.ur.y?H.ur.y:P.ur.y}}},R=Number.EPSILON;void 0===R&&(R=Math.pow(2,-52));var V=R*R,J=function(H,P){if(-R<H&&H<R&&-R<P&&P<R)return 0;var T=H-P;return T*T<V*H*P?0:H<P?-1:1},Q=function(){function Xe(){Ye(this,Xe),this.reset()}return F(Xe,[{key:"reset",value:function(){this.xRounder=new ee,this.yRounder=new ee}},{key:"round",value:function(P,T){return{x:this.xRounder.round(P),y:this.yRounder.round(T)}}}]),Xe}(),ee=function(){function Xe(){Ye(this,Xe),this.tree=new ve,this.round(0)}return F(Xe,[{key:"round",value:function(P){var T=this.tree.add(P),G=this.tree.prev(T);if(null!==G&&0===J(T.key,G.key))return this.tree.remove(P),G.key;var re=this.tree.next(T);return null!==re&&0===J(T.key,re.key)?(this.tree.remove(P),re.key):P}}]),Xe}(),ie=new Q,W=function(H,P){return H.x*P.y-H.y*P.x},De=function(H,P){return H.x*P.x+H.y*P.y},ge=function(H,P,T){var pe=W({x:P.x-H.x,y:P.y-H.y},{x:T.x-H.x,y:T.y-H.y});return J(pe,0)},Ee=function(H){return Math.sqrt(De(H,H))},de=function(H,P,T){var G={x:P.x-H.x,y:P.y-H.y},re={x:T.x-H.x,y:T.y-H.y};return W(re,G)/Ee(re)/Ee(G)},Qe=function(H,P,T){var G={x:P.x-H.x,y:P.y-H.y},re={x:T.x-H.x,y:T.y-H.y};return De(re,G)/Ee(re)/Ee(G)},We=function(H,P,T){return 0===P.y?null:{x:H.x+P.x/P.y*(T-H.y),y:T}},we=function(H,P,T){return 0===P.x?null:{x:T,y:H.y+P.y/P.x*(T-H.x)}},be=function(){function Xe(H,P){Ye(this,Xe),void 0===H.events?H.events=[this]:H.events.push(this),this.point=H,this.isLeft=P}return F(Xe,null,[{key:"compare",value:function(P,T){var G=Xe.comparePoints(P.point,T.point);return 0!==G?G:(P.point!==T.point&&P.link(T),P.isLeft!==T.isLeft?P.isLeft?1:-1:Fe.compare(P.segment,T.segment))}},{key:"comparePoints",value:function(P,T){return P.x<T.x?-1:P.x>T.x?1:P.y<T.y?-1:P.y>T.y?1:0}}]),F(Xe,[{key:"link",value:function(P){if(P.point===this.point)throw new Error("Tried to link already linked events");for(var T=P.point.events,G=0,re=T.length;G<re;G++){var pe=T[G];this.point.events.push(pe),pe.point=this.point}this.checkForConsuming()}},{key:"checkForConsuming",value:function(){for(var P=this.point.events.length,T=0;T<P;T++){var G=this.point.events[T];if(void 0===G.segment.consumedBy)for(var re=T+1;re<P;re++){var pe=this.point.events[re];void 0===pe.consumedBy&&G.otherSE.point.events===pe.otherSE.point.events&&G.segment.consume(pe.segment)}}}},{key:"getAvailableLinkedEvents",value:function(){for(var P=[],T=0,G=this.point.events.length;T<G;T++){var re=this.point.events[T];re!==this&&!re.segment.ringOut&&re.segment.isInResult()&&P.push(re)}return P}},{key:"getLeftmostComparator",value:function(P){var T=this,G=new Map,re=function(Ve){var Ge=Ve.otherSE;G.set(Ve,{sine:de(T.point,P.point,Ge.point),cosine:Qe(T.point,P.point,Ge.point)})};return function(pe,Ve){G.has(pe)||re(pe),G.has(Ve)||re(Ve);var Ge=G.get(pe),He=Ge.sine,wt=Ge.cosine,Pt=G.get(Ve),pt=Pt.sine,kt=Pt.cosine;return He>=0&&pt>=0?wt<kt?1:wt>kt?-1:0:He<0&&pt<0?wt<kt?-1:wt>kt?1:0:pt<He?-1:pt>He?1:0}}}]),Xe}(),Se=0,Fe=function(){function Xe(H,P,T,G){Ye(this,Xe),this.id=++Se,this.leftSE=H,H.segment=this,H.otherSE=P,this.rightSE=P,P.segment=this,P.otherSE=H,this.rings=T,this.windings=G}return F(Xe,null,[{key:"compare",value:function(P,T){var G=P.leftSE.point.x,re=T.leftSE.point.x,pe=P.rightSE.point.x,Ve=T.rightSE.point.x;if(Ve<G)return 1;if(pe<re)return-1;var Ge=P.leftSE.point.y,He=T.leftSE.point.y,wt=P.rightSE.point.y,Pt=T.rightSE.point.y;if(G<re){if(He<Ge&&He<wt)return 1;if(He>Ge&&He>wt)return-1;var pt=P.comparePoint(T.leftSE.point);if(pt<0)return 1;if(pt>0)return-1;var kt=T.comparePoint(P.rightSE.point);return 0!==kt?kt:-1}if(G>re){if(Ge<He&&Ge<Pt)return-1;if(Ge>He&&Ge>Pt)return 1;var hn=T.comparePoint(P.leftSE.point);if(0!==hn)return hn;var Bt=P.comparePoint(T.rightSE.point);return Bt<0?1:Bt>0?-1:1}if(Ge<He)return-1;if(Ge>He)return 1;if(pe<Ve){var on=T.comparePoint(P.rightSE.point);if(0!==on)return on}if(pe>Ve){var kn=P.comparePoint(T.rightSE.point);if(kn<0)return 1;if(kn>0)return-1}if(pe!==Ve){var Zn=wt-Ge,tr=pe-G,nr=Pt-He,Xr=Ve-re;if(Zn>tr&&nr<Xr)return 1;if(Zn<tr&&nr>Xr)return-1}return pe>Ve?1:pe<Ve||wt<Pt?-1:wt>Pt?1:P.id<T.id?-1:P.id>T.id?1:0}}]),F(Xe,[{key:"replaceRightSE",value:function(P){this.rightSE=P,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}},{key:"bbox",value:function(){var P=this.leftSE.point.y,T=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:P<T?P:T},ur:{x:this.rightSE.point.x,y:P>T?P:T}}}},{key:"vector",value:function(){return{x:this.rightSE.point.x-this.leftSE.point.x,y:this.rightSE.point.y-this.leftSE.point.y}}},{key:"isAnEndpoint",value:function(P){return P.x===this.leftSE.point.x&&P.y===this.leftSE.point.y||P.x===this.rightSE.point.x&&P.y===this.rightSE.point.y}},{key:"comparePoint",value:function(P){if(this.isAnEndpoint(P))return 0;var T=this.leftSE.point,G=this.rightSE.point,re=this.vector();if(T.x===G.x)return P.x===T.x?0:P.x<T.x?1:-1;if(P.x===T.x+(P.y-T.y)/re.y*re.x)return 0;var He=T.y+(P.x-T.x)/re.x*re.y;return P.y===He?0:P.y<He?-1:1}},{key:"getIntersection",value:function(P){var T=this.bbox(),G=P.bbox(),re=z(T,G);if(null===re)return null;var pe=this.leftSE.point,Ve=this.rightSE.point,Ge=P.leftSE.point,He=P.rightSE.point,wt=he(T,Ge)&&0===this.comparePoint(Ge),Pt=he(G,pe)&&0===P.comparePoint(pe),pt=he(T,He)&&0===this.comparePoint(He),kt=he(G,Ve)&&0===P.comparePoint(Ve);if(Pt&&wt)return kt&&!pt?Ve:!kt&&pt?He:null;if(Pt)return pt&&pe.x===He.x&&pe.y===He.y?null:pe;if(wt)return kt&&Ve.x===Ge.x&&Ve.y===Ge.y?null:Ge;if(kt&&pt)return null;if(kt)return Ve;if(pt)return He;var hn=function(H,P,T,G){if(0===P.x)return we(T,G,H.x);if(0===G.x)return we(H,P,T.x);if(0===P.y)return We(T,G,H.y);if(0===G.y)return We(H,P,T.y);var re=W(P,G);if(0==re)return null;var pe={x:T.x-H.x,y:T.y-H.y},Ve=W(pe,P)/re,Ge=W(pe,G)/re;return{x:(H.x+Ge*P.x+(T.x+Ve*G.x))/2,y:(H.y+Ge*P.y+(T.y+Ve*G.y))/2}}(pe,this.vector(),Ge,P.vector());return null!==hn&&he(re,hn)?ie.round(hn.x,hn.y):null}},{key:"split",value:function(P){var T=[],G=void 0!==P.events,re=new be(P,!0),pe=new be(P,!1),Ve=this.rightSE;this.replaceRightSE(pe),T.push(pe),T.push(re);var Ge=new Xe(re,Ve,this.rings.slice(),this.windings.slice());return be.comparePoints(Ge.leftSE.point,Ge.rightSE.point)>0&&Ge.swapEvents(),be.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),G&&(re.checkForConsuming(),pe.checkForConsuming()),T}},{key:"swapEvents",value:function(){var P=this.rightSE;this.rightSE=this.leftSE,this.leftSE=P,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(var T=0,G=this.windings.length;T<G;T++)this.windings[T]*=-1}},{key:"consume",value:function(P){for(var T=this,G=P;T.consumedBy;)T=T.consumedBy;for(;G.consumedBy;)G=G.consumedBy;var re=Xe.compare(T,G);if(0!==re){if(re>0){var pe=T;T=G,G=pe}if(T.prev===G){var Ve=T;T=G,G=Ve}for(var Ge=0,He=G.rings.length;Ge<He;Ge++){var wt=G.rings[Ge],Pt=G.windings[Ge],pt=T.rings.indexOf(wt);-1===pt?(T.rings.push(wt),T.windings.push(Pt)):T.windings[pt]+=Pt}G.rings=null,G.windings=null,G.consumedBy=T,G.leftSE.consumedBy=T.leftSE,G.rightSE.consumedBy=T.rightSE}}},{key:"prevInResult",value:function(){return void 0!==this._prevInResult||(this._prevInResult=this.prev?this.prev.isInResult()?this.prev:this.prev.prevInResult():null),this._prevInResult}},{key:"beforeState",value:function(){return void 0!==this._beforeState||(this._beforeState=this.prev?(this.prev.consumedBy||this.prev).afterState():{rings:[],windings:[],multiPolys:[]}),this._beforeState}},{key:"afterState",value:function(){if(void 0!==this._afterState)return this._afterState;var P=this.beforeState();this._afterState={rings:P.rings.slice(0),windings:P.windings.slice(0),multiPolys:[]};for(var T=this._afterState.rings,G=this._afterState.windings,re=this._afterState.multiPolys,pe=0,Ve=this.rings.length;pe<Ve;pe++){var Ge=this.rings[pe],He=this.windings[pe],wt=T.indexOf(Ge);-1===wt?(T.push(Ge),G.push(He)):G[wt]+=He}for(var Pt=[],pt=[],kt=0,hn=T.length;kt<hn;kt++)if(0!==G[kt]){var Bt=T[kt],on=Bt.poly;if(-1===pt.indexOf(on))if(Bt.isExterior)Pt.push(on);else{-1===pt.indexOf(on)&&pt.push(on);var kn=Pt.indexOf(Bt.poly);-1!==kn&&Pt.splice(kn,1)}}for(var Zn=0,tr=Pt.length;Zn<tr;Zn++){var nr=Pt[Zn].multiPoly;-1===re.indexOf(nr)&&re.push(nr)}return this._afterState}},{key:"isInResult",value:function(){if(this.consumedBy)return!1;if(void 0!==this._isInResult)return this._isInResult;var P=this.beforeState().multiPolys,T=this.afterState().multiPolys;switch(vt.type){case"union":this._isInResult=0===P.length!=(0===T.length);break;case"intersection":var pe,Ve;P.length<T.length?(pe=P.length,Ve=T.length):(pe=T.length,Ve=P.length),this._isInResult=Ve===vt.numMultiPolys&&pe<Ve;break;case"xor":var Ge=Math.abs(P.length-T.length);this._isInResult=Ge%2==1;break;case"difference":var He=function(Pt){return 1===Pt.length&&Pt[0].isSubject};this._isInResult=He(P)!==He(T);break;default:throw new Error("Unrecognized operation type found ".concat(vt.type))}return this._isInResult}}],[{key:"fromRing",value:function(P,T,G){var re,pe,Ve,Ge=be.comparePoints(P,T);if(Ge<0)re=P,pe=T,Ve=1;else{if(!(Ge>0))throw new Error("Tried to create degenerate segment at [".concat(P.x,", ").concat(P.y,"]"));re=T,pe=P,Ve=-1}return new Xe(new be(re,!0),new be(pe,!1),[G],[Ve])}}]),Xe}(),me=function(){function Xe(H,P,T){if(Ye(this,Xe),!Array.isArray(H)||0===H.length)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=P,this.isExterior=T,this.segments=[],"number"!=typeof H[0][0]||"number"!=typeof H[0][1])throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var G=ie.round(H[0][0],H[0][1]);this.bbox={ll:{x:G.x,y:G.y},ur:{x:G.x,y:G.y}};for(var re=G,pe=1,Ve=H.length;pe<Ve;pe++){if("number"!=typeof H[pe][0]||"number"!=typeof H[pe][1])throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var Ge=ie.round(H[pe][0],H[pe][1]);Ge.x===re.x&&Ge.y===re.y||(this.segments.push(Fe.fromRing(re,Ge,this)),Ge.x<this.bbox.ll.x&&(this.bbox.ll.x=Ge.x),Ge.y<this.bbox.ll.y&&(this.bbox.ll.y=Ge.y),Ge.x>this.bbox.ur.x&&(this.bbox.ur.x=Ge.x),Ge.y>this.bbox.ur.y&&(this.bbox.ur.y=Ge.y),re=Ge)}(G.x!==re.x||G.y!==re.y)&&this.segments.push(Fe.fromRing(re,G,this))}return F(Xe,[{key:"getSweepEvents",value:function(){for(var P=[],T=0,G=this.segments.length;T<G;T++){var re=this.segments[T];P.push(re.leftSE),P.push(re.rightSE)}return P}}]),Xe}(),rt=function(){function Xe(H,P){if(Ye(this,Xe),!Array.isArray(H))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new me(H[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(var T=1,G=H.length;T<G;T++){var re=new me(H[T],this,!1);re.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=re.bbox.ll.x),re.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=re.bbox.ll.y),re.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=re.bbox.ur.x),re.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=re.bbox.ur.y),this.interiorRings.push(re)}this.multiPoly=P}return F(Xe,[{key:"getSweepEvents",value:function(){for(var P=this.exteriorRing.getSweepEvents(),T=0,G=this.interiorRings.length;T<G;T++)for(var re=this.interiorRings[T].getSweepEvents(),pe=0,Ve=re.length;pe<Ve;pe++)P.push(re[pe]);return P}}]),Xe}(),qe=function(){function Xe(H,P){if(Ye(this,Xe),!Array.isArray(H))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{"number"==typeof H[0][0][0]&&(H=[H])}catch{}this.polys=[],this.bbox={ll:{x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY},ur:{x:Number.NEGATIVE_INFINITY,y:Number.NEGATIVE_INFINITY}};for(var T=0,G=H.length;T<G;T++){var re=new rt(H[T],this);re.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=re.bbox.ll.x),re.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=re.bbox.ll.y),re.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=re.bbox.ur.x),re.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=re.bbox.ur.y),this.polys.push(re)}this.isSubject=P}return F(Xe,[{key:"getSweepEvents",value:function(){for(var P=[],T=0,G=this.polys.length;T<G;T++)for(var re=this.polys[T].getSweepEvents(),pe=0,Ve=re.length;pe<Ve;pe++)P.push(re[pe]);return P}}]),Xe}(),dt=function(){function Xe(H){Ye(this,Xe),this.events=H;for(var P=0,T=H.length;P<T;P++)H[P].segment.ringOut=this;this.poly=null}return F(Xe,null,[{key:"factory",value:function(P){for(var T=[],G=0,re=P.length;G<re;G++){var pe=P[G];if(pe.isInResult()&&!pe.ringOut){for(var Ve=null,Ge=pe.leftSE,He=pe.rightSE,wt=[Ge],Pt=Ge.point,pt=[];Ve=Ge,wt.push(Ge=He),Ge.point!==Pt;)for(;;){var kt=Ge.getAvailableLinkedEvents();if(0===kt.length){var hn=wt[0].point,Bt=wt[wt.length-1].point;throw new Error("Unable to complete output ring starting at [".concat(hn.x,",")+" ".concat(hn.y,"]. Last matching segment found ends at")+" [".concat(Bt.x,", ").concat(Bt.y,"]."))}if(1===kt.length){He=kt[0].otherSE;break}for(var on=null,kn=0,Zn=pt.length;kn<Zn;kn++)if(pt[kn].point===Ge.point){on=kn;break}if(null===on){pt.push({index:wt.length,point:Ge.point});var Xr=Ge.getLeftmostComparator(Ve);He=kt.sort(Xr)[0].otherSE;break}var tr=pt.splice(on)[0],nr=wt.splice(tr.index);nr.unshift(nr[0].otherSE),T.push(new Xe(nr.reverse()))}T.push(new Xe(wt))}}return T}}]),F(Xe,[{key:"getGeom",value:function(){for(var P=this.events[0].point,T=[P],G=1,re=this.events.length-1;G<re;G++){var pe=this.events[G].point;0!==ge(pe,P,this.events[G+1].point)&&(T.push(pe),P=pe)}if(1===T.length)return null;0===ge(T[0],P,T[1])&&T.shift(),T.push(T[0]);for(var wt=this.isExteriorRing()?1:-1,Pt=this.isExteriorRing()?0:T.length-1,pt=this.isExteriorRing()?T.length:-1,kt=[],hn=Pt;hn!=pt;hn+=wt)kt.push([T[hn].x,T[hn].y]);return kt}},{key:"isExteriorRing",value:function(){if(void 0===this._isExteriorRing){var P=this.enclosingRing();this._isExteriorRing=!P||!P.isExteriorRing()}return this._isExteriorRing}},{key:"enclosingRing",value:function(){return void 0===this._enclosingRing&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}},{key:"_calcEnclosingRing",value:function(){for(var P=this.events[0],T=1,G=this.events.length;T<G;T++){var re=this.events[T];be.compare(P,re)>0&&(P=re)}for(var pe=P.segment.prevInResult(),Ve=pe?pe.prevInResult():null;;){if(!pe)return null;if(!Ve)return pe.ringOut;if(Ve.ringOut!==pe.ringOut)return Ve.ringOut.enclosingRing()!==pe.ringOut?pe.ringOut:pe.ringOut.enclosingRing();pe=Ve.prevInResult(),Ve=pe?pe.prevInResult():null}}}]),Xe}(),$e=function(){function Xe(H){Ye(this,Xe),this.exteriorRing=H,H.poly=this,this.interiorRings=[]}return F(Xe,[{key:"addInterior",value:function(P){this.interiorRings.push(P),P.poly=this}},{key:"getGeom",value:function(){var P=[this.exteriorRing.getGeom()];if(null===P[0])return null;for(var T=0,G=this.interiorRings.length;T<G;T++){var re=this.interiorRings[T].getGeom();null!==re&&P.push(re)}return P}}]),Xe}(),Rt=function(){function Xe(H){Ye(this,Xe),this.rings=H,this.polys=this._composePolys(H)}return F(Xe,[{key:"getGeom",value:function(){for(var P=[],T=0,G=this.polys.length;T<G;T++){var re=this.polys[T].getGeom();null!==re&&P.push(re)}return P}},{key:"_composePolys",value:function(P){for(var T=[],G=0,re=P.length;G<re;G++){var pe=P[G];if(!pe.poly)if(pe.isExteriorRing())T.push(new $e(pe));else{var Ve=pe.enclosingRing();Ve.poly||T.push(new $e(Ve)),Ve.poly.addInterior(pe)}}return T}}]),Xe}(),Et=function(){function Xe(H){var P=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Fe.compare;Ye(this,Xe),this.queue=H,this.tree=new ve(P),this.segments=[]}return F(Xe,[{key:"process",value:function(P){var T=P.segment,G=[];if(P.consumedBy)return P.isLeft?this.queue.remove(P.otherSE):this.tree.remove(T),G;var re=P.isLeft?this.tree.insert(T):this.tree.find(T);if(!re)throw new Error("Unable to find segment #".concat(T.id," ")+"[".concat(T.leftSE.point.x,", ").concat(T.leftSE.point.y,"] -> ")+"[".concat(T.rightSE.point.x,", ").concat(T.rightSE.point.y,"] ")+"in SweepLine tree. Please submit a bug report.");for(var pe=re,Ve=re,Ge=void 0,He=void 0;void 0===Ge;)null===(pe=this.tree.prev(pe))?Ge=null:void 0===pe.key.consumedBy&&(Ge=pe.key);for(;void 0===He;)null===(Ve=this.tree.next(Ve))?He=null:void 0===Ve.key.consumedBy&&(He=Ve.key);if(P.isLeft){var wt=null;if(Ge){var Pt=Ge.getIntersection(T);if(null!==Pt&&(T.isAnEndpoint(Pt)||(wt=Pt),!Ge.isAnEndpoint(Pt)))for(var pt=this._splitSafely(Ge,Pt),kt=0,hn=pt.length;kt<hn;kt++)G.push(pt[kt])}var Bt=null;if(He){var on=He.getIntersection(T);if(null!==on&&(T.isAnEndpoint(on)||(Bt=on),!He.isAnEndpoint(on)))for(var kn=this._splitSafely(He,on),Zn=0,tr=kn.length;Zn<tr;Zn++)G.push(kn[Zn])}if(null!==wt||null!==Bt){var nr;nr=null===wt?Bt:null===Bt||be.comparePoints(wt,Bt)<=0?wt:Bt,this.queue.remove(T.rightSE),G.push(T.rightSE);for(var Xn=T.split(nr),Mi=0,pr=Xn.length;Mi<pr;Mi++)G.push(Xn[Mi])}G.length>0?(this.tree.remove(T),G.push(P)):(this.segments.push(T),T.prev=Ge)}else{if(Ge&&He){var bt=Ge.getIntersection(He);if(null!==bt){if(!Ge.isAnEndpoint(bt))for(var Uo=this._splitSafely(Ge,bt),ho=0,sn=Uo.length;ho<sn;ho++)G.push(Uo[ho]);if(!He.isAnEndpoint(bt))for(var si=this._splitSafely(He,bt),fo=0,Ko=si.length;fo<Ko;fo++)G.push(si[fo])}}this.tree.remove(T)}return G}},{key:"_splitSafely",value:function(P,T){this.tree.remove(P);var G=P.rightSE;this.queue.remove(G);var re=P.split(T);return re.push(G),void 0===P.consumedBy&&this.tree.insert(P),re}}]),Xe}(),Dt=typeof process<"u"&&process.env.POLYGON_CLIPPING_MAX_QUEUE_SIZE||1e6,Ft=typeof process<"u"&&process.env.POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS||1e6,vt=new(function(){function Xe(){Ye(this,Xe)}return F(Xe,[{key:"run",value:function(P,T,G){vt.type=P,ie.reset();for(var re=[new qe(T,!0)],pe=0,Ve=G.length;pe<Ve;pe++)re.push(new qe(G[pe],!1));if(vt.numMultiPolys=re.length,"difference"===vt.type)for(var Ge=re[0],He=1;He<re.length;)null!==z(re[He].bbox,Ge.bbox)?He++:re.splice(He,1);if("intersection"===vt.type)for(var wt=0,Pt=re.length;wt<Pt;wt++)for(var pt=re[wt],kt=wt+1,hn=re.length;kt<hn;kt++)if(null===z(pt.bbox,re[kt].bbox))return[];for(var Bt=new ve(be.compare),on=0,kn=re.length;on<kn;on++)for(var Zn=re[on].getSweepEvents(),tr=0,nr=Zn.length;tr<nr;tr++)if(Bt.insert(Zn[tr]),Bt.size>Dt)throw new Error("Infinite loop when putting segment endpoints in a priority queue (queue size too big). Please file a bug report.");for(var Xr=new Et(Bt),Xn=Bt.size,Mi=Bt.pop();Mi;){var pr=Mi.key;if(Bt.size===Xn){var bt=pr.segment;throw new Error("Unable to pop() ".concat(pr.isLeft?"left":"right"," SweepEvent ")+"[".concat(pr.point.x,", ").concat(pr.point.y,"] from segment #").concat(bt.id," ")+"[".concat(bt.leftSE.point.x,", ").concat(bt.leftSE.point.y,"] -> ")+"[".concat(bt.rightSE.point.x,", ").concat(bt.rightSE.point.y,"] from queue. ")+"Please file a bug report.")}if(Bt.size>Dt)throw new Error("Infinite loop when passing sweep line over endpoints (queue size too big). Please file a bug report.");if(Xr.segments.length>Ft)throw new Error("Infinite loop when passing sweep line over endpoints (too many sweep line segments). Please file a bug report.");for(var Uo=Xr.process(pr),ho=0,sn=Uo.length;ho<sn;ho++){var si=Uo[ho];void 0===si.consumedBy&&Bt.insert(si)}Xn=Bt.size,Mi=Bt.pop()}ie.reset();var fo=dt.factory(Xr.segments);return new Rt(fo).getGeom()}}]),Xe}());return{union:function(H){for(var P=arguments.length,T=new Array(P>1?P-1:0),G=1;G<P;G++)T[G-1]=arguments[G];return vt.run("union",H,T)},intersection:function(H){for(var P=arguments.length,T=new Array(P>1?P-1:0),G=1;G<P;G++)T[G-1]=arguments[G];return vt.run("intersection",H,T)},xor:function(H){for(var P=arguments.length,T=new Array(P>1?P-1:0),G=1;G<P;G++)T[G-1]=arguments[G];return vt.run("xor",H,T)},difference:function(H){for(var P=arguments.length,T=new Array(P>1?P-1:0),G=1;G<P;G++)T[G-1]=arguments[G];return vt.run("difference",H,T)}}}()},1414:function(ft){ft.exports=function(){"use strict";function Ye(oe,he,z,R,V){!function J(Q,ee,ie,W,De){for(;W>ie;){if(W-ie>600){var ge=W-ie+1,Ee=ee-ie+1,de=Math.log(ge),Qe=.5*Math.exp(2*de/3),We=.5*Math.sqrt(de*Qe*(ge-Qe)/ge)*(Ee-ge/2<0?-1:1);J(Q,ee,Math.max(ie,Math.floor(ee-Ee*Qe/ge+We)),Math.min(W,Math.floor(ee+(ge-Ee)*Qe/ge+We)),De)}var be=Q[ee],Se=ie,Fe=W;for(fe(Q,ie,ee),De(Q[W],be)>0&&fe(Q,ie,W);Se<Fe;){for(fe(Q,Se,Fe),Se++,Fe--;De(Q[Se],be)<0;)Se++;for(;De(Q[Fe],be)>0;)Fe--}0===De(Q[ie],be)?fe(Q,ie,Fe):fe(Q,++Fe,W),Fe<=ee&&(ie=Fe+1),ee<=Fe&&(W=Fe-1)}}(oe,he,z||0,R||oe.length-1,V||F)}function fe(oe,he,z){var R=oe[he];oe[he]=oe[z],oe[z]=R}function F(oe,he){return oe<he?-1:oe>he?1:0}var w=function(oe){void 0===oe&&(oe=9),this._maxEntries=Math.max(4,oe),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function x(oe,he,z){if(!z)return he.indexOf(oe);for(var R=0;R<he.length;R++)if(z(oe,he[R]))return R;return-1}function I(oe,he){O(oe,0,oe.children.length,he,oe)}function O(oe,he,z,R,V){V||(V=_e(null)),V.minX=1/0,V.minY=1/0,V.maxX=-1/0,V.maxY=-1/0;for(var J=he;J<z;J++){var Q=oe.children[J];U(V,oe.leaf?R(Q):Q)}return V}function U(oe,he){return oe.minX=Math.min(oe.minX,he.minX),oe.minY=Math.min(oe.minY,he.minY),oe.maxX=Math.max(oe.maxX,he.maxX),oe.maxY=Math.max(oe.maxY,he.maxY),oe}function $(oe,he){return oe.minX-he.minX}function ne(oe,he){return oe.minY-he.minY}function ve(oe){return(oe.maxX-oe.minX)*(oe.maxY-oe.minY)}function Ne(oe){return oe.maxX-oe.minX+(oe.maxY-oe.minY)}function Re(oe,he){return oe.minX<=he.minX&&oe.minY<=he.minY&&he.maxX<=oe.maxX&&he.maxY<=oe.maxY}function ye(oe,he){return he.minX<=oe.maxX&&he.minY<=oe.maxY&&he.maxX>=oe.minX&&he.maxY>=oe.minY}function _e(oe){return{children:oe,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function Oe(oe,he,z,R,V){for(var J=[he,z];J.length;)if(!((z=J.pop())-(he=J.pop())<=R)){var Q=he+Math.ceil((z-he)/R/2)*R;Ye(oe,Q,he,z,V),J.push(he,Q,Q,z)}}return w.prototype.all=function(){return this._all(this.data,[])},w.prototype.search=function(oe){var he=this.data,z=[];if(!ye(oe,he))return z;for(var R=this.toBBox,V=[];he;){for(var J=0;J<he.children.length;J++){var Q=he.children[J],ee=he.leaf?R(Q):Q;ye(oe,ee)&&(he.leaf?z.push(Q):Re(oe,ee)?this._all(Q,z):V.push(Q))}he=V.pop()}return z},w.prototype.collides=function(oe){var he=this.data;if(!ye(oe,he))return!1;for(var z=[];he;){for(var R=0;R<he.children.length;R++){var V=he.children[R],J=he.leaf?this.toBBox(V):V;if(ye(oe,J)){if(he.leaf||Re(oe,J))return!0;z.push(V)}}he=z.pop()}return!1},w.prototype.load=function(oe){if(!oe||!oe.length)return this;if(oe.length<this._minEntries){for(var he=0;he<oe.length;he++)this.insert(oe[he]);return this}var z=this._build(oe.slice(),0,oe.length-1,0);if(this.data.children.length)if(this.data.height===z.height)this._splitRoot(this.data,z);else{if(this.data.height<z.height){var R=this.data;this.data=z,z=R}this._insert(z,this.data.height-z.height-1,!0)}else this.data=z;return this},w.prototype.insert=function(oe){return oe&&this._insert(oe,this.data.height-1),this},w.prototype.clear=function(){return this.data=_e([]),this},w.prototype.remove=function(oe,he){if(!oe)return this;for(var z,R,V,J=this.data,Q=this.toBBox(oe),ee=[],ie=[];J||ee.length;){if(J||(J=ee.pop(),R=ee[ee.length-1],z=ie.pop(),V=!0),J.leaf){var W=x(oe,J.children,he);if(-1!==W)return J.children.splice(W,1),ee.push(J),this._condense(ee),this}V||J.leaf||!Re(J,Q)?R?(z++,J=R.children[z],V=!1):J=null:(ee.push(J),ie.push(z),z=0,R=J,J=J.children[0])}return this},w.prototype.toBBox=function(oe){return oe},w.prototype.compareMinX=function(oe,he){return oe.minX-he.minX},w.prototype.compareMinY=function(oe,he){return oe.minY-he.minY},w.prototype.toJSON=function(){return this.data},w.prototype.fromJSON=function(oe){return this.data=oe,this},w.prototype._all=function(oe,he){for(var z=[];oe;)oe.leaf?he.push.apply(he,oe.children):z.push.apply(z,oe.children),oe=z.pop();return he},w.prototype._build=function(oe,he,z,R){var V,J=z-he+1,Q=this._maxEntries;if(J<=Q)return I(V=_e(oe.slice(he,z+1)),this.toBBox),V;R||(R=Math.ceil(Math.log(J)/Math.log(Q)),Q=Math.ceil(J/Math.pow(Q,R-1))),(V=_e([])).leaf=!1,V.height=R;var ee=Math.ceil(J/Q),ie=ee*Math.ceil(Math.sqrt(Q));Oe(oe,he,z,ie,this.compareMinX);for(var W=he;W<=z;W+=ie){var De=Math.min(W+ie-1,z);Oe(oe,W,De,ee,this.compareMinY);for(var ge=W;ge<=De;ge+=ee){var Ee=Math.min(ge+ee-1,De);V.children.push(this._build(oe,ge,Ee,R-1))}}return I(V,this.toBBox),V},w.prototype._chooseSubtree=function(oe,he,z,R){for(;R.push(he),!he.leaf&&R.length-1!==z;){for(var V=1/0,J=1/0,Q=void 0,ee=0;ee<he.children.length;ee++){var ie=he.children[ee],W=ve(ie),De=(ge=oe,Ee=ie,(Math.max(Ee.maxX,ge.maxX)-Math.min(Ee.minX,ge.minX))*(Math.max(Ee.maxY,ge.maxY)-Math.min(Ee.minY,ge.minY))-W);De<J?(J=De,V=W<V?W:V,Q=ie):De===J&&W<V&&(V=W,Q=ie)}he=Q||he.children[0]}var ge,Ee;return he},w.prototype._insert=function(oe,he,z){var R=z?oe:this.toBBox(oe),V=[],J=this._chooseSubtree(R,this.data,he,V);for(J.children.push(oe),U(J,R);he>=0&&V[he].children.length>this._maxEntries;)this._split(V,he),he--;this._adjustParentBBoxes(R,V,he)},w.prototype._split=function(oe,he){var z=oe[he],R=z.children.length,V=this._minEntries;this._chooseSplitAxis(z,V,R);var J=this._chooseSplitIndex(z,V,R),Q=_e(z.children.splice(J,z.children.length-J));Q.height=z.height,Q.leaf=z.leaf,I(z,this.toBBox),I(Q,this.toBBox),he?oe[he-1].children.push(Q):this._splitRoot(z,Q)},w.prototype._splitRoot=function(oe,he){this.data=_e([oe,he]),this.data.height=oe.height+1,this.data.leaf=!1,I(this.data,this.toBBox)},w.prototype._chooseSplitIndex=function(oe,he,z){for(var R,V,J,Q,ee,ie,W,De=1/0,ge=1/0,Ee=he;Ee<=z-he;Ee++){var de=O(oe,0,Ee,this.toBBox),Qe=O(oe,Ee,z,this.toBBox),We=(V=de,J=Qe,void 0,void 0,void 0,void 0,Q=Math.max(V.minX,J.minX),ee=Math.max(V.minY,J.minY),ie=Math.min(V.maxX,J.maxX),W=Math.min(V.maxY,J.maxY),Math.max(0,ie-Q)*Math.max(0,W-ee)),we=ve(de)+ve(Qe);We<De?(De=We,R=Ee,ge=we<ge?we:ge):We===De&&we<ge&&(ge=we,R=Ee)}return R||z-he},w.prototype._chooseSplitAxis=function(oe,he,z){var R=oe.leaf?this.compareMinX:$,V=oe.leaf?this.compareMinY:ne;this._allDistMargin(oe,he,z,R)<this._allDistMargin(oe,he,z,V)&&oe.children.sort(R)},w.prototype._allDistMargin=function(oe,he,z,R){oe.children.sort(R);for(var V=this.toBBox,J=O(oe,0,he,V),Q=O(oe,z-he,z,V),ee=Ne(J)+Ne(Q),ie=he;ie<z-he;ie++){var W=oe.children[ie];U(J,oe.leaf?V(W):W),ee+=Ne(J)}for(var De=z-he-1;De>=he;De--){var ge=oe.children[De];U(Q,oe.leaf?V(ge):ge),ee+=Ne(Q)}return ee},w.prototype._adjustParentBBoxes=function(oe,he,z){for(var R=z;R>=0;R--)U(he[R],oe)},w.prototype._condense=function(oe){for(var he=oe.length-1,z=void 0;he>=0;he--)0===oe[he].children.length?he>0?(z=oe[he-1].children).splice(z.indexOf(oe[he]),1):this.clear():I(oe[he],this.toBBox)},w}()},3817:(ft,Ye,fe)=>{"use strict";var F=fe(1552).functionsHaveConfigurableNames(),w=Object,x=TypeError;ft.exports=function(){if(null!=this&&this!==w(this))throw new x("RegExp.prototype.flags getter called on non-object");var O="";return this.hasIndices&&(O+="d"),this.global&&(O+="g"),this.ignoreCase&&(O+="i"),this.multiline&&(O+="m"),this.dotAll&&(O+="s"),this.unicode&&(O+="u"),this.unicodeSets&&(O+="v"),this.sticky&&(O+="y"),O},F&&Object.defineProperty&&Object.defineProperty(ft.exports,"name",{value:"get flags"})},1139:(ft,Ye,fe)=>{"use strict";var F=fe(1648),w=fe(5436),x=fe(3817),I=fe(4861),O=fe(6002),U=w(I());F(U,{getPolyfill:I,implementation:x,shim:O}),ft.exports=U},4861:(ft,Ye,fe)=>{"use strict";var F=fe(3817),w=fe(1648).supportsDescriptors,x=Object.getOwnPropertyDescriptor;ft.exports=function(){if(w&&"gim"===/a/gim.flags){var O=x(RegExp.prototype,"flags");if(O&&"function"==typeof O.get&&"boolean"==typeof RegExp.prototype.dotAll&&"boolean"==typeof RegExp.prototype.hasIndices){var U="",$={};if(Object.defineProperty($,"hasIndices",{get:function(){U+="d"}}),Object.defineProperty($,"sticky",{get:function(){U+="y"}}),"dy"===U)return O.get}}return F}},6002:(ft,Ye,fe)=>{"use strict";var F=fe(1648).supportsDescriptors,w=fe(4861),x=Object.getOwnPropertyDescriptor,I=Object.defineProperty,O=TypeError,U=Object.getPrototypeOf,$=/a/;ft.exports=function(){if(!F||!U)throw new O("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var ve=w(),Ne=U($),Re=x(Ne,"flags");return(!Re||Re.get!==ve)&&I(Ne,"flags",{configurable:!0,enumerable:!1,get:ve}),ve}},6138:function(ft,Ye){!function(fe){"use strict";function x(_e,Oe,oe,he,z){let R,V,J,Q,ee=Oe[0],ie=he[0],W=0,De=0;ie>ee==ie>-ee?(R=ee,ee=Oe[++W]):(R=ie,ie=he[++De]);let ge=0;if(W<_e&&De<oe)for(ie>ee==ie>-ee?(J=R-((V=ee+R)-ee),ee=Oe[++W]):(J=R-((V=ie+R)-ie),ie=he[++De]),R=V,0!==J&&(z[ge++]=J);W<_e&&De<oe;)ie>ee==ie>-ee?(J=R-((V=R+ee)-(Q=V-R))+(ee-Q),ee=Oe[++W]):(J=R-((V=R+ie)-(Q=V-R))+(ie-Q),ie=he[++De]),R=V,0!==J&&(z[ge++]=J);for(;W<_e;)J=R-((V=R+ee)-(Q=V-R))+(ee-Q),ee=Oe[++W],R=V,0!==J&&(z[ge++]=J);for(;De<oe;)J=R-((V=R+ie)-(Q=V-R))+(ie-Q),ie=he[++De],R=V,0!==J&&(z[ge++]=J);return 0===R&&0!==ge||(z[ge++]=R),ge}function I(_e){return new Float64Array(_e)}const ne=I(4),ve=I(8),Ne=I(12),Re=I(16),ye=I(4);fe.orient2d=function(_e,Oe,oe,he,z,R){const V=(Oe-R)*(oe-z),J=(_e-z)*(he-R),Q=V-J;if(0===V||0===J||V>0!=J>0)return Q;const ee=Math.abs(V+J);return Math.abs(Q)>=33306690738754716e-32*ee?Q:-function(ie,W,De,ge,Ee,de,Qe){let We,we,Me,be,Se,Fe,me,rt,qe,dt,$e,Rt,Et,Dt,Ft,yt,vt,dr;const In=ie-Ee,jr=De-Ee,Jt=W-de,dn=ge-de;Se=(Ft=(rt=In-(me=(Fe=134217729*In)-(Fe-In)))*(dt=dn-(qe=(Fe=134217729*dn)-(Fe-dn)))-((Dt=In*dn)-me*qe-rt*qe-me*dt))-($e=Ft-(vt=(rt=Jt-(me=(Fe=134217729*Jt)-(Fe-Jt)))*(dt=jr-(qe=(Fe=134217729*jr)-(Fe-jr)))-((yt=Jt*jr)-me*qe-rt*qe-me*dt))),ne[0]=Ft-($e+Se)+(Se-vt),Se=(Et=Dt-((Rt=Dt+$e)-(Se=Rt-Dt))+($e-Se))-($e=Et-yt),ne[1]=Et-($e+Se)+(Se-yt),Se=(dr=Rt+$e)-Rt,ne[2]=Rt-(dr-Se)+($e-Se),ne[3]=dr;let Xe=function(re,pe){let Ve=pe[0];for(let Ge=1;Ge<4;Ge++)Ve+=pe[Ge];return Ve}(0,ne),H=22204460492503146e-32*Qe;if(Xe>=H||-Xe>=H||(We=ie-(In+(Se=ie-In))+(Se-Ee),Me=De-(jr+(Se=De-jr))+(Se-Ee),we=W-(Jt+(Se=W-Jt))+(Se-de),be=ge-(dn+(Se=ge-dn))+(Se-de),0===We&&0===we&&0===Me&&0===be)||(H=11093356479670487e-47*Qe+33306690738754706e-32*Math.abs(Xe),(Xe+=In*be+dn*We-(Jt*Me+jr*we))>=H||-Xe>=H))return Xe;Se=(Ft=(rt=We-(me=(Fe=134217729*We)-(Fe-We)))*(dt=dn-(qe=(Fe=134217729*dn)-(Fe-dn)))-((Dt=We*dn)-me*qe-rt*qe-me*dt))-($e=Ft-(vt=(rt=we-(me=(Fe=134217729*we)-(Fe-we)))*(dt=jr-(qe=(Fe=134217729*jr)-(Fe-jr)))-((yt=we*jr)-me*qe-rt*qe-me*dt))),ye[0]=Ft-($e+Se)+(Se-vt),Se=(Et=Dt-((Rt=Dt+$e)-(Se=Rt-Dt))+($e-Se))-($e=Et-yt),ye[1]=Et-($e+Se)+(Se-yt),Se=(dr=Rt+$e)-Rt,ye[2]=Rt-(dr-Se)+($e-Se),ye[3]=dr;const P=x(4,ne,4,ye,ve);Se=(Ft=(rt=In-(me=(Fe=134217729*In)-(Fe-In)))*(dt=be-(qe=(Fe=134217729*be)-(Fe-be)))-((Dt=In*be)-me*qe-rt*qe-me*dt))-($e=Ft-(vt=(rt=Jt-(me=(Fe=134217729*Jt)-(Fe-Jt)))*(dt=Me-(qe=(Fe=134217729*Me)-(Fe-Me)))-((yt=Jt*Me)-me*qe-rt*qe-me*dt))),ye[0]=Ft-($e+Se)+(Se-vt),Se=(Et=Dt-((Rt=Dt+$e)-(Se=Rt-Dt))+($e-Se))-($e=Et-yt),ye[1]=Et-($e+Se)+(Se-yt),Se=(dr=Rt+$e)-Rt,ye[2]=Rt-(dr-Se)+($e-Se),ye[3]=dr;const T=x(P,ve,4,ye,Ne);Se=(Ft=(rt=We-(me=(Fe=134217729*We)-(Fe-We)))*(dt=be-(qe=(Fe=134217729*be)-(Fe-be)))-((Dt=We*be)-me*qe-rt*qe-me*dt))-($e=Ft-(vt=(rt=we-(me=(Fe=134217729*we)-(Fe-we)))*(dt=Me-(qe=(Fe=134217729*Me)-(Fe-Me)))-((yt=we*Me)-me*qe-rt*qe-me*dt))),ye[0]=Ft-($e+Se)+(Se-vt),Se=(Et=Dt-((Rt=Dt+$e)-(Se=Rt-Dt))+($e-Se))-($e=Et-yt),ye[1]=Et-($e+Se)+(Se-yt),Se=(dr=Rt+$e)-Rt,ye[2]=Rt-(dr-Se)+($e-Se),ye[3]=dr;const G=x(T,Ne,4,ye,Re);return Re[G-1]}(_e,Oe,oe,he,z,R,ee)},fe.orient2dfast=function(_e,Oe,oe,he,z,R){return(Oe-R)*(oe-z)-(_e-z)*(he-R)},Object.defineProperty(fe,"__esModule",{value:!0})}(Ye)},9579:ft=>{"use strict";ft.exports={eudist:function(fe,F,w){for(var x=fe.length,I=0,O=0;O<x;O++){var U=(fe[O]||0)-(F[O]||0);I+=U*U}return w?Math.sqrt(I):I},mandist:function(fe,F,w){for(var x=fe.length,I=0,O=0;O<x;O++)I+=Math.abs((fe[O]||0)-(F[O]||0));return w?Math.sqrt(I):I},dist:function(fe,F,w){var x=Math.abs(fe-F);return w?x:x*x}}},7180:(ft,Ye,fe)=>{"use strict";var F=fe(9579),w=F.eudist,x=F.dist;ft.exports={kmrand:function(O,U){for(var $={},ne=[],ve=U<<2,Ne=O.length,Re=O[0].length>0;ne.length<U&&ve-- >0;){var ye=O[Math.floor(Math.random()*Ne)],_e=Re?ye.join("_"):""+ye;$[_e]||($[_e]=!0,ne.push(ye))}if(ne.length<U)throw new Error("Error initializating clusters");return ne},kmpp:function(O,U){var $=O[0].length?w:x,ne=[],ve=O.length,Ne=O[0].length>0,ye=O[Math.floor(Math.random()*ve)];for(Ne&&ye.join("_"),ne.push(ye);ne.length<U;){for(var Oe=[],oe=ne.length,he=0,z=[],R=0;R<ve;R++){for(var V=1/0,J=0;J<oe;J++){var Q=$(O[R],ne[J]);Q<=V&&(V=Q)}Oe[R]=V}for(var ee=0;ee<ve;ee++)he+=Oe[ee];for(var ie=0;ie<ve;ie++)z[ie]={i:ie,v:O[ie],pr:Oe[ie]/he,cs:0};z.sort(function(Ee,de){return Ee.pr-de.pr}),z[0].cs=z[0].pr;for(var W=1;W<ve;W++)z[W].cs=z[W-1].cs+z[W].pr;for(var De=Math.random(),ge=0;ge<ve-1&&z[ge++].cs<De;);ne.push(z[ge-1].v)}return ne}}},3282:(ft,Ye,fe)=>{"use strict";var F=fe(9579),w=fe(7180),x=F.eudist,U=w.kmrand,$=w.kmpp;function ve(Re,ye,_e){_e=_e||[];for(var Oe=0;Oe<Re;Oe++)_e[Oe]=ye;return _e}ft.exports=function Ne(Re,ye,_e,Oe){var oe=[],he=[],z=[],R=[],V=!1,J=Oe||1e4,Q=Re.length,ee=Re[0].length,ie=ee>0,W=[];if(_e)oe="kmrand"==_e?U(Re,ye):"kmpp"==_e?$(Re,ye):_e;else for(var De={};oe.length<ye;){var ge=Math.floor(Math.random()*Q);De[ge]||(De[ge]=!0,oe.push(Re[ge]))}do{ve(ye,0,W);for(var Ee=0;Ee<Q;Ee++){for(var de=1/0,Qe=0,We=0;We<ye;We++)(R=ie?x(Re[Ee],oe[We]):Math.abs(Re[Ee]-oe[We]))<=de&&(de=R,Qe=We);z[Ee]=Qe,W[Qe]++}for(var we=[],be=(he=[],0);be<ye;be++)we[be]=ie?ve(ee,0,we[be]):0,he[be]=oe[be];if(ie){for(var Se=0;Se<ye;Se++)oe[Se]=[];for(var Fe=0;Fe<Q;Fe++)for(var rt=we[z[Fe]],qe=Re[Fe],dt=0;dt<ee;dt++)rt[dt]+=qe[dt];V=!0;for(var $e=0;$e<ye;$e++){for(var Rt=oe[$e],Et=we[$e],Dt=he[$e],Ft=W[$e],yt=0;yt<ee;yt++)Rt[yt]=Et[yt]/Ft||0;if(V)for(var vt=0;vt<ee;vt++)if(Dt[vt]!=Rt[vt]){V=!1;break}}}else{for(var dr=0;dr<Q;dr++)we[z[dr]]+=Re[dr];for(var jr=0;jr<ye;jr++)oe[jr]=we[jr]/W[jr]||0;V=!0;for(var Jt=0;Jt<ye;Jt++)if(he[Jt]!=oe[Jt]){V=!1;break}}V=V||--J<=0}while(!V);return{it:1e4-J,k:ye,idxs:z,centroids:oe}}},7935:(ft,Ye,fe)=>{"use strict";fe.r(Ye),fe.d(Ye,{default:()=>F});class F{constructor(I=[],O=w){if(this.data=I,this.length=this.data.length,this.compare=O,this.length>0)for(let U=(this.length>>1)-1;U>=0;U--)this._down(U)}push(I){this.data.push(I),this.length++,this._up(this.length-1)}pop(){if(0===this.length)return;const I=this.data[0],O=this.data.pop();return this.length--,this.length>0&&(this.data[0]=O,this._down(0)),I}peek(){return this.data[0]}_up(I){const{data:O,compare:U}=this,$=O[I];for(;I>0;){const ne=I-1>>1,ve=O[ne];if(U($,ve)>=0)break;O[I]=ve,I=ne}O[I]=$}_down(I){const{data:O,compare:U}=this,$=this.length>>1,ne=O[I];for(;I<$;){let ve=1+(I<<1),Ne=O[ve];const Re=ve+1;if(Re<this.length&&U(O[Re],Ne)<0&&(ve=Re,Ne=O[Re]),U(Ne,ne)>=0)break;O[I]=Ne,I=ve}O[I]=ne}}function w(x,I){return x<I?-1:x>I?1:0}},4855:function(ft,Ye){!function(fe){"use strict";function F(){}function w(s){this.message=s||""}function x(s){this.message=s||""}function I(s){this.message=s||""}function O(){}function U(s){return null===s?Bi:s.color}function $(s){return null===s?null:s.parent}function ne(s,l){null!==s&&(s.color=l)}function ve(s){return null===s?null:s.left}function Ne(s){return null===s?null:s.right}function Re(){this.root_=null,this.size_=0}function ye(){}function _e(){this.array_=[],arguments[0]instanceof Xn&&this.addAll(arguments[0])}function Oe(){}function oe(s){this.message=s||""}function he(){this.array_=[]}"fill"in Array.prototype||Object.defineProperty(Array.prototype,"fill",{configurable:!0,value:function(s){if(null==this)throw new TypeError(this+" is not an object");var l=Object(this),d=Math.max(Math.min(l.length,9007199254740991),0)||0,p=1 in arguments&&parseInt(Number(arguments[1]),10)||0;p=p<0?Math.max(d+p,0):Math.min(p,d);var y=2 in arguments&&void 0!==arguments[2]?parseInt(Number(arguments[2]),10)||0:d;for(y=y<0?Math.max(d+arguments[2],0):Math.min(y,d);p<y;)l[p]=s,++p;return l},writable:!0}),Number.isFinite=Number.isFinite||function(s){return"number"==typeof s&&isFinite(s)},Number.isInteger=Number.isInteger||function(s){return"number"==typeof s&&isFinite(s)&&Math.floor(s)===s},Number.parseFloat=Number.parseFloat||parseFloat,Number.isNaN=Number.isNaN||function(s){return s!=s},Math.trunc=Math.trunc||function(s){return s<0?Math.ceil(s):Math.floor(s)};var z=function(){};z.prototype.interfaces_=function(){return[]},z.prototype.getClass=function(){return z},z.prototype.equalsWithTolerance=function(s,l,d){return Math.abs(s-l)<=d};var R=function(s){function l(d){s.call(this,d),this.name="IllegalArgumentException",this.message=d,this.stack=(new s).stack}return s&&(l.__proto__=s),(l.prototype=Object.create(s&&s.prototype)).constructor=l,l}(Error),V=function(){},J={MAX_VALUE:{configurable:!0}};V.isNaN=function(s){return Number.isNaN(s)},V.doubleToLongBits=function(s){return s},V.longBitsToDouble=function(s){return s},V.isInfinite=function(s){return!Number.isFinite(s)},J.MAX_VALUE.get=function(){return Number.MAX_VALUE},Object.defineProperties(V,J);var Q=function(){},ee=function(){},ie=function(){},W=function s(){if(this.x=null,this.y=null,this.z=null,0===arguments.length)this.x=0,this.y=0,this.z=s.NULL_ORDINATE;else if(1===arguments.length){var l=arguments[0];this.x=l.x,this.y=l.y,this.z=l.z}else 2===arguments.length?(this.x=arguments[0],this.y=arguments[1],this.z=s.NULL_ORDINATE):3===arguments.length&&(this.x=arguments[0],this.y=arguments[1],this.z=arguments[2])},De={DimensionalComparator:{configurable:!0},serialVersionUID:{configurable:!0},NULL_ORDINATE:{configurable:!0},X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0}};W.prototype.setOrdinate=function(s,l){switch(s){case W.X:this.x=l;break;case W.Y:this.y=l;break;case W.Z:this.z=l;break;default:throw new R("Invalid ordinate index: "+s)}},W.prototype.equals2D=function(){if(1===arguments.length){var s=arguments[0];return this.x===s.x&&this.y===s.y}if(2===arguments.length){var l=arguments[0],d=arguments[1];return!!z.equalsWithTolerance(this.x,l.x,d)&&!!z.equalsWithTolerance(this.y,l.y,d)}},W.prototype.getOrdinate=function(s){switch(s){case W.X:return this.x;case W.Y:return this.y;case W.Z:return this.z}throw new R("Invalid ordinate index: "+s)},W.prototype.equals3D=function(s){return this.x===s.x&&this.y===s.y&&(this.z===s.z||V.isNaN(this.z))&&V.isNaN(s.z)},W.prototype.equals=function(s){return s instanceof W&&this.equals2D(s)},W.prototype.equalInZ=function(s,l){return z.equalsWithTolerance(this.z,s.z,l)},W.prototype.compareTo=function(s){return this.x<s.x?-1:this.x>s.x?1:this.y<s.y?-1:this.y>s.y?1:0},W.prototype.clone=function(){},W.prototype.copy=function(){return new W(this)},W.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+")"},W.prototype.distance3D=function(s){var l=this.x-s.x,d=this.y-s.y,p=this.z-s.z;return Math.sqrt(l*l+d*d+p*p)},W.prototype.distance=function(s){var l=this.x-s.x,d=this.y-s.y;return Math.sqrt(l*l+d*d)},W.prototype.hashCode=function(){var s=17;return 37*(s=37*s+W.hashCode(this.x))+W.hashCode(this.y)},W.prototype.setCoordinate=function(s){this.x=s.x,this.y=s.y,this.z=s.z},W.prototype.interfaces_=function(){return[Q,ee,F]},W.prototype.getClass=function(){return W},W.hashCode=function(){if(1===arguments.length){var l=V.doubleToLongBits(arguments[0]);return Math.trunc((l^l)>>>32)}},De.DimensionalComparator.get=function(){return ge},De.serialVersionUID.get=function(){return 0x5cbf2c235c7e5800},De.NULL_ORDINATE.get=function(){return V.NaN},De.X.get=function(){return 0},De.Y.get=function(){return 1},De.Z.get=function(){return 2},Object.defineProperties(W,De);var ge=function(s){if(this._dimensionsToTest=2,0!==arguments.length&&1===arguments.length){var l=arguments[0];if(2!==l&&3!==l)throw new R("only 2 or 3 dimensions may be specified");this._dimensionsToTest=l}};ge.prototype.compare=function(s,l){var d=s,p=l,y=ge.compare(d.x,p.x);if(0!==y)return y;var S=ge.compare(d.y,p.y);return 0!==S?S:this._dimensionsToTest<=2?0:ge.compare(d.z,p.z)},ge.prototype.interfaces_=function(){return[ie]},ge.prototype.getClass=function(){return ge},ge.compare=function(s,l){return s<l?-1:s>l?1:V.isNaN(s)?V.isNaN(l)?0:-1:V.isNaN(l)?1:0};var Ee=function(){};Ee.prototype.create=function(){},Ee.prototype.interfaces_=function(){return[]},Ee.prototype.getClass=function(){return Ee};var de=function(){},Qe={INTERIOR:{configurable:!0},BOUNDARY:{configurable:!0},EXTERIOR:{configurable:!0},NONE:{configurable:!0}};de.prototype.interfaces_=function(){return[]},de.prototype.getClass=function(){return de},de.toLocationSymbol=function(s){switch(s){case de.EXTERIOR:return"e";case de.BOUNDARY:return"b";case de.INTERIOR:return"i";case de.NONE:return"-"}throw new R("Unknown location value: "+s)},Qe.INTERIOR.get=function(){return 0},Qe.BOUNDARY.get=function(){return 1},Qe.EXTERIOR.get=function(){return 2},Qe.NONE.get=function(){return-1},Object.defineProperties(de,Qe);var We=function(s,l){return s.interfaces_&&s.interfaces_().indexOf(l)>-1},we=function(){},Me={LOG_10:{configurable:!0}};we.prototype.interfaces_=function(){return[]},we.prototype.getClass=function(){return we},we.log10=function(s){var l=Math.log(s);return V.isInfinite(l)||V.isNaN(l)?l:l/we.LOG_10},we.min=function(s,l,d,p){var y=s;return l<y&&(y=l),d<y&&(y=d),p<y&&(y=p),y},we.clamp=function(){if("number"==typeof arguments[2]&&"number"==typeof arguments[0]&&"number"==typeof arguments[1]){var s=arguments[0],l=arguments[1],d=arguments[2];return s<l?l:s>d?d:s}if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var p=arguments[0],y=arguments[1],S=arguments[2];return p<y?y:p>S?S:p}},we.wrap=function(s,l){return s<0?l- -s%l:s%l},we.max=function(){if(3===arguments.length){var l=arguments[1],d=arguments[2],p=arguments[0];return l>p&&(p=l),d>p&&(p=d),p}if(4===arguments.length){var S=arguments[1],N=arguments[2],te=arguments[3],xe=arguments[0];return S>xe&&(xe=S),N>xe&&(xe=N),te>xe&&(xe=te),xe}},we.average=function(s,l){return(s+l)/2},Me.LOG_10.get=function(){return Math.log(10)},Object.defineProperties(we,Me);var be=function(s){this.str=s};be.prototype.append=function(s){this.str+=s},be.prototype.setCharAt=function(s,l){this.str=this.str.substr(0,s)+l+this.str.substr(s+1)},be.prototype.toString=function(s){return this.str};var Se=function(s){this.value=s};Se.prototype.intValue=function(){return this.value},Se.prototype.compareTo=function(s){return this.value<s?-1:this.value>s?1:0},Se.isNaN=function(s){return Number.isNaN(s)};var Fe=function(){};Fe.isWhitespace=function(s){return s<=32&&s>=0||127===s},Fe.toUpperCase=function(s){return s.toUpperCase()};var me=function s(){this._hi=0,this._lo=0,0===arguments.length?this.init(0):1===arguments.length?"number"==typeof arguments[0]||arguments[0]instanceof s?this.init(arguments[0]):"string"==typeof arguments[0]&&s.call(this,s.parse(arguments[0])):2===arguments.length&&this.init(arguments[0],arguments[1])},rt={PI:{configurable:!0},TWO_PI:{configurable:!0},PI_2:{configurable:!0},E:{configurable:!0},NaN:{configurable:!0},EPS:{configurable:!0},SPLIT:{configurable:!0},MAX_PRINT_DIGITS:{configurable:!0},TEN:{configurable:!0},ONE:{configurable:!0},SCI_NOT_EXPONENT_CHAR:{configurable:!0},SCI_NOT_ZERO:{configurable:!0}};me.prototype.le=function(s){return(this._hi<s._hi||this._hi===s._hi)&&this._lo<=s._lo},me.prototype.extractSignificantDigits=function(s,l){var d=this.abs(),p=me.magnitude(d._hi),y=me.TEN.pow(p);(d=d.divide(y)).gt(me.TEN)?(d=d.divide(me.TEN),p+=1):d.lt(me.ONE)&&(d=d.multiply(me.TEN),p-=1);for(var S=p+1,N=new be,te=me.MAX_PRINT_DIGITS-1,xe=0;xe<=te;xe++){s&&xe===S&&N.append(".");var je=Math.trunc(d._hi);if(je<0)break;var ot=!1,lt=0;je>9?(ot=!0,lt="9"):lt="0"+je,N.append(lt),d=d.subtract(me.valueOf(je)).multiply(me.TEN),ot&&d.selfAdd(me.TEN);var Tt=!0,At=me.magnitude(d._hi);if(At<0&&Math.abs(At)>=te-xe&&(Tt=!1),!Tt)break}return l[0]=p,N.toString()},me.prototype.sqr=function(){return this.multiply(this)},me.prototype.doubleValue=function(){return this._hi+this._lo},me.prototype.subtract=function(){return arguments[0]instanceof me?this.add(arguments[0].negate()):"number"==typeof arguments[0]?this.add(-arguments[0]):void 0},me.prototype.equals=function(){if(1===arguments.length){var s=arguments[0];return this._hi===s._hi&&this._lo===s._lo}},me.prototype.isZero=function(){return 0===this._hi&&0===this._lo},me.prototype.selfSubtract=function(){if(arguments[0]instanceof me){var s=arguments[0];return this.isNaN()?this:this.selfAdd(-s._hi,-s._lo)}if("number"==typeof arguments[0]){var l=arguments[0];return this.isNaN()?this:this.selfAdd(-l,0)}},me.prototype.getSpecialNumberString=function(){return this.isZero()?"0.0":this.isNaN()?"NaN ":null},me.prototype.min=function(s){return this.le(s)?this:s},me.prototype.selfDivide=function(){if(1===arguments.length){if(arguments[0]instanceof me){var s=arguments[0];return this.selfDivide(s._hi,s._lo)}if("number"==typeof arguments[0])return this.selfDivide(arguments[0],0)}else if(2===arguments.length){var S,te,xe,ot,d=arguments[0],y=null,N=null,je=null,lt=null;return this._hi=lt=(xe=this._hi/d)+(je=(this._hi-(ot=xe*d)-(lt=(y=(je=me.SPLIT*xe)-(y=je-xe))*(N=(lt=me.SPLIT*d)-(N=lt-d))-ot+y*(te=d-N)+(S=xe-y)*N+S*te)+this._lo-xe*arguments[1])/d),this._lo=xe-lt+je,this}},me.prototype.dump=function(){return"DD<"+this._hi+", "+this._lo+">"},me.prototype.divide=function(){if(arguments[0]instanceof me){var d,y,S,te,s=arguments[0],l=null,p=null,N=null,xe=null;return d=(S=this._hi/s._hi)-(l=(N=me.SPLIT*S)-(l=N-S)),xe=l*(p=(xe=me.SPLIT*s._hi)-(p=xe-s._hi))-(te=S*s._hi)+l*(y=s._hi-p)+d*p+d*y,new me(xe=S+(N=(this._hi-te-xe+this._lo-S*s._lo)/s._hi),S-xe+N)}if("number"==typeof arguments[0]){var je=arguments[0];return V.isNaN(je)?me.createNaN():me.copy(this).selfDivide(je,0)}},me.prototype.ge=function(s){return(this._hi>s._hi||this._hi===s._hi)&&this._lo>=s._lo},me.prototype.pow=function(s){if(0===s)return me.valueOf(1);var l=new me(this),d=me.valueOf(1),p=Math.abs(s);if(p>1)for(;p>0;)p%2==1&&d.selfMultiply(l),(p/=2)>0&&(l=l.sqr());else d=l;return s<0?d.reciprocal():d},me.prototype.ceil=function(){if(this.isNaN())return me.NaN;var s=Math.ceil(this._hi),l=0;return s===this._hi&&(l=Math.ceil(this._lo)),new me(s,l)},me.prototype.compareTo=function(s){return this._hi<s._hi?-1:this._hi>s._hi?1:this._lo<s._lo?-1:this._lo>s._lo?1:0},me.prototype.rint=function(){return this.isNaN()?this:this.add(.5).floor()},me.prototype.setValue=function(){return arguments[0]instanceof me||"number"==typeof arguments[0]?(this.init(arguments[0]),this):void 0},me.prototype.max=function(s){return this.ge(s)?this:s},me.prototype.sqrt=function(){if(this.isZero())return me.valueOf(0);if(this.isNegative())return me.NaN;var s=1/Math.sqrt(this._hi),d=me.valueOf(this._hi*s),p=this.subtract(d.sqr())._hi*(.5*s);return d.add(p)},me.prototype.selfAdd=function(){if(1===arguments.length){if(arguments[0]instanceof me){var s=arguments[0];return this.selfAdd(s._hi,s._lo)}if("number"==typeof arguments[0]){var d,p,y,N,te,l=arguments[0];return this._hi=(d=(y=this._hi+l)+(te=l-(N=y-this._hi)+(this._hi-(y-N))+this._lo))+(p=te+(y-d)),this._lo=p+(d-this._hi),this}}else if(2===arguments.length){var ot,lt,At,ti,xe=arguments[0],je=arguments[1],Tt=null,Xt=null,fn=null;Xt=(At=this._hi+xe)-(fn=At-this._hi),Tt=(lt=this._lo+je)-(ti=lt-this._lo);var go=(ot=At+(fn=(Xt=xe-fn+(this._hi-Xt))+lt))+(fn=(Tt=je-ti+(this._lo-Tt))+(fn+(At-ot))),hs=fn+(ot-go);return this._hi=go,this._lo=hs,this}},me.prototype.selfMultiply=function(){if(1===arguments.length){if(arguments[0]instanceof me){var s=arguments[0];return this.selfMultiply(s._hi,s._lo)}if("number"==typeof arguments[0])return this.selfMultiply(arguments[0],0)}else if(2===arguments.length){var S,te,d=arguments[0],y=null,N=null,xe=null,je=null;y=(xe=me.SPLIT*this._hi)-this._hi,y=xe-y;var ot=(xe=this._hi*d)+(je=y*(N=(je=me.SPLIT*d)-(N=je-d))-xe+y*(te=d-N)+(S=this._hi-y)*N+S*te+(this._hi*arguments[1]+this._lo*d)),lt=je+(y=xe-ot);return this._hi=ot,this._lo=lt,this}},me.prototype.selfSqr=function(){return this.selfMultiply(this)},me.prototype.floor=function(){if(this.isNaN())return me.NaN;var s=Math.floor(this._hi),l=0;return s===this._hi&&(l=Math.floor(this._lo)),new me(s,l)},me.prototype.negate=function(){return this.isNaN()?this:new me(-this._hi,-this._lo)},me.prototype.clone=function(){},me.prototype.multiply=function(){if(arguments[0]instanceof me){var s=arguments[0];return s.isNaN()?me.createNaN():me.copy(this).selfMultiply(s)}if("number"==typeof arguments[0]){var l=arguments[0];return V.isNaN(l)?me.createNaN():me.copy(this).selfMultiply(l,0)}},me.prototype.isNaN=function(){return V.isNaN(this._hi)},me.prototype.intValue=function(){return Math.trunc(this._hi)},me.prototype.toString=function(){var s=me.magnitude(this._hi);return s>=-3&&s<=20?this.toStandardNotation():this.toSciNotation()},me.prototype.toStandardNotation=function(){var s=this.getSpecialNumberString();if(null!==s)return s;var l=new Array(1).fill(null),d=this.extractSignificantDigits(!0,l),p=l[0]+1,y=d;return"."===d.charAt(0)?y="0"+d:p<0?y="0."+me.stringOfChar("0",-p)+d:-1===d.indexOf(".")&&(y=d+me.stringOfChar("0",p-d.length)+".0"),this.isNegative()?"-"+y:y},me.prototype.reciprocal=function(){var l,p,y,N,s=null,d=null,S=null,te=null;l=(y=1/this._hi)-(s=(S=me.SPLIT*y)-(s=S-y)),d=(te=me.SPLIT*this._hi)-this._hi;var xe=y+(S=(1-(N=y*this._hi)-(te=s*(d=te-d)-N+s*(p=this._hi-d)+l*d+l*p)-y*this._lo)/this._hi);return new me(xe,y-xe+S)},me.prototype.toSciNotation=function(){if(this.isZero())return me.SCI_NOT_ZERO;var s=this.getSpecialNumberString();if(null!==s)return s;var l=new Array(1).fill(null),d=this.extractSignificantDigits(!1,l),p=me.SCI_NOT_EXPONENT_CHAR+l[0];if("0"===d.charAt(0))throw new Error("Found leading zero: "+d);var y="";d.length>1&&(y=d.substring(1));var S=d.charAt(0)+"."+y;return this.isNegative()?"-"+S+p:S+p},me.prototype.abs=function(){return this.isNaN()?me.NaN:this.isNegative()?this.negate():new me(this)},me.prototype.isPositive=function(){return(this._hi>0||0===this._hi)&&this._lo>0},me.prototype.lt=function(s){return(this._hi<s._hi||this._hi===s._hi)&&this._lo<s._lo},me.prototype.add=function(){if(arguments[0]instanceof me){var s=arguments[0];return me.copy(this).selfAdd(s)}if("number"==typeof arguments[0]){var l=arguments[0];return me.copy(this).selfAdd(l)}},me.prototype.init=function(){if(1===arguments.length){if("number"==typeof arguments[0])this._hi=arguments[0],this._lo=0;else if(arguments[0]instanceof me){var l=arguments[0];this._hi=l._hi,this._lo=l._lo}}else if(2===arguments.length){var p=arguments[1];this._hi=arguments[0],this._lo=p}},me.prototype.gt=function(s){return(this._hi>s._hi||this._hi===s._hi)&&this._lo>s._lo},me.prototype.isNegative=function(){return(this._hi<0||0===this._hi)&&this._lo<0},me.prototype.trunc=function(){return this.isNaN()?me.NaN:this.isPositive()?this.floor():this.ceil()},me.prototype.signum=function(){return this._hi>0?1:this._hi<0?-1:this._lo>0?1:this._lo<0?-1:0},me.prototype.interfaces_=function(){return[F,Q,ee]},me.prototype.getClass=function(){return me},me.sqr=function(s){return me.valueOf(s).selfMultiply(s)},me.valueOf=function(){return"string"==typeof arguments[0]?me.parse(arguments[0]):"number"==typeof arguments[0]?new me(arguments[0]):void 0},me.sqrt=function(s){return me.valueOf(s).sqrt()},me.parse=function(s){for(var l=0,d=s.length;Fe.isWhitespace(s.charAt(l));)l++;var p=!1;if(l<d){var y=s.charAt(l);"-"!==y&&"+"!==y||(l++,"-"===y&&(p=!0))}for(var S=new me,N=0,te=0,xe=0;!(l>=d);){var je=s.charAt(l);if(l++,Fe.isDigit(je)){var ot=je-"0";S.selfMultiply(me.TEN),S.selfAdd(ot),N++}else{if("."!==je){if("e"===je||"E"===je){var lt=s.substring(l);try{xe=Se.parseInt(lt)}catch(ti){throw ti instanceof Error?new Error("Invalid exponent "+lt+" in string "+s):ti}break}throw new Error("Unexpected character '"+je+"' at position "+l+" in string "+s)}te=N}}var Tt=S,At=N-te-xe;if(0===At)Tt=S;else if(At>0){var Xt=me.TEN.pow(At);Tt=S.divide(Xt)}else if(At<0){var fn=me.TEN.pow(-At);Tt=S.multiply(fn)}return p?Tt.negate():Tt},me.createNaN=function(){return new me(V.NaN,V.NaN)},me.copy=function(s){return new me(s)},me.magnitude=function(s){var l=Math.abs(s),d=Math.log(l)/Math.log(10),p=Math.trunc(Math.floor(d));return 10*Math.pow(10,p)<=l&&(p+=1),p},me.stringOfChar=function(s,l){for(var d=new be,p=0;p<l;p++)d.append(s);return d.toString()},rt.PI.get=function(){return new me(3.141592653589793,12246467991473532e-32)},rt.TWO_PI.get=function(){return new me(6.283185307179586,24492935982947064e-32)},rt.PI_2.get=function(){return new me(1.5707963267948966,6123233995736766e-32)},rt.E.get=function(){return new me(2.718281828459045,14456468917292502e-32)},rt.NaN.get=function(){return new me(V.NaN,V.NaN)},rt.EPS.get=function(){return 123259516440783e-46},rt.SPLIT.get=function(){return 134217729},rt.MAX_PRINT_DIGITS.get=function(){return 32},rt.TEN.get=function(){return me.valueOf(10)},rt.ONE.get=function(){return me.valueOf(1)},rt.SCI_NOT_EXPONENT_CHAR.get=function(){return"E"},rt.SCI_NOT_ZERO.get=function(){return"0.0E0"},Object.defineProperties(me,rt);var qe=function(){},dt={DP_SAFE_EPSILON:{configurable:!0}};qe.prototype.interfaces_=function(){return[]},qe.prototype.getClass=function(){return qe},qe.orientationIndex=function(s,l,d){var p=qe.orientationIndexFilter(s,l,d);if(p<=1)return p;var y=me.valueOf(l.x).selfAdd(-s.x),S=me.valueOf(l.y).selfAdd(-s.y),N=me.valueOf(d.x).selfAdd(-l.x),te=me.valueOf(d.y).selfAdd(-l.y);return y.selfMultiply(te).selfSubtract(S.selfMultiply(N)).signum()},qe.signOfDet2x2=function(s,l,d,p){return s.multiply(p).selfSubtract(l.multiply(d)).signum()},qe.intersection=function(s,l,d,p){var y=me.valueOf(p.y).selfSubtract(d.y).selfMultiply(me.valueOf(l.x).selfSubtract(s.x)),S=me.valueOf(p.x).selfSubtract(d.x).selfMultiply(me.valueOf(l.y).selfSubtract(s.y)),N=y.subtract(S),te=me.valueOf(p.x).selfSubtract(d.x).selfMultiply(me.valueOf(s.y).selfSubtract(d.y)),xe=me.valueOf(p.y).selfSubtract(d.y).selfMultiply(me.valueOf(s.x).selfSubtract(d.x)),je=te.subtract(xe).selfDivide(N).doubleValue(),ot=me.valueOf(s.x).selfAdd(me.valueOf(l.x).selfSubtract(s.x).selfMultiply(je)).doubleValue(),lt=me.valueOf(l.x).selfSubtract(s.x).selfMultiply(me.valueOf(s.y).selfSubtract(d.y)),Tt=me.valueOf(l.y).selfSubtract(s.y).selfMultiply(me.valueOf(s.x).selfSubtract(d.x)),At=lt.subtract(Tt).selfDivide(N).doubleValue(),Xt=me.valueOf(d.y).selfAdd(me.valueOf(p.y).selfSubtract(d.y).selfMultiply(At)).doubleValue();return new W(ot,Xt)},qe.orientationIndexFilter=function(s,l,d){var p=null,y=(s.x-d.x)*(l.y-d.y),S=(s.y-d.y)*(l.x-d.x),N=y-S;if(y>0){if(S<=0)return qe.signum(N);p=y+S}else{if(!(y<0)||S>=0)return qe.signum(N);p=-y-S}var te=qe.DP_SAFE_EPSILON*p;return N>=te||-N>=te?qe.signum(N):2},qe.signum=function(s){return s>0?1:s<0?-1:0},dt.DP_SAFE_EPSILON.get=function(){return 1e-15},Object.defineProperties(qe,dt);var $e=function(){},Rt={X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0},M:{configurable:!0}};Rt.X.get=function(){return 0},Rt.Y.get=function(){return 1},Rt.Z.get=function(){return 2},Rt.M.get=function(){return 3},$e.prototype.setOrdinate=function(s,l,d){},$e.prototype.size=function(){},$e.prototype.getOrdinate=function(s,l){},$e.prototype.getCoordinate=function(){},$e.prototype.getCoordinateCopy=function(s){},$e.prototype.getDimension=function(){},$e.prototype.getX=function(s){},$e.prototype.clone=function(){},$e.prototype.expandEnvelope=function(s){},$e.prototype.copy=function(){},$e.prototype.getY=function(s){},$e.prototype.toCoordinateArray=function(){},$e.prototype.interfaces_=function(){return[ee]},$e.prototype.getClass=function(){return $e},Object.defineProperties($e,Rt);var Et=function(){},Dt=function(s){function l(){s.call(this,"Projective point not representable on the Cartesian plane.")}return s&&(l.__proto__=s),(l.prototype=Object.create(s&&s.prototype)).constructor=l,l.prototype.interfaces_=function(){return[]},l.prototype.getClass=function(){return l},l}(Et),Ft=function(){};Ft.arraycopy=function(s,l,d,p,y){for(var S=0,N=l;N<l+y;N++)d[p+S]=s[N],S++},Ft.getProperty=function(s){return{"line.separator":"\n"}[s]};var yt=function s(){if(this.x=null,this.y=null,this.w=null,0===arguments.length)this.x=0,this.y=0,this.w=1;else if(1===arguments.length){var l=arguments[0];this.x=l.x,this.y=l.y,this.w=1}else if(2===arguments.length){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var p=arguments[1];this.x=arguments[0],this.y=p,this.w=1}else if(arguments[0]instanceof s&&arguments[1]instanceof s){var y=arguments[0],S=arguments[1];this.x=y.y*S.w-S.y*y.w,this.y=S.x*y.w-y.x*S.w,this.w=y.x*S.y-S.x*y.y}else if(arguments[0]instanceof W&&arguments[1]instanceof W){var N=arguments[0],te=arguments[1];this.x=N.y-te.y,this.y=te.x-N.x,this.w=N.x*te.y-te.x*N.y}}else if(3===arguments.length){var je=arguments[1],ot=arguments[2];this.x=arguments[0],this.y=je,this.w=ot}else if(4===arguments.length){var lt=arguments[0],Tt=arguments[1],At=arguments[2],Xt=arguments[3],fn=lt.y-Tt.y,ti=Tt.x-lt.x,go=lt.x*Tt.y-Tt.x*lt.y,hs=At.y-Xt.y,fs=Xt.x-At.x,fl=At.x*Xt.y-Xt.x*At.y;this.x=ti*fl-fs*go,this.y=hs*go-fn*fl,this.w=fn*fs-hs*ti}};yt.prototype.getY=function(){var s=this.y/this.w;if(V.isNaN(s)||V.isInfinite(s))throw new Dt;return s},yt.prototype.getX=function(){var s=this.x/this.w;if(V.isNaN(s)||V.isInfinite(s))throw new Dt;return s},yt.prototype.getCoordinate=function(){var s=new W;return s.x=this.getX(),s.y=this.getY(),s},yt.prototype.interfaces_=function(){return[]},yt.prototype.getClass=function(){return yt},yt.intersection=function(s,l,d,p){var y=s.y-l.y,S=l.x-s.x,N=s.x*l.y-l.x*s.y,te=d.y-p.y,xe=p.x-d.x,je=d.x*p.y-p.x*d.y,ot=y*xe-te*S,lt=(S*je-xe*N)/ot,Tt=(te*N-y*je)/ot;if(V.isNaN(lt)||V.isInfinite(lt)||V.isNaN(Tt)||V.isInfinite(Tt))throw new Dt;return new W(lt,Tt)};var vt=function s(){if(this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,0===arguments.length)this.init();else if(1===arguments.length)if(arguments[0]instanceof W){var l=arguments[0];this.init(l.x,l.x,l.y,l.y)}else arguments[0]instanceof s&&this.init(arguments[0]);else if(2===arguments.length){var p=arguments[0],y=arguments[1];this.init(p.x,y.x,p.y,y.y)}else 4===arguments.length&&this.init(arguments[0],arguments[1],arguments[2],arguments[3])},dr={serialVersionUID:{configurable:!0}};vt.prototype.getArea=function(){return this.getWidth()*this.getHeight()},vt.prototype.equals=function(s){if(!(s instanceof vt))return!1;var l=s;return this.isNull()?l.isNull():this._maxx===l.getMaxX()&&this._maxy===l.getMaxY()&&this._minx===l.getMinX()&&this._miny===l.getMinY()},vt.prototype.intersection=function(s){return this.isNull()||s.isNull()||!this.intersects(s)?new vt:new vt(this._minx>s._minx?this._minx:s._minx,this._maxx<s._maxx?this._maxx:s._maxx,this._miny>s._miny?this._miny:s._miny,this._maxy<s._maxy?this._maxy:s._maxy)},vt.prototype.isNull=function(){return this._maxx<this._minx},vt.prototype.getMaxX=function(){return this._maxx},vt.prototype.covers=function(){if(1===arguments.length){if(arguments[0]instanceof W){var s=arguments[0];return this.covers(s.x,s.y)}if(arguments[0]instanceof vt){var l=arguments[0];return!this.isNull()&&!l.isNull()&&l.getMinX()>=this._minx&&l.getMaxX()<=this._maxx&&l.getMinY()>=this._miny&&l.getMaxY()<=this._maxy}}else if(2===arguments.length){var d=arguments[0],p=arguments[1];return!this.isNull()&&d>=this._minx&&d<=this._maxx&&p>=this._miny&&p<=this._maxy}},vt.prototype.intersects=function(){if(1===arguments.length){if(arguments[0]instanceof vt){var s=arguments[0];return!this.isNull()&&!s.isNull()&&!(s._minx>this._maxx||s._maxx<this._minx||s._miny>this._maxy||s._maxy<this._miny)}if(arguments[0]instanceof W){var l=arguments[0];return this.intersects(l.x,l.y)}}else if(2===arguments.length){var d=arguments[0],p=arguments[1];return!this.isNull()&&!(d>this._maxx||d<this._minx||p>this._maxy||p<this._miny)}},vt.prototype.getMinY=function(){return this._miny},vt.prototype.getMinX=function(){return this._minx},vt.prototype.expandToInclude=function(){if(1===arguments.length){if(arguments[0]instanceof W){var s=arguments[0];this.expandToInclude(s.x,s.y)}else if(arguments[0]instanceof vt){var l=arguments[0];if(l.isNull())return null;this.isNull()?(this._minx=l.getMinX(),this._maxx=l.getMaxX(),this._miny=l.getMinY(),this._maxy=l.getMaxY()):(l._minx<this._minx&&(this._minx=l._minx),l._maxx>this._maxx&&(this._maxx=l._maxx),l._miny<this._miny&&(this._miny=l._miny),l._maxy>this._maxy&&(this._maxy=l._maxy))}}else if(2===arguments.length){var d=arguments[0],p=arguments[1];this.isNull()?(this._minx=d,this._maxx=d,this._miny=p,this._maxy=p):(d<this._minx&&(this._minx=d),d>this._maxx&&(this._maxx=d),p<this._miny&&(this._miny=p),p>this._maxy&&(this._maxy=p))}},vt.prototype.minExtent=function(){if(this.isNull())return 0;var s=this.getWidth(),l=this.getHeight();return s<l?s:l},vt.prototype.getWidth=function(){return this.isNull()?0:this._maxx-this._minx},vt.prototype.compareTo=function(s){var l=s;return this.isNull()?l.isNull()?0:-1:l.isNull()?1:this._minx<l._minx?-1:this._minx>l._minx?1:this._miny<l._miny?-1:this._miny>l._miny?1:this._maxx<l._maxx?-1:this._maxx>l._maxx?1:this._maxy<l._maxy?-1:this._maxy>l._maxy?1:0},vt.prototype.translate=function(s,l){if(this.isNull())return null;this.init(this.getMinX()+s,this.getMaxX()+s,this.getMinY()+l,this.getMaxY()+l)},vt.prototype.toString=function(){return"Env["+this._minx+" : "+this._maxx+", "+this._miny+" : "+this._maxy+"]"},vt.prototype.setToNull=function(){this._minx=0,this._maxx=-1,this._miny=0,this._maxy=-1},vt.prototype.getHeight=function(){return this.isNull()?0:this._maxy-this._miny},vt.prototype.maxExtent=function(){if(this.isNull())return 0;var s=this.getWidth(),l=this.getHeight();return s>l?s:l},vt.prototype.expandBy=function(){if(1===arguments.length){var s=arguments[0];this.expandBy(s,s)}else if(2===arguments.length){var l=arguments[0],d=arguments[1];if(this.isNull())return null;this._minx-=l,this._maxx+=l,this._miny-=d,this._maxy+=d,(this._minx>this._maxx||this._miny>this._maxy)&&this.setToNull()}},vt.prototype.contains=function(){if(1===arguments.length){if(arguments[0]instanceof vt)return this.covers(arguments[0]);if(arguments[0]instanceof W)return this.covers(arguments[0])}else if(2===arguments.length)return this.covers(arguments[0],arguments[1])},vt.prototype.centre=function(){return this.isNull()?null:new W((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)},vt.prototype.init=function(){if(0===arguments.length)this.setToNull();else if(1===arguments.length){if(arguments[0]instanceof W){var s=arguments[0];this.init(s.x,s.x,s.y,s.y)}else if(arguments[0]instanceof vt){var l=arguments[0];this._minx=l._minx,this._maxx=l._maxx,this._miny=l._miny,this._maxy=l._maxy}}else if(2===arguments.length){var d=arguments[0],p=arguments[1];this.init(d.x,p.x,d.y,p.y)}else if(4===arguments.length){var y=arguments[0],S=arguments[1],N=arguments[2],te=arguments[3];y<S?(this._minx=y,this._maxx=S):(this._minx=S,this._maxx=y),N<te?(this._miny=N,this._maxy=te):(this._miny=te,this._maxy=N)}},vt.prototype.getMaxY=function(){return this._maxy},vt.prototype.distance=function(s){if(this.intersects(s))return 0;var l=0;this._maxx<s._minx?l=s._minx-this._maxx:this._minx>s._maxx&&(l=this._minx-s._maxx);var d=0;return this._maxy<s._miny?d=s._miny-this._maxy:this._miny>s._maxy&&(d=this._miny-s._maxy),0===l?d:0===d?l:Math.sqrt(l*l+d*d)},vt.prototype.hashCode=function(){var s=17;return 37*(s=37*(s=37*(s=37*s+W.hashCode(this._minx))+W.hashCode(this._maxx))+W.hashCode(this._miny))+W.hashCode(this._maxy)},vt.prototype.interfaces_=function(){return[Q,F]},vt.prototype.getClass=function(){return vt},vt.intersects=function(){if(3===arguments.length){var s=arguments[0],l=arguments[1],d=arguments[2];return d.x>=(s.x<l.x?s.x:l.x)&&d.x<=(s.x>l.x?s.x:l.x)&&d.y>=(s.y<l.y?s.y:l.y)&&d.y<=(s.y>l.y?s.y:l.y)}if(4===arguments.length){var p=arguments[0],y=arguments[1],S=arguments[2],N=arguments[3],te=Math.min(S.x,N.x),xe=Math.max(S.x,N.x),je=Math.min(p.x,y.x),ot=Math.max(p.x,y.x);return!(je>xe||ot<te||(te=Math.min(S.y,N.y),xe=Math.max(S.y,N.y),je=Math.min(p.y,y.y),ot=Math.max(p.y,y.y),je>xe||ot<te))}},dr.serialVersionUID.get=function(){return 0x51845cd552189800},Object.defineProperties(vt,dr);var In={typeStr:/^\s*(\w+)\s*\(\s*(.*)\s*\)\s*$/,emptyTypeStr:/^\s*(\w+)\s*EMPTY\s*$/,spaces:/\s+/,parenComma:/\)\s*,\s*\(/,doubleParenComma:/\)\s*\)\s*,\s*\(\s*\(/,trimParens:/^\s*\(?(.*?)\)?\s*$/},jr=function(s){this.geometryFactory=s||new nn};jr.prototype.read=function(s){var l,d;s=s.replace(/[\n\r]/g," ");var y=In.typeStr.exec(s);if(-1!==s.search("EMPTY")&&((y=In.emptyTypeStr.exec(s))[2]=void 0),y&&(d=y[1].toLowerCase(),dn[d]&&(l=dn[d].apply(this,[y[2]]))),void 0===l)throw new Error("Could not parse WKT "+s);return l},jr.prototype.write=function(s){return this.extractGeometry(s)},jr.prototype.extractGeometry=function(s){var l=s.getGeometryType().toLowerCase();if(!Jt[l])return null;var d=l.toUpperCase();return s.isEmpty()?d+" EMPTY":d+"("+Jt[l].apply(this,[s])+")"};var Jt={coordinate:function(s){return s.x+" "+s.y},point:function(s){return Jt.coordinate.call(this,s._coordinates._coordinates[0])},multipoint:function(s){for(var l=[],d=0,p=s._geometries.length;d<p;++d)l.push("("+Jt.point.apply(this,[s._geometries[d]])+")");return l.join(",")},linestring:function(s){for(var l=[],d=0,p=s._points._coordinates.length;d<p;++d)l.push(Jt.coordinate.apply(this,[s._points._coordinates[d]]));return l.join(",")},linearring:function(s){for(var l=[],d=0,p=s._points._coordinates.length;d<p;++d)l.push(Jt.coordinate.apply(this,[s._points._coordinates[d]]));return l.join(",")},multilinestring:function(s){for(var l=[],d=0,p=s._geometries.length;d<p;++d)l.push("("+Jt.linestring.apply(this,[s._geometries[d]])+")");return l.join(",")},polygon:function(s){var l=[];l.push("("+Jt.linestring.apply(this,[s._shell])+")");for(var d=0,p=s._holes.length;d<p;++d)l.push("("+Jt.linestring.apply(this,[s._holes[d]])+")");return l.join(",")},multipolygon:function(s){for(var l=[],d=0,p=s._geometries.length;d<p;++d)l.push("("+Jt.polygon.apply(this,[s._geometries[d]])+")");return l.join(",")},geometrycollection:function(s){for(var l=[],d=0,p=s._geometries.length;d<p;++d)l.push(this.extractGeometry(s._geometries[d]));return l.join(",")}},dn={point:function(s){if(void 0===s)return this.geometryFactory.createPoint();var l=s.trim().split(In.spaces);return this.geometryFactory.createPoint(new W(Number.parseFloat(l[0]),Number.parseFloat(l[1])))},multipoint:function(s){if(void 0===s)return this.geometryFactory.createMultiPoint();for(var l,d=s.trim().split(","),p=[],y=0,S=d.length;y<S;++y)l=d[y].replace(In.trimParens,"$1"),p.push(dn.point.apply(this,[l]));return this.geometryFactory.createMultiPoint(p)},linestring:function(s){if(void 0===s)return this.geometryFactory.createLineString();for(var l,d=s.trim().split(","),p=[],y=0,S=d.length;y<S;++y)l=d[y].trim().split(In.spaces),p.push(new W(Number.parseFloat(l[0]),Number.parseFloat(l[1])));return this.geometryFactory.createLineString(p)},linearring:function(s){if(void 0===s)return this.geometryFactory.createLinearRing();for(var l,d=s.trim().split(","),p=[],y=0,S=d.length;y<S;++y)l=d[y].trim().split(In.spaces),p.push(new W(Number.parseFloat(l[0]),Number.parseFloat(l[1])));return this.geometryFactory.createLinearRing(p)},multilinestring:function(s){if(void 0===s)return this.geometryFactory.createMultiLineString();for(var l,d=s.trim().split(In.parenComma),p=[],y=0,S=d.length;y<S;++y)l=d[y].replace(In.trimParens,"$1"),p.push(dn.linestring.apply(this,[l]));return this.geometryFactory.createMultiLineString(p)},polygon:function(s){if(void 0===s)return this.geometryFactory.createPolygon();for(var l,d,p,y,S=s.trim().split(In.parenComma),N=[],te=0,xe=S.length;te<xe;++te)l=S[te].replace(In.trimParens,"$1"),d=dn.linestring.apply(this,[l]),p=this.geometryFactory.createLinearRing(d._points),0===te?y=p:N.push(p);return this.geometryFactory.createPolygon(y,N)},multipolygon:function(s){if(void 0===s)return this.geometryFactory.createMultiPolygon();for(var l,d=s.trim().split(In.doubleParenComma),p=[],y=0,S=d.length;y<S;++y)l=d[y].replace(In.trimParens,"$1"),p.push(dn.polygon.apply(this,[l]));return this.geometryFactory.createMultiPolygon(p)},geometrycollection:function(s){if(void 0===s)return this.geometryFactory.createGeometryCollection();for(var l=(s=s.replace(/,\s*([A-Za-z])/g,"|$1")).trim().split("|"),d=[],p=0,y=l.length;p<y;++p)d.push(this.read(l[p]));return this.geometryFactory.createGeometryCollection(d)}},Xe=function(s){this.parser=new jr(s)};Xe.prototype.write=function(s){return this.parser.write(s)},Xe.toLineString=function(s,l){if(2!==arguments.length)throw new Error("Not implemented");return"LINESTRING ( "+s.x+" "+s.y+", "+l.x+" "+l.y+" )"};var H=function(s){function l(d){s.call(this,d),this.name="RuntimeException",this.message=d,this.stack=(new s).stack}return s&&(l.__proto__=s),(l.prototype=Object.create(s&&s.prototype)).constructor=l,l}(Error),P=function(s){function l(){s.call(this),0===arguments.length?s.call(this):1===arguments.length&&s.call(this,arguments[0])}return s&&(l.__proto__=s),(l.prototype=Object.create(s&&s.prototype)).constructor=l,l.prototype.interfaces_=function(){return[]},l.prototype.getClass=function(){return l},l}(H),T=function(){};T.prototype.interfaces_=function(){return[]},T.prototype.getClass=function(){return T},T.shouldNeverReachHere=function(){if(0===arguments.length)T.shouldNeverReachHere(null);else if(1===arguments.length){var s=arguments[0];throw new P("Should never reach here"+(null!==s?": "+s:""))}},T.isTrue=function(){var l;if(1===arguments.length)T.isTrue(arguments[0],null);else if(2===arguments.length&&(l=arguments[1],!arguments[0]))throw null===l?new P:new P(l)},T.equals=function(){var s,l,d;if(2===arguments.length)T.equals(s=arguments[0],l=arguments[1],null);else if(3===arguments.length&&(d=arguments[2],!(l=arguments[1]).equals(s=arguments[0])))throw new P("Expected "+s+" but encountered "+l+(null!==d?": "+d:""))};var G=function(){this._result=null,this._inputLines=Array(2).fill().map(function(){return Array(2)}),this._intPt=new Array(2).fill(null),this._intLineIndex=null,this._isProper=null,this._pa=null,this._pb=null,this._precisionModel=null,this._intPt[0]=new W,this._intPt[1]=new W,this._pa=this._intPt[0],this._pb=this._intPt[1],this._result=0},re={DONT_INTERSECT:{configurable:!0},DO_INTERSECT:{configurable:!0},COLLINEAR:{configurable:!0},NO_INTERSECTION:{configurable:!0},POINT_INTERSECTION:{configurable:!0},COLLINEAR_INTERSECTION:{configurable:!0}};G.prototype.getIndexAlongSegment=function(s,l){return this.computeIntLineIndex(),this._intLineIndex[s][l]},G.prototype.getTopologySummary=function(){var s=new be;return this.isEndPoint()&&s.append(" endpoint"),this._isProper&&s.append(" proper"),this.isCollinear()&&s.append(" collinear"),s.toString()},G.prototype.computeIntersection=function(s,l,d,p){this._inputLines[0][0]=s,this._inputLines[0][1]=l,this._inputLines[1][0]=d,this._inputLines[1][1]=p,this._result=this.computeIntersect(s,l,d,p)},G.prototype.getIntersectionNum=function(){return this._result},G.prototype.computeIntLineIndex=function(){if(0===arguments.length)null===this._intLineIndex&&(this._intLineIndex=Array(2).fill().map(function(){return Array(2)}),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(1===arguments.length){var s=arguments[0];this.getEdgeDistance(s,0)>this.getEdgeDistance(s,1)?(this._intLineIndex[s][0]=0,this._intLineIndex[s][1]=1):(this._intLineIndex[s][0]=1,this._intLineIndex[s][1]=0)}},G.prototype.isProper=function(){return this.hasIntersection()&&this._isProper},G.prototype.setPrecisionModel=function(s){this._precisionModel=s},G.prototype.isInteriorIntersection=function(){if(0===arguments.length)return!!this.isInteriorIntersection(0)||!!this.isInteriorIntersection(1);if(1===arguments.length){for(var s=arguments[0],l=0;l<this._result;l++)if(!this._intPt[l].equals2D(this._inputLines[s][0])&&!this._intPt[l].equals2D(this._inputLines[s][1]))return!0;return!1}},G.prototype.getIntersection=function(s){return this._intPt[s]},G.prototype.isEndPoint=function(){return this.hasIntersection()&&!this._isProper},G.prototype.hasIntersection=function(){return this._result!==G.NO_INTERSECTION},G.prototype.getEdgeDistance=function(s,l){return G.computeEdgeDistance(this._intPt[l],this._inputLines[s][0],this._inputLines[s][1])},G.prototype.isCollinear=function(){return this._result===G.COLLINEAR_INTERSECTION},G.prototype.toString=function(){return Xe.toLineString(this._inputLines[0][0],this._inputLines[0][1])+" - "+Xe.toLineString(this._inputLines[1][0],this._inputLines[1][1])+this.getTopologySummary()},G.prototype.getEndpoint=function(s,l){return this._inputLines[s][l]},G.prototype.isIntersection=function(s){for(var l=0;l<this._result;l++)if(this._intPt[l].equals2D(s))return!0;return!1},G.prototype.getIntersectionAlongSegment=function(s,l){return this.computeIntLineIndex(),this._intPt[this._intLineIndex[s][l]]},G.prototype.interfaces_=function(){return[]},G.prototype.getClass=function(){return G},G.computeEdgeDistance=function(s,l,d){var p=Math.abs(d.x-l.x),y=Math.abs(d.y-l.y),S=-1;if(s.equals(l))S=0;else if(s.equals(d))S=p>y?p:y;else{var N=Math.abs(s.x-l.x),te=Math.abs(s.y-l.y);0!==(S=p>y?N:te)||s.equals(l)||(S=Math.max(N,te))}return T.isTrue(!(0===S&&!s.equals(l)),"Bad distance calculation"),S},G.nonRobustComputeEdgeDistance=function(s,l,d){var p=s.x-l.x,y=s.y-l.y,S=Math.sqrt(p*p+y*y);return T.isTrue(!(0===S&&!s.equals(l)),"Invalid distance calculation"),S},re.DONT_INTERSECT.get=function(){return 0},re.DO_INTERSECT.get=function(){return 1},re.COLLINEAR.get=function(){return 2},re.NO_INTERSECTION.get=function(){return 0},re.POINT_INTERSECTION.get=function(){return 1},re.COLLINEAR_INTERSECTION.get=function(){return 2},Object.defineProperties(G,re);var pe=function(s){function l(){s.apply(this,arguments)}return s&&(l.__proto__=s),(l.prototype=Object.create(s&&s.prototype)).constructor=l,l.prototype.isInSegmentEnvelopes=function(d){var p=new vt(this._inputLines[0][0],this._inputLines[0][1]),y=new vt(this._inputLines[1][0],this._inputLines[1][1]);return p.contains(d)&&y.contains(d)},l.prototype.computeIntersection=function(){if(3!==arguments.length)return s.prototype.computeIntersection.apply(this,arguments);var d=arguments[0],p=arguments[1],y=arguments[2];if(this._isProper=!1,vt.intersects(p,y,d)&&0===He.orientationIndex(p,y,d)&&0===He.orientationIndex(y,p,d))return this._isProper=!0,(d.equals(p)||d.equals(y))&&(this._isProper=!1),this._result=s.POINT_INTERSECTION,null;this._result=s.NO_INTERSECTION},l.prototype.normalizeToMinimum=function(d,p,y,S,N){N.x=this.smallestInAbsValue(d.x,p.x,y.x,S.x),N.y=this.smallestInAbsValue(d.y,p.y,y.y,S.y),d.x-=N.x,d.y-=N.y,p.x-=N.x,p.y-=N.y,y.x-=N.x,y.y-=N.y,S.x-=N.x,S.y-=N.y},l.prototype.safeHCoordinateIntersection=function(d,p,y,S){var N=null;try{N=yt.intersection(d,p,y,S)}catch(te){if(!(te instanceof Dt))throw te;N=l.nearestEndpoint(d,p,y,S)}return N},l.prototype.intersection=function(d,p,y,S){var N=this.intersectionWithNormalization(d,p,y,S);return this.isInSegmentEnvelopes(N)||(N=new W(l.nearestEndpoint(d,p,y,S))),null!==this._precisionModel&&this._precisionModel.makePrecise(N),N},l.prototype.smallestInAbsValue=function(d,p,y,S){var N=d,te=Math.abs(N);return Math.abs(p)<te&&(N=p,te=Math.abs(p)),Math.abs(y)<te&&(N=y,te=Math.abs(y)),Math.abs(S)<te&&(N=S),N},l.prototype.checkDD=function(d,p,y,S,N){var te=qe.intersection(d,p,y,S),xe=this.isInSegmentEnvelopes(te);Ft.out.println("DD in env = "+xe+"  --------------------- "+te),N.distance(te)>1e-4&&Ft.out.println("Distance = "+N.distance(te))},l.prototype.intersectionWithNormalization=function(d,p,y,S){var N=new W(d),te=new W(p),xe=new W(y),je=new W(S),ot=new W;this.normalizeToEnvCentre(N,te,xe,je,ot);var lt=this.safeHCoordinateIntersection(N,te,xe,je);return lt.x+=ot.x,lt.y+=ot.y,lt},l.prototype.computeCollinearIntersection=function(d,p,y,S){var N=vt.intersects(d,p,y),te=vt.intersects(d,p,S),xe=vt.intersects(y,S,d),je=vt.intersects(y,S,p);return N&&te?(this._intPt[0]=y,this._intPt[1]=S,s.COLLINEAR_INTERSECTION):xe&&je?(this._intPt[0]=d,this._intPt[1]=p,s.COLLINEAR_INTERSECTION):N&&xe?(this._intPt[0]=y,this._intPt[1]=d,!y.equals(d)||te||je?s.COLLINEAR_INTERSECTION:s.POINT_INTERSECTION):N&&je?(this._intPt[0]=y,this._intPt[1]=p,!y.equals(p)||te||xe?s.COLLINEAR_INTERSECTION:s.POINT_INTERSECTION):te&&xe?(this._intPt[0]=S,this._intPt[1]=d,!S.equals(d)||N||je?s.COLLINEAR_INTERSECTION:s.POINT_INTERSECTION):te&&je?(this._intPt[0]=S,this._intPt[1]=p,!S.equals(p)||N||xe?s.COLLINEAR_INTERSECTION:s.POINT_INTERSECTION):s.NO_INTERSECTION},l.prototype.normalizeToEnvCentre=function(d,p,y,S,N){var te=d.x<p.x?d.x:p.x,xe=d.y<p.y?d.y:p.y,je=d.x>p.x?d.x:p.x,ot=d.y>p.y?d.y:p.y,lt=y.x<S.x?y.x:S.x,Tt=y.y<S.y?y.y:S.y,At=y.x>S.x?y.x:S.x,Xt=y.y>S.y?y.y:S.y,ti=((xe>Tt?xe:Tt)+(ot<Xt?ot:Xt))/2;N.x=((te>lt?te:lt)+(je<At?je:At))/2,N.y=ti,d.x-=N.x,d.y-=N.y,p.x-=N.x,p.y-=N.y,y.x-=N.x,y.y-=N.y,S.x-=N.x,S.y-=N.y},l.prototype.computeIntersect=function(d,p,y,S){if(this._isProper=!1,!vt.intersects(d,p,y,S))return s.NO_INTERSECTION;var N=He.orientationIndex(d,p,y),te=He.orientationIndex(d,p,S);if(N>0&&te>0||N<0&&te<0)return s.NO_INTERSECTION;var xe=He.orientationIndex(y,S,d),je=He.orientationIndex(y,S,p);return xe>0&&je>0||xe<0&&je<0?s.NO_INTERSECTION:0===N&&0===te&&0===xe&&0===je?this.computeCollinearIntersection(d,p,y,S):(0===N||0===te||0===xe||0===je?(this._isProper=!1,d.equals2D(y)||d.equals2D(S)?this._intPt[0]=d:p.equals2D(y)||p.equals2D(S)?this._intPt[0]=p:0===N?this._intPt[0]=new W(y):0===te?this._intPt[0]=new W(S):0===xe?this._intPt[0]=new W(d):0===je&&(this._intPt[0]=new W(p))):(this._isProper=!0,this._intPt[0]=this.intersection(d,p,y,S)),s.POINT_INTERSECTION)},l.prototype.interfaces_=function(){return[]},l.prototype.getClass=function(){return l},l.nearestEndpoint=function(d,p,y,S){var N=d,te=He.distancePointLine(d,y,S),xe=He.distancePointLine(p,y,S);return xe<te&&(te=xe,N=p),(xe=He.distancePointLine(y,d,p))<te&&(te=xe,N=y),(xe=He.distancePointLine(S,d,p))<te&&(te=xe,N=S),N},l}(G),Ve=function(){};Ve.prototype.interfaces_=function(){return[]},Ve.prototype.getClass=function(){return Ve},Ve.orientationIndex=function(s,l,d){return Ve.signOfDet2x2(l.x-s.x,l.y-s.y,d.x-l.x,d.y-l.y)},Ve.signOfDet2x2=function(s,l,d,p){var y=null,S=null,N=null;if(y=1,0===s||0===p)return 0===l||0===d?0:l>0?d>0?-y:y:d>0?y:-y;if(0===l||0===d)return p>0?s>0?y:-y:s>0?-y:y;if(l>0?p>0?l<=p||(y=-y,S=s,s=d,d=S,S=l,l=p,p=S):l<=-p?(y=-y,d=-d,p=-p):(S=s,s=-d,d=S,S=l,l=-p,p=S):p>0?-l<=p?(y=-y,s=-s,l=-l):(S=-s,s=d,d=S,S=-l,l=p,p=S):l>=p?(s=-s,l=-l,d=-d,p=-p):(y=-y,S=-s,s=-d,d=S,S=-l,l=-p,p=S),s>0){if(!(d>0&&s<=d))return y}else{if(d>0||!(s>=d))return-y;y=-y,s=-s,d=-d}for(;;){if((p-=(N=Math.floor(d/s))*l)<0)return-y;if(p>l)return y;if(s>(d-=N*s)+d){if(l<p+p)return y}else{if(l>p+p)return-y;d=s-d,p=l-p,y=-y}if(0===p)return 0===d?0:-y;if(0===d||(s-=(N=Math.floor(s/d))*d,(l-=N*p)<0))return y;if(l>p)return-y;if(d>s+s){if(p<l+l)return-y}else{if(p>l+l)return y;s=d-s,l=p-l,y=-y}if(0===l)return 0===s?0:y;if(0===s)return-y}};var Ge=function(){this._p=null,this._crossingCount=0,this._isPointOnSegment=!1,this._p=arguments[0]};Ge.prototype.countSegment=function(s,l){if(s.x<this._p.x&&l.x<this._p.x)return null;if(this._p.x===l.x&&this._p.y===l.y)return this._isPointOnSegment=!0,null;if(s.y===this._p.y&&l.y===this._p.y){var d=s.x,p=l.x;return d>p&&(d=l.x,p=s.x),this._p.x>=d&&this._p.x<=p&&(this._isPointOnSegment=!0),null}if(s.y>this._p.y&&l.y<=this._p.y||l.y>this._p.y&&s.y<=this._p.y){var S=s.y-this._p.y,te=l.y-this._p.y,xe=Ve.signOfDet2x2(s.x-this._p.x,S,l.x-this._p.x,te);if(0===xe)return this._isPointOnSegment=!0,null;te<S&&(xe=-xe),xe>0&&this._crossingCount++}},Ge.prototype.isPointInPolygon=function(){return this.getLocation()!==de.EXTERIOR},Ge.prototype.getLocation=function(){return this._isPointOnSegment?de.BOUNDARY:this._crossingCount%2==1?de.INTERIOR:de.EXTERIOR},Ge.prototype.isOnSegment=function(){return this._isPointOnSegment},Ge.prototype.interfaces_=function(){return[]},Ge.prototype.getClass=function(){return Ge},Ge.locatePointInRing=function(){if(arguments[0]instanceof W&&We(arguments[1],$e)){for(var l=arguments[1],d=new Ge(arguments[0]),p=new W,y=new W,S=1;S<l.size();S++)if(l.getCoordinate(S,p),l.getCoordinate(S-1,y),d.countSegment(p,y),d.isOnSegment())return d.getLocation();return d.getLocation()}if(arguments[0]instanceof W&&arguments[1]instanceof Array){for(var te=arguments[1],xe=new Ge(arguments[0]),je=1;je<te.length;je++)if(xe.countSegment(te[je],te[je-1]),xe.isOnSegment())return xe.getLocation();return xe.getLocation()}};var He=function(){},wt={CLOCKWISE:{configurable:!0},RIGHT:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},LEFT:{configurable:!0},COLLINEAR:{configurable:!0},STRAIGHT:{configurable:!0}};He.prototype.interfaces_=function(){return[]},He.prototype.getClass=function(){return He},He.orientationIndex=function(s,l,d){return qe.orientationIndex(s,l,d)},He.signedArea=function(){if(arguments[0]instanceof Array){var s=arguments[0];if(s.length<3)return 0;for(var l=0,d=s[0].x,p=1;p<s.length-1;p++)l+=(s[p].x-d)*(s[p-1].y-s[p+1].y);return l/2}if(We(arguments[0],$e)){var N=arguments[0],te=N.size();if(te<3)return 0;var xe=new W,je=new W,ot=new W;N.getCoordinate(0,je),N.getCoordinate(1,ot);var lt=je.x;ot.x-=lt;for(var Tt=0,At=1;At<te-1;At++)xe.y=je.y,je.x=ot.x,je.y=ot.y,N.getCoordinate(At+1,ot),ot.x-=lt,Tt+=je.x*(xe.y-ot.y);return Tt/2}},He.distanceLineLine=function(s,l,d,p){if(s.equals(l))return He.distancePointLine(s,d,p);if(d.equals(p))return He.distancePointLine(p,s,l);var y=!1;if(vt.intersects(s,l,d,p)){var S=(l.x-s.x)*(p.y-d.y)-(l.y-s.y)*(p.x-d.x);if(0===S)y=!0;else{var te=((s.y-d.y)*(l.x-s.x)-(s.x-d.x)*(l.y-s.y))/S,xe=((s.y-d.y)*(p.x-d.x)-(s.x-d.x)*(p.y-d.y))/S;(xe<0||xe>1||te<0||te>1)&&(y=!0)}}else y=!0;return y?we.min(He.distancePointLine(s,d,p),He.distancePointLine(l,d,p),He.distancePointLine(d,s,l),He.distancePointLine(p,s,l)):0},He.isPointInRing=function(s,l){return He.locatePointInRing(s,l)!==de.EXTERIOR},He.computeLength=function(s){var l=s.size();if(l<=1)return 0;var d=0,p=new W;s.getCoordinate(0,p);for(var y=p.x,S=p.y,N=1;N<l;N++){s.getCoordinate(N,p);var te=p.x,xe=p.y,je=te-y,ot=xe-S;d+=Math.sqrt(je*je+ot*ot),y=te,S=xe}return d},He.isCCW=function(s){var l=s.length-1;if(l<3)throw new R("Ring has fewer than 4 points, so orientation cannot be determined");for(var d=s[0],p=0,y=1;y<=l;y++){var S=s[y];S.y>d.y&&(d=S,p=y)}var N=p;do{(N-=1)<0&&(N=l)}while(s[N].equals2D(d)&&N!==p);var te=p;do{te=(te+1)%l}while(s[te].equals2D(d)&&te!==p);var xe=s[N],je=s[te];if(xe.equals2D(d)||je.equals2D(d)||xe.equals2D(je))return!1;var ot=He.computeOrientation(xe,d,je);return 0===ot?xe.x>je.x:ot>0},He.locatePointInRing=function(s,l){return Ge.locatePointInRing(s,l)},He.distancePointLinePerpendicular=function(s,l,d){var p=(d.x-l.x)*(d.x-l.x)+(d.y-l.y)*(d.y-l.y);return Math.abs(((l.y-s.y)*(d.x-l.x)-(l.x-s.x)*(d.y-l.y))/p)*Math.sqrt(p)},He.computeOrientation=function(s,l,d){return He.orientationIndex(s,l,d)},He.distancePointLine=function(){if(2===arguments.length){var s=arguments[0],l=arguments[1];if(0===l.length)throw new R("Line array must contain at least one vertex");for(var d=s.distance(l[0]),p=0;p<l.length-1;p++){var y=He.distancePointLine(s,l[p],l[p+1]);y<d&&(d=y)}return d}if(3===arguments.length){var S=arguments[0],N=arguments[1],te=arguments[2];if(N.x===te.x&&N.y===te.y)return S.distance(N);var xe=(te.x-N.x)*(te.x-N.x)+(te.y-N.y)*(te.y-N.y),je=((S.x-N.x)*(te.x-N.x)+(S.y-N.y)*(te.y-N.y))/xe;return je<=0?S.distance(N):je>=1?S.distance(te):Math.abs(((N.y-S.y)*(te.x-N.x)-(N.x-S.x)*(te.y-N.y))/xe)*Math.sqrt(xe)}},He.isOnLine=function(s,l){for(var d=new pe,p=1;p<l.length;p++)if(d.computeIntersection(s,l[p-1],l[p]),d.hasIntersection())return!0;return!1},wt.CLOCKWISE.get=function(){return-1},wt.RIGHT.get=function(){return He.CLOCKWISE},wt.COUNTERCLOCKWISE.get=function(){return 1},wt.LEFT.get=function(){return He.COUNTERCLOCKWISE},wt.COLLINEAR.get=function(){return 0},wt.STRAIGHT.get=function(){return He.COLLINEAR},Object.defineProperties(He,wt);var Pt=function(){};Pt.prototype.filter=function(s){},Pt.prototype.interfaces_=function(){return[]},Pt.prototype.getClass=function(){return Pt};var pt=function(){var s=arguments[0];this._envelope=null,this._factory=null,this._SRID=null,this._userData=null,this._factory=s,this._SRID=s.getSRID()},kt={serialVersionUID:{configurable:!0},SORTINDEX_POINT:{configurable:!0},SORTINDEX_MULTIPOINT:{configurable:!0},SORTINDEX_LINESTRING:{configurable:!0},SORTINDEX_LINEARRING:{configurable:!0},SORTINDEX_MULTILINESTRING:{configurable:!0},SORTINDEX_POLYGON:{configurable:!0},SORTINDEX_MULTIPOLYGON:{configurable:!0},SORTINDEX_GEOMETRYCOLLECTION:{configurable:!0},geometryChangedFilter:{configurable:!0}};pt.prototype.isGeometryCollection=function(){return this.getSortIndex()===pt.SORTINDEX_GEOMETRYCOLLECTION},pt.prototype.getFactory=function(){return this._factory},pt.prototype.getGeometryN=function(s){return this},pt.prototype.getArea=function(){return 0},pt.prototype.isRectangle=function(){return!1},pt.prototype.equals=function(){if(arguments[0]instanceof pt){var s=arguments[0];return null!==s&&this.equalsTopo(s)}if(arguments[0]instanceof Object){var l=arguments[0];return l instanceof pt&&this.equalsExact(l)}},pt.prototype.equalsExact=function(s){return this===s||this.equalsExact(s,0)},pt.prototype.geometryChanged=function(){this.apply(pt.geometryChangedFilter)},pt.prototype.geometryChangedAction=function(){this._envelope=null},pt.prototype.equalsNorm=function(s){return null!==s&&this.norm().equalsExact(s.norm())},pt.prototype.getLength=function(){return 0},pt.prototype.getNumGeometries=function(){return 1},pt.prototype.compareTo=function(){if(1===arguments.length){var s=arguments[0],l=s;return this.getSortIndex()!==l.getSortIndex()?this.getSortIndex()-l.getSortIndex():this.isEmpty()&&l.isEmpty()?0:this.isEmpty()?-1:l.isEmpty()?1:this.compareToSameClass(s)}if(2===arguments.length){var d=arguments[0],p=arguments[1];return this.getSortIndex()!==d.getSortIndex()?this.getSortIndex()-d.getSortIndex():this.isEmpty()&&d.isEmpty()?0:this.isEmpty()?-1:d.isEmpty()?1:this.compareToSameClass(d,p)}},pt.prototype.getUserData=function(){return this._userData},pt.prototype.getSRID=function(){return this._SRID},pt.prototype.getEnvelope=function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())},pt.prototype.checkNotGeometryCollection=function(s){if(s.getSortIndex()===pt.SORTINDEX_GEOMETRYCOLLECTION)throw new R("This method does not support GeometryCollection arguments")},pt.prototype.equal=function(s,l,d){return 0===d?s.equals(l):s.distance(l)<=d},pt.prototype.norm=function(){var s=this.copy();return s.normalize(),s},pt.prototype.getPrecisionModel=function(){return this._factory.getPrecisionModel()},pt.prototype.getEnvelopeInternal=function(){return null===this._envelope&&(this._envelope=this.computeEnvelopeInternal()),new vt(this._envelope)},pt.prototype.setSRID=function(s){this._SRID=s},pt.prototype.setUserData=function(s){this._userData=s},pt.prototype.compare=function(s,l){for(var d=s.iterator(),p=l.iterator();d.hasNext()&&p.hasNext();){var y=d.next(),S=p.next(),N=y.compareTo(S);if(0!==N)return N}return d.hasNext()?1:p.hasNext()?-1:0},pt.prototype.hashCode=function(){return this.getEnvelopeInternal().hashCode()},pt.prototype.isGeometryCollectionOrDerived=function(){return this.getSortIndex()===pt.SORTINDEX_GEOMETRYCOLLECTION||this.getSortIndex()===pt.SORTINDEX_MULTIPOINT||this.getSortIndex()===pt.SORTINDEX_MULTILINESTRING||this.getSortIndex()===pt.SORTINDEX_MULTIPOLYGON},pt.prototype.interfaces_=function(){return[ee,Q,F]},pt.prototype.getClass=function(){return pt},pt.hasNonEmptyElements=function(s){for(var l=0;l<s.length;l++)if(!s[l].isEmpty())return!0;return!1},pt.hasNullElements=function(s){for(var l=0;l<s.length;l++)if(null===s[l])return!0;return!1},kt.serialVersionUID.get=function(){return 0x799ea46522854c00},kt.SORTINDEX_POINT.get=function(){return 0},kt.SORTINDEX_MULTIPOINT.get=function(){return 1},kt.SORTINDEX_LINESTRING.get=function(){return 2},kt.SORTINDEX_LINEARRING.get=function(){return 3},kt.SORTINDEX_MULTILINESTRING.get=function(){return 4},kt.SORTINDEX_POLYGON.get=function(){return 5},kt.SORTINDEX_MULTIPOLYGON.get=function(){return 6},kt.SORTINDEX_GEOMETRYCOLLECTION.get=function(){return 7},kt.geometryChangedFilter.get=function(){return hn},Object.defineProperties(pt,kt);var hn=function(){};hn.interfaces_=function(){return[Pt]},hn.filter=function(s){s.geometryChangedAction()};var Bt=function(){};Bt.prototype.filter=function(s){},Bt.prototype.interfaces_=function(){return[]},Bt.prototype.getClass=function(){return Bt};var on=function(){},kn={Mod2BoundaryNodeRule:{configurable:!0},EndPointBoundaryNodeRule:{configurable:!0},MultiValentEndPointBoundaryNodeRule:{configurable:!0},MonoValentEndPointBoundaryNodeRule:{configurable:!0},MOD2_BOUNDARY_RULE:{configurable:!0},ENDPOINT_BOUNDARY_RULE:{configurable:!0},MULTIVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},MONOVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},OGC_SFS_BOUNDARY_RULE:{configurable:!0}};on.prototype.isInBoundary=function(s){},on.prototype.interfaces_=function(){return[]},on.prototype.getClass=function(){return on},kn.Mod2BoundaryNodeRule.get=function(){return Zn},kn.EndPointBoundaryNodeRule.get=function(){return tr},kn.MultiValentEndPointBoundaryNodeRule.get=function(){return nr},kn.MonoValentEndPointBoundaryNodeRule.get=function(){return Xr},kn.MOD2_BOUNDARY_RULE.get=function(){return new Zn},kn.ENDPOINT_BOUNDARY_RULE.get=function(){return new tr},kn.MULTIVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new nr},kn.MONOVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new Xr},kn.OGC_SFS_BOUNDARY_RULE.get=function(){return on.MOD2_BOUNDARY_RULE},Object.defineProperties(on,kn);var Zn=function(){};Zn.prototype.isInBoundary=function(s){return s%2==1},Zn.prototype.interfaces_=function(){return[on]},Zn.prototype.getClass=function(){return Zn};var tr=function(){};tr.prototype.isInBoundary=function(s){return s>0},tr.prototype.interfaces_=function(){return[on]},tr.prototype.getClass=function(){return tr};var nr=function(){};nr.prototype.isInBoundary=function(s){return s>1},nr.prototype.interfaces_=function(){return[on]},nr.prototype.getClass=function(){return nr};var Xr=function(){};Xr.prototype.isInBoundary=function(s){return 1===s},Xr.prototype.interfaces_=function(){return[on]},Xr.prototype.getClass=function(){return Xr};var Xn=function(){};Xn.prototype.add=function(){},Xn.prototype.addAll=function(){},Xn.prototype.isEmpty=function(){},Xn.prototype.iterator=function(){},Xn.prototype.size=function(){},Xn.prototype.toArray=function(){},Xn.prototype.remove=function(){},(w.prototype=new Error).name="IndexOutOfBoundsException";var Mi=function(){};Mi.prototype.hasNext=function(){},Mi.prototype.next=function(){},Mi.prototype.remove=function(){};var pr=function(s){function l(){s.apply(this,arguments)}return s&&(l.__proto__=s),(l.prototype=Object.create(s&&s.prototype)).constructor=l,l.prototype.get=function(){},l.prototype.set=function(){},l.prototype.isEmpty=function(){},l}(Xn);(x.prototype=new Error).name="NoSuchElementException";var bt=function(s){function l(){s.call(this),this.array_=[],arguments[0]instanceof Xn&&this.addAll(arguments[0])}return s&&(l.__proto__=s),(l.prototype=Object.create(s&&s.prototype)).constructor=l,l.prototype.ensureCapacity=function(){},l.prototype.interfaces_=function(){return[s,Xn]},l.prototype.add=function(d){return 1===arguments.length?this.array_.push(d):this.array_.splice(arguments[0],arguments[1]),!0},l.prototype.clear=function(){this.array_=[]},l.prototype.addAll=function(d){for(var p=d.iterator();p.hasNext();)this.add(p.next());return!0},l.prototype.set=function(d,p){var y=this.array_[d];return this.array_[d]=p,y},l.prototype.iterator=function(){return new Uo(this)},l.prototype.get=function(d){if(d<0||d>=this.size())throw new w;return this.array_[d]},l.prototype.isEmpty=function(){return 0===this.array_.length},l.prototype.size=function(){return this.array_.length},l.prototype.toArray=function(){for(var d=[],p=0,y=this.array_.length;p<y;p++)d.push(this.array_[p]);return d},l.prototype.remove=function(d){for(var p=!1,y=0,S=this.array_.length;y<S;y++)if(this.array_[y]===d){this.array_.splice(y,1),p=!0;break}return p},l}(pr),Uo=function(s){function l(d){s.call(this),this.arrayList_=d,this.position_=0}return s&&(l.__proto__=s),(l.prototype=Object.create(s&&s.prototype)).constructor=l,l.prototype.next=function(){if(this.position_===this.arrayList_.size())throw new x;return this.arrayList_.get(this.position_++)},l.prototype.hasNext=function(){return this.position_<this.arrayList_.size()},l.prototype.set=function(d){return this.arrayList_.set(this.position_-1,d)},l.prototype.remove=function(){this.arrayList_.remove(this.arrayList_.get(this.position_))},l}(Mi),ho=function(s){function l(){if(s.call(this),0!==arguments.length)if(1===arguments.length){var p=arguments[0];this.ensureCapacity(p.length),this.add(p,!0)}else if(2===arguments.length){var y=arguments[0],S=arguments[1];this.ensureCapacity(y.length),this.add(y,S)}}s&&(l.__proto__=s),(l.prototype=Object.create(s&&s.prototype)).constructor=l;var d={coordArrayType:{configurable:!0}};return d.coordArrayType.get=function(){return new Array(0).fill(null)},l.prototype.getCoordinate=function(p){return this.get(p)},l.prototype.addAll=function(){if(2===arguments.length){for(var y=arguments[1],S=!1,N=arguments[0].iterator();N.hasNext();)this.add(N.next(),y),S=!0;return S}return s.prototype.addAll.apply(this,arguments)},l.prototype.clone=function(){for(var p=s.prototype.clone.call(this),y=0;y<this.size();y++)p.add(y,this.get(y).copy());return p},l.prototype.toCoordinateArray=function(){return this.toArray(l.coordArrayType)},l.prototype.add=function(){if(1===arguments.length)s.prototype.add.call(this,arguments[0]);else if(2===arguments.length){if(arguments[0]instanceof Array&&"boolean"==typeof arguments[1])return this.add(arguments[0],arguments[1],!0),!0;if(arguments[0]instanceof W&&"boolean"==typeof arguments[1]){var N=arguments[0];if(!arguments[1]&&this.size()>=1&&this.get(this.size()-1).equals2D(N))return null;s.prototype.add.call(this,N)}else if(arguments[0]instanceof Object&&"boolean"==typeof arguments[1])return this.add(arguments[0],arguments[1]),!0}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var je=arguments[0],ot=arguments[1];if(arguments[2])for(var lt=0;lt<je.length;lt++)this.add(je[lt],ot);else for(var Tt=je.length-1;Tt>=0;Tt--)this.add(je[Tt],ot);return!0}if("boolean"==typeof arguments[2]&&Number.isInteger(arguments[0])&&arguments[1]instanceof W){var At=arguments[0],Xt=arguments[1];if(!arguments[2]){var fn=this.size();if(fn>0&&(At>0&&this.get(At-1).equals2D(Xt)||At<fn&&this.get(At).equals2D(Xt)))return null}s.prototype.add.call(this,At,Xt)}}else if(4===arguments.length){var ti=arguments[0],go=arguments[1],hs=arguments[2],fs=arguments[3],fl=1;hs>fs&&(fl=-1);for(var Lp=hs;Lp!==fs;Lp+=fl)this.add(ti[Lp],go);return!0}},l.prototype.closeRing=function(){this.size()>0&&this.add(new W(this.get(0)),!1)},l.prototype.interfaces_=function(){return[]},l.prototype.getClass=function(){return l},Object.defineProperties(l,d),l}(bt),sn=function(){},si={ForwardComparator:{configurable:!0},BidirectionalComparator:{configurable:!0},coordArrayType:{configurable:!0}};si.ForwardComparator.get=function(){return fo},si.BidirectionalComparator.get=function(){return Ko},si.coordArrayType.get=function(){return new Array(0).fill(null)},sn.prototype.interfaces_=function(){return[]},sn.prototype.getClass=function(){return sn},sn.isRing=function(s){return!(s.length<4||!s[0].equals2D(s[s.length-1]))},sn.ptNotInList=function(s,l){for(var d=0;d<s.length;d++){var p=s[d];if(sn.indexOf(p,l)<0)return p}return null},sn.scroll=function(s,l){var d=sn.indexOf(l,s);if(d<0)return null;var p=new Array(s.length).fill(null);Ft.arraycopy(s,d,p,0,s.length-d),Ft.arraycopy(s,0,p,s.length-d,d),Ft.arraycopy(p,0,s,0,s.length)},sn.equals=function(){if(2===arguments.length){var s=arguments[0],l=arguments[1];if(s===l)return!0;if(null===s||null===l||s.length!==l.length)return!1;for(var d=0;d<s.length;d++)if(!s[d].equals(l[d]))return!1;return!0}if(3===arguments.length){var p=arguments[0],y=arguments[1],S=arguments[2];if(p===y)return!0;if(null===p||null===y||p.length!==y.length)return!1;for(var N=0;N<p.length;N++)if(0!==S.compare(p[N],y[N]))return!1;return!0}},sn.intersection=function(s,l){for(var d=new ho,p=0;p<s.length;p++)l.intersects(s[p])&&d.add(s[p],!0);return d.toCoordinateArray()},sn.hasRepeatedPoints=function(s){for(var l=1;l<s.length;l++)if(s[l-1].equals(s[l]))return!0;return!1},sn.removeRepeatedPoints=function(s){return sn.hasRepeatedPoints(s)?new ho(s,!1).toCoordinateArray():s},sn.reverse=function(s){for(var l=s.length-1,d=Math.trunc(l/2),p=0;p<=d;p++){var y=s[p];s[p]=s[l-p],s[l-p]=y}},sn.removeNull=function(s){for(var l=0,d=0;d<s.length;d++)null!==s[d]&&l++;var p=new Array(l).fill(null);if(0===l)return p;for(var y=0,S=0;S<s.length;S++)null!==s[S]&&(p[y++]=s[S]);return p},sn.copyDeep=function(){if(1===arguments.length){for(var s=arguments[0],l=new Array(s.length).fill(null),d=0;d<s.length;d++)l[d]=new W(s[d]);return l}if(5===arguments.length)for(var p=arguments[0],y=arguments[1],S=arguments[2],N=arguments[3],te=arguments[4],xe=0;xe<te;xe++)S[N+xe]=new W(p[y+xe])},sn.isEqualReversed=function(s,l){for(var d=0;d<s.length;d++)if(0!==s[d].compareTo(l[s.length-d-1]))return!1;return!0},sn.envelope=function(s){for(var l=new vt,d=0;d<s.length;d++)l.expandToInclude(s[d]);return l},sn.toCoordinateArray=function(s){return s.toArray(sn.coordArrayType)},sn.atLeastNCoordinatesOrNothing=function(s,l){return l.length>=s?l:[]},sn.indexOf=function(s,l){for(var d=0;d<l.length;d++)if(s.equals(l[d]))return d;return-1},sn.increasingDirection=function(s){for(var l=0;l<Math.trunc(s.length/2);l++){var p=s[l].compareTo(s[s.length-1-l]);if(0!==p)return p}return 1},sn.compare=function(s,l){for(var d=0;d<s.length&&d<l.length;){var p=s[d].compareTo(l[d]);if(0!==p)return p;d++}return d<l.length?-1:d<s.length?1:0},sn.minCoordinate=function(s){for(var l=null,d=0;d<s.length;d++)(null===l||l.compareTo(s[d])>0)&&(l=s[d]);return l},sn.extract=function(s,l,d){l=we.clamp(l,0,s.length);var p=(d=we.clamp(d,-1,s.length))-l+1;d<0&&(p=0),l>=s.length&&(p=0),d<l&&(p=0);var y=new Array(p).fill(null);if(0===p)return y;for(var S=0,N=l;N<=d;N++)y[S++]=s[N];return y},Object.defineProperties(sn,si);var fo=function(){};fo.prototype.compare=function(s,l){return sn.compare(s,l)},fo.prototype.interfaces_=function(){return[ie]},fo.prototype.getClass=function(){return fo};var Ko=function(){};Ko.prototype.compare=function(s,l){var d=s,p=l;if(d.length<p.length)return-1;if(d.length>p.length)return 1;if(0===d.length)return 0;var y=sn.compare(d,p);return sn.isEqualReversed(d,p)?0:y},Ko.prototype.OLDcompare=function(s,l){var d=s,p=l;if(d.length<p.length)return-1;if(d.length>p.length)return 1;if(0===d.length)return 0;for(var y=sn.increasingDirection(d),S=sn.increasingDirection(p),N=y>0?0:d.length-1,te=S>0?0:d.length-1,xe=0;xe<d.length;xe++){var je=d[N].compareTo(p[te]);if(0!==je)return je;N+=y,te+=S}return 0},Ko.prototype.interfaces_=function(){return[ie]},Ko.prototype.getClass=function(){return Ko};var Ks=function(){};Ks.prototype.get=function(){},Ks.prototype.put=function(){},Ks.prototype.size=function(){},Ks.prototype.values=function(){},Ks.prototype.entrySet=function(){};var tl=function(s){function l(){s.apply(this,arguments)}return s&&(l.__proto__=s),(l.prototype=Object.create(s&&s.prototype)).constructor=l,l}(Ks);(I.prototype=new Error).name="OperationNotSupported",(O.prototype=new Xn).contains=function(){};var du=function(s){function l(){s.call(this),this.array_=[],arguments[0]instanceof Xn&&this.addAll(arguments[0])}return s&&(l.__proto__=s),(l.prototype=Object.create(s&&s.prototype)).constructor=l,l.prototype.contains=function(d){for(var p=0,y=this.array_.length;p<y;p++)if(this.array_[p]===d)return!0;return!1},l.prototype.add=function(d){return!this.contains(d)&&(this.array_.push(d),!0)},l.prototype.addAll=function(d){for(var p=d.iterator();p.hasNext();)this.add(p.next());return!0},l.prototype.remove=function(d){throw new Error},l.prototype.size=function(){return this.array_.length},l.prototype.isEmpty=function(){return 0===this.array_.length},l.prototype.toArray=function(){for(var d=[],p=0,y=this.array_.length;p<y;p++)d.push(this.array_[p]);return d},l.prototype.iterator=function(){return new Ol(this)},l}(O),Ol=function(s){function l(d){s.call(this),this.hashSet_=d,this.position_=0}return s&&(l.__proto__=s),(l.prototype=Object.create(s&&s.prototype)).constructor=l,l.prototype.next=function(){if(this.position_===this.hashSet_.size())throw new x;return this.hashSet_.array_[this.position_++]},l.prototype.hasNext=function(){return this.position_<this.hashSet_.size()},l.prototype.remove=function(){throw new I},l}(Mi),Bi=0;(Re.prototype=new tl).get=function(s){for(var l=this.root_;null!==l;){var d=s.compareTo(l.key);if(d<0)l=l.left;else{if(!(d>0))return l.value;l=l.right}}return null},Re.prototype.put=function(s,l){if(null===this.root_)return this.root_={key:s,value:l,left:null,right:null,parent:null,color:Bi,getValue:function(){return this.value},getKey:function(){return this.key}},this.size_=1,null;var d,p,y=this.root_;do{if(d=y,(p=s.compareTo(y.key))<0)y=y.left;else{if(!(p>0)){var S=y.value;return y.value=l,S}y=y.right}}while(null!==y);var N={key:s,left:null,right:null,value:l,parent:d,color:Bi,getValue:function(){return this.value},getKey:function(){return this.key}};return p<0?d.left=N:d.right=N,this.fixAfterInsertion(N),this.size_++,null},Re.prototype.fixAfterInsertion=function(s){for(s.color=1;null!=s&&s!==this.root_&&1===s.parent.color;)if($(s)===ve($($(s)))){var l=Ne($($(s)));1===U(l)?(ne($(s),Bi),ne(l,Bi),ne($($(s)),1),s=$($(s))):(s===Ne($(s))&&(s=$(s),this.rotateLeft(s)),ne($(s),Bi),ne($($(s)),1),this.rotateRight($($(s))))}else{var d=ve($($(s)));1===U(d)?(ne($(s),Bi),ne(d,Bi),ne($($(s)),1),s=$($(s))):(s===ve($(s))&&(s=$(s),this.rotateRight(s)),ne($(s),Bi),ne($($(s)),1),this.rotateLeft($($(s))))}this.root_.color=Bi},Re.prototype.values=function(){var s=new bt,l=this.getFirstEntry();if(null!==l)for(s.add(l.value);null!==(l=Re.successor(l));)s.add(l.value);return s},Re.prototype.entrySet=function(){var s=new du,l=this.getFirstEntry();if(null!==l)for(s.add(l);null!==(l=Re.successor(l));)s.add(l);return s},Re.prototype.rotateLeft=function(s){if(null!=s){var l=s.right;s.right=l.left,null!=l.left&&(l.left.parent=s),l.parent=s.parent,null===s.parent?this.root_=l:s.parent.left===s?s.parent.left=l:s.parent.right=l,l.left=s,s.parent=l}},Re.prototype.rotateRight=function(s){if(null!=s){var l=s.left;s.left=l.right,null!=l.right&&(l.right.parent=s),l.parent=s.parent,null===s.parent?this.root_=l:s.parent.right===s?s.parent.right=l:s.parent.left=l,l.right=s,s.parent=l}},Re.prototype.getFirstEntry=function(){var s=this.root_;if(null!=s)for(;null!=s.left;)s=s.left;return s},Re.successor=function(s){if(null===s)return null;if(null!==s.right){for(var l=s.right;null!==l.left;)l=l.left;return l}for(var d=s.parent,p=s;null!==d&&p===d.right;)p=d,d=d.parent;return d},Re.prototype.size=function(){return this.size_};var rn=function(){};rn.prototype.interfaces_=function(){return[]},rn.prototype.getClass=function(){return rn},ye.prototype=new O,(_e.prototype=new ye).contains=function(s){for(var l=0,d=this.array_.length;l<d;l++)if(0===this.array_[l].compareTo(s))return!0;return!1},_e.prototype.add=function(s){if(this.contains(s))return!1;for(var l=0,d=this.array_.length;l<d;l++)if(1===this.array_[l].compareTo(s))return this.array_.splice(l,0,s),!0;return this.array_.push(s),!0},_e.prototype.addAll=function(s){for(var l=s.iterator();l.hasNext();)this.add(l.next());return!0},_e.prototype.remove=function(s){throw new I},_e.prototype.size=function(){return this.array_.length},_e.prototype.isEmpty=function(){return 0===this.array_.length},_e.prototype.toArray=function(){for(var s=[],l=0,d=this.array_.length;l<d;l++)s.push(this.array_[l]);return s},_e.prototype.iterator=function(){return new Na(this)};var Na=function(s){this.treeSet_=s,this.position_=0};Na.prototype.next=function(){if(this.position_===this.treeSet_.size())throw new x;return this.treeSet_.array_[this.position_++]},Na.prototype.hasNext=function(){return this.position_<this.treeSet_.size()},Na.prototype.remove=function(){throw new I};var ri=function(){};ri.sort=function(){var s,l,d,y=arguments[0];if(1===arguments.length)y.sort(function(N,te){return N.compareTo(te)});else if(2===arguments.length)d=arguments[1],y.sort(function(N,te){return d.compare(N,te)});else if(3===arguments.length){(l=y.slice(arguments[1],arguments[2])).sort();var S=y.slice(0,arguments[1]).concat(l,y.slice(arguments[2],y.length));for(y.splice(0,y.length),s=0;s<S.length;s++)y.push(S[s])}else if(4===arguments.length)for(l=y.slice(arguments[1],arguments[2]),d=arguments[3],l.sort(function(N,te){return d.compare(N,te)}),S=y.slice(0,arguments[1]).concat(l,y.slice(arguments[2],y.length)),y.splice(0,y.length),s=0;s<S.length;s++)y.push(S[s])},ri.asList=function(s){for(var l=new bt,d=0,p=s.length;d<p;d++)l.add(s[d]);return l};var Fn=function(){},Qo={P:{configurable:!0},L:{configurable:!0},A:{configurable:!0},FALSE:{configurable:!0},TRUE:{configurable:!0},DONTCARE:{configurable:!0},SYM_FALSE:{configurable:!0},SYM_TRUE:{configurable:!0},SYM_DONTCARE:{configurable:!0},SYM_P:{configurable:!0},SYM_L:{configurable:!0},SYM_A:{configurable:!0}};Qo.P.get=function(){return 0},Qo.L.get=function(){return 1},Qo.A.get=function(){return 2},Qo.FALSE.get=function(){return-1},Qo.TRUE.get=function(){return-2},Qo.DONTCARE.get=function(){return-3},Qo.SYM_FALSE.get=function(){return"F"},Qo.SYM_TRUE.get=function(){return"T"},Qo.SYM_DONTCARE.get=function(){return"*"},Qo.SYM_P.get=function(){return"0"},Qo.SYM_L.get=function(){return"1"},Qo.SYM_A.get=function(){return"2"},Fn.prototype.interfaces_=function(){return[]},Fn.prototype.getClass=function(){return Fn},Fn.toDimensionSymbol=function(s){switch(s){case Fn.FALSE:return Fn.SYM_FALSE;case Fn.TRUE:return Fn.SYM_TRUE;case Fn.DONTCARE:return Fn.SYM_DONTCARE;case Fn.P:return Fn.SYM_P;case Fn.L:return Fn.SYM_L;case Fn.A:return Fn.SYM_A}throw new R("Unknown dimension value: "+s)},Fn.toDimensionValue=function(s){switch(Fe.toUpperCase(s)){case Fn.SYM_FALSE:return Fn.FALSE;case Fn.SYM_TRUE:return Fn.TRUE;case Fn.SYM_DONTCARE:return Fn.DONTCARE;case Fn.SYM_P:return Fn.P;case Fn.SYM_L:return Fn.L;case Fn.SYM_A:return Fn.A}throw new R("Unknown dimension symbol: "+s)},Object.defineProperties(Fn,Qo);var Oo=function(){};Oo.prototype.filter=function(s){},Oo.prototype.interfaces_=function(){return[]},Oo.prototype.getClass=function(){return Oo};var bo=function(){};bo.prototype.filter=function(s,l){},bo.prototype.isDone=function(){},bo.prototype.isGeometryChanged=function(){},bo.prototype.interfaces_=function(){return[]},bo.prototype.getClass=function(){return bo};var Di=function(s){function l(p,y){if(s.call(this,y),this._geometries=p||[],s.hasNullElements(this._geometries))throw new R("geometries must not contain null elements")}s&&(l.__proto__=s),(l.prototype=Object.create(s&&s.prototype)).constructor=l;var d={serialVersionUID:{configurable:!0}};return l.prototype.computeEnvelopeInternal=function(){for(var p=new vt,y=0;y<this._geometries.length;y++)p.expandToInclude(this._geometries[y].getEnvelopeInternal());return p},l.prototype.getGeometryN=function(p){return this._geometries[p]},l.prototype.getSortIndex=function(){return s.SORTINDEX_GEOMETRYCOLLECTION},l.prototype.getCoordinates=function(){for(var p=new Array(this.getNumPoints()).fill(null),y=-1,S=0;S<this._geometries.length;S++)for(var N=this._geometries[S].getCoordinates(),te=0;te<N.length;te++)p[++y]=N[te];return p},l.prototype.getArea=function(){for(var p=0,y=0;y<this._geometries.length;y++)p+=this._geometries[y].getArea();return p},l.prototype.equalsExact=function(){if(2===arguments.length){var p=arguments[0],y=arguments[1];if(!this.isEquivalentClass(p))return!1;var S=p;if(this._geometries.length!==S._geometries.length)return!1;for(var N=0;N<this._geometries.length;N++)if(!this._geometries[N].equalsExact(S._geometries[N],y))return!1;return!0}return s.prototype.equalsExact.apply(this,arguments)},l.prototype.normalize=function(){for(var p=0;p<this._geometries.length;p++)this._geometries[p].normalize();ri.sort(this._geometries)},l.prototype.getCoordinate=function(){return this.isEmpty()?null:this._geometries[0].getCoordinate()},l.prototype.getBoundaryDimension=function(){for(var p=Fn.FALSE,y=0;y<this._geometries.length;y++)p=Math.max(p,this._geometries[y].getBoundaryDimension());return p},l.prototype.getDimension=function(){for(var p=Fn.FALSE,y=0;y<this._geometries.length;y++)p=Math.max(p,this._geometries[y].getDimension());return p},l.prototype.getLength=function(){for(var p=0,y=0;y<this._geometries.length;y++)p+=this._geometries[y].getLength();return p},l.prototype.getNumPoints=function(){for(var p=0,y=0;y<this._geometries.length;y++)p+=this._geometries[y].getNumPoints();return p},l.prototype.getNumGeometries=function(){return this._geometries.length},l.prototype.reverse=function(){for(var y=new Array(this._geometries.length).fill(null),S=0;S<this._geometries.length;S++)y[S]=this._geometries[S].reverse();return this.getFactory().createGeometryCollection(y)},l.prototype.compareToSameClass=function(){if(1===arguments.length){var p=arguments[0],y=new _e(ri.asList(this._geometries)),S=new _e(ri.asList(p._geometries));return this.compare(y,S)}if(2===arguments.length){for(var te=arguments[1],xe=arguments[0],je=this.getNumGeometries(),ot=xe.getNumGeometries(),lt=0;lt<je&&lt<ot;){var Tt=this.getGeometryN(lt),At=xe.getGeometryN(lt),Xt=Tt.compareToSameClass(At,te);if(0!==Xt)return Xt;lt++}return lt<je?1:lt<ot?-1:0}},l.prototype.apply=function(){if(We(arguments[0],Bt))for(var p=arguments[0],y=0;y<this._geometries.length;y++)this._geometries[y].apply(p);else if(We(arguments[0],bo)){var S=arguments[0];if(0===this._geometries.length)return null;for(var N=0;N<this._geometries.length&&(this._geometries[N].apply(S),!S.isDone());N++);S.isGeometryChanged()&&this.geometryChanged()}else if(We(arguments[0],Oo)){var te=arguments[0];te.filter(this);for(var xe=0;xe<this._geometries.length;xe++)this._geometries[xe].apply(te)}else if(We(arguments[0],Pt)){var je=arguments[0];je.filter(this);for(var ot=0;ot<this._geometries.length;ot++)this._geometries[ot].apply(je)}},l.prototype.getBoundary=function(){return this.checkNotGeometryCollection(this),T.shouldNeverReachHere(),null},l.prototype.clone=function(){var p=s.prototype.clone.call(this);p._geometries=new Array(this._geometries.length).fill(null);for(var y=0;y<this._geometries.length;y++)p._geometries[y]=this._geometries[y].clone();return p},l.prototype.getGeometryType=function(){return"GeometryCollection"},l.prototype.copy=function(){for(var p=new Array(this._geometries.length).fill(null),y=0;y<p.length;y++)p[y]=this._geometries[y].copy();return new l(p,this._factory)},l.prototype.isEmpty=function(){for(var p=0;p<this._geometries.length;p++)if(!this._geometries[p].isEmpty())return!1;return!0},l.prototype.interfaces_=function(){return[]},l.prototype.getClass=function(){return l},d.serialVersionUID.get=function(){return-0x4f07bcb1f857d800},Object.defineProperties(l,d),l}(pt),Qs=function(s){function l(){s.apply(this,arguments)}s&&(l.__proto__=s),(l.prototype=Object.create(s&&s.prototype)).constructor=l;var d={serialVersionUID:{configurable:!0}};return l.prototype.getSortIndex=function(){return pt.SORTINDEX_MULTILINESTRING},l.prototype.equalsExact=function(){if(2===arguments.length){var p=arguments[0],y=arguments[1];return!!this.isEquivalentClass(p)&&s.prototype.equalsExact.call(this,p,y)}return s.prototype.equalsExact.apply(this,arguments)},l.prototype.getBoundaryDimension=function(){return this.isClosed()?Fn.FALSE:0},l.prototype.isClosed=function(){if(this.isEmpty())return!1;for(var p=0;p<this._geometries.length;p++)if(!this._geometries[p].isClosed())return!1;return!0},l.prototype.getDimension=function(){return 1},l.prototype.reverse=function(){for(var p=this._geometries.length,y=new Array(p).fill(null),S=0;S<this._geometries.length;S++)y[p-1-S]=this._geometries[S].reverse();return this.getFactory().createMultiLineString(y)},l.prototype.getBoundary=function(){return new Ho(this).getBoundary()},l.prototype.getGeometryType=function(){return"MultiLineString"},l.prototype.copy=function(){for(var p=new Array(this._geometries.length).fill(null),y=0;y<p.length;y++)p[y]=this._geometries[y].copy();return new l(p,this._factory)},l.prototype.interfaces_=function(){return[rn]},l.prototype.getClass=function(){return l},d.serialVersionUID.get=function(){return 0x7155d2ab4afa8000},Object.defineProperties(l,d),l}(Di),Ho=function(){if(this._geom=null,this._geomFact=null,this._bnRule=null,this._endpointMap=null,1===arguments.length){var s=arguments[0],l=on.MOD2_BOUNDARY_RULE;this._geom=s,this._geomFact=s.getFactory(),this._bnRule=l}else if(2===arguments.length){var d=arguments[0],p=arguments[1];this._geom=d,this._geomFact=d.getFactory(),this._bnRule=p}};Ho.prototype.boundaryMultiLineString=function(s){if(this._geom.isEmpty())return this.getEmptyMultiPoint();var l=this.computeBoundaryCoordinates(s);return 1===l.length?this._geomFact.createPoint(l[0]):this._geomFact.createMultiPointFromCoords(l)},Ho.prototype.getBoundary=function(){return this._geom instanceof Kn?this.boundaryLineString(this._geom):this._geom instanceof Qs?this.boundaryMultiLineString(this._geom):this._geom.getBoundary()},Ho.prototype.boundaryLineString=function(s){return this._geom.isEmpty()?this.getEmptyMultiPoint():s.isClosed()?this._bnRule.isInBoundary(2)?s.getStartPoint():this._geomFact.createMultiPoint():this._geomFact.createMultiPoint([s.getStartPoint(),s.getEndPoint()])},Ho.prototype.getEmptyMultiPoint=function(){return this._geomFact.createMultiPoint()},Ho.prototype.computeBoundaryCoordinates=function(s){var l=new bt;this._endpointMap=new Re;for(var d=0;d<s.getNumGeometries();d++){var p=s.getGeometryN(d);0!==p.getNumPoints()&&(this.addEndpoint(p.getCoordinateN(0)),this.addEndpoint(p.getCoordinateN(p.getNumPoints()-1)))}for(var y=this._endpointMap.entrySet().iterator();y.hasNext();){var S=y.next(),N=S.getValue().count;this._bnRule.isInBoundary(N)&&l.add(S.getKey())}return sn.toCoordinateArray(l)},Ho.prototype.addEndpoint=function(s){var l=this._endpointMap.get(s);null===l&&(l=new ws,this._endpointMap.put(s,l)),l.count++},Ho.prototype.interfaces_=function(){return[]},Ho.prototype.getClass=function(){return Ho},Ho.getBoundary=function(){return 1===arguments.length?new Ho(arguments[0]).getBoundary():2===arguments.length?new Ho(arguments[0],arguments[1]).getBoundary():void 0};var ws=function(){this.count=null};ws.prototype.interfaces_=function(){return[]},ws.prototype.getClass=function(){return ws};var jo=function(){},zi={NEWLINE:{configurable:!0},SIMPLE_ORDINATE_FORMAT:{configurable:!0}};jo.prototype.interfaces_=function(){return[]},jo.prototype.getClass=function(){return jo},jo.chars=function(s,l){for(var d=new Array(l).fill(null),p=0;p<l;p++)d[p]=s;return String(d)},jo.getStackTrace=function(){if(1===arguments.length){var s=arguments[0],l=new function(){},d=new function(){}(l);return s.printStackTrace(d),l.toString()}if(2===arguments.length){for(var y=arguments[1],S="",N=new function(){}(new function(){}(jo.getStackTrace(arguments[0]))),te=0;te<y;te++)try{S+=N.readLine()+jo.NEWLINE}catch(xe){if(!(xe instanceof Oe))throw xe;T.shouldNeverReachHere()}return S}},jo.split=function(s,l){for(var d=l.length,p=new bt,y=""+s,S=y.indexOf(l);S>=0;){var N=y.substring(0,S);p.add(N),S=(y=y.substring(S+d)).indexOf(l)}y.length>0&&p.add(y);for(var te=new Array(p.size()).fill(null),xe=0;xe<te.length;xe++)te[xe]=p.get(xe);return te},jo.toString=function(){if(1===arguments.length)return jo.SIMPLE_ORDINATE_FORMAT.format(arguments[0])},jo.spaces=function(s){return jo.chars(" ",s)},zi.NEWLINE.get=function(){return Ft.getProperty("line.separator")},zi.SIMPLE_ORDINATE_FORMAT.get=function(){return new function(){}("0.#")},Object.defineProperties(jo,zi);var Gr=function(){};Gr.prototype.interfaces_=function(){return[]},Gr.prototype.getClass=function(){return Gr},Gr.copyCoord=function(s,l,d,p){for(var y=Math.min(s.getDimension(),d.getDimension()),S=0;S<y;S++)d.setOrdinate(p,S,s.getOrdinate(l,S))},Gr.isRing=function(s){var l=s.size();return 0===l||!(l<=3)&&s.getOrdinate(0,$e.X)===s.getOrdinate(l-1,$e.X)&&s.getOrdinate(0,$e.Y)===s.getOrdinate(l-1,$e.Y)},Gr.isEqual=function(s,l){var d=s.size();if(d!==l.size())return!1;for(var p=Math.min(s.getDimension(),l.getDimension()),y=0;y<d;y++)for(var S=0;S<p;S++){var N=s.getOrdinate(y,S),te=l.getOrdinate(y,S);if(!(s.getOrdinate(y,S)===l.getOrdinate(y,S)||V.isNaN(N)&&V.isNaN(te)))return!1}return!0},Gr.extend=function(s,l,d){var p=s.create(d,l.getDimension()),y=l.size();if(Gr.copy(l,0,p,0,y),y>0)for(var S=y;S<d;S++)Gr.copy(l,y-1,p,S,1);return p},Gr.reverse=function(s){for(var l=s.size()-1,d=Math.trunc(l/2),p=0;p<=d;p++)Gr.swap(s,p,l-p)},Gr.swap=function(s,l,d){if(l===d)return null;for(var p=0;p<s.getDimension();p++){var y=s.getOrdinate(l,p);s.setOrdinate(l,p,s.getOrdinate(d,p)),s.setOrdinate(d,p,y)}},Gr.copy=function(s,l,d,p,y){for(var S=0;S<y;S++)Gr.copyCoord(s,l+S,d,p+S)},Gr.toString=function(){if(1===arguments.length){var s=arguments[0],l=s.size();if(0===l)return"()";var d=s.getDimension(),p=new be;p.append("(");for(var y=0;y<l;y++){y>0&&p.append(" ");for(var S=0;S<d;S++)S>0&&p.append(","),p.append(jo.toString(s.getOrdinate(y,S)))}return p.append(")"),p.toString()}},Gr.ensureValidRing=function(s,l){var d=l.size();return 0===d?l:d<=3?Gr.createClosedRing(s,l,4):l.getOrdinate(0,$e.X)===l.getOrdinate(d-1,$e.X)&&l.getOrdinate(0,$e.Y)===l.getOrdinate(d-1,$e.Y)?l:Gr.createClosedRing(s,l,d+1)},Gr.createClosedRing=function(s,l,d){var p=s.create(d,l.getDimension()),y=l.size();Gr.copy(l,0,p,0,y);for(var S=y;S<d;S++)Gr.copy(l,0,p,S,1);return p};var Kn=function(s){function l(p,y){s.call(this,y),this._points=null,this.init(p)}s&&(l.__proto__=s),(l.prototype=Object.create(s&&s.prototype)).constructor=l;var d={serialVersionUID:{configurable:!0}};return l.prototype.computeEnvelopeInternal=function(){return this.isEmpty()?new vt:this._points.expandEnvelope(new vt)},l.prototype.isRing=function(){return this.isClosed()&&this.isSimple()},l.prototype.getSortIndex=function(){return s.SORTINDEX_LINESTRING},l.prototype.getCoordinates=function(){return this._points.toCoordinateArray()},l.prototype.equalsExact=function(){if(2===arguments.length){var p=arguments[0],y=arguments[1];if(!this.isEquivalentClass(p))return!1;var S=p;if(this._points.size()!==S._points.size())return!1;for(var N=0;N<this._points.size();N++)if(!this.equal(this._points.getCoordinate(N),S._points.getCoordinate(N),y))return!1;return!0}return s.prototype.equalsExact.apply(this,arguments)},l.prototype.normalize=function(){for(var p=0;p<Math.trunc(this._points.size()/2);p++){var y=this._points.size()-1-p;if(!this._points.getCoordinate(p).equals(this._points.getCoordinate(y)))return this._points.getCoordinate(p).compareTo(this._points.getCoordinate(y))>0&&Gr.reverse(this._points),null}},l.prototype.getCoordinate=function(){return this.isEmpty()?null:this._points.getCoordinate(0)},l.prototype.getBoundaryDimension=function(){return this.isClosed()?Fn.FALSE:0},l.prototype.isClosed=function(){return!this.isEmpty()&&this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))},l.prototype.getEndPoint=function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)},l.prototype.getDimension=function(){return 1},l.prototype.getLength=function(){return He.computeLength(this._points)},l.prototype.getNumPoints=function(){return this._points.size()},l.prototype.reverse=function(){var p=this._points.copy();return Gr.reverse(p),this.getFactory().createLineString(p)},l.prototype.compareToSameClass=function(){if(1===arguments.length){for(var p=arguments[0],y=0,S=0;y<this._points.size()&&S<p._points.size();){var N=this._points.getCoordinate(y).compareTo(p._points.getCoordinate(S));if(0!==N)return N;y++,S++}return y<this._points.size()?1:S<p._points.size()?-1:0}if(2===arguments.length)return arguments[1].compare(this._points,arguments[0]._points)},l.prototype.apply=function(){if(We(arguments[0],Bt))for(var p=arguments[0],y=0;y<this._points.size();y++)p.filter(this._points.getCoordinate(y));else if(We(arguments[0],bo)){var S=arguments[0];if(0===this._points.size())return null;for(var N=0;N<this._points.size()&&(S.filter(this._points,N),!S.isDone());N++);S.isGeometryChanged()&&this.geometryChanged()}else(We(arguments[0],Oo)||We(arguments[0],Pt))&&arguments[0].filter(this)},l.prototype.getBoundary=function(){return new Ho(this).getBoundary()},l.prototype.isEquivalentClass=function(p){return p instanceof l},l.prototype.clone=function(){var p=s.prototype.clone.call(this);return p._points=this._points.clone(),p},l.prototype.getCoordinateN=function(p){return this._points.getCoordinate(p)},l.prototype.getGeometryType=function(){return"LineString"},l.prototype.copy=function(){return new l(this._points.copy(),this._factory)},l.prototype.getCoordinateSequence=function(){return this._points},l.prototype.isEmpty=function(){return 0===this._points.size()},l.prototype.init=function(p){if(null===p&&(p=this.getFactory().getCoordinateSequenceFactory().create([])),1===p.size())throw new R("Invalid number of points in LineString (found "+p.size()+" - must be 0 or >= 2)");this._points=p},l.prototype.isCoordinate=function(p){for(var y=0;y<this._points.size();y++)if(this._points.getCoordinate(y).equals(p))return!0;return!1},l.prototype.getStartPoint=function(){return this.isEmpty()?null:this.getPointN(0)},l.prototype.getPointN=function(p){return this.getFactory().createPoint(this._points.getCoordinate(p))},l.prototype.interfaces_=function(){return[rn]},l.prototype.getClass=function(){return l},d.serialVersionUID.get=function(){return 0x2b2b51ba435c8e00},Object.defineProperties(l,d),l}(pt),Fa=function(){};Fa.prototype.interfaces_=function(){return[]},Fa.prototype.getClass=function(){return Fa};var po=function(s){function l(p,y){s.call(this,y),this._coordinates=p||null,this.init(this._coordinates)}s&&(l.__proto__=s),(l.prototype=Object.create(s&&s.prototype)).constructor=l;var d={serialVersionUID:{configurable:!0}};return l.prototype.computeEnvelopeInternal=function(){if(this.isEmpty())return new vt;var p=new vt;return p.expandToInclude(this._coordinates.getX(0),this._coordinates.getY(0)),p},l.prototype.getSortIndex=function(){return s.SORTINDEX_POINT},l.prototype.getCoordinates=function(){return this.isEmpty()?[]:[this.getCoordinate()]},l.prototype.equalsExact=function(){if(2===arguments.length){var p=arguments[0],y=arguments[1];return!!this.isEquivalentClass(p)&&(!(!this.isEmpty()||!p.isEmpty())||this.isEmpty()===p.isEmpty()&&this.equal(p.getCoordinate(),this.getCoordinate(),y))}return s.prototype.equalsExact.apply(this,arguments)},l.prototype.normalize=function(){},l.prototype.getCoordinate=function(){return 0!==this._coordinates.size()?this._coordinates.getCoordinate(0):null},l.prototype.getBoundaryDimension=function(){return Fn.FALSE},l.prototype.getDimension=function(){return 0},l.prototype.getNumPoints=function(){return this.isEmpty()?0:1},l.prototype.reverse=function(){return this.copy()},l.prototype.getX=function(){if(null===this.getCoordinate())throw new Error("getX called on empty Point");return this.getCoordinate().x},l.prototype.compareToSameClass=function(){if(1===arguments.length){var p=arguments[0];return this.getCoordinate().compareTo(p.getCoordinate())}if(2===arguments.length)return arguments[1].compare(this._coordinates,arguments[0]._coordinates)},l.prototype.apply=function(){if(We(arguments[0],Bt)){var p=arguments[0];if(this.isEmpty())return null;p.filter(this.getCoordinate())}else if(We(arguments[0],bo)){var y=arguments[0];if(this.isEmpty())return null;y.filter(this._coordinates,0),y.isGeometryChanged()&&this.geometryChanged()}else(We(arguments[0],Oo)||We(arguments[0],Pt))&&arguments[0].filter(this)},l.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},l.prototype.clone=function(){var p=s.prototype.clone.call(this);return p._coordinates=this._coordinates.clone(),p},l.prototype.getGeometryType=function(){return"Point"},l.prototype.copy=function(){return new l(this._coordinates.copy(),this._factory)},l.prototype.getCoordinateSequence=function(){return this._coordinates},l.prototype.getY=function(){if(null===this.getCoordinate())throw new Error("getY called on empty Point");return this.getCoordinate().y},l.prototype.isEmpty=function(){return 0===this._coordinates.size()},l.prototype.init=function(p){null===p&&(p=this.getFactory().getCoordinateSequenceFactory().create([])),T.isTrue(p.size()<=1),this._coordinates=p},l.prototype.isSimple=function(){return!0},l.prototype.interfaces_=function(){return[Fa]},l.prototype.getClass=function(){return l},d.serialVersionUID.get=function(){return 0x44077bad161cbc00},Object.defineProperties(l,d),l}(pt),Rs=function(){};Rs.prototype.interfaces_=function(){return[]},Rs.prototype.getClass=function(){return Rs};var vi=function(s){function l(p,y,S){if(s.call(this,S),this._shell=null,this._holes=null,null===p&&(p=this.getFactory().createLinearRing()),null===y&&(y=[]),s.hasNullElements(y))throw new R("holes must not contain null elements");if(p.isEmpty()&&s.hasNonEmptyElements(y))throw new R("shell is empty but holes are not");this._shell=p,this._holes=y}s&&(l.__proto__=s),(l.prototype=Object.create(s&&s.prototype)).constructor=l;var d={serialVersionUID:{configurable:!0}};return l.prototype.computeEnvelopeInternal=function(){return this._shell.getEnvelopeInternal()},l.prototype.getSortIndex=function(){return s.SORTINDEX_POLYGON},l.prototype.getCoordinates=function(){if(this.isEmpty())return[];for(var p=new Array(this.getNumPoints()).fill(null),y=-1,S=this._shell.getCoordinates(),N=0;N<S.length;N++)p[++y]=S[N];for(var te=0;te<this._holes.length;te++)for(var xe=this._holes[te].getCoordinates(),je=0;je<xe.length;je++)p[++y]=xe[je];return p},l.prototype.getArea=function(){var p=0;p+=Math.abs(He.signedArea(this._shell.getCoordinateSequence()));for(var y=0;y<this._holes.length;y++)p-=Math.abs(He.signedArea(this._holes[y].getCoordinateSequence()));return p},l.prototype.isRectangle=function(){if(0!==this.getNumInteriorRing()||null===this._shell||5!==this._shell.getNumPoints())return!1;for(var p=this._shell.getCoordinateSequence(),y=this.getEnvelopeInternal(),S=0;S<5;S++){var N=p.getX(S);if(N!==y.getMinX()&&N!==y.getMaxX())return!1;var te=p.getY(S);if(te!==y.getMinY()&&te!==y.getMaxY())return!1}for(var xe=p.getX(0),je=p.getY(0),ot=1;ot<=4;ot++){var lt=p.getX(ot),Tt=p.getY(ot);if(lt!==xe==(Tt!==je))return!1;xe=lt,je=Tt}return!0},l.prototype.equalsExact=function(){if(2===arguments.length){var p=arguments[0],y=arguments[1];if(!this.isEquivalentClass(p))return!1;var S=p;if(!this._shell.equalsExact(S._shell,y)||this._holes.length!==S._holes.length)return!1;for(var xe=0;xe<this._holes.length;xe++)if(!this._holes[xe].equalsExact(S._holes[xe],y))return!1;return!0}return s.prototype.equalsExact.apply(this,arguments)},l.prototype.normalize=function(){if(0===arguments.length){this.normalize(this._shell,!0);for(var p=0;p<this._holes.length;p++)this.normalize(this._holes[p],!1);ri.sort(this._holes)}else if(2===arguments.length){var y=arguments[0],S=arguments[1];if(y.isEmpty())return null;var N=new Array(y.getCoordinates().length-1).fill(null);Ft.arraycopy(y.getCoordinates(),0,N,0,N.length);var te=sn.minCoordinate(y.getCoordinates());sn.scroll(N,te),Ft.arraycopy(N,0,y.getCoordinates(),0,N.length),y.getCoordinates()[N.length]=N[0],He.isCCW(y.getCoordinates())===S&&sn.reverse(y.getCoordinates())}},l.prototype.getCoordinate=function(){return this._shell.getCoordinate()},l.prototype.getNumInteriorRing=function(){return this._holes.length},l.prototype.getBoundaryDimension=function(){return 1},l.prototype.getDimension=function(){return 2},l.prototype.getLength=function(){var p=0;p+=this._shell.getLength();for(var y=0;y<this._holes.length;y++)p+=this._holes[y].getLength();return p},l.prototype.getNumPoints=function(){for(var p=this._shell.getNumPoints(),y=0;y<this._holes.length;y++)p+=this._holes[y].getNumPoints();return p},l.prototype.reverse=function(){var p=this.copy();p._shell=this._shell.copy().reverse(),p._holes=new Array(this._holes.length).fill(null);for(var y=0;y<this._holes.length;y++)p._holes[y]=this._holes[y].copy().reverse();return p},l.prototype.convexHull=function(){return this.getExteriorRing().convexHull()},l.prototype.compareToSameClass=function(){if(1===arguments.length)return this._shell.compareToSameClass(arguments[0]._shell);if(2===arguments.length){var te=arguments[1],xe=arguments[0],lt=this._shell.compareToSameClass(xe._shell,te);if(0!==lt)return lt;for(var Tt=this.getNumInteriorRing(),At=xe.getNumInteriorRing(),Xt=0;Xt<Tt&&Xt<At;){var fn=this.getInteriorRingN(Xt),ti=xe.getInteriorRingN(Xt),go=fn.compareToSameClass(ti,te);if(0!==go)return go;Xt++}return Xt<Tt?1:Xt<At?-1:0}},l.prototype.apply=function(p){if(We(p,Bt)){this._shell.apply(p);for(var y=0;y<this._holes.length;y++)this._holes[y].apply(p)}else if(We(p,bo)){if(this._shell.apply(p),!p.isDone())for(var S=0;S<this._holes.length&&(this._holes[S].apply(p),!p.isDone());S++);p.isGeometryChanged()&&this.geometryChanged()}else if(We(p,Oo))p.filter(this);else if(We(p,Pt)){p.filter(this),this._shell.apply(p);for(var N=0;N<this._holes.length;N++)this._holes[N].apply(p)}},l.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();var p=new Array(this._holes.length+1).fill(null);p[0]=this._shell;for(var y=0;y<this._holes.length;y++)p[y+1]=this._holes[y];return p.length<=1?this.getFactory().createLinearRing(p[0].getCoordinateSequence()):this.getFactory().createMultiLineString(p)},l.prototype.clone=function(){var p=s.prototype.clone.call(this);p._shell=this._shell.clone(),p._holes=new Array(this._holes.length).fill(null);for(var y=0;y<this._holes.length;y++)p._holes[y]=this._holes[y].clone();return p},l.prototype.getGeometryType=function(){return"Polygon"},l.prototype.copy=function(){for(var p=this._shell.copy(),y=new Array(this._holes.length).fill(null),S=0;S<y.length;S++)y[S]=this._holes[S].copy();return new l(p,y,this._factory)},l.prototype.getExteriorRing=function(){return this._shell},l.prototype.isEmpty=function(){return this._shell.isEmpty()},l.prototype.getInteriorRingN=function(p){return this._holes[p]},l.prototype.interfaces_=function(){return[Rs]},l.prototype.getClass=function(){return l},d.serialVersionUID.get=function(){return-0x307ffefd8dc97200},Object.defineProperties(l,d),l}(pt),Os=function(s){function l(){s.apply(this,arguments)}s&&(l.__proto__=s),(l.prototype=Object.create(s&&s.prototype)).constructor=l;var d={serialVersionUID:{configurable:!0}};return l.prototype.getSortIndex=function(){return pt.SORTINDEX_MULTIPOINT},l.prototype.isValid=function(){return!0},l.prototype.equalsExact=function(){if(2===arguments.length){var p=arguments[0],y=arguments[1];return!!this.isEquivalentClass(p)&&s.prototype.equalsExact.call(this,p,y)}return s.prototype.equalsExact.apply(this,arguments)},l.prototype.getCoordinate=function(){return 1===arguments.length?this._geometries[arguments[0]].getCoordinate():s.prototype.getCoordinate.apply(this,arguments)},l.prototype.getBoundaryDimension=function(){return Fn.FALSE},l.prototype.getDimension=function(){return 0},l.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},l.prototype.getGeometryType=function(){return"MultiPoint"},l.prototype.copy=function(){for(var p=new Array(this._geometries.length).fill(null),y=0;y<p.length;y++)p[y]=this._geometries[y].copy();return new l(p,this._factory)},l.prototype.interfaces_=function(){return[Fa]},l.prototype.getClass=function(){return l},d.serialVersionUID.get=function(){return-0x6fb1ed4162e0fc00},Object.defineProperties(l,d),l}(Di),Go=function(s){function l(p,y){p instanceof W&&y instanceof nn&&(p=y.getCoordinateSequenceFactory().create(p)),s.call(this,p,y),this.validateConstruction()}s&&(l.__proto__=s),(l.prototype=Object.create(s&&s.prototype)).constructor=l;var d={MINIMUM_VALID_SIZE:{configurable:!0},serialVersionUID:{configurable:!0}};return l.prototype.getSortIndex=function(){return pt.SORTINDEX_LINEARRING},l.prototype.getBoundaryDimension=function(){return Fn.FALSE},l.prototype.isClosed=function(){return!!this.isEmpty()||s.prototype.isClosed.call(this)},l.prototype.reverse=function(){var p=this._points.copy();return Gr.reverse(p),this.getFactory().createLinearRing(p)},l.prototype.validateConstruction=function(){if(!this.isEmpty()&&!s.prototype.isClosed.call(this))throw new R("Points of LinearRing do not form a closed linestring");if(this.getCoordinateSequence().size()>=1&&this.getCoordinateSequence().size()<l.MINIMUM_VALID_SIZE)throw new R("Invalid number of points in LinearRing (found "+this.getCoordinateSequence().size()+" - must be 0 or >= 4)")},l.prototype.getGeometryType=function(){return"LinearRing"},l.prototype.copy=function(){return new l(this._points.copy(),this._factory)},l.prototype.interfaces_=function(){return[]},l.prototype.getClass=function(){return l},d.MINIMUM_VALID_SIZE.get=function(){return 4},d.serialVersionUID.get=function(){return-0x3b229e262367a600},Object.defineProperties(l,d),l}(Kn),Jo=function(s){function l(){s.apply(this,arguments)}s&&(l.__proto__=s),(l.prototype=Object.create(s&&s.prototype)).constructor=l;var d={serialVersionUID:{configurable:!0}};return l.prototype.getSortIndex=function(){return pt.SORTINDEX_MULTIPOLYGON},l.prototype.equalsExact=function(){if(2===arguments.length){var p=arguments[0],y=arguments[1];return!!this.isEquivalentClass(p)&&s.prototype.equalsExact.call(this,p,y)}return s.prototype.equalsExact.apply(this,arguments)},l.prototype.getBoundaryDimension=function(){return 1},l.prototype.getDimension=function(){return 2},l.prototype.reverse=function(){for(var y=new Array(this._geometries.length).fill(null),S=0;S<this._geometries.length;S++)y[S]=this._geometries[S].reverse();return this.getFactory().createMultiPolygon(y)},l.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();for(var p=new bt,y=0;y<this._geometries.length;y++)for(var S=this._geometries[y].getBoundary(),N=0;N<S.getNumGeometries();N++)p.add(S.getGeometryN(N));var te=new Array(p.size()).fill(null);return this.getFactory().createMultiLineString(p.toArray(te))},l.prototype.getGeometryType=function(){return"MultiPolygon"},l.prototype.copy=function(){for(var p=new Array(this._geometries.length).fill(null),y=0;y<p.length;y++)p[y]=this._geometries[y].copy();return new l(p,this._factory)},l.prototype.interfaces_=function(){return[Rs]},l.prototype.getClass=function(){return l},d.serialVersionUID.get=function(){return-0x7a5aa1369171980},Object.defineProperties(l,d),l}(Di),Wi=function(s){this._factory=s||null,this._isUserDataCopied=!1},nl={NoOpGeometryOperation:{configurable:!0},CoordinateOperation:{configurable:!0},CoordinateSequenceOperation:{configurable:!0}};Wi.prototype.setCopyUserData=function(s){this._isUserDataCopied=s},Wi.prototype.edit=function(s,l){if(null===s)return null;var d=this.editInternal(s,l);return this._isUserDataCopied&&d.setUserData(s.getUserData()),d},Wi.prototype.editInternal=function(s,l){return null===this._factory&&(this._factory=s.getFactory()),s instanceof Di?this.editGeometryCollection(s,l):s instanceof vi?this.editPolygon(s,l):s instanceof po||s instanceof Kn?l.edit(s,this._factory):(T.shouldNeverReachHere("Unsupported Geometry class: "+s.getClass().getName()),null)},Wi.prototype.editGeometryCollection=function(s,l){for(var d=l.edit(s,this._factory),p=new bt,y=0;y<d.getNumGeometries();y++){var S=this.edit(d.getGeometryN(y),l);null===S||S.isEmpty()||p.add(S)}return d.getClass()===Os?this._factory.createMultiPoint(p.toArray([])):d.getClass()===Qs?this._factory.createMultiLineString(p.toArray([])):d.getClass()===Jo?this._factory.createMultiPolygon(p.toArray([])):this._factory.createGeometryCollection(p.toArray([]))},Wi.prototype.editPolygon=function(s,l){var d=l.edit(s,this._factory);if(null===d&&(d=this._factory.createPolygon(null)),d.isEmpty())return d;var p=this.edit(d.getExteriorRing(),l);if(null===p||p.isEmpty())return this._factory.createPolygon();for(var y=new bt,S=0;S<d.getNumInteriorRing();S++){var N=this.edit(d.getInteriorRingN(S),l);null===N||N.isEmpty()||y.add(N)}return this._factory.createPolygon(p,y.toArray([]))},Wi.prototype.interfaces_=function(){return[]},Wi.prototype.getClass=function(){return Wi},Wi.GeometryEditorOperation=function(){},nl.NoOpGeometryOperation.get=function(){return rl},nl.CoordinateOperation.get=function(){return Js},nl.CoordinateSequenceOperation.get=function(){return qn},Object.defineProperties(Wi,nl);var rl=function(){};rl.prototype.edit=function(s,l){return s},rl.prototype.interfaces_=function(){return[Wi.GeometryEditorOperation]},rl.prototype.getClass=function(){return rl};var Js=function(){};Js.prototype.edit=function(s,l){var d=this.editCoordinates(s.getCoordinates(),s);return null===d?s:s instanceof Go?l.createLinearRing(d):s instanceof Kn?l.createLineString(d):s instanceof po?d.length>0?l.createPoint(d[0]):l.createPoint():s},Js.prototype.interfaces_=function(){return[Wi.GeometryEditorOperation]},Js.prototype.getClass=function(){return Js};var qn=function(){};qn.prototype.edit=function(s,l){return s instanceof Go?l.createLinearRing(this.edit(s.getCoordinateSequence(),s)):s instanceof Kn?l.createLineString(this.edit(s.getCoordinateSequence(),s)):s instanceof po?l.createPoint(this.edit(s.getCoordinateSequence(),s)):s},qn.prototype.interfaces_=function(){return[Wi.GeometryEditorOperation]},qn.prototype.getClass=function(){return qn};var Cn=function(){if(this._dimension=3,this._coordinates=null,1===arguments.length){if(arguments[0]instanceof Array)this._coordinates=arguments[0],this._dimension=3;else if(Number.isInteger(arguments[0])){var s=arguments[0];this._coordinates=new Array(s).fill(null);for(var l=0;l<s;l++)this._coordinates[l]=new W}else if(We(arguments[0],$e)){var d=arguments[0];if(null===d)return this._coordinates=new Array(0).fill(null),null;this._dimension=d.getDimension(),this._coordinates=new Array(d.size()).fill(null);for(var p=0;p<this._coordinates.length;p++)this._coordinates[p]=d.getCoordinateCopy(p)}}else if(2===arguments.length)if(arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var y=arguments[0],S=arguments[1];this._coordinates=y,this._dimension=S,null===y&&(this._coordinates=new Array(0).fill(null))}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var N=arguments[0],te=arguments[1];this._coordinates=new Array(N).fill(null),this._dimension=te;for(var xe=0;xe<N;xe++)this._coordinates[xe]=new W}},Ba={serialVersionUID:{configurable:!0}};Cn.prototype.setOrdinate=function(s,l,d){switch(l){case $e.X:this._coordinates[s].x=d;break;case $e.Y:this._coordinates[s].y=d;break;case $e.Z:this._coordinates[s].z=d;break;default:throw new R("invalid ordinateIndex")}},Cn.prototype.size=function(){return this._coordinates.length},Cn.prototype.getOrdinate=function(s,l){switch(l){case $e.X:return this._coordinates[s].x;case $e.Y:return this._coordinates[s].y;case $e.Z:return this._coordinates[s].z}return V.NaN},Cn.prototype.getCoordinate=function(){if(1===arguments.length)return this._coordinates[arguments[0]];if(2===arguments.length){var l=arguments[0],d=arguments[1];d.x=this._coordinates[l].x,d.y=this._coordinates[l].y,d.z=this._coordinates[l].z}},Cn.prototype.getCoordinateCopy=function(s){return new W(this._coordinates[s])},Cn.prototype.getDimension=function(){return this._dimension},Cn.prototype.getX=function(s){return this._coordinates[s].x},Cn.prototype.clone=function(){for(var s=new Array(this.size()).fill(null),l=0;l<this._coordinates.length;l++)s[l]=this._coordinates[l].clone();return new Cn(s,this._dimension)},Cn.prototype.expandEnvelope=function(s){for(var l=0;l<this._coordinates.length;l++)s.expandToInclude(this._coordinates[l]);return s},Cn.prototype.copy=function(){for(var s=new Array(this.size()).fill(null),l=0;l<this._coordinates.length;l++)s[l]=this._coordinates[l].copy();return new Cn(s,this._dimension)},Cn.prototype.toString=function(){if(this._coordinates.length>0){var s=new be(17*this._coordinates.length);s.append("("),s.append(this._coordinates[0]);for(var l=1;l<this._coordinates.length;l++)s.append(", "),s.append(this._coordinates[l]);return s.append(")"),s.toString()}return"()"},Cn.prototype.getY=function(s){return this._coordinates[s].y},Cn.prototype.toCoordinateArray=function(){return this._coordinates},Cn.prototype.interfaces_=function(){return[$e,F]},Cn.prototype.getClass=function(){return Cn},Ba.serialVersionUID.get=function(){return-0xcb44a778db18e00},Object.defineProperties(Cn,Ba);var Do=function(){},oa={serialVersionUID:{configurable:!0},instanceObject:{configurable:!0}};Do.prototype.readResolve=function(){return Do.instance()},Do.prototype.create=function(){if(1===arguments.length){if(arguments[0]instanceof Array)return new Cn(arguments[0]);if(We(arguments[0],$e))return new Cn(arguments[0])}else if(2===arguments.length){var d=arguments[0],p=arguments[1];return p>3&&(p=3),p<2?new Cn(d):new Cn(d,p)}},Do.prototype.interfaces_=function(){return[Ee,F]},Do.prototype.getClass=function(){return Do},Do.instance=function(){return Do.instanceObject},oa.serialVersionUID.get=function(){return-0x38e49fa6cf6f2e00},oa.instanceObject.get=function(){return new Do},Object.defineProperties(Do,oa);var Si=function(s){function l(){s.call(this),this.map_=new Map}return s&&(l.__proto__=s),(l.prototype=Object.create(s&&s.prototype)).constructor=l,l.prototype.get=function(d){return this.map_.get(d)||null},l.prototype.put=function(d,p){return this.map_.set(d,p),p},l.prototype.values=function(){for(var d=new bt,p=this.map_.values(),y=p.next();!y.done;)d.add(y.value),y=p.next();return d},l.prototype.entrySet=function(){var d=new du;return this.map_.entries().forEach(function(p){return d.add(p)}),d},l.prototype.size=function(){return this.map_.size()},l}(Ks),zt=function s(){if(this._modelType=null,this._scale=null,0===arguments.length)this._modelType=s.FLOATING;else if(1===arguments.length)if(arguments[0]instanceof So){var l=arguments[0];this._modelType=l,l===s.FIXED&&this.setScale(1)}else if("number"==typeof arguments[0]){var d=arguments[0];this._modelType=s.FIXED,this.setScale(d)}else if(arguments[0]instanceof s){var p=arguments[0];this._modelType=p._modelType,this._scale=p._scale}},Vt={serialVersionUID:{configurable:!0},maximumPreciseValue:{configurable:!0}};zt.prototype.equals=function(s){return s instanceof zt&&this._modelType===s._modelType&&this._scale===s._scale},zt.prototype.compareTo=function(s){var l=s,d=this.getMaximumSignificantDigits(),p=l.getMaximumSignificantDigits();return new Se(d).compareTo(new Se(p))},zt.prototype.getScale=function(){return this._scale},zt.prototype.isFloating=function(){return this._modelType===zt.FLOATING||this._modelType===zt.FLOATING_SINGLE},zt.prototype.getType=function(){return this._modelType},zt.prototype.toString=function(){var s="UNKNOWN";return this._modelType===zt.FLOATING?s="Floating":this._modelType===zt.FLOATING_SINGLE?s="Floating-Single":this._modelType===zt.FIXED&&(s="Fixed (Scale="+this.getScale()+")"),s},zt.prototype.makePrecise=function(){if("number"==typeof arguments[0]){var s=arguments[0];return V.isNaN(s)||this._modelType===zt.FLOATING_SINGLE?s:this._modelType===zt.FIXED?Math.round(s*this._scale)/this._scale:s}if(arguments[0]instanceof W){var l=arguments[0];if(this._modelType===zt.FLOATING)return null;l.x=this.makePrecise(l.x),l.y=this.makePrecise(l.y)}},zt.prototype.getMaximumSignificantDigits=function(){var s=16;return this._modelType===zt.FLOATING?s=16:this._modelType===zt.FLOATING_SINGLE?s=6:this._modelType===zt.FIXED&&(s=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10)))),s},zt.prototype.setScale=function(s){this._scale=Math.abs(s)},zt.prototype.interfaces_=function(){return[F,Q]},zt.prototype.getClass=function(){return zt},zt.mostPrecise=function(s,l){return s.compareTo(l)>=0?s:l},Vt.serialVersionUID.get=function(){return 0x6bee6404e9a25c00},Vt.maximumPreciseValue.get=function(){return 9007199254740992},Object.defineProperties(zt,Vt);var So=function s(l){this._name=l||null,s.nameToTypeMap.put(l,this)},sa={serialVersionUID:{configurable:!0},nameToTypeMap:{configurable:!0}};So.prototype.readResolve=function(){return So.nameToTypeMap.get(this._name)},So.prototype.toString=function(){return this._name},So.prototype.interfaces_=function(){return[F]},So.prototype.getClass=function(){return So},sa.serialVersionUID.get=function(){return-552860263173159e4},sa.nameToTypeMap.get=function(){return new Si},Object.defineProperties(So,sa),zt.Type=So,zt.FIXED=new So("FIXED"),zt.FLOATING=new So("FLOATING"),zt.FLOATING_SINGLE=new So("FLOATING SINGLE");var nn=function s(){this._precisionModel=new zt,this._SRID=0,this._coordinateSequenceFactory=s.getDefaultCoordinateSequenceFactory(),0===arguments.length||(1===arguments.length?We(arguments[0],Ee)?this._coordinateSequenceFactory=arguments[0]:arguments[0]instanceof zt&&(this._precisionModel=arguments[0]):2===arguments.length?(this._precisionModel=arguments[0],this._SRID=arguments[1]):3===arguments.length&&(this._precisionModel=arguments[0],this._SRID=arguments[1],this._coordinateSequenceFactory=arguments[2]))},il={serialVersionUID:{configurable:!0}};nn.prototype.toGeometry=function(s){return s.isNull()?this.createPoint(null):s.getMinX()===s.getMaxX()&&s.getMinY()===s.getMaxY()?this.createPoint(new W(s.getMinX(),s.getMinY())):s.getMinX()===s.getMaxX()||s.getMinY()===s.getMaxY()?this.createLineString([new W(s.getMinX(),s.getMinY()),new W(s.getMaxX(),s.getMaxY())]):this.createPolygon(this.createLinearRing([new W(s.getMinX(),s.getMinY()),new W(s.getMinX(),s.getMaxY()),new W(s.getMaxX(),s.getMaxY()),new W(s.getMaxX(),s.getMinY()),new W(s.getMinX(),s.getMinY())]),null)},nn.prototype.createLineString=function(s){return s?s instanceof Array?new Kn(this.getCoordinateSequenceFactory().create(s),this):We(s,$e)?new Kn(s,this):void 0:new Kn(this.getCoordinateSequenceFactory().create([]),this)},nn.prototype.createMultiLineString=function(){return 0===arguments.length?new Qs(null,this):1===arguments.length?new Qs(arguments[0],this):void 0},nn.prototype.buildGeometry=function(s){for(var l=null,d=!1,p=!1,y=s.iterator();y.hasNext();){var S=y.next(),N=S.getClass();null===l&&(l=N),N!==l&&(d=!0),S.isGeometryCollectionOrDerived()&&(p=!0)}if(null===l)return this.createGeometryCollection();if(d||p)return this.createGeometryCollection(nn.toGeometryArray(s));var te=s.iterator().next();if(s.size()>1){if(te instanceof vi)return this.createMultiPolygon(nn.toPolygonArray(s));if(te instanceof Kn)return this.createMultiLineString(nn.toLineStringArray(s));if(te instanceof po)return this.createMultiPoint(nn.toPointArray(s));T.shouldNeverReachHere("Unhandled class: "+te.getClass().getName())}return te},nn.prototype.createMultiPointFromCoords=function(s){return this.createMultiPoint(null!==s?this.getCoordinateSequenceFactory().create(s):null)},nn.prototype.createPoint=function(){if(0===arguments.length)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof W){var s=arguments[0];return this.createPoint(null!==s?this.getCoordinateSequenceFactory().create([s]):null)}if(We(arguments[0],$e))return new po(arguments[0],this)}},nn.prototype.getCoordinateSequenceFactory=function(){return this._coordinateSequenceFactory},nn.prototype.createPolygon=function(){if(0===arguments.length)return new vi(null,null,this);if(1===arguments.length){if(We(arguments[0],$e))return this.createPolygon(this.createLinearRing(arguments[0]));if(arguments[0]instanceof Array)return this.createPolygon(this.createLinearRing(arguments[0]));if(arguments[0]instanceof Go)return this.createPolygon(arguments[0],null)}else if(2===arguments.length)return new vi(arguments[0],arguments[1],this)},nn.prototype.getSRID=function(){return this._SRID},nn.prototype.createGeometryCollection=function(){return 0===arguments.length?new Di(null,this):1===arguments.length?new Di(arguments[0],this):void 0},nn.prototype.createGeometry=function(s){return new Wi(this).edit(s,{edit:function(){if(2===arguments.length)return this._coordinateSequenceFactory.create(arguments[0])}})},nn.prototype.getPrecisionModel=function(){return this._precisionModel},nn.prototype.createLinearRing=function(){if(0===arguments.length)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof Array){var s=arguments[0];return this.createLinearRing(null!==s?this.getCoordinateSequenceFactory().create(s):null)}if(We(arguments[0],$e))return new Go(arguments[0],this)}},nn.prototype.createMultiPolygon=function(){return 0===arguments.length?new Jo(null,this):1===arguments.length?new Jo(arguments[0],this):void 0},nn.prototype.createMultiPoint=function(){if(0===arguments.length)return new Os(null,this);if(1===arguments.length){if(arguments[0]instanceof Array)return new Os(arguments[0],this);if(arguments[0]instanceof Array){var l=arguments[0];return this.createMultiPoint(null!==l?this.getCoordinateSequenceFactory().create(l):null)}if(We(arguments[0],$e)){var d=arguments[0];if(null===d)return this.createMultiPoint(new Array(0).fill(null));for(var p=new Array(d.size()).fill(null),y=0;y<d.size();y++){var S=this.getCoordinateSequenceFactory().create(1,d.getDimension());Gr.copy(d,y,S,0,1),p[y]=this.createPoint(S)}return this.createMultiPoint(p)}}},nn.prototype.interfaces_=function(){return[F]},nn.prototype.getClass=function(){return nn},nn.toMultiPolygonArray=function(s){var l=new Array(s.size()).fill(null);return s.toArray(l)},nn.toGeometryArray=function(s){if(null===s)return null;var l=new Array(s.size()).fill(null);return s.toArray(l)},nn.getDefaultCoordinateSequenceFactory=function(){return Do.instance()},nn.toMultiLineStringArray=function(s){var l=new Array(s.size()).fill(null);return s.toArray(l)},nn.toLineStringArray=function(s){var l=new Array(s.size()).fill(null);return s.toArray(l)},nn.toMultiPointArray=function(s){var l=new Array(s.size()).fill(null);return s.toArray(l)},nn.toLinearRingArray=function(s){var l=new Array(s.size()).fill(null);return s.toArray(l)},nn.toPointArray=function(s){var l=new Array(s.size()).fill(null);return s.toArray(l)},nn.toPolygonArray=function(s){var l=new Array(s.size()).fill(null);return s.toArray(l)},nn.createPointFromInternalCoord=function(s,l){return l.getPrecisionModel().makePrecise(s),l.getFactory().createPoint(s)},il.serialVersionUID.get=function(){return-0x5ea75f2051eeb400},Object.defineProperties(nn,il);var Nl=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"],$n=function(s){this.geometryFactory=s||new nn};$n.prototype.read=function(s){var l,d=(l="string"==typeof s?JSON.parse(s):s).type;if(!Wn[d])throw new Error("Unknown GeoJSON type: "+l.type);return-1!==Nl.indexOf(d)?Wn[d].apply(this,[l.coordinates]):Wn[d].apply(this,"GeometryCollection"===d?[l.geometries]:[l])},$n.prototype.write=function(s){var l=s.getGeometryType();if(!rr[l])throw new Error("Geometry is not supported");return rr[l].apply(this,[s])};var Wn={Feature:function(s){var l={};for(var d in s)l[d]=s[d];if(s.geometry){if(!Wn[s.geometry.type])throw new Error("Unknown GeoJSON type: "+s.type);l.geometry=this.read(s.geometry)}return s.bbox&&(l.bbox=Wn.bbox.apply(this,[s.bbox])),l},FeatureCollection:function(s){var l={};if(s.features){l.features=[];for(var d=0;d<s.features.length;++d)l.features.push(this.read(s.features[d]))}return s.bbox&&(l.bbox=this.parse.bbox.apply(this,[s.bbox])),l},coordinates:function(s){for(var l=[],d=0;d<s.length;++d){var p=s[d];l.push(new W(p[0],p[1]))}return l},bbox:function(s){return this.geometryFactory.createLinearRing([new W(s[0],s[1]),new W(s[2],s[1]),new W(s[2],s[3]),new W(s[0],s[3]),new W(s[0],s[1])])},Point:function(s){var l=new W(s[0],s[1]);return this.geometryFactory.createPoint(l)},MultiPoint:function(s){for(var l=[],d=0;d<s.length;++d)l.push(Wn.Point.apply(this,[s[d]]));return this.geometryFactory.createMultiPoint(l)},LineString:function(s){var l=Wn.coordinates.apply(this,[s]);return this.geometryFactory.createLineString(l)},MultiLineString:function(s){for(var l=[],d=0;d<s.length;++d)l.push(Wn.LineString.apply(this,[s[d]]));return this.geometryFactory.createMultiLineString(l)},Polygon:function(s){for(var l=Wn.coordinates.apply(this,[s[0]]),d=this.geometryFactory.createLinearRing(l),p=[],y=1;y<s.length;++y){var N=Wn.coordinates.apply(this,[s[y]]),te=this.geometryFactory.createLinearRing(N);p.push(te)}return this.geometryFactory.createPolygon(d,p)},MultiPolygon:function(s){for(var l=[],d=0;d<s.length;++d)l.push(Wn.Polygon.apply(this,[s[d]]));return this.geometryFactory.createMultiPolygon(l)},GeometryCollection:function(s){for(var l=[],d=0;d<s.length;++d)l.push(this.read(s[d]));return this.geometryFactory.createGeometryCollection(l)}},rr={coordinate:function(s){return[s.x,s.y]},Point:function(s){return{type:"Point",coordinates:rr.coordinate.apply(this,[s.getCoordinate()])}},MultiPoint:function(s){for(var l=[],d=0;d<s._geometries.length;++d){var y=rr.Point.apply(this,[s._geometries[d]]);l.push(y.coordinates)}return{type:"MultiPoint",coordinates:l}},LineString:function(s){for(var l=[],d=s.getCoordinates(),p=0;p<d.length;++p)l.push(rr.coordinate.apply(this,[d[p]]));return{type:"LineString",coordinates:l}},MultiLineString:function(s){for(var l=[],d=0;d<s._geometries.length;++d){var y=rr.LineString.apply(this,[s._geometries[d]]);l.push(y.coordinates)}return{type:"MultiLineString",coordinates:l}},Polygon:function(s){var l=[],d=rr.LineString.apply(this,[s._shell]);l.push(d.coordinates);for(var p=0;p<s._holes.length;++p){var S=rr.LineString.apply(this,[s._holes[p]]);l.push(S.coordinates)}return{type:"Polygon",coordinates:l}},MultiPolygon:function(s){for(var l=[],d=0;d<s._geometries.length;++d){var y=rr.Polygon.apply(this,[s._geometries[d]]);l.push(y.coordinates)}return{type:"MultiPolygon",coordinates:l}},GeometryCollection:function(s){for(var l=[],d=0;d<s._geometries.length;++d){var p=s._geometries[d],y=p.getGeometryType();l.push(rr[y].apply(this,[p]))}return{type:"GeometryCollection",geometries:l}}},aa=function(s){this.geometryFactory=s||new nn,this.precisionModel=this.geometryFactory.getPrecisionModel(),this.parser=new $n(this.geometryFactory)};aa.prototype.read=function(s){var l=this.parser.read(s);return this.precisionModel.getType()===zt.FIXED&&this.reducePrecision(l),l},aa.prototype.reducePrecision=function(s){var l,d;if(s.coordinate)this.precisionModel.makePrecise(s.coordinate);else if(s.points)for(l=0,d=s.points.length;l<d;l++)this.precisionModel.makePrecise(s.points[l]);else if(s.geometries)for(l=0,d=s.geometries.length;l<d;l++)this.reducePrecision(s.geometries[l])};var ol=function(){this.parser=new $n(this.geometryFactory)};ol.prototype.write=function(s){return this.parser.write(s)};var st=function(){},gn={ON:{configurable:!0},LEFT:{configurable:!0},RIGHT:{configurable:!0}};st.prototype.interfaces_=function(){return[]},st.prototype.getClass=function(){return st},st.opposite=function(s){return s===st.LEFT?st.RIGHT:s===st.RIGHT?st.LEFT:s},gn.ON.get=function(){return 0},gn.LEFT.get=function(){return 1},gn.RIGHT.get=function(){return 2},Object.defineProperties(st,gn),(oe.prototype=new Error).name="EmptyStackException",(he.prototype=new pr).add=function(s){return this.array_.push(s),!0},he.prototype.get=function(s){if(s<0||s>=this.size())throw new Error;return this.array_[s]},he.prototype.push=function(s){return this.array_.push(s),s},he.prototype.pop=function(s){if(0===this.array_.length)throw new oe;return this.array_.pop()},he.prototype.peek=function(){if(0===this.array_.length)throw new oe;return this.array_[this.array_.length-1]},he.prototype.empty=function(){return 0===this.array_.length},he.prototype.isEmpty=function(){return this.empty()},he.prototype.search=function(s){return this.array_.indexOf(s)},he.prototype.size=function(){return this.array_.length},he.prototype.toArray=function(){for(var s=[],l=0,d=this.array_.length;l<d;l++)s.push(this.array_[l]);return s};var wo=function(){this._minIndex=-1,this._minCoord=null,this._minDe=null,this._orientedDe=null};wo.prototype.getCoordinate=function(){return this._minCoord},wo.prototype.getRightmostSide=function(s,l){var d=this.getRightmostSideOfSegment(s,l);return d<0&&(d=this.getRightmostSideOfSegment(s,l-1)),d<0&&(this._minCoord=null,this.checkForRightmostCoordinate(s)),d},wo.prototype.findRightmostEdgeAtVertex=function(){var s=this._minDe.getEdge().getCoordinates();T.isTrue(this._minIndex>0&&this._minIndex<s.length,"rightmost point expected to be interior vertex of edge");var l=s[this._minIndex-1],d=s[this._minIndex+1],p=He.computeOrientation(this._minCoord,d,l),y=!1;(l.y<this._minCoord.y&&d.y<this._minCoord.y&&p===He.COUNTERCLOCKWISE||l.y>this._minCoord.y&&d.y>this._minCoord.y&&p===He.CLOCKWISE)&&(y=!0),y&&(this._minIndex=this._minIndex-1)},wo.prototype.getRightmostSideOfSegment=function(s,l){var d=s.getEdge().getCoordinates();if(l<0||l+1>=d.length||d[l].y===d[l+1].y)return-1;var p=st.LEFT;return d[l].y<d[l+1].y&&(p=st.RIGHT),p},wo.prototype.getEdge=function(){return this._orientedDe},wo.prototype.checkForRightmostCoordinate=function(s){for(var l=s.getEdge().getCoordinates(),d=0;d<l.length-1;d++)(null===this._minCoord||l[d].x>this._minCoord.x)&&(this._minDe=s,this._minIndex=d,this._minCoord=l[d])},wo.prototype.findRightmostEdgeAtNode=function(){var s=this._minDe.getNode().getEdges();this._minDe=s.getRightmostEdge(),this._minDe.isForward()||(this._minDe=this._minDe.getSym(),this._minIndex=this._minDe.getEdge().getCoordinates().length-1)},wo.prototype.findEdge=function(s){for(var l=s.iterator();l.hasNext();){var d=l.next();d.isForward()&&this.checkForRightmostCoordinate(d)}T.isTrue(0!==this._minIndex||this._minCoord.equals(this._minDe.getCoordinate()),"inconsistency in rightmost processing"),0===this._minIndex?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this._orientedDe=this._minDe,this.getRightmostSide(this._minDe,this._minIndex)===st.LEFT&&(this._orientedDe=this._minDe.getSym())},wo.prototype.interfaces_=function(){return[]},wo.prototype.getClass=function(){return wo};var es=function(s){function l(d,p){s.call(this,l.msgWithCoord(d,p)),this.pt=p?new W(p):null,this.name="TopologyException"}return s&&(l.__proto__=s),(l.prototype=Object.create(s&&s.prototype)).constructor=l,l.prototype.getCoordinate=function(){return this.pt},l.prototype.interfaces_=function(){return[]},l.prototype.getClass=function(){return l},l.msgWithCoord=function(d,p){return p?d:d+" [ "+p+" ]"},l}(H),sl=function(){this.array_=[]};sl.prototype.addLast=function(s){this.array_.push(s)},sl.prototype.removeFirst=function(){return this.array_.shift()},sl.prototype.isEmpty=function(){return 0===this.array_.length};var Vi=function(){this._finder=null,this._dirEdgeList=new bt,this._nodes=new bt,this._rightMostCoord=null,this._env=null,this._finder=new wo};Vi.prototype.clearVisitedEdges=function(){for(var s=this._dirEdgeList.iterator();s.hasNext();)s.next().setVisited(!1)},Vi.prototype.getRightmostCoordinate=function(){return this._rightMostCoord},Vi.prototype.computeNodeDepth=function(s){for(var l=null,d=s.getEdges().iterator();d.hasNext();){var p=d.next();if(p.isVisited()||p.getSym().isVisited()){l=p;break}}if(null===l)throw new es("unable to find edge to compute depths at "+s.getCoordinate());s.getEdges().computeDepths(l);for(var y=s.getEdges().iterator();y.hasNext();){var S=y.next();S.setVisited(!0),this.copySymDepths(S)}},Vi.prototype.computeDepth=function(s){this.clearVisitedEdges();var l=this._finder.getEdge();l.setEdgeDepths(st.RIGHT,s),this.copySymDepths(l),this.computeDepths(l)},Vi.prototype.create=function(s){this.addReachable(s),this._finder.findEdge(this._dirEdgeList),this._rightMostCoord=this._finder.getCoordinate()},Vi.prototype.findResultEdges=function(){for(var s=this._dirEdgeList.iterator();s.hasNext();){var l=s.next();l.getDepth(st.RIGHT)>=1&&l.getDepth(st.LEFT)<=0&&!l.isInteriorAreaEdge()&&l.setInResult(!0)}},Vi.prototype.computeDepths=function(s){var l=new du,d=new sl,p=s.getNode();for(d.addLast(p),l.add(p),s.setVisited(!0);!d.isEmpty();){var y=d.removeFirst();l.add(y),this.computeNodeDepth(y);for(var S=y.getEdges().iterator();S.hasNext();){var N=S.next().getSym();if(!N.isVisited()){var te=N.getNode();l.contains(te)||(d.addLast(te),l.add(te))}}}},Vi.prototype.compareTo=function(s){return this._rightMostCoord.x<s._rightMostCoord.x?-1:this._rightMostCoord.x>s._rightMostCoord.x?1:0},Vi.prototype.getEnvelope=function(){if(null===this._env){for(var s=new vt,l=this._dirEdgeList.iterator();l.hasNext();)for(var d=l.next().getEdge().getCoordinates(),p=0;p<d.length-1;p++)s.expandToInclude(d[p]);this._env=s}return this._env},Vi.prototype.addReachable=function(s){var l=new he;for(l.add(s);!l.empty();){var d=l.pop();this.add(d,l)}},Vi.prototype.copySymDepths=function(s){var l=s.getSym();l.setDepth(st.LEFT,s.getDepth(st.RIGHT)),l.setDepth(st.RIGHT,s.getDepth(st.LEFT))},Vi.prototype.add=function(s,l){s.setVisited(!0),this._nodes.add(s);for(var d=s.getEdges().iterator();d.hasNext();){var p=d.next();this._dirEdgeList.add(p);var y=p.getSym().getNode();y.isVisited()||l.push(y)}},Vi.prototype.getNodes=function(){return this._nodes},Vi.prototype.getDirectedEdges=function(){return this._dirEdgeList},Vi.prototype.interfaces_=function(){return[Q]},Vi.prototype.getClass=function(){return Vi};var nt=function s(){if(this.location=null,1===arguments.length){if(arguments[0]instanceof Array)this.init(arguments[0].length);else if(Number.isInteger(arguments[0])){var d=arguments[0];this.init(1),this.location[st.ON]=d}else if(arguments[0]instanceof s){var p=arguments[0];if(this.init(p.location.length),null!==p)for(var y=0;y<this.location.length;y++)this.location[y]=p.location[y]}}else if(3===arguments.length){var S=arguments[0],N=arguments[1],te=arguments[2];this.init(3),this.location[st.ON]=S,this.location[st.LEFT]=N,this.location[st.RIGHT]=te}};nt.prototype.setAllLocations=function(s){for(var l=0;l<this.location.length;l++)this.location[l]=s},nt.prototype.isNull=function(){for(var s=0;s<this.location.length;s++)if(this.location[s]!==de.NONE)return!1;return!0},nt.prototype.setAllLocationsIfNull=function(s){for(var l=0;l<this.location.length;l++)this.location[l]===de.NONE&&(this.location[l]=s)},nt.prototype.isLine=function(){return 1===this.location.length},nt.prototype.merge=function(s){if(s.location.length>this.location.length){var l=new Array(3).fill(null);l[st.ON]=this.location[st.ON],l[st.LEFT]=de.NONE,l[st.RIGHT]=de.NONE,this.location=l}for(var d=0;d<this.location.length;d++)this.location[d]===de.NONE&&d<s.location.length&&(this.location[d]=s.location[d])},nt.prototype.getLocations=function(){return this.location},nt.prototype.flip=function(){if(this.location.length<=1)return null;var s=this.location[st.LEFT];this.location[st.LEFT]=this.location[st.RIGHT],this.location[st.RIGHT]=s},nt.prototype.toString=function(){var s=new be;return this.location.length>1&&s.append(de.toLocationSymbol(this.location[st.LEFT])),s.append(de.toLocationSymbol(this.location[st.ON])),this.location.length>1&&s.append(de.toLocationSymbol(this.location[st.RIGHT])),s.toString()},nt.prototype.setLocations=function(s,l,d){this.location[st.ON]=s,this.location[st.LEFT]=l,this.location[st.RIGHT]=d},nt.prototype.get=function(s){return s<this.location.length?this.location[s]:de.NONE},nt.prototype.isArea=function(){return this.location.length>1},nt.prototype.isAnyNull=function(){for(var s=0;s<this.location.length;s++)if(this.location[s]===de.NONE)return!0;return!1},nt.prototype.setLocation=function(){1===arguments.length?this.setLocation(st.ON,arguments[0]):2===arguments.length&&(this.location[arguments[0]]=arguments[1])},nt.prototype.init=function(s){this.location=new Array(s).fill(null),this.setAllLocations(de.NONE)},nt.prototype.isEqualOnSide=function(s,l){return this.location[l]===s.location[l]},nt.prototype.allPositionsEqual=function(s){for(var l=0;l<this.location.length;l++)if(this.location[l]!==s)return!1;return!0},nt.prototype.interfaces_=function(){return[]},nt.prototype.getClass=function(){return nt};var Bn=function s(){if(this.elt=new Array(2).fill(null),1===arguments.length){if(Number.isInteger(arguments[0])){var l=arguments[0];this.elt[0]=new nt(l),this.elt[1]=new nt(l)}else if(arguments[0]instanceof s){var d=arguments[0];this.elt[0]=new nt(d.elt[0]),this.elt[1]=new nt(d.elt[1])}}else if(2===arguments.length){var p=arguments[0],y=arguments[1];this.elt[0]=new nt(de.NONE),this.elt[1]=new nt(de.NONE),this.elt[p].setLocation(y)}else if(3===arguments.length){var S=arguments[0],N=arguments[1],te=arguments[2];this.elt[0]=new nt(S,N,te),this.elt[1]=new nt(S,N,te)}else if(4===arguments.length){var xe=arguments[0],je=arguments[1],ot=arguments[2],lt=arguments[3];this.elt[0]=new nt(de.NONE,de.NONE,de.NONE),this.elt[1]=new nt(de.NONE,de.NONE,de.NONE),this.elt[xe].setLocations(je,ot,lt)}};Bn.prototype.getGeometryCount=function(){var s=0;return this.elt[0].isNull()||s++,this.elt[1].isNull()||s++,s},Bn.prototype.setAllLocations=function(s,l){this.elt[s].setAllLocations(l)},Bn.prototype.isNull=function(s){return this.elt[s].isNull()},Bn.prototype.setAllLocationsIfNull=function(){if(1===arguments.length){var s=arguments[0];this.setAllLocationsIfNull(0,s),this.setAllLocationsIfNull(1,s)}else 2===arguments.length&&this.elt[arguments[0]].setAllLocationsIfNull(arguments[1])},Bn.prototype.isLine=function(s){return this.elt[s].isLine()},Bn.prototype.merge=function(s){for(var l=0;l<2;l++)null===this.elt[l]&&null!==s.elt[l]?this.elt[l]=new nt(s.elt[l]):this.elt[l].merge(s.elt[l])},Bn.prototype.flip=function(){this.elt[0].flip(),this.elt[1].flip()},Bn.prototype.getLocation=function(){return 1===arguments.length?this.elt[arguments[0]].get(st.ON):2===arguments.length?this.elt[arguments[0]].get(arguments[1]):void 0},Bn.prototype.toString=function(){var s=new be;return null!==this.elt[0]&&(s.append("A:"),s.append(this.elt[0].toString())),null!==this.elt[1]&&(s.append(" B:"),s.append(this.elt[1].toString())),s.toString()},Bn.prototype.isArea=function(){return 0===arguments.length?this.elt[0].isArea()||this.elt[1].isArea():1===arguments.length?this.elt[arguments[0]].isArea():void 0},Bn.prototype.isAnyNull=function(s){return this.elt[s].isAnyNull()},Bn.prototype.setLocation=function(){2===arguments.length?this.elt[arguments[0]].setLocation(st.ON,arguments[1]):3===arguments.length&&this.elt[arguments[0]].setLocation(arguments[1],arguments[2])},Bn.prototype.isEqualOnSide=function(s,l){return this.elt[0].isEqualOnSide(s.elt[0],l)&&this.elt[1].isEqualOnSide(s.elt[1],l)},Bn.prototype.allPositionsEqual=function(s,l){return this.elt[s].allPositionsEqual(l)},Bn.prototype.toLine=function(s){this.elt[s].isArea()&&(this.elt[s]=new nt(this.elt[s].location[0]))},Bn.prototype.interfaces_=function(){return[]},Bn.prototype.getClass=function(){return Bn},Bn.toLineLabel=function(s){for(var l=new Bn(de.NONE),d=0;d<2;d++)l.setLocation(d,s.getLocation(d));return l};var Zt=function(){this._startDe=null,this._maxNodeDegree=-1,this._edges=new bt,this._pts=new bt,this._label=new Bn(de.NONE),this._ring=null,this._isHole=null,this._shell=null,this._holes=new bt,this._geometryFactory=null;var s=arguments[0];this._geometryFactory=arguments[1],this.computePoints(s),this.computeRing()};Zt.prototype.computeRing=function(){if(null!==this._ring)return null;for(var s=new Array(this._pts.size()).fill(null),l=0;l<this._pts.size();l++)s[l]=this._pts.get(l);this._ring=this._geometryFactory.createLinearRing(s),this._isHole=He.isCCW(this._ring.getCoordinates())},Zt.prototype.isIsolated=function(){return 1===this._label.getGeometryCount()},Zt.prototype.computePoints=function(s){this._startDe=s;var l=s,d=!0;do{if(null===l)throw new es("Found null DirectedEdge");if(l.getEdgeRing()===this)throw new es("Directed Edge visited twice during ring-building at "+l.getCoordinate());this._edges.add(l);var p=l.getLabel();T.isTrue(p.isArea()),this.mergeLabel(p),this.addPoints(l.getEdge(),l.isForward(),d),d=!1,this.setEdgeRing(l,this),l=this.getNext(l)}while(l!==this._startDe)},Zt.prototype.getLinearRing=function(){return this._ring},Zt.prototype.getCoordinate=function(s){return this._pts.get(s)},Zt.prototype.computeMaxNodeDegree=function(){this._maxNodeDegree=0;var s=this._startDe;do{var l=s.getNode().getEdges().getOutgoingDegree(this);l>this._maxNodeDegree&&(this._maxNodeDegree=l),s=this.getNext(s)}while(s!==this._startDe);this._maxNodeDegree*=2},Zt.prototype.addPoints=function(s,l,d){var p=s.getCoordinates();if(l){var y=1;d&&(y=0);for(var S=y;S<p.length;S++)this._pts.add(p[S])}else{var N=p.length-2;d&&(N=p.length-1);for(var te=N;te>=0;te--)this._pts.add(p[te])}},Zt.prototype.isHole=function(){return this._isHole},Zt.prototype.setInResult=function(){var s=this._startDe;do{s.getEdge().setInResult(!0),s=s.getNext()}while(s!==this._startDe)},Zt.prototype.containsPoint=function(s){var l=this.getLinearRing();if(!l.getEnvelopeInternal().contains(s)||!He.isPointInRing(s,l.getCoordinates()))return!1;for(var d=this._holes.iterator();d.hasNext();)if(d.next().containsPoint(s))return!1;return!0},Zt.prototype.addHole=function(s){this._holes.add(s)},Zt.prototype.isShell=function(){return null===this._shell},Zt.prototype.getLabel=function(){return this._label},Zt.prototype.getEdges=function(){return this._edges},Zt.prototype.getMaxNodeDegree=function(){return this._maxNodeDegree<0&&this.computeMaxNodeDegree(),this._maxNodeDegree},Zt.prototype.getShell=function(){return this._shell},Zt.prototype.mergeLabel=function(){if(1===arguments.length){var s=arguments[0];this.mergeLabel(s,0),this.mergeLabel(s,1)}else if(2===arguments.length){var d=arguments[1],p=arguments[0].getLocation(d,st.RIGHT);if(p===de.NONE)return null;if(this._label.getLocation(d)===de.NONE)return this._label.setLocation(d,p),null}},Zt.prototype.setShell=function(s){this._shell=s,null!==s&&s.addHole(this)},Zt.prototype.toPolygon=function(s){for(var l=new Array(this._holes.size()).fill(null),d=0;d<this._holes.size();d++)l[d]=this._holes.get(d).getLinearRing();return s.createPolygon(this.getLinearRing(),l)},Zt.prototype.interfaces_=function(){return[]},Zt.prototype.getClass=function(){return Zt};var qr=function(s){function l(){s.call(this,arguments[0],arguments[1])}return s&&(l.__proto__=s),(l.prototype=Object.create(s&&s.prototype)).constructor=l,l.prototype.setEdgeRing=function(d,p){d.setMinEdgeRing(p)},l.prototype.getNext=function(d){return d.getNextMin()},l.prototype.interfaces_=function(){return[]},l.prototype.getClass=function(){return l},l}(Zt),ac=function(s){function l(){s.call(this,arguments[0],arguments[1])}return s&&(l.__proto__=s),(l.prototype=Object.create(s&&s.prototype)).constructor=l,l.prototype.buildMinimalRings=function(){var d=new bt,p=this._startDe;do{if(null===p.getMinEdgeRing()){var y=new qr(p,this._geometryFactory);d.add(y)}p=p.getNext()}while(p!==this._startDe);return d},l.prototype.setEdgeRing=function(d,p){d.setEdgeRing(p)},l.prototype.linkDirectedEdgesForMinimalEdgeRings=function(){var d=this._startDe;do{d.getNode().getEdges().linkMinimalDirectedEdges(this),d=d.getNext()}while(d!==this._startDe)},l.prototype.getNext=function(d){return d.getNext()},l.prototype.interfaces_=function(){return[]},l.prototype.getClass=function(){return l},l}(Zt),_n=function(){this._label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,0!==arguments.length&&1===arguments.length&&(this._label=arguments[0])};_n.prototype.setVisited=function(s){this._isVisited=s},_n.prototype.setInResult=function(s){this._isInResult=s},_n.prototype.isCovered=function(){return this._isCovered},_n.prototype.isCoveredSet=function(){return this._isCoveredSet},_n.prototype.setLabel=function(s){this._label=s},_n.prototype.getLabel=function(){return this._label},_n.prototype.setCovered=function(s){this._isCovered=s,this._isCoveredSet=!0},_n.prototype.updateIM=function(s){T.isTrue(this._label.getGeometryCount()>=2,"found partial label"),this.computeIM(s)},_n.prototype.isInResult=function(){return this._isInResult},_n.prototype.isVisited=function(){return this._isVisited},_n.prototype.interfaces_=function(){return[]},_n.prototype.getClass=function(){return _n};var m=function(s){function l(){s.call(this),this._coord=null,this._edges=null;var p=arguments[1];this._coord=arguments[0],this._edges=p,this._label=new Bn(0,de.NONE)}return s&&(l.__proto__=s),(l.prototype=Object.create(s&&s.prototype)).constructor=l,l.prototype.isIncidentEdgeInResult=function(){for(var d=this.getEdges().getEdges().iterator();d.hasNext();)if(d.next().getEdge().isInResult())return!0;return!1},l.prototype.isIsolated=function(){return 1===this._label.getGeometryCount()},l.prototype.getCoordinate=function(){return this._coord},l.prototype.print=function(d){d.println("node "+this._coord+" lbl: "+this._label)},l.prototype.computeIM=function(d){},l.prototype.computeMergedLocation=function(d,p){var y=de.NONE;if(y=this._label.getLocation(p),!d.isNull(p)){var S=d.getLocation(p);y!==de.BOUNDARY&&(y=S)}return y},l.prototype.setLabel=function(){if(2!==arguments.length)return s.prototype.setLabel.apply(this,arguments);var d=arguments[0],p=arguments[1];null===this._label?this._label=new Bn(d,p):this._label.setLocation(d,p)},l.prototype.getEdges=function(){return this._edges},l.prototype.mergeLabel=function(){if(arguments[0]instanceof l)this.mergeLabel(arguments[0]._label);else if(arguments[0]instanceof Bn)for(var p=arguments[0],y=0;y<2;y++){var S=this.computeMergedLocation(p,y);this._label.getLocation(y)===de.NONE&&this._label.setLocation(y,S)}},l.prototype.add=function(d){this._edges.insert(d),d.setNode(this)},l.prototype.setLabelBoundary=function(d){if(null===this._label)return null;var p=de.NONE;null!==this._label&&(p=this._label.getLocation(d)),this._label.setLocation(d,p===de.BOUNDARY?de.INTERIOR:de.BOUNDARY)},l.prototype.interfaces_=function(){return[]},l.prototype.getClass=function(){return l},l}(_n),v=function(){this.nodeMap=new Re,this.nodeFact=null,this.nodeFact=arguments[0]};v.prototype.find=function(s){return this.nodeMap.get(s)},v.prototype.addNode=function(){if(arguments[0]instanceof W){var s=arguments[0],l=this.nodeMap.get(s);return null===l&&(l=this.nodeFact.createNode(s),this.nodeMap.put(s,l)),l}if(arguments[0]instanceof m){var d=arguments[0],p=this.nodeMap.get(d.getCoordinate());return null===p?(this.nodeMap.put(d.getCoordinate(),d),d):(p.mergeLabel(d),p)}},v.prototype.print=function(s){for(var l=this.iterator();l.hasNext();)l.next().print(s)},v.prototype.iterator=function(){return this.nodeMap.values().iterator()},v.prototype.values=function(){return this.nodeMap.values()},v.prototype.getBoundaryNodes=function(s){for(var l=new bt,d=this.iterator();d.hasNext();){var p=d.next();p.getLabel().getLocation(s)===de.BOUNDARY&&l.add(p)}return l},v.prototype.add=function(s){var l=s.getCoordinate();this.addNode(l).add(s)},v.prototype.interfaces_=function(){return[]},v.prototype.getClass=function(){return v};var M=function(){},B={NE:{configurable:!0},NW:{configurable:!0},SW:{configurable:!0},SE:{configurable:!0}};M.prototype.interfaces_=function(){return[]},M.prototype.getClass=function(){return M},M.isNorthern=function(s){return s===M.NE||s===M.NW},M.isOpposite=function(s,l){return s!==l&&(s-l+4)%4==2},M.commonHalfPlane=function(s,l){if(s===l)return s;if((s-l+4)%4==2)return-1;var d=s<l?s:l;return 0===d&&3===(s>l?s:l)?3:d},M.isInHalfPlane=function(s,l){return l===M.SE?s===M.SE||s===M.SW:s===l||s===l+1},M.quadrant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var s=arguments[0],l=arguments[1];if(0===s&&0===l)throw new R("Cannot compute the quadrant for point ( "+s+", "+l+" )");return s>=0?l>=0?M.NE:M.SE:l>=0?M.NW:M.SW}if(arguments[0]instanceof W&&arguments[1]instanceof W){var d=arguments[0],p=arguments[1];if(p.x===d.x&&p.y===d.y)throw new R("Cannot compute the quadrant for two identical points "+d);return p.x>=d.x?p.y>=d.y?M.NE:M.SE:p.y>=d.y?M.NW:M.SW}},B.NE.get=function(){return 0},B.NW.get=function(){return 1},B.SW.get=function(){return 2},B.SE.get=function(){return 3},Object.defineProperties(M,B);var X=function(){if(this._edge=null,this._label=null,this._node=null,this._p0=null,this._p1=null,this._dx=null,this._dy=null,this._quadrant=null,1===arguments.length)this._edge=arguments[0];else if(3===arguments.length){var d=arguments[1],p=arguments[2];this._edge=arguments[0],this.init(d,p),this._label=null}else if(4===arguments.length){var S=arguments[1],N=arguments[2],te=arguments[3];this._edge=arguments[0],this.init(S,N),this._label=te}};X.prototype.compareDirection=function(s){return this._dx===s._dx&&this._dy===s._dy?0:this._quadrant>s._quadrant?1:this._quadrant<s._quadrant?-1:He.computeOrientation(s._p0,s._p1,this._p1)},X.prototype.getDy=function(){return this._dy},X.prototype.getCoordinate=function(){return this._p0},X.prototype.setNode=function(s){this._node=s},X.prototype.print=function(s){var l=Math.atan2(this._dy,this._dx),d=this.getClass().getName(),p=d.lastIndexOf("."),y=d.substring(p+1);s.print("  "+y+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+l+"   "+this._label)},X.prototype.compareTo=function(s){return this.compareDirection(s)},X.prototype.getDirectedCoordinate=function(){return this._p1},X.prototype.getDx=function(){return this._dx},X.prototype.getLabel=function(){return this._label},X.prototype.getEdge=function(){return this._edge},X.prototype.getQuadrant=function(){return this._quadrant},X.prototype.getNode=function(){return this._node},X.prototype.toString=function(){var s=Math.atan2(this._dy,this._dx),l=this.getClass().getName(),d=l.lastIndexOf(".");return"  "+l.substring(d+1)+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+s+"   "+this._label},X.prototype.computeLabel=function(s){},X.prototype.init=function(s,l){this._p0=s,this._p1=l,this._dx=l.x-s.x,this._dy=l.y-s.y,this._quadrant=M.quadrant(this._dx,this._dy),T.isTrue(!(0===this._dx&&0===this._dy),"EdgeEnd with identical endpoints found")},X.prototype.interfaces_=function(){return[Q]},X.prototype.getClass=function(){return X};var Ce=function(s){function l(){var d=arguments[0],p=arguments[1];if(s.call(this,d),this._isForward=null,this._isInResult=!1,this._isVisited=!1,this._sym=null,this._next=null,this._nextMin=null,this._edgeRing=null,this._minEdgeRing=null,this._depth=[0,-999,-999],this._isForward=p,p)this.init(d.getCoordinate(0),d.getCoordinate(1));else{var y=d.getNumPoints()-1;this.init(d.getCoordinate(y),d.getCoordinate(y-1))}this.computeDirectedLabel()}return s&&(l.__proto__=s),(l.prototype=Object.create(s&&s.prototype)).constructor=l,l.prototype.getNextMin=function(){return this._nextMin},l.prototype.getDepth=function(d){return this._depth[d]},l.prototype.setVisited=function(d){this._isVisited=d},l.prototype.computeDirectedLabel=function(){this._label=new Bn(this._edge.getLabel()),this._isForward||this._label.flip()},l.prototype.getNext=function(){return this._next},l.prototype.setDepth=function(d,p){if(-999!==this._depth[d]&&this._depth[d]!==p)throw new es("assigned depths do not match",this.getCoordinate());this._depth[d]=p},l.prototype.isInteriorAreaEdge=function(){for(var d=!0,p=0;p<2;p++)this._label.isArea(p)&&this._label.getLocation(p,st.LEFT)===de.INTERIOR&&this._label.getLocation(p,st.RIGHT)===de.INTERIOR||(d=!1);return d},l.prototype.setNextMin=function(d){this._nextMin=d},l.prototype.print=function(d){s.prototype.print.call(this,d),d.print(" "+this._depth[st.LEFT]+"/"+this._depth[st.RIGHT]),d.print(" ("+this.getDepthDelta()+")"),this._isInResult&&d.print(" inResult")},l.prototype.setMinEdgeRing=function(d){this._minEdgeRing=d},l.prototype.isLineEdge=function(){var d=this._label.isLine(0)||this._label.isLine(1),p=!this._label.isArea(0)||this._label.allPositionsEqual(0,de.EXTERIOR),y=!this._label.isArea(1)||this._label.allPositionsEqual(1,de.EXTERIOR);return d&&p&&y},l.prototype.setEdgeRing=function(d){this._edgeRing=d},l.prototype.getMinEdgeRing=function(){return this._minEdgeRing},l.prototype.getDepthDelta=function(){var d=this._edge.getDepthDelta();return this._isForward||(d=-d),d},l.prototype.setInResult=function(d){this._isInResult=d},l.prototype.getSym=function(){return this._sym},l.prototype.isForward=function(){return this._isForward},l.prototype.getEdge=function(){return this._edge},l.prototype.printEdge=function(d){this.print(d),d.print(" "),this._isForward?this._edge.print(d):this._edge.printReverse(d)},l.prototype.setSym=function(d){this._sym=d},l.prototype.setVisitedEdge=function(d){this.setVisited(d),this._sym.setVisited(d)},l.prototype.setEdgeDepths=function(d,p){var y=this.getEdge().getDepthDelta();this._isForward||(y=-y);var S=1;d===st.LEFT&&(S=-1);var N=st.opposite(d),te=p+y*S;this.setDepth(d,p),this.setDepth(N,te)},l.prototype.getEdgeRing=function(){return this._edgeRing},l.prototype.isInResult=function(){return this._isInResult},l.prototype.setNext=function(d){this._next=d},l.prototype.isVisited=function(){return this._isVisited},l.prototype.interfaces_=function(){return[]},l.prototype.getClass=function(){return l},l.depthFactor=function(d,p){return d===de.EXTERIOR&&p===de.INTERIOR?1:d===de.INTERIOR&&p===de.EXTERIOR?-1:0},l}(X),Ie=function(){};Ie.prototype.createNode=function(s){return new m(s,null)},Ie.prototype.interfaces_=function(){return[]},Ie.prototype.getClass=function(){return Ie};var Pe=function(){this._edges=new bt,this._nodes=null,this._edgeEndList=new bt,0===arguments.length?this._nodes=new v(new Ie):1===arguments.length&&(this._nodes=new v(arguments[0]))};Pe.prototype.printEdges=function(s){s.println("Edges:");for(var l=0;l<this._edges.size();l++){s.println("edge "+l+":");var d=this._edges.get(l);d.print(s),d.eiList.print(s)}},Pe.prototype.find=function(s){return this._nodes.find(s)},Pe.prototype.addNode=function(){return arguments[0]instanceof m||arguments[0]instanceof W?this._nodes.addNode(arguments[0]):void 0},Pe.prototype.getNodeIterator=function(){return this._nodes.iterator()},Pe.prototype.linkResultDirectedEdges=function(){for(var s=this._nodes.iterator();s.hasNext();)s.next().getEdges().linkResultDirectedEdges()},Pe.prototype.debugPrintln=function(s){Ft.out.println(s)},Pe.prototype.isBoundaryNode=function(s,l){var d=this._nodes.find(l);if(null===d)return!1;var p=d.getLabel();return null!==p&&p.getLocation(s)===de.BOUNDARY},Pe.prototype.linkAllDirectedEdges=function(){for(var s=this._nodes.iterator();s.hasNext();)s.next().getEdges().linkAllDirectedEdges()},Pe.prototype.matchInSameDirection=function(s,l,d,p){return!!s.equals(d)&&He.computeOrientation(s,l,p)===He.COLLINEAR&&M.quadrant(s,l)===M.quadrant(d,p)},Pe.prototype.getEdgeEnds=function(){return this._edgeEndList},Pe.prototype.debugPrint=function(s){Ft.out.print(s)},Pe.prototype.getEdgeIterator=function(){return this._edges.iterator()},Pe.prototype.findEdgeInSameDirection=function(s,l){for(var d=0;d<this._edges.size();d++){var p=this._edges.get(d),y=p.getCoordinates();if(this.matchInSameDirection(s,l,y[0],y[1])||this.matchInSameDirection(s,l,y[y.length-1],y[y.length-2]))return p}return null},Pe.prototype.insertEdge=function(s){this._edges.add(s)},Pe.prototype.findEdgeEnd=function(s){for(var l=this.getEdgeEnds().iterator();l.hasNext();){var d=l.next();if(d.getEdge()===s)return d}return null},Pe.prototype.addEdges=function(s){for(var l=s.iterator();l.hasNext();){var d=l.next();this._edges.add(d);var p=new Ce(d,!0),y=new Ce(d,!1);p.setSym(y),y.setSym(p),this.add(p),this.add(y)}},Pe.prototype.add=function(s){this._nodes.add(s),this._edgeEndList.add(s)},Pe.prototype.getNodes=function(){return this._nodes.values()},Pe.prototype.findEdge=function(s,l){for(var d=0;d<this._edges.size();d++){var p=this._edges.get(d),y=p.getCoordinates();if(s.equals(y[0])&&l.equals(y[1]))return p}return null},Pe.prototype.interfaces_=function(){return[]},Pe.prototype.getClass=function(){return Pe},Pe.linkResultDirectedEdges=function(s){for(var l=s.iterator();l.hasNext();)l.next().getEdges().linkResultDirectedEdges()};var Te=function(){this._geometryFactory=null,this._shellList=new bt,this._geometryFactory=arguments[0]};Te.prototype.sortShellsAndHoles=function(s,l,d){for(var p=s.iterator();p.hasNext();){var y=p.next();y.isHole()?d.add(y):l.add(y)}},Te.prototype.computePolygons=function(s){for(var l=new bt,d=s.iterator();d.hasNext();){var p=d.next().toPolygon(this._geometryFactory);l.add(p)}return l},Te.prototype.placeFreeHoles=function(s,l){for(var d=l.iterator();d.hasNext();){var p=d.next();if(null===p.getShell()){var y=this.findEdgeRingContaining(p,s);if(null===y)throw new es("unable to assign hole to a shell",p.getCoordinate(0));p.setShell(y)}}},Te.prototype.buildMinimalEdgeRings=function(s,l,d){for(var p=new bt,y=s.iterator();y.hasNext();){var S=y.next();if(S.getMaxNodeDegree()>2){S.linkDirectedEdgesForMinimalEdgeRings();var N=S.buildMinimalRings(),te=this.findShell(N);null!==te?(this.placePolygonHoles(te,N),l.add(te)):d.addAll(N)}else p.add(S)}return p},Te.prototype.containsPoint=function(s){for(var l=this._shellList.iterator();l.hasNext();)if(l.next().containsPoint(s))return!0;return!1},Te.prototype.buildMaximalEdgeRings=function(s){for(var l=new bt,d=s.iterator();d.hasNext();){var p=d.next();if(p.isInResult()&&p.getLabel().isArea()&&null===p.getEdgeRing()){var y=new ac(p,this._geometryFactory);l.add(y),y.setInResult()}}return l},Te.prototype.placePolygonHoles=function(s,l){for(var d=l.iterator();d.hasNext();){var p=d.next();p.isHole()&&p.setShell(s)}},Te.prototype.getPolygons=function(){return this.computePolygons(this._shellList)},Te.prototype.findEdgeRingContaining=function(s,l){for(var d=s.getLinearRing(),p=d.getEnvelopeInternal(),y=d.getCoordinateN(0),S=null,N=null,te=l.iterator();te.hasNext();){var xe=te.next(),je=xe.getLinearRing(),ot=je.getEnvelopeInternal();null!==S&&(N=S.getLinearRing().getEnvelopeInternal());var lt=!1;ot.contains(p)&&He.isPointInRing(y,je.getCoordinates())&&(lt=!0),lt&&(null===S||N.contains(ot))&&(S=xe)}return S},Te.prototype.findShell=function(s){for(var l=0,d=null,p=s.iterator();p.hasNext();){var y=p.next();y.isHole()||(d=y,l++)}return T.isTrue(l<=1,"found two shells in MinimalEdgeRing list"),d},Te.prototype.add=function(){if(1===arguments.length){var s=arguments[0];this.add(s.getEdgeEnds(),s.getNodes())}else if(2===arguments.length){var l=arguments[0];Pe.linkResultDirectedEdges(arguments[1]);var p=this.buildMaximalEdgeRings(l),y=new bt,S=this.buildMinimalEdgeRings(p,this._shellList,y);this.sortShellsAndHoles(S,this._shellList,y),this.placeFreeHoles(this._shellList,y)}},Te.prototype.interfaces_=function(){return[]},Te.prototype.getClass=function(){return Te};var ze=function(){};ze.prototype.getBounds=function(){},ze.prototype.interfaces_=function(){return[]},ze.prototype.getClass=function(){return ze};var Je=function(){this._bounds=null,this._item=null;var l=arguments[1];this._bounds=arguments[0],this._item=l};Je.prototype.getItem=function(){return this._item},Je.prototype.getBounds=function(){return this._bounds},Je.prototype.interfaces_=function(){return[ze,F]},Je.prototype.getClass=function(){return Je};var ht=function(){this._size=null,this._items=null,this._size=0,this._items=new bt,this._items.add(null)};ht.prototype.poll=function(){if(this.isEmpty())return null;var s=this._items.get(1);return this._items.set(1,this._items.get(this._size)),this._size-=1,this.reorder(1),s},ht.prototype.size=function(){return this._size},ht.prototype.reorder=function(s){for(var l=null,d=this._items.get(s);2*s<=this._size&&((l=2*s)!==this._size&&this._items.get(l+1).compareTo(this._items.get(l))<0&&l++,this._items.get(l).compareTo(d)<0);s=l)this._items.set(s,this._items.get(l));this._items.set(s,d)},ht.prototype.clear=function(){this._size=0,this._items.clear()},ht.prototype.isEmpty=function(){return 0===this._size},ht.prototype.add=function(s){this._items.add(null),this._size+=1;var l=this._size;for(this._items.set(0,s);s.compareTo(this._items.get(Math.trunc(l/2)))<0;l/=2)this._items.set(l,this._items.get(Math.trunc(l/2)));this._items.set(l,s)},ht.prototype.interfaces_=function(){return[]},ht.prototype.getClass=function(){return ht};var ut=function(){};ut.prototype.visitItem=function(s){},ut.prototype.interfaces_=function(){return[]},ut.prototype.getClass=function(){return ut};var Ct=function(){};Ct.prototype.insert=function(s,l){},Ct.prototype.remove=function(s,l){},Ct.prototype.query=function(){},Ct.prototype.interfaces_=function(){return[]},Ct.prototype.getClass=function(){return Ct};var Lt=function(){this._childBoundables=new bt,this._bounds=null,this._level=null,0!==arguments.length&&1===arguments.length&&(this._level=arguments[0])},an={serialVersionUID:{configurable:!0}};Lt.prototype.getLevel=function(){return this._level},Lt.prototype.size=function(){return this._childBoundables.size()},Lt.prototype.getChildBoundables=function(){return this._childBoundables},Lt.prototype.addChildBoundable=function(s){T.isTrue(null===this._bounds),this._childBoundables.add(s)},Lt.prototype.isEmpty=function(){return this._childBoundables.isEmpty()},Lt.prototype.getBounds=function(){return null===this._bounds&&(this._bounds=this.computeBounds()),this._bounds},Lt.prototype.interfaces_=function(){return[ze,F]},Lt.prototype.getClass=function(){return Lt},an.serialVersionUID.get=function(){return 0x5a1e55ec41369800},Object.defineProperties(Lt,an);var Ot=function(){};Ot.reverseOrder=function(){return{compare:function(s,l){return l.compareTo(s)}}},Ot.min=function(s){return Ot.sort(s),s.get(0)},Ot.sort=function(s,l){var d=s.toArray();l?ri.sort(d,l):ri.sort(d);for(var p=s.iterator(),y=0,S=d.length;y<S;y++)p.next(),p.set(d[y])},Ot.singletonList=function(s){var l=new bt;return l.add(s),l};var Mn=function(){this._boundable1=null,this._boundable2=null,this._distance=null,this._itemDistance=null;var l=arguments[1],d=arguments[2];this._boundable1=arguments[0],this._boundable2=l,this._itemDistance=d,this._distance=this.distance()};Mn.prototype.expandToQueue=function(s,l){var d=Mn.isComposite(this._boundable1),p=Mn.isComposite(this._boundable2);if(d&&p)return Mn.area(this._boundable1)>Mn.area(this._boundable2)?(this.expand(this._boundable1,this._boundable2,s,l),null):(this.expand(this._boundable2,this._boundable1,s,l),null);if(d)return this.expand(this._boundable1,this._boundable2,s,l),null;if(p)return this.expand(this._boundable2,this._boundable1,s,l),null;throw new R("neither boundable is composite")},Mn.prototype.isLeaves=function(){return!(Mn.isComposite(this._boundable1)||Mn.isComposite(this._boundable2))},Mn.prototype.compareTo=function(s){return this._distance<s._distance?-1:this._distance>s._distance?1:0},Mn.prototype.expand=function(s,l,d,p){for(var y=s.getChildBoundables().iterator();y.hasNext();){var S=y.next(),N=new Mn(S,l,this._itemDistance);N.getDistance()<p&&d.add(N)}},Mn.prototype.getBoundable=function(s){return 0===s?this._boundable1:this._boundable2},Mn.prototype.getDistance=function(){return this._distance},Mn.prototype.distance=function(){return this.isLeaves()?this._itemDistance.distance(this._boundable1,this._boundable2):this._boundable1.getBounds().distance(this._boundable2.getBounds())},Mn.prototype.interfaces_=function(){return[Q]},Mn.prototype.getClass=function(){return Mn},Mn.area=function(s){return s.getBounds().getArea()},Mn.isComposite=function(s){return s instanceof Lt};var $t=function s(){if(this._root=null,this._built=!1,this._itemBoundables=new bt,this._nodeCapacity=null,0===arguments.length)this._nodeCapacity=s.DEFAULT_NODE_CAPACITY;else if(1===arguments.length){var d=arguments[0];T.isTrue(d>1,"Node capacity must be greater than 1"),this._nodeCapacity=d}},Jr={IntersectsOp:{configurable:!0},serialVersionUID:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};$t.prototype.getNodeCapacity=function(){return this._nodeCapacity},$t.prototype.lastNode=function(s){return s.get(s.size()-1)},$t.prototype.size=function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.size(this._root));if(1===arguments.length){for(var s=0,l=arguments[0].getChildBoundables().iterator();l.hasNext();){var d=l.next();d instanceof Lt?s+=this.size(d):d instanceof Je&&(s+=1)}return s}},$t.prototype.removeItem=function(s,l){for(var d=null,p=s.getChildBoundables().iterator();p.hasNext();){var y=p.next();y instanceof Je&&y.getItem()===l&&(d=y)}return null!==d&&(s.getChildBoundables().remove(d),!0)},$t.prototype.itemsTree=function(){if(0===arguments.length){this.build();var s=this.itemsTree(this._root);return null===s?new bt:s}if(1===arguments.length){for(var l=arguments[0],d=new bt,p=l.getChildBoundables().iterator();p.hasNext();){var y=p.next();if(y instanceof Lt){var S=this.itemsTree(y);null!==S&&d.add(S)}else y instanceof Je?d.add(y.getItem()):T.shouldNeverReachHere()}return d.size()<=0?null:d}},$t.prototype.insert=function(s,l){T.isTrue(!this._built,"Cannot insert items into an STR packed R-tree after it has been built."),this._itemBoundables.add(new Je(s,l))},$t.prototype.boundablesAtLevel=function(){if(1===arguments.length){var s=arguments[0],l=new bt;return this.boundablesAtLevel(s,this._root,l),l}if(3===arguments.length){var d=arguments[0],p=arguments[1],y=arguments[2];if(T.isTrue(d>-2),p.getLevel()===d)return y.add(p),null;for(var S=p.getChildBoundables().iterator();S.hasNext();){var N=S.next();N instanceof Lt?this.boundablesAtLevel(d,N,y):(T.isTrue(N instanceof Je),-1===d&&y.add(N))}return null}},$t.prototype.query=function(){if(1===arguments.length){var s=arguments[0];this.build();var l=new bt;return this.isEmpty()||this.getIntersectsOp().intersects(this._root.getBounds(),s)&&this.query(s,this._root,l),l}if(2===arguments.length){var d=arguments[0],p=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this._root.getBounds(),d)&&this.query(d,this._root,p)}else if(3===arguments.length)if(We(arguments[2],ut)&&arguments[0]instanceof Object&&arguments[1]instanceof Lt)for(var y=arguments[0],N=arguments[2],te=arguments[1].getChildBoundables(),xe=0;xe<te.size();xe++){var je=te.get(xe);this.getIntersectsOp().intersects(je.getBounds(),y)&&(je instanceof Lt?this.query(y,je,N):je instanceof Je?N.visitItem(je.getItem()):T.shouldNeverReachHere())}else if(We(arguments[2],pr)&&arguments[0]instanceof Object&&arguments[1]instanceof Lt)for(var ot=arguments[0],Tt=arguments[2],At=arguments[1].getChildBoundables(),Xt=0;Xt<At.size();Xt++){var fn=At.get(Xt);this.getIntersectsOp().intersects(fn.getBounds(),ot)&&(fn instanceof Lt?this.query(ot,fn,Tt):fn instanceof Je?Tt.add(fn.getItem()):T.shouldNeverReachHere())}},$t.prototype.build=function(){if(this._built)return null;this._root=this._itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this._itemBoundables,-1),this._itemBoundables=null,this._built=!0},$t.prototype.getRoot=function(){return this.build(),this._root},$t.prototype.remove=function(){if(2===arguments.length){var s=arguments[0],l=arguments[1];return this.build(),!!this.getIntersectsOp().intersects(this._root.getBounds(),s)&&this.remove(s,this._root,l)}if(3===arguments.length){var d=arguments[0],p=arguments[1],y=arguments[2],S=this.removeItem(p,y);if(S)return!0;for(var N=null,te=p.getChildBoundables().iterator();te.hasNext();){var xe=te.next();if(this.getIntersectsOp().intersects(xe.getBounds(),d)&&xe instanceof Lt&&(S=this.remove(d,xe,y))){N=xe;break}}return null!==N&&N.getChildBoundables().isEmpty()&&p.getChildBoundables().remove(N),S}},$t.prototype.createHigherLevels=function(s,l){T.isTrue(!s.isEmpty());var d=this.createParentBoundables(s,l+1);return 1===d.size()?d.get(0):this.createHigherLevels(d,l+1)},$t.prototype.depth=function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.depth(this._root));if(1===arguments.length){for(var s=0,l=arguments[0].getChildBoundables().iterator();l.hasNext();){var d=l.next();if(d instanceof Lt){var p=this.depth(d);p>s&&(s=p)}}return s+1}},$t.prototype.createParentBoundables=function(s,l){T.isTrue(!s.isEmpty());var d=new bt;d.add(this.createNode(l));var p=new bt(s);Ot.sort(p,this.getComparator());for(var y=p.iterator();y.hasNext();){var S=y.next();this.lastNode(d).getChildBoundables().size()===this.getNodeCapacity()&&d.add(this.createNode(l)),this.lastNode(d).addChildBoundable(S)}return d},$t.prototype.isEmpty=function(){return this._built?this._root.isEmpty():this._itemBoundables.isEmpty()},$t.prototype.interfaces_=function(){return[F]},$t.prototype.getClass=function(){return $t},$t.compareDoubles=function(s,l){return s>l?1:s<l?-1:0},Jr.IntersectsOp.get=function(){return gt},Jr.serialVersionUID.get=function(){return-0x35ef64c82d4c5400},Jr.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties($t,Jr);var gt=function(){},to=function(){};to.prototype.distance=function(s,l){},to.prototype.interfaces_=function(){return[]},to.prototype.getClass=function(){return to};var zn=function(s){function l(p){s.call(this,p=p||l.DEFAULT_NODE_CAPACITY)}s&&(l.__proto__=s),(l.prototype=Object.create(s&&s.prototype)).constructor=l;var d={STRtreeNode:{configurable:!0},serialVersionUID:{configurable:!0},xComparator:{configurable:!0},yComparator:{configurable:!0},intersectsOp:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};return l.prototype.createParentBoundablesFromVerticalSlices=function(p,y){T.isTrue(p.length>0);for(var S=new bt,N=0;N<p.length;N++)S.addAll(this.createParentBoundablesFromVerticalSlice(p[N],y));return S},l.prototype.createNode=function(p){return new al(p)},l.prototype.size=function(){return 0===arguments.length?s.prototype.size.call(this):s.prototype.size.apply(this,arguments)},l.prototype.insert=function(){if(2!==arguments.length)return s.prototype.insert.apply(this,arguments);var p=arguments[0],y=arguments[1];if(p.isNull())return null;s.prototype.insert.call(this,p,y)},l.prototype.getIntersectsOp=function(){return l.intersectsOp},l.prototype.verticalSlices=function(p,y){for(var S=Math.trunc(Math.ceil(p.size()/y)),N=new Array(y).fill(null),te=p.iterator(),xe=0;xe<y;xe++){N[xe]=new bt;for(var je=0;te.hasNext()&&je<S;){var ot=te.next();N[xe].add(ot),je++}}return N},l.prototype.query=function(){if(1===arguments.length)return s.prototype.query.call(this,arguments[0]);2===arguments.length?s.prototype.query.call(this,arguments[0],arguments[1]):3===arguments.length&&(We(arguments[2],ut)&&arguments[0]instanceof Object&&arguments[1]instanceof Lt||We(arguments[2],pr)&&arguments[0]instanceof Object&&arguments[1]instanceof Lt)&&s.prototype.query.call(this,arguments[0],arguments[1],arguments[2])},l.prototype.getComparator=function(){return l.yComparator},l.prototype.createParentBoundablesFromVerticalSlice=function(p,y){return s.prototype.createParentBoundables.call(this,p,y)},l.prototype.remove=function(){return 2===arguments.length?s.prototype.remove.call(this,arguments[0],arguments[1]):s.prototype.remove.apply(this,arguments)},l.prototype.depth=function(){return 0===arguments.length?s.prototype.depth.call(this):s.prototype.depth.apply(this,arguments)},l.prototype.createParentBoundables=function(p,y){T.isTrue(!p.isEmpty());var S=Math.trunc(Math.ceil(p.size()/this.getNodeCapacity())),N=new bt(p);Ot.sort(N,l.xComparator);var te=this.verticalSlices(N,Math.trunc(Math.ceil(Math.sqrt(S))));return this.createParentBoundablesFromVerticalSlices(te,y)},l.prototype.nearestNeighbour=function(){if(1===arguments.length){if(We(arguments[0],to)){var p=arguments[0],y=new Mn(this.getRoot(),this.getRoot(),p);return this.nearestNeighbour(y)}if(arguments[0]instanceof Mn)return this.nearestNeighbour(arguments[0],V.POSITIVE_INFINITY)}else if(2===arguments.length){if(arguments[0]instanceof l&&We(arguments[1],to)){var N=arguments[0],te=arguments[1],xe=new Mn(this.getRoot(),N.getRoot(),te);return this.nearestNeighbour(xe)}if(arguments[0]instanceof Mn&&"number"==typeof arguments[1]){var je=arguments[0],ot=arguments[1],lt=null,Tt=new ht;for(Tt.add(je);!Tt.isEmpty()&&ot>0;){var At=Tt.poll(),Xt=At.getDistance();if(Xt>=ot)break;At.isLeaves()?(ot=Xt,lt=At):At.expandToQueue(Tt,ot)}return[lt.getBoundable(0).getItem(),lt.getBoundable(1).getItem()]}}else if(3===arguments.length){var go=arguments[2],hs=new Je(arguments[0],arguments[1]),fs=new Mn(this.getRoot(),hs,go);return this.nearestNeighbour(fs)[0]}},l.prototype.interfaces_=function(){return[Ct,F]},l.prototype.getClass=function(){return l},l.centreX=function(p){return l.avg(p.getMinX(),p.getMaxX())},l.avg=function(p,y){return(p+y)/2},l.centreY=function(p){return l.avg(p.getMinY(),p.getMaxY())},d.STRtreeNode.get=function(){return al},d.serialVersionUID.get=function(){return 0x39920f7d5f261e0},d.xComparator.get=function(){return{interfaces_:function(){return[ie]},compare:function(p,y){return s.compareDoubles(l.centreX(p.getBounds()),l.centreX(y.getBounds()))}}},d.yComparator.get=function(){return{interfaces_:function(){return[ie]},compare:function(p,y){return s.compareDoubles(l.centreY(p.getBounds()),l.centreY(y.getBounds()))}}},d.intersectsOp.get=function(){return{interfaces_:function(){return[s.IntersectsOp]},intersects:function(p,y){return p.intersects(y)}}},d.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(l,d),l}($t),al=function(s){function l(){s.call(this,arguments[0])}return s&&(l.__proto__=s),(l.prototype=Object.create(s&&s.prototype)).constructor=l,l.prototype.computeBounds=function(){for(var d=null,p=this.getChildBoundables().iterator();p.hasNext();){var y=p.next();null===d?d=new vt(y.getBounds()):d.expandToInclude(y.getBounds())}return d},l.prototype.interfaces_=function(){return[]},l.prototype.getClass=function(){return l},l}(Lt),Yi=function(){};Yi.prototype.interfaces_=function(){return[]},Yi.prototype.getClass=function(){return Yi},Yi.relativeSign=function(s,l){return s<l?-1:s>l?1:0},Yi.compare=function(s,l,d){if(l.equals2D(d))return 0;var p=Yi.relativeSign(l.x,d.x),y=Yi.relativeSign(l.y,d.y);switch(s){case 0:return Yi.compareValue(p,y);case 1:return Yi.compareValue(y,p);case 2:return Yi.compareValue(y,-p);case 3:return Yi.compareValue(-p,y);case 4:return Yi.compareValue(-p,-y);case 5:return Yi.compareValue(-y,-p);case 6:return Yi.compareValue(-y,p);case 7:return Yi.compareValue(p,-y)}return T.shouldNeverReachHere("invalid octant value"),0},Yi.compareValue=function(s,l){return s<0?-1:s>0?1:l<0?-1:l>0?1:0};var No=function(){this._segString=null,this.coord=null,this.segmentIndex=null,this._segmentOctant=null,this._isInterior=null;var s=arguments[0],l=arguments[1],d=arguments[2],p=arguments[3];this._segString=s,this.coord=new W(l),this.segmentIndex=d,this._segmentOctant=p,this._isInterior=!l.equals2D(s.getCoordinate(d))};No.prototype.getCoordinate=function(){return this.coord},No.prototype.print=function(s){s.print(this.coord),s.print(" seg # = "+this.segmentIndex)},No.prototype.compareTo=function(s){var l=s;return this.segmentIndex<l.segmentIndex?-1:this.segmentIndex>l.segmentIndex?1:this.coord.equals2D(l.coord)?0:Yi.compare(this._segmentOctant,this.coord,l.coord)},No.prototype.isEndPoint=function(s){return 0===this.segmentIndex&&!this._isInterior||this.segmentIndex===s},No.prototype.isInterior=function(){return this._isInterior},No.prototype.interfaces_=function(){return[Q]},No.prototype.getClass=function(){return No};var no=function(){this._nodeMap=new Re,this._edge=null,this._edge=arguments[0]};no.prototype.getSplitCoordinates=function(){var s=new ho;this.addEndpoints();for(var l=this.iterator(),d=l.next();l.hasNext();){var p=l.next();this.addEdgeCoordinates(d,p,s),d=p}return s.toCoordinateArray()},no.prototype.addCollapsedNodes=function(){var s=new bt;this.findCollapsesFromInsertedNodes(s),this.findCollapsesFromExistingVertices(s);for(var l=s.iterator();l.hasNext();){var d=l.next().intValue();this.add(this._edge.getCoordinate(d),d)}},no.prototype.print=function(s){s.println("Intersections:");for(var l=this.iterator();l.hasNext();)l.next().print(s)},no.prototype.findCollapsesFromExistingVertices=function(s){for(var l=0;l<this._edge.size()-2;l++){var d=this._edge.getCoordinate(l),p=this._edge.getCoordinate(l+2);d.equals2D(p)&&s.add(new Se(l+1))}},no.prototype.addEdgeCoordinates=function(s,l,d){var p=this._edge.getCoordinate(l.segmentIndex),y=l.isInterior()||!l.coord.equals2D(p);d.add(new W(s.coord),!1);for(var S=s.segmentIndex+1;S<=l.segmentIndex;S++)d.add(this._edge.getCoordinate(S));y&&d.add(new W(l.coord))},no.prototype.iterator=function(){return this._nodeMap.values().iterator()},no.prototype.addSplitEdges=function(s){this.addEndpoints(),this.addCollapsedNodes();for(var l=this.iterator(),d=l.next();l.hasNext();){var p=l.next(),y=this.createSplitEdge(d,p);s.add(y),d=p}},no.prototype.findCollapseIndex=function(s,l,d){if(!s.coord.equals2D(l.coord))return!1;var p=l.segmentIndex-s.segmentIndex;return l.isInterior()||p--,1===p&&(d[0]=s.segmentIndex+1,!0)},no.prototype.findCollapsesFromInsertedNodes=function(s){for(var l=new Array(1).fill(null),d=this.iterator(),p=d.next();d.hasNext();){var y=d.next();this.findCollapseIndex(p,y,l)&&s.add(new Se(l[0])),p=y}},no.prototype.getEdge=function(){return this._edge},no.prototype.addEndpoints=function(){var s=this._edge.size()-1;this.add(this._edge.getCoordinate(0),0),this.add(this._edge.getCoordinate(s),s)},no.prototype.createSplitEdge=function(s,l){var d=l.segmentIndex-s.segmentIndex+2,p=this._edge.getCoordinate(l.segmentIndex),y=l.isInterior()||!l.coord.equals2D(p);y||d--;var S=new Array(d).fill(null),N=0;S[N++]=new W(s.coord);for(var te=s.segmentIndex+1;te<=l.segmentIndex;te++)S[N++]=this._edge.getCoordinate(te);return y&&(S[N]=new W(l.coord)),new mi(S,this._edge.getData())},no.prototype.add=function(s,l){var d=new No(this._edge,s,l,this._edge.getSegmentOctant(l)),p=this._nodeMap.get(d);return null!==p?(T.isTrue(p.coord.equals2D(s),"Found equal nodes with different coordinates"),p):(this._nodeMap.put(d,d),d)},no.prototype.checkSplitEdgesCorrectness=function(s){var l=this._edge.getCoordinates(),d=s.get(0).getCoordinate(0);if(!d.equals2D(l[0]))throw new H("bad split edge start point at "+d);var p=s.get(s.size()-1).getCoordinates(),y=p[p.length-1];if(!y.equals2D(l[l.length-1]))throw new H("bad split edge end point at "+y)},no.prototype.interfaces_=function(){return[]},no.prototype.getClass=function(){return no};var la=function(){};la.prototype.interfaces_=function(){return[]},la.prototype.getClass=function(){return la},la.octant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var s=arguments[0],l=arguments[1];if(0===s&&0===l)throw new R("Cannot compute the octant for point ( "+s+", "+l+" )");var d=Math.abs(s),p=Math.abs(l);return s>=0?l>=0?d>=p?0:1:d>=p?7:6:l>=0?d>=p?3:2:d>=p?4:5}if(arguments[0]instanceof W&&arguments[1]instanceof W){var y=arguments[0],S=arguments[1],N=S.x-y.x,te=S.y-y.y;if(0===N&&0===te)throw new R("Cannot compute the octant for two identical points "+y);return la.octant(N,te)}};var ts=function(){};ts.prototype.getCoordinates=function(){},ts.prototype.size=function(){},ts.prototype.getCoordinate=function(s){},ts.prototype.isClosed=function(){},ts.prototype.setData=function(s){},ts.prototype.getData=function(){},ts.prototype.interfaces_=function(){return[]},ts.prototype.getClass=function(){return ts};var Ns=function(){};Ns.prototype.addIntersection=function(s,l){},Ns.prototype.interfaces_=function(){return[ts]},Ns.prototype.getClass=function(){return Ns};var mi=function(){this._nodeList=new no(this),this._pts=null,this._data=null;var l=arguments[1];this._pts=arguments[0],this._data=l};mi.prototype.getCoordinates=function(){return this._pts},mi.prototype.size=function(){return this._pts.length},mi.prototype.getCoordinate=function(s){return this._pts[s]},mi.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},mi.prototype.getSegmentOctant=function(s){return s===this._pts.length-1?-1:this.safeOctant(this.getCoordinate(s),this.getCoordinate(s+1))},mi.prototype.setData=function(s){this._data=s},mi.prototype.safeOctant=function(s,l){return s.equals2D(l)?0:la.octant(s,l)},mi.prototype.getData=function(){return this._data},mi.prototype.addIntersection=function(){if(2===arguments.length)this.addIntersectionNode(arguments[0],arguments[1]);else if(4===arguments.length){var p=arguments[1],S=new W(arguments[0].getIntersection(arguments[3]));this.addIntersection(S,p)}},mi.prototype.toString=function(){return Xe.toLineString(new Cn(this._pts))},mi.prototype.getNodeList=function(){return this._nodeList},mi.prototype.addIntersectionNode=function(s,l){var d=l,p=d+1;return p<this._pts.length&&s.equals2D(this._pts[p])&&(d=p),this._nodeList.add(s,d)},mi.prototype.addIntersections=function(s,l,d){for(var p=0;p<s.getIntersectionNum();p++)this.addIntersection(s,l,d,p)},mi.prototype.interfaces_=function(){return[Ns]},mi.prototype.getClass=function(){return mi},mi.getNodedSubstrings=function(){if(1===arguments.length){var s=arguments[0],l=new bt;return mi.getNodedSubstrings(s,l),l}if(2===arguments.length)for(var p=arguments[1],y=arguments[0].iterator();y.hasNext();)y.next().getNodeList().addSplitEdges(p)};var qt=function(){if(this.p0=null,this.p1=null,0===arguments.length)this.p0=new W,this.p1=new W;else if(1===arguments.length){var s=arguments[0];this.p0=new W(s.p0),this.p1=new W(s.p1)}else if(2===arguments.length)this.p0=arguments[0],this.p1=arguments[1];else if(4===arguments.length){var p=arguments[2],y=arguments[3];this.p0=new W(arguments[0],arguments[1]),this.p1=new W(p,y)}},Qn={serialVersionUID:{configurable:!0}};qt.prototype.minX=function(){return Math.min(this.p0.x,this.p1.x)},qt.prototype.orientationIndex=function(){if(arguments[0]instanceof qt){var s=arguments[0],l=He.orientationIndex(this.p0,this.p1,s.p0),d=He.orientationIndex(this.p0,this.p1,s.p1);return l>=0&&d>=0||l<=0&&d<=0?Math.max(l,d):0}if(arguments[0]instanceof W)return He.orientationIndex(this.p0,this.p1,arguments[0])},qt.prototype.toGeometry=function(s){return s.createLineString([this.p0,this.p1])},qt.prototype.isVertical=function(){return this.p0.x===this.p1.x},qt.prototype.equals=function(s){if(!(s instanceof qt))return!1;var l=s;return this.p0.equals(l.p0)&&this.p1.equals(l.p1)},qt.prototype.intersection=function(s){var l=new pe;return l.computeIntersection(this.p0,this.p1,s.p0,s.p1),l.hasIntersection()?l.getIntersection(0):null},qt.prototype.project=function(){if(arguments[0]instanceof W){var s=arguments[0];if(s.equals(this.p0)||s.equals(this.p1))return new W(s);var l=this.projectionFactor(s),d=new W;return d.x=this.p0.x+l*(this.p1.x-this.p0.x),d.y=this.p0.y+l*(this.p1.y-this.p0.y),d}if(arguments[0]instanceof qt){var p=arguments[0],y=this.projectionFactor(p.p0),S=this.projectionFactor(p.p1);if(y>=1&&S>=1||y<=0&&S<=0)return null;var N=this.project(p.p0);y<0&&(N=this.p0),y>1&&(N=this.p1);var te=this.project(p.p1);return S<0&&(te=this.p0),S>1&&(te=this.p1),new qt(N,te)}},qt.prototype.normalize=function(){this.p1.compareTo(this.p0)<0&&this.reverse()},qt.prototype.angle=function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)},qt.prototype.getCoordinate=function(s){return 0===s?this.p0:this.p1},qt.prototype.distancePerpendicular=function(s){return He.distancePointLinePerpendicular(s,this.p0,this.p1)},qt.prototype.minY=function(){return Math.min(this.p0.y,this.p1.y)},qt.prototype.midPoint=function(){return qt.midPoint(this.p0,this.p1)},qt.prototype.projectionFactor=function(s){if(s.equals(this.p0))return 0;if(s.equals(this.p1))return 1;var l=this.p1.x-this.p0.x,d=this.p1.y-this.p0.y,p=l*l+d*d;return p<=0?V.NaN:((s.x-this.p0.x)*l+(s.y-this.p0.y)*d)/p},qt.prototype.closestPoints=function(s){var l=this.intersection(s);if(null!==l)return[l,l];var d=new Array(2).fill(null),p=V.MAX_VALUE,y=null,S=this.closestPoint(s.p0);p=S.distance(s.p0),d[0]=S,d[1]=s.p0;var N=this.closestPoint(s.p1);(y=N.distance(s.p1))<p&&(p=y,d[0]=N,d[1]=s.p1);var te=s.closestPoint(this.p0);(y=te.distance(this.p0))<p&&(p=y,d[0]=this.p0,d[1]=te);var xe=s.closestPoint(this.p1);return(y=xe.distance(this.p1))<p&&(p=y,d[0]=this.p1,d[1]=xe),d},qt.prototype.closestPoint=function(s){var l=this.projectionFactor(s);return l>0&&l<1?this.project(s):this.p0.distance(s)<this.p1.distance(s)?this.p0:this.p1},qt.prototype.maxX=function(){return Math.max(this.p0.x,this.p1.x)},qt.prototype.getLength=function(){return this.p0.distance(this.p1)},qt.prototype.compareTo=function(s){var l=s,d=this.p0.compareTo(l.p0);return 0!==d?d:this.p1.compareTo(l.p1)},qt.prototype.reverse=function(){var s=this.p0;this.p0=this.p1,this.p1=s},qt.prototype.equalsTopo=function(s){return this.p0.equals(s.p0)&&(this.p1.equals(s.p1)||this.p0.equals(s.p1))&&this.p1.equals(s.p0)},qt.prototype.lineIntersection=function(s){try{return yt.intersection(this.p0,this.p1,s.p0,s.p1)}catch(l){if(!(l instanceof Dt))throw l}return null},qt.prototype.maxY=function(){return Math.max(this.p0.y,this.p1.y)},qt.prototype.pointAlongOffset=function(s,l){var d=this.p0.x+s*(this.p1.x-this.p0.x),p=this.p0.y+s*(this.p1.y-this.p0.y),y=this.p1.x-this.p0.x,S=this.p1.y-this.p0.y,N=Math.sqrt(y*y+S*S),te=0,xe=0;if(0!==l){if(N<=0)throw new Error("Cannot compute offset from zero-length line segment");te=l*y/N,xe=l*S/N}return new W(d-xe,p+te)},qt.prototype.setCoordinates=function(){if(1===arguments.length){var s=arguments[0];this.setCoordinates(s.p0,s.p1)}else if(2===arguments.length){var l=arguments[0],d=arguments[1];this.p0.x=l.x,this.p0.y=l.y,this.p1.x=d.x,this.p1.y=d.y}},qt.prototype.segmentFraction=function(s){var l=this.projectionFactor(s);return l<0?l=0:(l>1||V.isNaN(l))&&(l=1),l},qt.prototype.toString=function(){return"LINESTRING( "+this.p0.x+" "+this.p0.y+", "+this.p1.x+" "+this.p1.y+")"},qt.prototype.isHorizontal=function(){return this.p0.y===this.p1.y},qt.prototype.distance=function(){if(arguments[0]instanceof qt){var s=arguments[0];return He.distanceLineLine(this.p0,this.p1,s.p0,s.p1)}if(arguments[0]instanceof W)return He.distancePointLine(arguments[0],this.p0,this.p1)},qt.prototype.pointAlong=function(s){var l=new W;return l.x=this.p0.x+s*(this.p1.x-this.p0.x),l.y=this.p0.y+s*(this.p1.y-this.p0.y),l},qt.prototype.hashCode=function(){var s=V.doubleToLongBits(this.p0.x);s^=31*V.doubleToLongBits(this.p0.y);var l=Math.trunc(s)^Math.trunc(s>>32),d=V.doubleToLongBits(this.p1.x);return d^=31*V.doubleToLongBits(this.p1.y),l^Math.trunc(d)^Math.trunc(d>>32)},qt.prototype.interfaces_=function(){return[Q,F]},qt.prototype.getClass=function(){return qt},qt.midPoint=function(s,l){return new W((s.x+l.x)/2,(s.y+l.y)/2)},Qn.serialVersionUID.get=function(){return 0x2d2172135f411c00},Object.defineProperties(qt,Qn);var ll=function(){this.tempEnv1=new vt,this.tempEnv2=new vt,this._overlapSeg1=new qt,this._overlapSeg2=new qt};ll.prototype.overlap=function(){if(2!==arguments.length&&4===arguments.length){var d=arguments[2],p=arguments[3];arguments[0].getLineSegment(arguments[1],this._overlapSeg1),d.getLineSegment(p,this._overlapSeg2),this.overlap(this._overlapSeg1,this._overlapSeg2)}},ll.prototype.interfaces_=function(){return[]},ll.prototype.getClass=function(){return ll};var Ui=function(){this._pts=null,this._start=null,this._end=null,this._env=null,this._context=null,this._id=null;var l=arguments[1],d=arguments[2],p=arguments[3];this._pts=arguments[0],this._start=l,this._end=d,this._context=p};Ui.prototype.getLineSegment=function(s,l){l.p0=this._pts[s],l.p1=this._pts[s+1]},Ui.prototype.computeSelect=function(s,l,d,p){if(p.tempEnv1.init(this._pts[l],this._pts[d]),d-l==1)return p.select(this,l),null;if(!s.intersects(p.tempEnv1))return null;var N=Math.trunc((l+d)/2);l<N&&this.computeSelect(s,l,N,p),N<d&&this.computeSelect(s,N,d,p)},Ui.prototype.getCoordinates=function(){for(var s=new Array(this._end-this._start+1).fill(null),l=0,d=this._start;d<=this._end;d++)s[l++]=this._pts[d];return s},Ui.prototype.computeOverlaps=function(s,l){this.computeOverlapsInternal(this._start,this._end,s,s._start,s._end,l)},Ui.prototype.setId=function(s){this._id=s},Ui.prototype.select=function(s,l){this.computeSelect(s,this._start,this._end,l)},Ui.prototype.getEnvelope=function(){return null===this._env&&(this._env=new vt(this._pts[this._start],this._pts[this._end])),this._env},Ui.prototype.getEndIndex=function(){return this._end},Ui.prototype.getStartIndex=function(){return this._start},Ui.prototype.getContext=function(){return this._context},Ui.prototype.getId=function(){return this._id},Ui.prototype.computeOverlapsInternal=function(s,l,d,p,y,S){var N=this._pts[s],te=this._pts[l],xe=d._pts[p],je=d._pts[y];if(l-s==1&&y-p==1)return S.overlap(this,s,d,p),null;if(S.tempEnv1.init(N,te),S.tempEnv2.init(xe,je),!S.tempEnv1.intersects(S.tempEnv2))return null;var ot=Math.trunc((s+l)/2),lt=Math.trunc((p+y)/2);s<ot&&(p<lt&&this.computeOverlapsInternal(s,ot,d,p,lt,S),lt<y&&this.computeOverlapsInternal(s,ot,d,lt,y,S)),ot<l&&(p<lt&&this.computeOverlapsInternal(ot,l,d,p,lt,S),lt<y&&this.computeOverlapsInternal(ot,l,d,lt,y,S))},Ui.prototype.interfaces_=function(){return[]},Ui.prototype.getClass=function(){return Ui};var Li=function(){};Li.prototype.interfaces_=function(){return[]},Li.prototype.getClass=function(){return Li},Li.getChainStartIndices=function(s){var l=0,d=new bt;d.add(new Se(l));do{var p=Li.findChainEnd(s,l);d.add(new Se(p)),l=p}while(l<s.length-1);return Li.toIntArray(d)},Li.findChainEnd=function(s,l){for(var d=l;d<s.length-1&&s[d].equals2D(s[d+1]);)d++;if(d>=s.length-1)return s.length-1;for(var p=M.quadrant(s[d],s[d+1]),y=l+1;y<s.length&&(s[y-1].equals2D(s[y])||M.quadrant(s[y-1],s[y])===p);)y++;return y-1},Li.getChains=function(){if(1===arguments.length)return Li.getChains(arguments[0],null);if(2===arguments.length){for(var l=arguments[0],d=arguments[1],p=new bt,y=Li.getChainStartIndices(l),S=0;S<y.length-1;S++){var N=new Ui(l,y[S],y[S+1],d);p.add(N)}return p}},Li.toIntArray=function(s){for(var l=new Array(s.size()).fill(null),d=0;d<l.length;d++)l[d]=s.get(d).intValue();return l};var Ea=function(){};Ea.prototype.computeNodes=function(s){},Ea.prototype.getNodedSubstrings=function(){},Ea.prototype.interfaces_=function(){return[]},Ea.prototype.getClass=function(){return Ea};var Fl=function(){this._segInt=null,0!==arguments.length&&1===arguments.length&&this.setSegmentIntersector(arguments[0])};Fl.prototype.setSegmentIntersector=function(s){this._segInt=s},Fl.prototype.interfaces_=function(){return[Ea]},Fl.prototype.getClass=function(){return Fl};var ci=function(s){function l(p){p?s.call(this,p):s.call(this),this._monoChains=new bt,this._index=new zn,this._idCounter=0,this._nodedSegStrings=null,this._nOverlaps=0}s&&(l.__proto__=s),(l.prototype=Object.create(s&&s.prototype)).constructor=l;var d={SegmentOverlapAction:{configurable:!0}};return l.prototype.getMonotoneChains=function(){return this._monoChains},l.prototype.getNodedSubstrings=function(){return mi.getNodedSubstrings(this._nodedSegStrings)},l.prototype.getIndex=function(){return this._index},l.prototype.add=function(p){for(var y=Li.getChains(p.getCoordinates(),p).iterator();y.hasNext();){var S=y.next();S.setId(this._idCounter++),this._index.insert(S.getEnvelope(),S),this._monoChains.add(S)}},l.prototype.computeNodes=function(p){this._nodedSegStrings=p;for(var y=p.iterator();y.hasNext();)this.add(y.next());this.intersectChains()},l.prototype.intersectChains=function(){for(var p=new jc(this._segInt),y=this._monoChains.iterator();y.hasNext();)for(var S=y.next(),N=this._index.query(S.getEnvelope()).iterator();N.hasNext();){var te=N.next();if(te.getId()>S.getId()&&(S.computeOverlaps(te,p),this._nOverlaps++),this._segInt.isDone())return null}},l.prototype.interfaces_=function(){return[]},l.prototype.getClass=function(){return l},d.SegmentOverlapAction.get=function(){return jc},Object.defineProperties(l,d),l}(Fl),jc=function(s){function l(){s.call(this),this._si=null,this._si=arguments[0]}return s&&(l.__proto__=s),(l.prototype=Object.create(s&&s.prototype)).constructor=l,l.prototype.overlap=function(){if(4!==arguments.length)return s.prototype.overlap.apply(this,arguments);var p=arguments[1],y=arguments[2],S=arguments[3],N=arguments[0].getContext(),te=y.getContext();this._si.processIntersections(N,p,te,S)},l.prototype.interfaces_=function(){return[]},l.prototype.getClass=function(){return l},l}(ll),hr=function s(){if(this._quadrantSegments=s.DEFAULT_QUADRANT_SEGMENTS,this._endCapStyle=s.CAP_ROUND,this._joinStyle=s.JOIN_ROUND,this._mitreLimit=s.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this._simplifyFactor=s.DEFAULT_SIMPLIFY_FACTOR,0!==arguments.length)if(1===arguments.length)this.setQuadrantSegments(arguments[0]);else if(2===arguments.length){var p=arguments[1];this.setQuadrantSegments(arguments[0]),this.setEndCapStyle(p)}else if(4===arguments.length){var S=arguments[1],N=arguments[2],te=arguments[3];this.setQuadrantSegments(arguments[0]),this.setEndCapStyle(S),this.setJoinStyle(N),this.setMitreLimit(te)}},za={CAP_ROUND:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},JOIN_ROUND:{configurable:!0},JOIN_MITRE:{configurable:!0},JOIN_BEVEL:{configurable:!0},DEFAULT_QUADRANT_SEGMENTS:{configurable:!0},DEFAULT_MITRE_LIMIT:{configurable:!0},DEFAULT_SIMPLIFY_FACTOR:{configurable:!0}};hr.prototype.getEndCapStyle=function(){return this._endCapStyle},hr.prototype.isSingleSided=function(){return this._isSingleSided},hr.prototype.setQuadrantSegments=function(s){this._quadrantSegments=s,0===this._quadrantSegments&&(this._joinStyle=hr.JOIN_BEVEL),this._quadrantSegments<0&&(this._joinStyle=hr.JOIN_MITRE,this._mitreLimit=Math.abs(this._quadrantSegments)),s<=0&&(this._quadrantSegments=1),this._joinStyle!==hr.JOIN_ROUND&&(this._quadrantSegments=hr.DEFAULT_QUADRANT_SEGMENTS)},hr.prototype.getJoinStyle=function(){return this._joinStyle},hr.prototype.setJoinStyle=function(s){this._joinStyle=s},hr.prototype.setSimplifyFactor=function(s){this._simplifyFactor=s<0?0:s},hr.prototype.getSimplifyFactor=function(){return this._simplifyFactor},hr.prototype.getQuadrantSegments=function(){return this._quadrantSegments},hr.prototype.setEndCapStyle=function(s){this._endCapStyle=s},hr.prototype.getMitreLimit=function(){return this._mitreLimit},hr.prototype.setMitreLimit=function(s){this._mitreLimit=s},hr.prototype.setSingleSided=function(s){this._isSingleSided=s},hr.prototype.interfaces_=function(){return[]},hr.prototype.getClass=function(){return hr},hr.bufferDistanceError=function(s){var l=Math.PI/2/s;return 1-Math.cos(l/2)},za.CAP_ROUND.get=function(){return 1},za.CAP_FLAT.get=function(){return 2},za.CAP_SQUARE.get=function(){return 3},za.JOIN_ROUND.get=function(){return 1},za.JOIN_MITRE.get=function(){return 2},za.JOIN_BEVEL.get=function(){return 3},za.DEFAULT_QUADRANT_SEGMENTS.get=function(){return 8},za.DEFAULT_MITRE_LIMIT.get=function(){return 5},za.DEFAULT_SIMPLIFY_FACTOR.get=function(){return.01},Object.defineProperties(hr,za);var ai=function(s){this._distanceTol=null,this._isDeleted=null,this._angleOrientation=He.COUNTERCLOCKWISE,this._inputLine=s||null},Va={INIT:{configurable:!0},DELETE:{configurable:!0},KEEP:{configurable:!0},NUM_PTS_TO_CHECK:{configurable:!0}};ai.prototype.isDeletable=function(s,l,d,p){var y=this._inputLine[s],S=this._inputLine[l],N=this._inputLine[d];return!!this.isConcave(y,S,N)&&!!this.isShallow(y,S,N,p)&&this.isShallowSampled(y,S,s,d,p)},ai.prototype.deleteShallowConcavities=function(){for(var s=1,l=this.findNextNonDeletedIndex(s),d=this.findNextNonDeletedIndex(l),p=!1;d<this._inputLine.length;){var y=!1;this.isDeletable(s,l,d,this._distanceTol)&&(this._isDeleted[l]=ai.DELETE,y=!0,p=!0),l=this.findNextNonDeletedIndex(s=y?d:l),d=this.findNextNonDeletedIndex(l)}return p},ai.prototype.isShallowConcavity=function(s,l,d,p){return He.computeOrientation(s,l,d)===this._angleOrientation&&He.distancePointLine(l,s,d)<p},ai.prototype.isShallowSampled=function(s,l,d,p,y){var S=Math.trunc((p-d)/ai.NUM_PTS_TO_CHECK);S<=0&&(S=1);for(var N=d;N<p;N+=S)if(!this.isShallow(s,l,this._inputLine[N],y))return!1;return!0},ai.prototype.isConcave=function(s,l,d){return He.computeOrientation(s,l,d)===this._angleOrientation},ai.prototype.simplify=function(s){this._distanceTol=Math.abs(s),s<0&&(this._angleOrientation=He.CLOCKWISE),this._isDeleted=new Array(this._inputLine.length).fill(null);var l=!1;do{l=this.deleteShallowConcavities()}while(l);return this.collapseLine()},ai.prototype.findNextNonDeletedIndex=function(s){for(var l=s+1;l<this._inputLine.length&&this._isDeleted[l]===ai.DELETE;)l++;return l},ai.prototype.isShallow=function(s,l,d,p){return He.distancePointLine(l,s,d)<p},ai.prototype.collapseLine=function(){for(var s=new ho,l=0;l<this._inputLine.length;l++)this._isDeleted[l]!==ai.DELETE&&s.add(this._inputLine[l]);return s.toCoordinateArray()},ai.prototype.interfaces_=function(){return[]},ai.prototype.getClass=function(){return ai},ai.simplify=function(s,l){return new ai(s).simplify(l)},Va.INIT.get=function(){return 0},Va.DELETE.get=function(){return 1},Va.KEEP.get=function(){return 1},Va.NUM_PTS_TO_CHECK.get=function(){return 10},Object.defineProperties(ai,Va);var Fo=function(){this._ptList=null,this._precisionModel=null,this._minimimVertexDistance=0,this._ptList=new bt},lc={COORDINATE_ARRAY_TYPE:{configurable:!0}};Fo.prototype.getCoordinates=function(){return this._ptList.toArray(Fo.COORDINATE_ARRAY_TYPE)},Fo.prototype.setPrecisionModel=function(s){this._precisionModel=s},Fo.prototype.addPt=function(s){var l=new W(s);if(this._precisionModel.makePrecise(l),this.isRedundant(l))return null;this._ptList.add(l)},Fo.prototype.revere=function(){},Fo.prototype.addPts=function(s,l){if(l)for(var d=0;d<s.length;d++)this.addPt(s[d]);else for(var p=s.length-1;p>=0;p--)this.addPt(s[p])},Fo.prototype.isRedundant=function(s){if(this._ptList.size()<1)return!1;var l=this._ptList.get(this._ptList.size()-1);return s.distance(l)<this._minimimVertexDistance},Fo.prototype.toString=function(){return(new nn).createLineString(this.getCoordinates()).toString()},Fo.prototype.closeRing=function(){if(this._ptList.size()<1)return null;var s=new W(this._ptList.get(0)),l=this._ptList.get(this._ptList.size()-1);if(s.equals(l))return null;this._ptList.add(s)},Fo.prototype.setMinimumVertexDistance=function(s){this._minimimVertexDistance=s},Fo.prototype.interfaces_=function(){return[]},Fo.prototype.getClass=function(){return Fo},lc.COORDINATE_ARRAY_TYPE.get=function(){return new Array(0).fill(null)},Object.defineProperties(Fo,lc);var Gn=function(){},Ca={PI_TIMES_2:{configurable:!0},PI_OVER_2:{configurable:!0},PI_OVER_4:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},CLOCKWISE:{configurable:!0},NONE:{configurable:!0}};Gn.prototype.interfaces_=function(){return[]},Gn.prototype.getClass=function(){return Gn},Gn.toDegrees=function(s){return 180*s/Math.PI},Gn.normalize=function(s){for(;s>Math.PI;)s-=Gn.PI_TIMES_2;for(;s<=-Math.PI;)s+=Gn.PI_TIMES_2;return s},Gn.angle=function(){if(1===arguments.length){var s=arguments[0];return Math.atan2(s.y,s.x)}if(2===arguments.length){var l=arguments[0],d=arguments[1];return Math.atan2(d.y-l.y,d.x-l.x)}},Gn.isAcute=function(s,l,d){return(s.x-l.x)*(d.x-l.x)+(s.y-l.y)*(d.y-l.y)>0},Gn.isObtuse=function(s,l,d){return(s.x-l.x)*(d.x-l.x)+(s.y-l.y)*(d.y-l.y)<0},Gn.interiorAngle=function(s,l,d){var p=Gn.angle(l,s),y=Gn.angle(l,d);return Math.abs(y-p)},Gn.normalizePositive=function(s){if(s<0){for(;s<0;)s+=Gn.PI_TIMES_2;s>=Gn.PI_TIMES_2&&(s=0)}else{for(;s>=Gn.PI_TIMES_2;)s-=Gn.PI_TIMES_2;s<0&&(s=0)}return s},Gn.angleBetween=function(s,l,d){var p=Gn.angle(l,s),y=Gn.angle(l,d);return Gn.diff(p,y)},Gn.diff=function(s,l){var d=null;return(d=s<l?l-s:s-l)>Math.PI&&(d=2*Math.PI-d),d},Gn.toRadians=function(s){return s*Math.PI/180},Gn.getTurn=function(s,l){var d=Math.sin(l-s);return d>0?Gn.COUNTERCLOCKWISE:d<0?Gn.CLOCKWISE:Gn.NONE},Gn.angleBetweenOriented=function(s,l,d){var p=Gn.angle(l,s),y=Gn.angle(l,d)-p;return y<=-Math.PI?y+Gn.PI_TIMES_2:y>Math.PI?y-Gn.PI_TIMES_2:y},Ca.PI_TIMES_2.get=function(){return 2*Math.PI},Ca.PI_OVER_2.get=function(){return Math.PI/2},Ca.PI_OVER_4.get=function(){return Math.PI/4},Ca.COUNTERCLOCKWISE.get=function(){return He.COUNTERCLOCKWISE},Ca.CLOCKWISE.get=function(){return He.CLOCKWISE},Ca.NONE.get=function(){return He.COLLINEAR},Object.defineProperties(Gn,Ca);var mr=function s(){this._maxCurveSegmentError=0,this._filletAngleQuantum=null,this._closingSegLengthFactor=1,this._segList=null,this._distance=0,this._precisionModel=null,this._bufParams=null,this._li=null,this._s0=null,this._s1=null,this._s2=null,this._seg0=new qt,this._seg1=new qt,this._offset0=new qt,this._offset1=new qt,this._side=0,this._hasNarrowConcaveAngle=!1;var d=arguments[1],p=arguments[2];this._precisionModel=arguments[0],this._bufParams=d,this._li=new pe,this._filletAngleQuantum=Math.PI/2/d.getQuadrantSegments(),d.getQuadrantSegments()>=8&&d.getJoinStyle()===hr.JOIN_ROUND&&(this._closingSegLengthFactor=s.MAX_CLOSING_SEG_LEN_FACTOR),this.init(p)},Ma={OFFSET_SEGMENT_SEPARATION_FACTOR:{configurable:!0},INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},CURVE_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},MAX_CLOSING_SEG_LEN_FACTOR:{configurable:!0}};mr.prototype.addNextSegment=function(s,l){if(this._s0=this._s1,this._s1=this._s2,this._s2=s,this._seg0.setCoordinates(this._s0,this._s1),this.computeOffsetSegment(this._seg0,this._side,this._distance,this._offset0),this._seg1.setCoordinates(this._s1,this._s2),this.computeOffsetSegment(this._seg1,this._side,this._distance,this._offset1),this._s1.equals(this._s2))return null;var d=He.computeOrientation(this._s0,this._s1,this._s2),p=d===He.CLOCKWISE&&this._side===st.LEFT||d===He.COUNTERCLOCKWISE&&this._side===st.RIGHT;0===d?this.addCollinear(l):p?this.addOutsideTurn(d,l):this.addInsideTurn(d,l)},mr.prototype.addLineEndCap=function(s,l){var d=new qt(s,l),p=new qt;this.computeOffsetSegment(d,st.LEFT,this._distance,p);var y=new qt;this.computeOffsetSegment(d,st.RIGHT,this._distance,y);var te=Math.atan2(l.y-s.y,l.x-s.x);switch(this._bufParams.getEndCapStyle()){case hr.CAP_ROUND:this._segList.addPt(p.p1),this.addFilletArc(l,te+Math.PI/2,te-Math.PI/2,He.CLOCKWISE,this._distance),this._segList.addPt(y.p1);break;case hr.CAP_FLAT:this._segList.addPt(p.p1),this._segList.addPt(y.p1);break;case hr.CAP_SQUARE:var xe=new W;xe.x=Math.abs(this._distance)*Math.cos(te),xe.y=Math.abs(this._distance)*Math.sin(te);var je=new W(p.p1.x+xe.x,p.p1.y+xe.y),ot=new W(y.p1.x+xe.x,y.p1.y+xe.y);this._segList.addPt(je),this._segList.addPt(ot)}},mr.prototype.getCoordinates=function(){return this._segList.getCoordinates()},mr.prototype.addMitreJoin=function(s,l,d,p){var y=!0,S=null;try{S=yt.intersection(l.p0,l.p1,d.p0,d.p1),(p<=0?1:S.distance(s)/Math.abs(p))>this._bufParams.getMitreLimit()&&(y=!1)}catch(N){if(!(N instanceof Dt))throw N;S=new W(0,0),y=!1}y?this._segList.addPt(S):this.addLimitedMitreJoin(l,d,p,this._bufParams.getMitreLimit())},mr.prototype.addFilletCorner=function(s,l,d,p,y){var te=Math.atan2(l.y-s.y,l.x-s.x),ot=Math.atan2(d.y-s.y,d.x-s.x);p===He.CLOCKWISE?te<=ot&&(te+=2*Math.PI):te>=ot&&(te-=2*Math.PI),this._segList.addPt(l),this.addFilletArc(s,te,ot,p,y),this._segList.addPt(d)},mr.prototype.addOutsideTurn=function(s,l){if(this._offset0.p1.distance(this._offset1.p0)<this._distance*mr.OFFSET_SEGMENT_SEPARATION_FACTOR)return this._segList.addPt(this._offset0.p1),null;this._bufParams.getJoinStyle()===hr.JOIN_MITRE?this.addMitreJoin(this._s1,this._offset0,this._offset1,this._distance):this._bufParams.getJoinStyle()===hr.JOIN_BEVEL?this.addBevelJoin(this._offset0,this._offset1):(l&&this._segList.addPt(this._offset0.p1),this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,s,this._distance),this._segList.addPt(this._offset1.p0))},mr.prototype.createSquare=function(s){this._segList.addPt(new W(s.x+this._distance,s.y+this._distance)),this._segList.addPt(new W(s.x+this._distance,s.y-this._distance)),this._segList.addPt(new W(s.x-this._distance,s.y-this._distance)),this._segList.addPt(new W(s.x-this._distance,s.y+this._distance)),this._segList.closeRing()},mr.prototype.addSegments=function(s,l){this._segList.addPts(s,l)},mr.prototype.addFirstSegment=function(){this._segList.addPt(this._offset1.p0)},mr.prototype.addLastSegment=function(){this._segList.addPt(this._offset1.p1)},mr.prototype.initSideSegments=function(s,l,d){this._s1=s,this._s2=l,this._side=d,this._seg1.setCoordinates(s,l),this.computeOffsetSegment(this._seg1,d,this._distance,this._offset1)},mr.prototype.addLimitedMitreJoin=function(s,l,d,p){var y=this._seg0.p1,S=Gn.angle(y,this._seg0.p0),N=Gn.angleBetweenOriented(this._seg0.p0,y,this._seg1.p1)/2,te=Gn.normalize(S+N),xe=Gn.normalize(te+Math.PI),je=p*d,ot=d-je*Math.abs(Math.sin(N)),lt=y.x+je*Math.cos(xe),Tt=y.y+je*Math.sin(xe),At=new W(lt,Tt),Xt=new qt(y,At),fn=Xt.pointAlongOffset(1,ot),ti=Xt.pointAlongOffset(1,-ot);this._side===st.LEFT?(this._segList.addPt(fn),this._segList.addPt(ti)):(this._segList.addPt(ti),this._segList.addPt(fn))},mr.prototype.computeOffsetSegment=function(s,l,d,p){var y=l===st.LEFT?1:-1,S=s.p1.x-s.p0.x,N=s.p1.y-s.p0.y,te=Math.sqrt(S*S+N*N),xe=y*d*S/te,je=y*d*N/te;p.p0.x=s.p0.x-je,p.p0.y=s.p0.y+xe,p.p1.x=s.p1.x-je,p.p1.y=s.p1.y+xe},mr.prototype.addFilletArc=function(s,l,d,p,y){var S=p===He.CLOCKWISE?-1:1,N=Math.abs(l-d),te=Math.trunc(N/this._filletAngleQuantum+.5);if(te<1)return null;for(var xe=N/te,je=0,ot=new W;je<N;){var lt=l+S*je;ot.x=s.x+y*Math.cos(lt),ot.y=s.y+y*Math.sin(lt),this._segList.addPt(ot),je+=xe}},mr.prototype.addInsideTurn=function(s,l){if(this._li.computeIntersection(this._offset0.p0,this._offset0.p1,this._offset1.p0,this._offset1.p1),this._li.hasIntersection())this._segList.addPt(this._li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,this._offset0.p1.distance(this._offset1.p0)<this._distance*mr.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this._segList.addPt(this._offset0.p1);else{if(this._segList.addPt(this._offset0.p1),this._closingSegLengthFactor>0){var d=new W((this._closingSegLengthFactor*this._offset0.p1.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset0.p1.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(d);var p=new W((this._closingSegLengthFactor*this._offset1.p0.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset1.p0.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(p)}else this._segList.addPt(this._s1);this._segList.addPt(this._offset1.p0)}},mr.prototype.createCircle=function(s){var l=new W(s.x+this._distance,s.y);this._segList.addPt(l),this.addFilletArc(s,0,2*Math.PI,-1,this._distance),this._segList.closeRing()},mr.prototype.addBevelJoin=function(s,l){this._segList.addPt(s.p1),this._segList.addPt(l.p0)},mr.prototype.init=function(s){this._distance=s,this._maxCurveSegmentError=s*(1-Math.cos(this._filletAngleQuantum/2)),this._segList=new Fo,this._segList.setPrecisionModel(this._precisionModel),this._segList.setMinimumVertexDistance(s*mr.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)},mr.prototype.addCollinear=function(s){this._li.computeIntersection(this._s0,this._s1,this._s1,this._s2),this._li.getIntersectionNum()>=2&&(this._bufParams.getJoinStyle()===hr.JOIN_BEVEL||this._bufParams.getJoinStyle()===hr.JOIN_MITRE?(s&&this._segList.addPt(this._offset0.p1),this._segList.addPt(this._offset1.p0)):this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,He.CLOCKWISE,this._distance))},mr.prototype.closeRing=function(){this._segList.closeRing()},mr.prototype.hasNarrowConcaveAngle=function(){return this._hasNarrowConcaveAngle},mr.prototype.interfaces_=function(){return[]},mr.prototype.getClass=function(){return mr},Ma.OFFSET_SEGMENT_SEPARATION_FACTOR.get=function(){return.001},Ma.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return.001},Ma.CURVE_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return 1e-6},Ma.MAX_CLOSING_SEG_LEN_FACTOR.get=function(){return 80},Object.defineProperties(mr,Ma);var mo=function(){this._distance=0,this._precisionModel=null,this._bufParams=null;var l=arguments[1];this._precisionModel=arguments[0],this._bufParams=l};mo.prototype.getOffsetCurve=function(s,l){if(this._distance=l,0===l)return null;var d=l<0,p=Math.abs(l),y=this.getSegGen(p);s.length<=1?this.computePointCurve(s[0],y):this.computeOffsetCurve(s,d,y);var S=y.getCoordinates();return d&&sn.reverse(S),S},mo.prototype.computeSingleSidedBufferCurve=function(s,l,d){var p=this.simplifyTolerance(this._distance);if(l){d.addSegments(s,!0);var y=ai.simplify(s,-p),S=y.length-1;d.initSideSegments(y[S],y[S-1],st.LEFT),d.addFirstSegment();for(var N=S-2;N>=0;N--)d.addNextSegment(y[N],!0)}else{d.addSegments(s,!1);var te=ai.simplify(s,p),xe=te.length-1;d.initSideSegments(te[0],te[1],st.LEFT),d.addFirstSegment();for(var je=2;je<=xe;je++)d.addNextSegment(te[je],!0)}d.addLastSegment(),d.closeRing()},mo.prototype.computeRingBufferCurve=function(s,l,d){var p=this.simplifyTolerance(this._distance);l===st.RIGHT&&(p=-p);var y=ai.simplify(s,p),S=y.length-1;d.initSideSegments(y[S-1],y[0],l);for(var N=1;N<=S;N++)d.addNextSegment(y[N],1!==N);d.closeRing()},mo.prototype.computeLineBufferCurve=function(s,l){var d=this.simplifyTolerance(this._distance),p=ai.simplify(s,d),y=p.length-1;l.initSideSegments(p[0],p[1],st.LEFT);for(var S=2;S<=y;S++)l.addNextSegment(p[S],!0);l.addLastSegment(),l.addLineEndCap(p[y-1],p[y]);var N=ai.simplify(s,-d),te=N.length-1;l.initSideSegments(N[te],N[te-1],st.LEFT);for(var xe=te-2;xe>=0;xe--)l.addNextSegment(N[xe],!0);l.addLastSegment(),l.addLineEndCap(N[1],N[0]),l.closeRing()},mo.prototype.computePointCurve=function(s,l){switch(this._bufParams.getEndCapStyle()){case hr.CAP_ROUND:l.createCircle(s);break;case hr.CAP_SQUARE:l.createSquare(s)}},mo.prototype.getLineCurve=function(s,l){if(this._distance=l,l<0&&!this._bufParams.isSingleSided()||0===l)return null;var d=Math.abs(l),p=this.getSegGen(d);return s.length<=1?this.computePointCurve(s[0],p):this._bufParams.isSingleSided()?this.computeSingleSidedBufferCurve(s,l<0,p):this.computeLineBufferCurve(s,p),p.getCoordinates()},mo.prototype.getBufferParameters=function(){return this._bufParams},mo.prototype.simplifyTolerance=function(s){return s*this._bufParams.getSimplifyFactor()},mo.prototype.getRingCurve=function(s,l,d){if(this._distance=d,s.length<=2)return this.getLineCurve(s,d);if(0===d)return mo.copyCoordinates(s);var p=this.getSegGen(d);return this.computeRingBufferCurve(s,l,p),p.getCoordinates()},mo.prototype.computeOffsetCurve=function(s,l,d){var p=this.simplifyTolerance(this._distance);if(l){var y=ai.simplify(s,-p),S=y.length-1;d.initSideSegments(y[S],y[S-1],st.LEFT),d.addFirstSegment();for(var N=S-2;N>=0;N--)d.addNextSegment(y[N],!0)}else{var te=ai.simplify(s,p),xe=te.length-1;d.initSideSegments(te[0],te[1],st.LEFT),d.addFirstSegment();for(var je=2;je<=xe;je++)d.addNextSegment(te[je],!0)}d.addLastSegment()},mo.prototype.getSegGen=function(s){return new mr(this._precisionModel,this._bufParams,s)},mo.prototype.interfaces_=function(){return[]},mo.prototype.getClass=function(){return mo},mo.copyCoordinates=function(s){for(var l=new Array(s.length).fill(null),d=0;d<l.length;d++)l[d]=new W(s[d]);return l};var Ri=function(){this._subgraphs=null,this._seg=new qt,this._cga=new He,this._subgraphs=arguments[0]},uc={DepthSegment:{configurable:!0}};Ri.prototype.findStabbedSegments=function(){if(1===arguments.length){for(var s=arguments[0],l=new bt,d=this._subgraphs.iterator();d.hasNext();){var p=d.next(),y=p.getEnvelope();s.y<y.getMinY()||s.y>y.getMaxY()||this.findStabbedSegments(s,p.getDirectedEdges(),l)}return l}if(3===arguments.length)if(We(arguments[2],pr)&&arguments[0]instanceof W&&arguments[1]instanceof Ce){for(var S=arguments[0],N=arguments[1],te=arguments[2],xe=N.getEdge().getCoordinates(),je=0;je<xe.length-1;je++)if(this._seg.p0=xe[je],this._seg.p1=xe[je+1],this._seg.p0.y>this._seg.p1.y&&this._seg.reverse(),!(Math.max(this._seg.p0.x,this._seg.p1.x)<S.x||this._seg.isHorizontal()||S.y<this._seg.p0.y||S.y>this._seg.p1.y||He.computeOrientation(this._seg.p0,this._seg.p1,S)===He.RIGHT)){var ot=N.getDepth(st.LEFT);this._seg.p0.equals(xe[je])||(ot=N.getDepth(st.RIGHT));var lt=new et(this._seg,ot);te.add(lt)}}else if(We(arguments[2],pr)&&arguments[0]instanceof W&&We(arguments[1],pr))for(var Tt=arguments[0],Xt=arguments[2],fn=arguments[1].iterator();fn.hasNext();){var ti=fn.next();ti.isForward()&&this.findStabbedSegments(Tt,ti,Xt)}},Ri.prototype.getDepth=function(s){var l=this.findStabbedSegments(s);return 0===l.size()?0:Ot.min(l)._leftDepth},Ri.prototype.interfaces_=function(){return[]},Ri.prototype.getClass=function(){return Ri},uc.DepthSegment.get=function(){return et},Object.defineProperties(Ri,uc);var et=function(){this._upwardSeg=null,this._leftDepth=null;var l=arguments[1];this._upwardSeg=new qt(arguments[0]),this._leftDepth=l};et.prototype.compareTo=function(s){var l=s;if(this._upwardSeg.minX()>=l._upwardSeg.maxX())return 1;if(this._upwardSeg.maxX()<=l._upwardSeg.minX())return-1;var d=this._upwardSeg.orientationIndex(l._upwardSeg);return 0!==d||0!=(d=-1*l._upwardSeg.orientationIndex(this._upwardSeg))?d:this._upwardSeg.compareTo(l._upwardSeg)},et.prototype.compareX=function(s,l){var d=s.p0.compareTo(l.p0);return 0!==d?d:s.p1.compareTo(l.p1)},et.prototype.toString=function(){return this._upwardSeg.toString()},et.prototype.interfaces_=function(){return[Q]},et.prototype.getClass=function(){return et};var ur=function(s,l,d){this.p0=s||null,this.p1=l||null,this.p2=d||null};ur.prototype.area=function(){return ur.area(this.p0,this.p1,this.p2)},ur.prototype.signedArea=function(){return ur.signedArea(this.p0,this.p1,this.p2)},ur.prototype.interpolateZ=function(s){if(null===s)throw new R("Supplied point is null.");return ur.interpolateZ(s,this.p0,this.p1,this.p2)},ur.prototype.longestSideLength=function(){return ur.longestSideLength(this.p0,this.p1,this.p2)},ur.prototype.isAcute=function(){return ur.isAcute(this.p0,this.p1,this.p2)},ur.prototype.circumcentre=function(){return ur.circumcentre(this.p0,this.p1,this.p2)},ur.prototype.area3D=function(){return ur.area3D(this.p0,this.p1,this.p2)},ur.prototype.centroid=function(){return ur.centroid(this.p0,this.p1,this.p2)},ur.prototype.inCentre=function(){return ur.inCentre(this.p0,this.p1,this.p2)},ur.prototype.interfaces_=function(){return[]},ur.prototype.getClass=function(){return ur},ur.area=function(s,l,d){return Math.abs(((d.x-s.x)*(l.y-s.y)-(l.x-s.x)*(d.y-s.y))/2)},ur.signedArea=function(s,l,d){return((d.x-s.x)*(l.y-s.y)-(l.x-s.x)*(d.y-s.y))/2},ur.det=function(s,l,d,p){return s*p-l*d},ur.interpolateZ=function(s,l,d,p){var y=l.x,S=l.y,N=d.x-y,te=p.x-y,xe=d.y-S,je=p.y-S,ot=N*je-te*xe,lt=s.x-y,Tt=s.y-S;return l.z+(je*lt-te*Tt)/ot*(d.z-l.z)+(-xe*lt+N*Tt)/ot*(p.z-l.z)},ur.longestSideLength=function(s,l,d){var p=s.distance(l),y=l.distance(d),S=d.distance(s),N=p;return y>N&&(N=y),S>N&&(N=S),N},ur.isAcute=function(s,l,d){return!!Gn.isAcute(s,l,d)&&!!Gn.isAcute(l,d,s)&&!!Gn.isAcute(d,s,l)},ur.circumcentre=function(s,l,d){var p=d.x,y=d.y,S=s.x-p,N=s.y-y,te=l.x-p,xe=l.y-y,je=2*ur.det(S,N,te,xe),ot=ur.det(N,S*S+N*N,xe,te*te+xe*xe),lt=ur.det(S,S*S+N*N,te,te*te+xe*xe);return new W(p-ot/je,y+lt/je)},ur.perpendicularBisector=function(s,l){var d=l.x-s.x,p=l.y-s.y,y=new yt(s.x+d/2,s.y+p/2,1),S=new yt(s.x-p+d/2,s.y+d+p/2,1);return new yt(y,S)},ur.angleBisector=function(s,l,d){var p=l.distance(s),y=p/(p+l.distance(d));return new W(s.x+y*(d.x-s.x),s.y+y*(d.y-s.y))},ur.area3D=function(s,l,d){var p=l.x-s.x,y=l.y-s.y,S=l.z-s.z,N=d.x-s.x,te=d.y-s.y,xe=d.z-s.z,je=y*xe-S*te,ot=S*N-p*xe,lt=p*te-y*N;return Math.sqrt(je*je+ot*ot+lt*lt)/2},ur.centroid=function(s,l,d){return new W((s.x+l.x+d.x)/3,(s.y+l.y+d.y)/3)},ur.inCentre=function(s,l,d){var p=l.distance(d),y=s.distance(d),S=s.distance(l),N=p+y+S;return new W((p*s.x+y*l.x+S*d.x)/N,(p*s.y+y*l.y+S*d.y)/N)};var Mt=function(){this._inputGeom=null,this._distance=null,this._curveBuilder=null,this._curveList=new bt;var l=arguments[1],d=arguments[2];this._inputGeom=arguments[0],this._distance=l,this._curveBuilder=d};Mt.prototype.addPoint=function(s){if(this._distance<=0)return null;var l=s.getCoordinates(),d=this._curveBuilder.getLineCurve(l,this._distance);this.addCurve(d,de.EXTERIOR,de.INTERIOR)},Mt.prototype.addPolygon=function(s){var l=this._distance,d=st.LEFT;this._distance<0&&(l=-this._distance,d=st.RIGHT);var p=s.getExteriorRing(),y=sn.removeRepeatedPoints(p.getCoordinates());if(this._distance<0&&this.isErodedCompletely(p,this._distance)||this._distance<=0&&y.length<3)return null;this.addPolygonRing(y,l,d,de.EXTERIOR,de.INTERIOR);for(var S=0;S<s.getNumInteriorRing();S++){var N=s.getInteriorRingN(S),te=sn.removeRepeatedPoints(N.getCoordinates());this._distance>0&&this.isErodedCompletely(N,-this._distance)||this.addPolygonRing(te,l,st.opposite(d),de.INTERIOR,de.EXTERIOR)}},Mt.prototype.isTriangleErodedCompletely=function(s,l){var d=new ur(s[0],s[1],s[2]),p=d.inCentre();return He.distancePointLine(p,d.p0,d.p1)<Math.abs(l)},Mt.prototype.addLineString=function(s){if(this._distance<=0&&!this._curveBuilder.getBufferParameters().isSingleSided())return null;var l=sn.removeRepeatedPoints(s.getCoordinates()),d=this._curveBuilder.getLineCurve(l,this._distance);this.addCurve(d,de.EXTERIOR,de.INTERIOR)},Mt.prototype.addCurve=function(s,l,d){if(null===s||s.length<2)return null;var p=new mi(s,new Bn(0,de.BOUNDARY,l,d));this._curveList.add(p)},Mt.prototype.getCurves=function(){return this.add(this._inputGeom),this._curveList},Mt.prototype.addPolygonRing=function(s,l,d,p,y){if(0===l&&s.length<Go.MINIMUM_VALID_SIZE)return null;var S=p,N=y;s.length>=Go.MINIMUM_VALID_SIZE&&He.isCCW(s)&&(S=y,N=p,d=st.opposite(d));var te=this._curveBuilder.getRingCurve(s,d,l);this.addCurve(te,S,N)},Mt.prototype.add=function(s){if(s.isEmpty())return null;s instanceof vi?this.addPolygon(s):s instanceof Kn?this.addLineString(s):s instanceof po?this.addPoint(s):(s instanceof Os||s instanceof Qs||s instanceof Jo||s instanceof Di)&&this.addCollection(s)},Mt.prototype.isErodedCompletely=function(s,l){var d=s.getCoordinates();if(d.length<4)return l<0;if(4===d.length)return this.isTriangleErodedCompletely(d,l);var p=s.getEnvelopeInternal(),y=Math.min(p.getHeight(),p.getWidth());return l<0&&2*Math.abs(l)>y},Mt.prototype.addCollection=function(s){for(var l=0;l<s.getNumGeometries();l++){var d=s.getGeometryN(l);this.add(d)}},Mt.prototype.interfaces_=function(){return[]},Mt.prototype.getClass=function(){return Mt};var ua=function(){};ua.prototype.locate=function(s){},ua.prototype.interfaces_=function(){return[]},ua.prototype.getClass=function(){return ua};var Fs=function(){this._parent=null,this._atStart=null,this._max=null,this._index=null,this._subcollectionIterator=null;var s=arguments[0];this._parent=s,this._atStart=!0,this._index=0,this._max=s.getNumGeometries()};Fs.prototype.next=function(){if(this._atStart)return this._atStart=!1,Fs.isAtomic(this._parent)&&this._index++,this._parent;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return this._subcollectionIterator.next();this._subcollectionIterator=null}if(this._index>=this._max)throw new x;var s=this._parent.getGeometryN(this._index++);return s instanceof Di?(this._subcollectionIterator=new Fs(s),this._subcollectionIterator.next()):s},Fs.prototype.remove=function(){throw new Error(this.getClass().getName())},Fs.prototype.hasNext=function(){if(this._atStart)return!0;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return!0;this._subcollectionIterator=null}return!(this._index>=this._max)},Fs.prototype.interfaces_=function(){return[Mi]},Fs.prototype.getClass=function(){return Fs},Fs.isAtomic=function(s){return!(s instanceof Di)};var Lo=function(){this._geom=null,this._geom=arguments[0]};Lo.prototype.locate=function(s){return Lo.locate(s,this._geom)},Lo.prototype.interfaces_=function(){return[ua]},Lo.prototype.getClass=function(){return Lo},Lo.isPointInRing=function(s,l){return!!l.getEnvelopeInternal().intersects(s)&&He.isPointInRing(s,l.getCoordinates())},Lo.containsPointInPolygon=function(s,l){if(l.isEmpty())return!1;var d=l.getExteriorRing();if(!Lo.isPointInRing(s,d))return!1;for(var p=0;p<l.getNumInteriorRing();p++){var y=l.getInteriorRingN(p);if(Lo.isPointInRing(s,y))return!1}return!0},Lo.containsPoint=function(s,l){if(l instanceof vi)return Lo.containsPointInPolygon(s,l);if(l instanceof Di)for(var d=new Fs(l);d.hasNext();){var p=d.next();if(p!==l&&Lo.containsPoint(s,p))return!0}return!1},Lo.locate=function(s,l){return l.isEmpty()?de.EXTERIOR:Lo.containsPoint(s,l)?de.INTERIOR:de.EXTERIOR};var xo=function(){this._edgeMap=new Re,this._edgeList=null,this._ptInAreaLocation=[de.NONE,de.NONE]};xo.prototype.getNextCW=function(s){this.getEdges();var l=this._edgeList.indexOf(s),d=l-1;return 0===l&&(d=this._edgeList.size()-1),this._edgeList.get(d)},xo.prototype.propagateSideLabels=function(s){for(var l=de.NONE,d=this.iterator();d.hasNext();){var p=d.next().getLabel();p.isArea(s)&&p.getLocation(s,st.LEFT)!==de.NONE&&(l=p.getLocation(s,st.LEFT))}if(l===de.NONE)return null;for(var y=l,S=this.iterator();S.hasNext();){var N=S.next(),te=N.getLabel();if(te.getLocation(s,st.ON)===de.NONE&&te.setLocation(s,st.ON,y),te.isArea(s)){var xe=te.getLocation(s,st.LEFT),je=te.getLocation(s,st.RIGHT);if(je!==de.NONE){if(je!==y)throw new es("side location conflict",N.getCoordinate());xe===de.NONE&&T.shouldNeverReachHere("found single null side (at "+N.getCoordinate()+")"),y=xe}else T.isTrue(te.getLocation(s,st.LEFT)===de.NONE,"found single null side"),te.setLocation(s,st.RIGHT,y),te.setLocation(s,st.LEFT,y)}}},xo.prototype.getCoordinate=function(){var s=this.iterator();return s.hasNext()?s.next().getCoordinate():null},xo.prototype.print=function(s){Ft.out.println("EdgeEndStar:   "+this.getCoordinate());for(var l=this.iterator();l.hasNext();)l.next().print(s)},xo.prototype.isAreaLabelsConsistent=function(s){return this.computeEdgeEndLabels(s.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)},xo.prototype.checkAreaLabelsConsistent=function(s){var l=this.getEdges();if(l.size()<=0)return!0;var d=l.size()-1,p=l.get(d).getLabel().getLocation(s,st.LEFT);T.isTrue(p!==de.NONE,"Found unlabelled area edge");for(var y=p,S=this.iterator();S.hasNext();){var N=S.next().getLabel();T.isTrue(N.isArea(s),"Found non-area edge");var te=N.getLocation(s,st.LEFT),xe=N.getLocation(s,st.RIGHT);if(te===xe||xe!==y)return!1;y=te}return!0},xo.prototype.findIndex=function(s){this.iterator();for(var l=0;l<this._edgeList.size();l++)if(this._edgeList.get(l)===s)return l;return-1},xo.prototype.iterator=function(){return this.getEdges().iterator()},xo.prototype.getEdges=function(){return null===this._edgeList&&(this._edgeList=new bt(this._edgeMap.values())),this._edgeList},xo.prototype.getLocation=function(s,l,d){return this._ptInAreaLocation[s]===de.NONE&&(this._ptInAreaLocation[s]=Lo.locate(l,d[s].getGeometry())),this._ptInAreaLocation[s]},xo.prototype.toString=function(){var s=new be;s.append("EdgeEndStar:   "+this.getCoordinate()),s.append("\n");for(var l=this.iterator();l.hasNext();){var d=l.next();s.append(d),s.append("\n")}return s.toString()},xo.prototype.computeEdgeEndLabels=function(s){for(var l=this.iterator();l.hasNext();)l.next().computeLabel(s)},xo.prototype.computeLabelling=function(s){this.computeEdgeEndLabels(s[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);for(var l=[!1,!1],d=this.iterator();d.hasNext();)for(var p=d.next().getLabel(),y=0;y<2;y++)p.isLine(y)&&p.getLocation(y)===de.BOUNDARY&&(l[y]=!0);for(var S=this.iterator();S.hasNext();)for(var N=S.next(),te=N.getLabel(),xe=0;xe<2;xe++)if(te.isAnyNull(xe)){var je=de.NONE;if(l[xe])je=de.EXTERIOR;else{var ot=N.getCoordinate();je=this.getLocation(xe,ot,s)}te.setAllLocationsIfNull(xe,je)}},xo.prototype.getDegree=function(){return this._edgeMap.size()},xo.prototype.insertEdgeEnd=function(s,l){this._edgeMap.put(s,l),this._edgeList=null},xo.prototype.interfaces_=function(){return[]},xo.prototype.getClass=function(){return xo};var ph=function(s){function l(){s.call(this),this._resultAreaEdgeList=null,this._label=null,this._SCANNING_FOR_INCOMING=1,this._LINKING_TO_OUTGOING=2}return s&&(l.__proto__=s),(l.prototype=Object.create(s&&s.prototype)).constructor=l,l.prototype.linkResultDirectedEdges=function(){this.getResultAreaEdges();for(var d=null,p=null,y=this._SCANNING_FOR_INCOMING,S=0;S<this._resultAreaEdgeList.size();S++){var N=this._resultAreaEdgeList.get(S),te=N.getSym();if(N.getLabel().isArea())switch(null===d&&N.isInResult()&&(d=N),y){case this._SCANNING_FOR_INCOMING:if(!te.isInResult())continue;p=te,y=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(!N.isInResult())continue;p.setNext(N),y=this._SCANNING_FOR_INCOMING}}if(y===this._LINKING_TO_OUTGOING){if(null===d)throw new es("no outgoing dirEdge found",this.getCoordinate());T.isTrue(d.isInResult(),"unable to link last incoming dirEdge"),p.setNext(d)}},l.prototype.insert=function(d){this.insertEdgeEnd(d,d)},l.prototype.getRightmostEdge=function(){var d=this.getEdges(),p=d.size();if(p<1)return null;var y=d.get(0);if(1===p)return y;var S=d.get(p-1),N=y.getQuadrant(),te=S.getQuadrant();return M.isNorthern(N)&&M.isNorthern(te)?y:M.isNorthern(N)||M.isNorthern(te)?0!==y.getDy()?y:0!==S.getDy()?S:(T.shouldNeverReachHere("found two horizontal edges incident on node"),null):S},l.prototype.print=function(d){Ft.out.println("DirectedEdgeStar: "+this.getCoordinate());for(var p=this.iterator();p.hasNext();){var y=p.next();d.print("out "),y.print(d),d.println(),d.print("in "),y.getSym().print(d),d.println()}},l.prototype.getResultAreaEdges=function(){if(null!==this._resultAreaEdgeList)return this._resultAreaEdgeList;this._resultAreaEdgeList=new bt;for(var d=this.iterator();d.hasNext();){var p=d.next();(p.isInResult()||p.getSym().isInResult())&&this._resultAreaEdgeList.add(p)}return this._resultAreaEdgeList},l.prototype.updateLabelling=function(d){for(var p=this.iterator();p.hasNext();){var y=p.next().getLabel();y.setAllLocationsIfNull(0,d.getLocation(0)),y.setAllLocationsIfNull(1,d.getLocation(1))}},l.prototype.linkAllDirectedEdges=function(){this.getEdges();for(var d=null,p=null,y=this._edgeList.size()-1;y>=0;y--){var S=this._edgeList.get(y),N=S.getSym();null===p&&(p=N),null!==d&&N.setNext(d),d=S}p.setNext(d)},l.prototype.computeDepths=function(){if(1===arguments.length){var d=arguments[0],p=this.findIndex(d),y=d.getDepth(st.LEFT),S=d.getDepth(st.RIGHT),N=this.computeDepths(p+1,this._edgeList.size(),y);if(this.computeDepths(0,p,N)!==S)throw new es("depth mismatch at "+d.getCoordinate())}else if(3===arguments.length){for(var xe=arguments[1],je=arguments[2],ot=arguments[0];ot<xe;ot++){var lt=this._edgeList.get(ot);lt.setEdgeDepths(st.RIGHT,je),je=lt.getDepth(st.LEFT)}return je}},l.prototype.mergeSymLabels=function(){for(var d=this.iterator();d.hasNext();){var p=d.next();p.getLabel().merge(p.getSym().getLabel())}},l.prototype.linkMinimalDirectedEdges=function(d){for(var p=null,y=null,S=this._SCANNING_FOR_INCOMING,N=this._resultAreaEdgeList.size()-1;N>=0;N--){var te=this._resultAreaEdgeList.get(N),xe=te.getSym();switch(null===p&&te.getEdgeRing()===d&&(p=te),S){case this._SCANNING_FOR_INCOMING:if(xe.getEdgeRing()!==d)continue;y=xe,S=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(te.getEdgeRing()!==d)continue;y.setNextMin(te),S=this._SCANNING_FOR_INCOMING}}S===this._LINKING_TO_OUTGOING&&(T.isTrue(null!==p,"found null for first outgoing dirEdge"),T.isTrue(p.getEdgeRing()===d,"unable to link last incoming dirEdge"),y.setNextMin(p))},l.prototype.getOutgoingDegree=function(){if(0===arguments.length){for(var d=0,p=this.iterator();p.hasNext();)p.next().isInResult()&&d++;return d}if(1===arguments.length){for(var y=arguments[0],S=0,N=this.iterator();N.hasNext();)N.next().getEdgeRing()===y&&S++;return S}},l.prototype.getLabel=function(){return this._label},l.prototype.findCoveredLineEdges=function(){for(var d=de.NONE,p=this.iterator();p.hasNext();){var y=p.next(),S=y.getSym();if(!y.isLineEdge()){if(y.isInResult()){d=de.INTERIOR;break}if(S.isInResult()){d=de.EXTERIOR;break}}}if(d===de.NONE)return null;for(var N=d,te=this.iterator();te.hasNext();){var xe=te.next(),je=xe.getSym();xe.isLineEdge()?xe.getEdge().setCovered(N===de.INTERIOR):(xe.isInResult()&&(N=de.EXTERIOR),je.isInResult()&&(N=de.INTERIOR))}},l.prototype.computeLabelling=function(d){s.prototype.computeLabelling.call(this,d),this._label=new Bn(de.NONE);for(var p=this.iterator();p.hasNext();)for(var y=p.next().getEdge().getLabel(),S=0;S<2;S++){var N=y.getLocation(S);N!==de.INTERIOR&&N!==de.BOUNDARY||this._label.setLocation(S,de.INTERIOR)}},l.prototype.interfaces_=function(){return[]},l.prototype.getClass=function(){return l},l}(xo),ea=function(s){function l(){s.apply(this,arguments)}return s&&(l.__proto__=s),(l.prototype=Object.create(s&&s.prototype)).constructor=l,l.prototype.createNode=function(d){return new m(d,new ph)},l.prototype.interfaces_=function(){return[]},l.prototype.getClass=function(){return l},l}(Ie),ro=function s(){this._pts=null,this._orientation=null;var l=arguments[0];this._pts=l,this._orientation=s.orientation(l)};ro.prototype.compareTo=function(s){return ro.compareOriented(this._pts,this._orientation,s._pts,s._orientation)},ro.prototype.interfaces_=function(){return[Q]},ro.prototype.getClass=function(){return ro},ro.orientation=function(s){return 1===sn.increasingDirection(s)},ro.compareOriented=function(s,l,d,p){for(var y=l?1:-1,S=p?1:-1,N=l?s.length:-1,te=p?d.length:-1,xe=l?0:s.length-1,je=p?0:d.length-1;;){var ot=s[xe].compareTo(d[je]);if(0!==ot)return ot;var lt=(xe+=y)===N,Tt=(je+=S)===te;if(lt&&!Tt)return-1;if(!lt&&Tt)return 1;if(lt&&Tt)return 0}};var ns=function(){this._edges=new bt,this._ocaMap=new Re};ns.prototype.print=function(s){s.print("MULTILINESTRING ( ");for(var l=0;l<this._edges.size();l++){var d=this._edges.get(l);l>0&&s.print(","),s.print("(");for(var p=d.getCoordinates(),y=0;y<p.length;y++)y>0&&s.print(","),s.print(p[y].x+" "+p[y].y);s.println(")")}s.print(")  ")},ns.prototype.addAll=function(s){for(var l=s.iterator();l.hasNext();)this.add(l.next())},ns.prototype.findEdgeIndex=function(s){for(var l=0;l<this._edges.size();l++)if(this._edges.get(l).equals(s))return l;return-1},ns.prototype.iterator=function(){return this._edges.iterator()},ns.prototype.getEdges=function(){return this._edges},ns.prototype.get=function(s){return this._edges.get(s)},ns.prototype.findEqualEdge=function(s){var l=new ro(s.getCoordinates());return this._ocaMap.get(l)},ns.prototype.add=function(s){this._edges.add(s);var l=new ro(s.getCoordinates());this._ocaMap.put(l,s)},ns.prototype.interfaces_=function(){return[]},ns.prototype.getClass=function(){return ns};var bi=function(){};bi.prototype.processIntersections=function(s,l,d,p){},bi.prototype.isDone=function(){},bi.prototype.interfaces_=function(){return[]},bi.prototype.getClass=function(){return bi};var Hi=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._hasInterior=!1,this._properIntersectionPoint=null,this._li=null,this._isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0,this._li=arguments[0]};Hi.prototype.isTrivialIntersection=function(s,l,d,p){if(s===d&&1===this._li.getIntersectionNum()){if(Hi.isAdjacentSegments(l,p))return!0;if(s.isClosed()){var y=s.size()-1;if(0===l&&p===y||0===p&&l===y)return!0}}return!1},Hi.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},Hi.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},Hi.prototype.getLineIntersector=function(){return this._li},Hi.prototype.hasProperIntersection=function(){return this._hasProper},Hi.prototype.processIntersections=function(s,l,d,p){if(s===d&&l===p)return null;this.numTests++;var y=s.getCoordinates()[l],S=s.getCoordinates()[l+1],N=d.getCoordinates()[p],te=d.getCoordinates()[p+1];this._li.computeIntersection(y,S,N,te),this._li.hasIntersection()&&(this.numIntersections++,this._li.isInteriorIntersection()&&(this.numInteriorIntersections++,this._hasInterior=!0),this.isTrivialIntersection(s,l,d,p)||(this._hasIntersection=!0,s.addIntersections(this._li,l,0),d.addIntersections(this._li,p,1),this._li.isProper()&&(this.numProperIntersections++,this._hasProper=!0,this._hasProperInterior=!0)))},Hi.prototype.hasIntersection=function(){return this._hasIntersection},Hi.prototype.isDone=function(){return!1},Hi.prototype.hasInteriorIntersection=function(){return this._hasInterior},Hi.prototype.interfaces_=function(){return[bi]},Hi.prototype.getClass=function(){return Hi},Hi.isAdjacentSegments=function(s,l){return 1===Math.abs(s-l)};var Rn=function(){this.coord=null,this.segmentIndex=null,this.dist=null;var l=arguments[1],d=arguments[2];this.coord=new W(arguments[0]),this.segmentIndex=l,this.dist=d};Rn.prototype.getSegmentIndex=function(){return this.segmentIndex},Rn.prototype.getCoordinate=function(){return this.coord},Rn.prototype.print=function(s){s.print(this.coord),s.print(" seg # = "+this.segmentIndex),s.println(" dist = "+this.dist)},Rn.prototype.compareTo=function(s){return this.compare(s.segmentIndex,s.dist)},Rn.prototype.isEndPoint=function(s){return 0===this.segmentIndex&&0===this.dist||this.segmentIndex===s},Rn.prototype.toString=function(){return this.coord+" seg # = "+this.segmentIndex+" dist = "+this.dist},Rn.prototype.getDistance=function(){return this.dist},Rn.prototype.compare=function(s,l){return this.segmentIndex<s?-1:this.segmentIndex>s?1:this.dist<l?-1:this.dist>l?1:0},Rn.prototype.interfaces_=function(){return[Q]},Rn.prototype.getClass=function(){return Rn};var xs=function(){this._nodeMap=new Re,this.edge=null,this.edge=arguments[0]};xs.prototype.print=function(s){s.println("Intersections:");for(var l=this.iterator();l.hasNext();)l.next().print(s)},xs.prototype.iterator=function(){return this._nodeMap.values().iterator()},xs.prototype.addSplitEdges=function(s){this.addEndpoints();for(var l=this.iterator(),d=l.next();l.hasNext();){var p=l.next(),y=this.createSplitEdge(d,p);s.add(y),d=p}},xs.prototype.addEndpoints=function(){var s=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[s],s,0)},xs.prototype.createSplitEdge=function(s,l){var d=l.segmentIndex-s.segmentIndex+2,y=l.dist>0||!l.coord.equals2D(this.edge.pts[l.segmentIndex]);y||d--;var S=new Array(d).fill(null),N=0;S[N++]=new W(s.coord);for(var te=s.segmentIndex+1;te<=l.segmentIndex;te++)S[N++]=this.edge.pts[te];return y&&(S[N]=l.coord),new cs(S,new Bn(this.edge._label))},xs.prototype.add=function(s,l,d){var p=new Rn(s,l,d),y=this._nodeMap.get(p);return null!==y?y:(this._nodeMap.put(p,p),p)},xs.prototype.isIntersection=function(s){for(var l=this.iterator();l.hasNext();)if(l.next().coord.equals(s))return!0;return!1},xs.prototype.interfaces_=function(){return[]},xs.prototype.getClass=function(){return xs};var Es=function(){};Es.prototype.getChainStartIndices=function(s){var l=0,d=new bt;d.add(new Se(l));do{var p=this.findChainEnd(s,l);d.add(new Se(p)),l=p}while(l<s.length-1);return Es.toIntArray(d)},Es.prototype.findChainEnd=function(s,l){for(var d=M.quadrant(s[l],s[l+1]),p=l+1;p<s.length&&M.quadrant(s[p-1],s[p])===d;)p++;return p-1},Es.prototype.interfaces_=function(){return[]},Es.prototype.getClass=function(){return Es},Es.toIntArray=function(s){for(var l=new Array(s.size()).fill(null),d=0;d<l.length;d++)l[d]=s.get(d).intValue();return l};var Bs=function(){this.e=null,this.pts=null,this.startIndex=null,this.env1=new vt,this.env2=new vt;var s=arguments[0];this.e=s,this.pts=s.getCoordinates();var l=new Es;this.startIndex=l.getChainStartIndices(this.pts)};Bs.prototype.getCoordinates=function(){return this.pts},Bs.prototype.getMaxX=function(s){var l=this.pts[this.startIndex[s]].x,d=this.pts[this.startIndex[s+1]].x;return l>d?l:d},Bs.prototype.getMinX=function(s){var l=this.pts[this.startIndex[s]].x,d=this.pts[this.startIndex[s+1]].x;return l<d?l:d},Bs.prototype.computeIntersectsForChain=function(){if(4===arguments.length){var s=arguments[0],l=arguments[1],d=arguments[2];this.computeIntersectsForChain(this.startIndex[s],this.startIndex[s+1],l,l.startIndex[d],l.startIndex[d+1],arguments[3])}else if(6===arguments.length){var y=arguments[0],S=arguments[1],N=arguments[2],te=arguments[3],xe=arguments[4],je=arguments[5],ot=this.pts[y],lt=this.pts[S],Tt=N.pts[te],At=N.pts[xe];if(S-y==1&&xe-te==1)return je.addIntersections(this.e,y,N.e,te),null;if(this.env1.init(ot,lt),this.env2.init(Tt,At),!this.env1.intersects(this.env2))return null;var Xt=Math.trunc((y+S)/2),fn=Math.trunc((te+xe)/2);y<Xt&&(te<fn&&this.computeIntersectsForChain(y,Xt,N,te,fn,je),fn<xe&&this.computeIntersectsForChain(y,Xt,N,fn,xe,je)),Xt<S&&(te<fn&&this.computeIntersectsForChain(Xt,S,N,te,fn,je),fn<xe&&this.computeIntersectsForChain(Xt,S,N,fn,xe,je))}},Bs.prototype.getStartIndexes=function(){return this.startIndex},Bs.prototype.computeIntersects=function(s,l){for(var d=0;d<this.startIndex.length-1;d++)for(var p=0;p<s.startIndex.length-1;p++)this.computeIntersectsForChain(d,s,p,l)},Bs.prototype.interfaces_=function(){return[]},Bs.prototype.getClass=function(){return Bs};var ji=function s(){this._depth=Array(2).fill().map(function(){return Array(3)});for(var l=0;l<2;l++)for(var d=0;d<3;d++)this._depth[l][d]=s.NULL_VALUE},Da={NULL_VALUE:{configurable:!0}};ji.prototype.getDepth=function(s,l){return this._depth[s][l]},ji.prototype.setDepth=function(s,l,d){this._depth[s][l]=d},ji.prototype.isNull=function(){if(0===arguments.length){for(var s=0;s<2;s++)for(var l=0;l<3;l++)if(this._depth[s][l]!==ji.NULL_VALUE)return!1;return!0}return 1===arguments.length?this._depth[arguments[0]][1]===ji.NULL_VALUE:2===arguments.length?this._depth[arguments[0]][arguments[1]]===ji.NULL_VALUE:void 0},ji.prototype.normalize=function(){for(var s=0;s<2;s++)if(!this.isNull(s)){var l=this._depth[s][1];this._depth[s][2]<l&&(l=this._depth[s][2]),l<0&&(l=0);for(var d=1;d<3;d++){var p=0;this._depth[s][d]>l&&(p=1),this._depth[s][d]=p}}},ji.prototype.getDelta=function(s){return this._depth[s][st.RIGHT]-this._depth[s][st.LEFT]},ji.prototype.getLocation=function(s,l){return this._depth[s][l]<=0?de.EXTERIOR:de.INTERIOR},ji.prototype.toString=function(){return"A: "+this._depth[0][1]+","+this._depth[0][2]+" B: "+this._depth[1][1]+","+this._depth[1][2]},ji.prototype.add=function(){if(1===arguments.length)for(var s=arguments[0],l=0;l<2;l++)for(var d=1;d<3;d++){var p=s.getLocation(l,d);p!==de.EXTERIOR&&p!==de.INTERIOR||(this.isNull(l,d)?this._depth[l][d]=ji.depthAtLocation(p):this._depth[l][d]+=ji.depthAtLocation(p))}else 3===arguments.length&&arguments[2]===de.INTERIOR&&this._depth[arguments[0]][arguments[1]]++},ji.prototype.interfaces_=function(){return[]},ji.prototype.getClass=function(){return ji},ji.depthAtLocation=function(s){return s===de.EXTERIOR?0:s===de.INTERIOR?1:ji.NULL_VALUE},Da.NULL_VALUE.get=function(){return-1},Object.defineProperties(ji,Da);var cs=function(s){function l(){if(s.call(this),this.pts=null,this._env=null,this.eiList=new xs(this),this._name=null,this._mce=null,this._isIsolated=!0,this._depth=new ji,this._depthDelta=0,1===arguments.length)l.call(this,arguments[0],null);else if(2===arguments.length){var y=arguments[1];this.pts=arguments[0],this._label=y}}return s&&(l.__proto__=s),(l.prototype=Object.create(s&&s.prototype)).constructor=l,l.prototype.getDepth=function(){return this._depth},l.prototype.getCollapsedEdge=function(){var d=new Array(2).fill(null);return d[0]=this.pts[0],d[1]=this.pts[1],new l(d,Bn.toLineLabel(this._label))},l.prototype.isIsolated=function(){return this._isIsolated},l.prototype.getCoordinates=function(){return this.pts},l.prototype.setIsolated=function(d){this._isIsolated=d},l.prototype.setName=function(d){this._name=d},l.prototype.equals=function(d){if(!(d instanceof l))return!1;var p=d;if(this.pts.length!==p.pts.length)return!1;for(var y=!0,S=!0,N=this.pts.length,te=0;te<this.pts.length;te++)if(this.pts[te].equals2D(p.pts[te])||(y=!1),this.pts[te].equals2D(p.pts[--N])||(S=!1),!y&&!S)return!1;return!0},l.prototype.getCoordinate=function(){return 0===arguments.length?this.pts.length>0?this.pts[0]:null:1===arguments.length?this.pts[arguments[0]]:void 0},l.prototype.print=function(d){d.print("edge "+this._name+": "),d.print("LINESTRING (");for(var p=0;p<this.pts.length;p++)p>0&&d.print(","),d.print(this.pts[p].x+" "+this.pts[p].y);d.print(")  "+this._label+" "+this._depthDelta)},l.prototype.computeIM=function(d){l.updateIM(this._label,d)},l.prototype.isCollapsed=function(){return!!this._label.isArea()&&3===this.pts.length&&!!this.pts[0].equals(this.pts[2])},l.prototype.isClosed=function(){return this.pts[0].equals(this.pts[this.pts.length-1])},l.prototype.getMaximumSegmentIndex=function(){return this.pts.length-1},l.prototype.getDepthDelta=function(){return this._depthDelta},l.prototype.getNumPoints=function(){return this.pts.length},l.prototype.printReverse=function(d){d.print("edge "+this._name+": ");for(var p=this.pts.length-1;p>=0;p--)d.print(this.pts[p]+" ");d.println("")},l.prototype.getMonotoneChainEdge=function(){return null===this._mce&&(this._mce=new Bs(this)),this._mce},l.prototype.getEnvelope=function(){if(null===this._env){this._env=new vt;for(var d=0;d<this.pts.length;d++)this._env.expandToInclude(this.pts[d])}return this._env},l.prototype.addIntersection=function(d,p,y,S){var N=new W(d.getIntersection(S)),te=p,xe=d.getEdgeDistance(y,S),je=te+1;je<this.pts.length&&N.equals2D(this.pts[je])&&(te=je,xe=0),this.eiList.add(N,te,xe)},l.prototype.toString=function(){var d=new be;d.append("edge "+this._name+": "),d.append("LINESTRING (");for(var p=0;p<this.pts.length;p++)p>0&&d.append(","),d.append(this.pts[p].x+" "+this.pts[p].y);return d.append(")  "+this._label+" "+this._depthDelta),d.toString()},l.prototype.isPointwiseEqual=function(d){if(this.pts.length!==d.pts.length)return!1;for(var p=0;p<this.pts.length;p++)if(!this.pts[p].equals2D(d.pts[p]))return!1;return!0},l.prototype.setDepthDelta=function(d){this._depthDelta=d},l.prototype.getEdgeIntersectionList=function(){return this.eiList},l.prototype.addIntersections=function(d,p,y){for(var S=0;S<d.getIntersectionNum();S++)this.addIntersection(d,p,y,S)},l.prototype.interfaces_=function(){return[]},l.prototype.getClass=function(){return l},l.updateIM=function(){if(2!==arguments.length)return s.prototype.updateIM.apply(this,arguments);var d=arguments[0],p=arguments[1];p.setAtLeastIfValid(d.getLocation(0,st.ON),d.getLocation(1,st.ON),1),d.isArea()&&(p.setAtLeastIfValid(d.getLocation(0,st.LEFT),d.getLocation(1,st.LEFT),2),p.setAtLeastIfValid(d.getLocation(0,st.RIGHT),d.getLocation(1,st.RIGHT),2))},l}(_n),io=function(s){this._workingPrecisionModel=null,this._workingNoder=null,this._geomFact=null,this._graph=null,this._edgeList=new ns,this._bufParams=s||null};io.prototype.setWorkingPrecisionModel=function(s){this._workingPrecisionModel=s},io.prototype.insertUniqueEdge=function(s){var l=this._edgeList.findEqualEdge(s);if(null!==l){var d=l.getLabel(),p=s.getLabel();l.isPointwiseEqual(s)||(p=new Bn(s.getLabel())).flip(),d.merge(p);var y=io.depthDelta(p),S=l.getDepthDelta()+y;l.setDepthDelta(S)}else this._edgeList.add(s),s.setDepthDelta(io.depthDelta(s.getLabel()))},io.prototype.buildSubgraphs=function(s,l){for(var d=new bt,p=s.iterator();p.hasNext();){var y=p.next(),S=y.getRightmostCoordinate(),N=new Ri(d).getDepth(S);y.computeDepth(N),y.findResultEdges(),d.add(y),l.add(y.getDirectedEdges(),y.getNodes())}},io.prototype.createSubgraphs=function(s){for(var l=new bt,d=s.getNodes().iterator();d.hasNext();){var p=d.next();if(!p.isVisited()){var y=new Vi;y.create(p),l.add(y)}}return Ot.sort(l,Ot.reverseOrder()),l},io.prototype.createEmptyResultGeometry=function(){return this._geomFact.createPolygon()},io.prototype.getNoder=function(s){if(null!==this._workingNoder)return this._workingNoder;var l=new ci,d=new pe;return d.setPrecisionModel(s),l.setSegmentIntersector(new Hi(d)),l},io.prototype.buffer=function(s,l){var d=this._workingPrecisionModel;null===d&&(d=s.getPrecisionModel()),this._geomFact=s.getFactory();var p=new mo(d,this._bufParams),y=new Mt(s,l,p).getCurves();if(y.size()<=0)return this.createEmptyResultGeometry();this.computeNodedEdges(y,d),this._graph=new Pe(new ea),this._graph.addEdges(this._edgeList.getEdges());var S=this.createSubgraphs(this._graph),N=new Te(this._geomFact);this.buildSubgraphs(S,N);var te=N.getPolygons();return te.size()<=0?this.createEmptyResultGeometry():this._geomFact.buildGeometry(te)},io.prototype.computeNodedEdges=function(s,l){var d=this.getNoder(l);d.computeNodes(s);for(var p=d.getNodedSubstrings().iterator();p.hasNext();){var y=p.next(),S=y.getCoordinates();if(2!==S.length||!S[0].equals2D(S[1])){var N=y.getData(),te=new cs(y.getCoordinates(),new Bn(N));this.insertUniqueEdge(te)}}},io.prototype.setNoder=function(s){this._workingNoder=s},io.prototype.interfaces_=function(){return[]},io.prototype.getClass=function(){return io},io.depthDelta=function(s){var l=s.getLocation(0,st.LEFT),d=s.getLocation(0,st.RIGHT);return l===de.INTERIOR&&d===de.EXTERIOR?1:l===de.EXTERIOR&&d===de.INTERIOR?-1:0},io.convertSegStrings=function(s){for(var l=new nn,d=new bt;s.hasNext();){var p=s.next(),y=l.createLineString(p.getCoordinates());d.add(y)}return l.buildGeometry(d)};var Sa=function(){if(this._noder=null,this._scaleFactor=null,this._offsetX=null,this._offsetY=null,this._isScaled=!1,2===arguments.length){var l=arguments[1];this._noder=arguments[0],this._scaleFactor=l,this._offsetX=0,this._offsetY=0,this._isScaled=!this.isIntegerPrecision()}else if(4===arguments.length){var p=arguments[1],y=arguments[2],S=arguments[3];this._noder=arguments[0],this._scaleFactor=p,this._offsetX=y,this._offsetY=S,this._isScaled=!this.isIntegerPrecision()}};Sa.prototype.rescale=function(){if(We(arguments[0],Xn))for(var s=arguments[0].iterator();s.hasNext();){var l=s.next();this.rescale(l.getCoordinates())}else if(arguments[0]instanceof Array){for(var d=arguments[0],p=0;p<d.length;p++)d[p].x=d[p].x/this._scaleFactor+this._offsetX,d[p].y=d[p].y/this._scaleFactor+this._offsetY;2===d.length&&d[0].equals2D(d[1])&&Ft.out.println(d)}},Sa.prototype.scale=function(){if(We(arguments[0],Xn)){for(var s=arguments[0],l=new bt,d=s.iterator();d.hasNext();){var p=d.next();l.add(new mi(this.scale(p.getCoordinates()),p.getData()))}return l}if(arguments[0]instanceof Array){for(var y=arguments[0],S=new Array(y.length).fill(null),N=0;N<y.length;N++)S[N]=new W(Math.round((y[N].x-this._offsetX)*this._scaleFactor),Math.round((y[N].y-this._offsetY)*this._scaleFactor),y[N].z);return sn.removeRepeatedPoints(S)}},Sa.prototype.isIntegerPrecision=function(){return 1===this._scaleFactor},Sa.prototype.getNodedSubstrings=function(){var s=this._noder.getNodedSubstrings();return this._isScaled&&this.rescale(s),s},Sa.prototype.computeNodes=function(s){var l=s;this._isScaled&&(l=this.scale(s)),this._noder.computeNodes(l)},Sa.prototype.interfaces_=function(){return[Ea]},Sa.prototype.getClass=function(){return Sa};var rs=function(){this._li=new pe,this._segStrings=null,this._segStrings=arguments[0]},cc={fact:{configurable:!0}};rs.prototype.checkEndPtVertexIntersections=function(){if(0===arguments.length)for(var s=this._segStrings.iterator();s.hasNext();){var l=s.next().getCoordinates();this.checkEndPtVertexIntersections(l[0],this._segStrings),this.checkEndPtVertexIntersections(l[l.length-1],this._segStrings)}else if(2===arguments.length)for(var d=arguments[0],p=arguments[1].iterator();p.hasNext();)for(var y=p.next().getCoordinates(),S=1;S<y.length-1;S++)if(y[S].equals(d))throw new H("found endpt/interior pt intersection at index "+S+" :pt "+d)},rs.prototype.checkInteriorIntersections=function(){if(0===arguments.length)for(var s=this._segStrings.iterator();s.hasNext();)for(var l=s.next(),d=this._segStrings.iterator();d.hasNext();){var p=d.next();this.checkInteriorIntersections(l,p)}else if(2===arguments.length)for(var y=arguments[0],S=arguments[1],N=y.getCoordinates(),te=S.getCoordinates(),xe=0;xe<N.length-1;xe++)for(var je=0;je<te.length-1;je++)this.checkInteriorIntersections(y,xe,S,je);else if(4===arguments.length){var ot=arguments[0],lt=arguments[1],Tt=arguments[2],At=arguments[3];if(ot===Tt&&lt===At)return null;var Xt=ot.getCoordinates()[lt],fn=ot.getCoordinates()[lt+1],ti=Tt.getCoordinates()[At],go=Tt.getCoordinates()[At+1];if(this._li.computeIntersection(Xt,fn,ti,go),this._li.hasIntersection()&&(this._li.isProper()||this.hasInteriorIntersection(this._li,Xt,fn)||this.hasInteriorIntersection(this._li,ti,go)))throw new H("found non-noded intersection at "+Xt+"-"+fn+" and "+ti+"-"+go)}},rs.prototype.checkValid=function(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()},rs.prototype.checkCollapses=function(){if(0===arguments.length)for(var s=this._segStrings.iterator();s.hasNext();){var l=s.next();this.checkCollapses(l)}else if(1===arguments.length)for(var d=arguments[0].getCoordinates(),p=0;p<d.length-2;p++)this.checkCollapse(d[p],d[p+1],d[p+2])},rs.prototype.hasInteriorIntersection=function(s,l,d){for(var p=0;p<s.getIntersectionNum();p++){var y=s.getIntersection(p);if(!y.equals(l)&&!y.equals(d))return!0}return!1},rs.prototype.checkCollapse=function(s,l,d){if(s.equals(d))throw new H("found non-noded collapse at "+rs.fact.createLineString([s,l,d]))},rs.prototype.interfaces_=function(){return[]},rs.prototype.getClass=function(){return rs},cc.fact.get=function(){return new nn},Object.defineProperties(rs,cc);var Ii=function(){this._li=null,this._pt=null,this._originalPt=null,this._ptScaled=null,this._p0Scaled=null,this._p1Scaled=null,this._scaleFactor=null,this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,this._corner=new Array(4).fill(null),this._safeEnv=null;var s=arguments[0],l=arguments[1],d=arguments[2];if(this._originalPt=s,this._pt=s,this._scaleFactor=l,this._li=d,l<=0)throw new R("Scale factor must be non-zero");1!==l&&(this._pt=new W(this.scale(s.x),this.scale(s.y)),this._p0Scaled=new W,this._p1Scaled=new W),this.initCorners(this._pt)},Bl={SAFE_ENV_EXPANSION_FACTOR:{configurable:!0}};Ii.prototype.intersectsScaled=function(s,l){var d=Math.min(s.x,l.x),p=Math.max(s.x,l.x),y=Math.min(s.y,l.y),S=Math.max(s.y,l.y),N=this._maxx<d||this._minx>p||this._maxy<y||this._miny>S;if(N)return!1;var te=this.intersectsToleranceSquare(s,l);return T.isTrue(!(N&&te),"Found bad envelope test"),te},Ii.prototype.initCorners=function(s){this._minx=s.x-.5,this._maxx=s.x+.5,this._miny=s.y-.5,this._maxy=s.y+.5,this._corner[0]=new W(this._maxx,this._maxy),this._corner[1]=new W(this._minx,this._maxy),this._corner[2]=new W(this._minx,this._miny),this._corner[3]=new W(this._maxx,this._miny)},Ii.prototype.intersects=function(s,l){return 1===this._scaleFactor?this.intersectsScaled(s,l):(this.copyScaled(s,this._p0Scaled),this.copyScaled(l,this._p1Scaled),this.intersectsScaled(this._p0Scaled,this._p1Scaled))},Ii.prototype.scale=function(s){return Math.round(s*this._scaleFactor)},Ii.prototype.getCoordinate=function(){return this._originalPt},Ii.prototype.copyScaled=function(s,l){l.x=this.scale(s.x),l.y=this.scale(s.y)},Ii.prototype.getSafeEnvelope=function(){if(null===this._safeEnv){var s=Ii.SAFE_ENV_EXPANSION_FACTOR/this._scaleFactor;this._safeEnv=new vt(this._originalPt.x-s,this._originalPt.x+s,this._originalPt.y-s,this._originalPt.y+s)}return this._safeEnv},Ii.prototype.intersectsPixelClosure=function(s,l){return this._li.computeIntersection(s,l,this._corner[0],this._corner[1]),!!(this._li.hasIntersection()||(this._li.computeIntersection(s,l,this._corner[1],this._corner[2]),this._li.hasIntersection()||(this._li.computeIntersection(s,l,this._corner[2],this._corner[3]),this._li.hasIntersection()||(this._li.computeIntersection(s,l,this._corner[3],this._corner[0]),this._li.hasIntersection()))))},Ii.prototype.intersectsToleranceSquare=function(s,l){var d=!1,p=!1;return this._li.computeIntersection(s,l,this._corner[0],this._corner[1]),!!(this._li.isProper()||(this._li.computeIntersection(s,l,this._corner[1],this._corner[2]),this._li.isProper()||(this._li.hasIntersection()&&(d=!0),this._li.computeIntersection(s,l,this._corner[2],this._corner[3]),this._li.isProper()||(this._li.hasIntersection()&&(p=!0),this._li.computeIntersection(s,l,this._corner[3],this._corner[0]),this._li.isProper()||d&&p||s.equals(this._pt)||l.equals(this._pt)))))},Ii.prototype.addSnappedNode=function(s,l){var d=s.getCoordinate(l),p=s.getCoordinate(l+1);return!!this.intersects(d,p)&&(s.addIntersection(this.getCoordinate(),l),!0)},Ii.prototype.interfaces_=function(){return[]},Ii.prototype.getClass=function(){return Ii},Bl.SAFE_ENV_EXPANSION_FACTOR.get=function(){return.75},Object.defineProperties(Ii,Bl);var ca=function(){this.tempEnv1=new vt,this.selectedSegment=new qt};ca.prototype.select=function(){1!==arguments.length&&2===arguments.length&&(arguments[0].getLineSegment(arguments[1],this.selectedSegment),this.select(this.selectedSegment))},ca.prototype.interfaces_=function(){return[]},ca.prototype.getClass=function(){return ca};var El=function(){this._index=null,this._index=arguments[0]},La={HotPixelSnapAction:{configurable:!0}};El.prototype.snap=function(){if(1===arguments.length)return this.snap(arguments[0],null,-1);if(3===arguments.length){var l=arguments[0],d=arguments[1],p=arguments[2],y=l.getSafeEnvelope(),S=new zl(l,d,p);return this._index.query(y,{interfaces_:function(){return[ut]},visitItem:function(N){N.select(y,S)}}),S.isNodeAdded()}},El.prototype.interfaces_=function(){return[]},El.prototype.getClass=function(){return El},La.HotPixelSnapAction.get=function(){return zl},Object.defineProperties(El,La);var zl=function(s){function l(){s.call(this),this._hotPixel=null,this._parentEdge=null,this._hotPixelVertexIndex=null,this._isNodeAdded=!1;var p=arguments[1],y=arguments[2];this._hotPixel=arguments[0],this._parentEdge=p,this._hotPixelVertexIndex=y}return s&&(l.__proto__=s),(l.prototype=Object.create(s&&s.prototype)).constructor=l,l.prototype.isNodeAdded=function(){return this._isNodeAdded},l.prototype.select=function(){if(2!==arguments.length)return s.prototype.select.apply(this,arguments);var p=arguments[1],y=arguments[0].getContext();if(null!==this._parentEdge&&y===this._parentEdge&&p===this._hotPixelVertexIndex)return null;this._isNodeAdded=this._hotPixel.addSnappedNode(y,p)},l.prototype.interfaces_=function(){return[]},l.prototype.getClass=function(){return l},l}(ca),ul=function(){this._li=null,this._interiorIntersections=null,this._li=arguments[0],this._interiorIntersections=new bt};ul.prototype.processIntersections=function(s,l,d,p){if(s===d&&l===p)return null;var y=s.getCoordinates()[l],S=s.getCoordinates()[l+1],N=d.getCoordinates()[p],te=d.getCoordinates()[p+1];if(this._li.computeIntersection(y,S,N,te),this._li.hasIntersection()&&this._li.isInteriorIntersection()){for(var xe=0;xe<this._li.getIntersectionNum();xe++)this._interiorIntersections.add(this._li.getIntersection(xe));s.addIntersections(this._li,l,0),d.addIntersections(this._li,p,1)}},ul.prototype.isDone=function(){return!1},ul.prototype.getInteriorIntersections=function(){return this._interiorIntersections},ul.prototype.interfaces_=function(){return[bi]},ul.prototype.getClass=function(){return ul};var zs=function(){this._pm=null,this._li=null,this._scaleFactor=null,this._noder=null,this._pointSnapper=null,this._nodedSegStrings=null;var s=arguments[0];this._pm=s,this._li=new pe,this._li.setPrecisionModel(s),this._scaleFactor=s.getScale()};zs.prototype.checkCorrectness=function(s){var l=mi.getNodedSubstrings(s),d=new rs(l);try{d.checkValid()}catch(p){if(!(p instanceof Et))throw p;p.printStackTrace()}},zs.prototype.getNodedSubstrings=function(){return mi.getNodedSubstrings(this._nodedSegStrings)},zs.prototype.snapRound=function(s,l){var d=this.findInteriorIntersections(s,l);this.computeIntersectionSnaps(d),this.computeVertexSnaps(s)},zs.prototype.findInteriorIntersections=function(s,l){var d=new ul(l);return this._noder.setSegmentIntersector(d),this._noder.computeNodes(s),d.getInteriorIntersections()},zs.prototype.computeVertexSnaps=function(){if(We(arguments[0],Xn))for(var s=arguments[0].iterator();s.hasNext();){var l=s.next();this.computeVertexSnaps(l)}else if(arguments[0]instanceof mi)for(var d=arguments[0],p=d.getCoordinates(),y=0;y<p.length;y++){var S=new Ii(p[y],this._scaleFactor,this._li);this._pointSnapper.snap(S,d,y)&&d.addIntersection(p[y],y)}},zs.prototype.computeNodes=function(s){this._nodedSegStrings=s,this._noder=new ci,this._pointSnapper=new El(this._noder.getIndex()),this.snapRound(s,this._li)},zs.prototype.computeIntersectionSnaps=function(s){for(var l=s.iterator();l.hasNext();){var d=l.next(),p=new Ii(d,this._scaleFactor,this._li);this._pointSnapper.snap(p)}},zs.prototype.interfaces_=function(){return[Ea]},zs.prototype.getClass=function(){return zs};var Kr=function(){if(this._argGeom=null,this._distance=null,this._bufParams=new hr,this._resultGeometry=null,this._saveException=null,1===arguments.length)this._argGeom=arguments[0];else if(2===arguments.length){var d=arguments[1];this._argGeom=arguments[0],this._bufParams=d}},cl={CAP_ROUND:{configurable:!0},CAP_BUTT:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},MAX_PRECISION_DIGITS:{configurable:!0}};Kr.prototype.bufferFixedPrecision=function(s){var l=new Sa(new zs(new zt(1)),s.getScale()),d=new io(this._bufParams);d.setWorkingPrecisionModel(s),d.setNoder(l),this._resultGeometry=d.buffer(this._argGeom,this._distance)},Kr.prototype.bufferReducedPrecision=function(){var s=this;if(0===arguments.length){for(var l=Kr.MAX_PRECISION_DIGITS;l>=0;l--){try{s.bufferReducedPrecision(l)}catch(S){if(!(S instanceof es))throw S;s._saveException=S}if(null!==s._resultGeometry)return null}throw this._saveException}if(1===arguments.length){var p=Kr.precisionScaleFactor(this._argGeom,this._distance,arguments[0]),y=new zt(p);this.bufferFixedPrecision(y)}},Kr.prototype.computeGeometry=function(){if(this.bufferOriginalPrecision(),null!==this._resultGeometry)return null;var s=this._argGeom.getFactory().getPrecisionModel();s.getType()===zt.FIXED?this.bufferFixedPrecision(s):this.bufferReducedPrecision()},Kr.prototype.setQuadrantSegments=function(s){this._bufParams.setQuadrantSegments(s)},Kr.prototype.bufferOriginalPrecision=function(){try{var s=new io(this._bufParams);this._resultGeometry=s.buffer(this._argGeom,this._distance)}catch(l){if(!(l instanceof H))throw l;this._saveException=l}},Kr.prototype.getResultGeometry=function(s){return this._distance=s,this.computeGeometry(),this._resultGeometry},Kr.prototype.setEndCapStyle=function(s){this._bufParams.setEndCapStyle(s)},Kr.prototype.interfaces_=function(){return[]},Kr.prototype.getClass=function(){return Kr},Kr.bufferOp=function(){if(2===arguments.length){var l=arguments[1];return new Kr(arguments[0]).getResultGeometry(l)}if(3===arguments.length){if(Number.isInteger(arguments[2])&&arguments[0]instanceof pt&&"number"==typeof arguments[1]){var p=arguments[1],y=arguments[2],S=new Kr(arguments[0]);return S.setQuadrantSegments(y),S.getResultGeometry(p)}if(arguments[2]instanceof hr&&arguments[0]instanceof pt&&"number"==typeof arguments[1]){var te=arguments[1];return new Kr(arguments[0],arguments[2]).getResultGeometry(te)}}else if(4===arguments.length){var ot=arguments[1],lt=arguments[2],Tt=arguments[3],At=new Kr(arguments[0]);return At.setQuadrantSegments(lt),At.setEndCapStyle(Tt),At.getResultGeometry(ot)}},Kr.precisionScaleFactor=function(s,l,d){var p=s.getEnvelopeInternal(),y=we.max(Math.abs(p.getMaxX()),Math.abs(p.getMaxY()),Math.abs(p.getMinX()),Math.abs(p.getMinY()))+2*(l>0?l:0),S=d-Math.trunc(Math.log(y)/Math.log(10)+1);return Math.pow(10,S)},cl.CAP_ROUND.get=function(){return hr.CAP_ROUND},cl.CAP_BUTT.get=function(){return hr.CAP_FLAT},cl.CAP_FLAT.get=function(){return hr.CAP_FLAT},cl.CAP_SQUARE.get=function(){return hr.CAP_SQUARE},cl.MAX_PRECISION_DIGITS.get=function(){return 12},Object.defineProperties(Kr,cl);var oo=function(){this._pt=[new W,new W],this._distance=V.NaN,this._isNull=!0};oo.prototype.getCoordinates=function(){return this._pt},oo.prototype.getCoordinate=function(s){return this._pt[s]},oo.prototype.setMinimum=function(){if(1===arguments.length){var s=arguments[0];this.setMinimum(s._pt[0],s._pt[1])}else if(2===arguments.length){var l=arguments[0],d=arguments[1];if(this._isNull)return this.initialize(l,d),null;var p=l.distance(d);p<this._distance&&this.initialize(l,d,p)}},oo.prototype.initialize=function(){if(0===arguments.length)this._isNull=!0;else if(2===arguments.length){var s=arguments[0],l=arguments[1];this._pt[0].setCoordinate(s),this._pt[1].setCoordinate(l),this._distance=s.distance(l),this._isNull=!1}else if(3===arguments.length){var p=arguments[1],y=arguments[2];this._pt[0].setCoordinate(arguments[0]),this._pt[1].setCoordinate(p),this._distance=y,this._isNull=!1}},oo.prototype.getDistance=function(){return this._distance},oo.prototype.setMaximum=function(){if(1===arguments.length){var s=arguments[0];this.setMaximum(s._pt[0],s._pt[1])}else if(2===arguments.length){var l=arguments[0],d=arguments[1];if(this._isNull)return this.initialize(l,d),null;var p=l.distance(d);p>this._distance&&this.initialize(l,d,p)}},oo.prototype.interfaces_=function(){return[]},oo.prototype.getClass=function(){return oo};var is=function(){};is.prototype.interfaces_=function(){return[]},is.prototype.getClass=function(){return is},is.computeDistance=function(){if(arguments[2]instanceof oo&&arguments[0]instanceof Kn&&arguments[1]instanceof W)for(var l=arguments[1],d=arguments[2],p=arguments[0].getCoordinates(),y=new qt,S=0;S<p.length-1;S++){y.setCoordinates(p[S],p[S+1]);var N=y.closestPoint(l);d.setMinimum(N,l)}else if(arguments[2]instanceof oo&&arguments[0]instanceof vi&&arguments[1]instanceof W){var te=arguments[0],xe=arguments[1],je=arguments[2];is.computeDistance(te.getExteriorRing(),xe,je);for(var ot=0;ot<te.getNumInteriorRing();ot++)is.computeDistance(te.getInteriorRingN(ot),xe,je)}else if(arguments[2]instanceof oo&&arguments[0]instanceof pt&&arguments[1]instanceof W){var lt=arguments[0],Tt=arguments[1],At=arguments[2];if(lt instanceof Kn)is.computeDistance(lt,Tt,At);else if(lt instanceof vi)is.computeDistance(lt,Tt,At);else if(lt instanceof Di)for(var Xt=lt,fn=0;fn<Xt.getNumGeometries();fn++){var ti=Xt.getGeometryN(fn);is.computeDistance(ti,Tt,At)}else At.setMinimum(lt.getCoordinate(),Tt)}else if(arguments[2]instanceof oo&&arguments[0]instanceof qt&&arguments[1]instanceof W){var hs=arguments[1],fs=arguments[2],fl=arguments[0].closestPoint(hs);fs.setMinimum(fl,hs)}};var da=function(s){this._maxPtDist=new oo,this._inputGeom=s||null},hu={MaxPointDistanceFilter:{configurable:!0},MaxMidpointDistanceFilter:{configurable:!0}};da.prototype.computeMaxMidpointDistance=function(s){var l=new Ia(this._inputGeom);s.apply(l),this._maxPtDist.setMaximum(l.getMaxPointDistance())},da.prototype.computeMaxVertexDistance=function(s){var l=new dl(this._inputGeom);s.apply(l),this._maxPtDist.setMaximum(l.getMaxPointDistance())},da.prototype.findDistance=function(s){return this.computeMaxVertexDistance(s),this.computeMaxMidpointDistance(s),this._maxPtDist.getDistance()},da.prototype.getDistancePoints=function(){return this._maxPtDist},da.prototype.interfaces_=function(){return[]},da.prototype.getClass=function(){return da},hu.MaxPointDistanceFilter.get=function(){return dl},hu.MaxMidpointDistanceFilter.get=function(){return Ia},Object.defineProperties(da,hu);var dl=function(s){this._maxPtDist=new oo,this._minPtDist=new oo,this._geom=s||null};dl.prototype.filter=function(s){this._minPtDist.initialize(),is.computeDistance(this._geom,s,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},dl.prototype.getMaxPointDistance=function(){return this._maxPtDist},dl.prototype.interfaces_=function(){return[Bt]},dl.prototype.getClass=function(){return dl};var Ia=function(s){this._maxPtDist=new oo,this._minPtDist=new oo,this._geom=s||null};Ia.prototype.filter=function(s,l){if(0===l)return null;var d=s.getCoordinate(l-1),p=s.getCoordinate(l),y=new W((d.x+p.x)/2,(d.y+p.y)/2);this._minPtDist.initialize(),is.computeDistance(this._geom,y,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},Ia.prototype.isDone=function(){return!1},Ia.prototype.isGeometryChanged=function(){return!1},Ia.prototype.getMaxPointDistance=function(){return this._maxPtDist},Ia.prototype.interfaces_=function(){return[bo]},Ia.prototype.getClass=function(){return Ia};var Vs=function(s){this._comps=s||null};Vs.prototype.filter=function(s){s instanceof vi&&this._comps.add(s)},Vs.prototype.interfaces_=function(){return[Oo]},Vs.prototype.getClass=function(){return Vs},Vs.getPolygons=function(){if(1===arguments.length)return Vs.getPolygons(arguments[0],new bt);if(2===arguments.length){var l=arguments[0],d=arguments[1];return l instanceof vi?d.add(l):l instanceof Di&&l.apply(new Vs(d)),d}};var Eo=function(){if(this._lines=null,this._isForcedToLineString=!1,1===arguments.length)this._lines=arguments[0];else if(2===arguments.length){var d=arguments[1];this._lines=arguments[0],this._isForcedToLineString=d}};Eo.prototype.filter=function(s){if(this._isForcedToLineString&&s instanceof Go){var l=s.getFactory().createLineString(s.getCoordinateSequence());return this._lines.add(l),null}s instanceof Kn&&this._lines.add(s)},Eo.prototype.setForceToLineString=function(s){this._isForcedToLineString=s},Eo.prototype.interfaces_=function(){return[Pt]},Eo.prototype.getClass=function(){return Eo},Eo.getGeometry=function(){if(1===arguments.length){var s=arguments[0];return s.getFactory().buildGeometry(Eo.getLines(s))}if(2===arguments.length){var l=arguments[0],d=arguments[1];return l.getFactory().buildGeometry(Eo.getLines(l,d))}},Eo.getLines=function(){if(1===arguments.length)return Eo.getLines(arguments[0],!1);if(2===arguments.length){if(We(arguments[0],Xn)&&We(arguments[1],Xn)){for(var d=arguments[1],p=arguments[0].iterator();p.hasNext();){var y=p.next();Eo.getLines(y,d)}return d}if(arguments[0]instanceof pt&&"boolean"==typeof arguments[1]){var S=arguments[0],N=arguments[1],te=new bt;return S.apply(new Eo(te,N)),te}if(arguments[0]instanceof pt&&We(arguments[1],Xn)){var xe=arguments[0],je=arguments[1];return xe instanceof Kn?je.add(xe):xe.apply(new Eo(je)),je}}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&We(arguments[0],Xn)&&We(arguments[1],Xn)){for(var lt=arguments[1],Tt=arguments[2],At=arguments[0].iterator();At.hasNext();){var Xt=At.next();Eo.getLines(Xt,lt,Tt)}return lt}if("boolean"==typeof arguments[2]&&arguments[0]instanceof pt&&We(arguments[1],Xn)){var ti=arguments[1];return arguments[0].apply(new Eo(ti,arguments[2])),ti}}};var Cs=function(){if(this._boundaryRule=on.OGC_SFS_BOUNDARY_RULE,this._isIn=null,this._numBoundaries=null,0!==arguments.length&&1===arguments.length){var s=arguments[0];if(null===s)throw new R("Rule must be non-null");this._boundaryRule=s}};Cs.prototype.locateInternal=function(){if(arguments[0]instanceof W&&arguments[1]instanceof vi){var s=arguments[0],l=arguments[1];if(l.isEmpty())return de.EXTERIOR;var d=l.getExteriorRing(),p=this.locateInPolygonRing(s,d);if(p===de.EXTERIOR)return de.EXTERIOR;if(p===de.BOUNDARY)return de.BOUNDARY;for(var y=0;y<l.getNumInteriorRing();y++){var S=l.getInteriorRingN(y),N=this.locateInPolygonRing(s,S);if(N===de.INTERIOR)return de.EXTERIOR;if(N===de.BOUNDARY)return de.BOUNDARY}return de.INTERIOR}if(arguments[0]instanceof W&&arguments[1]instanceof Kn){var te=arguments[0],xe=arguments[1];if(!xe.getEnvelopeInternal().intersects(te))return de.EXTERIOR;var je=xe.getCoordinates();return xe.isClosed()||!te.equals(je[0])&&!te.equals(je[je.length-1])?He.isOnLine(te,je)?de.INTERIOR:de.EXTERIOR:de.BOUNDARY}if(arguments[0]instanceof W&&arguments[1]instanceof po){var ot=arguments[0];return arguments[1].getCoordinate().equals2D(ot)?de.INTERIOR:de.EXTERIOR}},Cs.prototype.locateInPolygonRing=function(s,l){return l.getEnvelopeInternal().intersects(s)?He.locatePointInRing(s,l.getCoordinates()):de.EXTERIOR},Cs.prototype.intersects=function(s,l){return this.locate(s,l)!==de.EXTERIOR},Cs.prototype.updateLocationInfo=function(s){s===de.INTERIOR&&(this._isIn=!0),s===de.BOUNDARY&&this._numBoundaries++},Cs.prototype.computeLocation=function(s,l){if(l instanceof po&&this.updateLocationInfo(this.locateInternal(s,l)),l instanceof Kn)this.updateLocationInfo(this.locateInternal(s,l));else if(l instanceof vi)this.updateLocationInfo(this.locateInternal(s,l));else if(l instanceof Qs)for(var d=l,p=0;p<d.getNumGeometries();p++){var y=d.getGeometryN(p);this.updateLocationInfo(this.locateInternal(s,y))}else if(l instanceof Jo)for(var S=l,N=0;N<S.getNumGeometries();N++){var te=S.getGeometryN(N);this.updateLocationInfo(this.locateInternal(s,te))}else if(l instanceof Di)for(var xe=new Fs(l);xe.hasNext();){var je=xe.next();je!==l&&this.computeLocation(s,je)}},Cs.prototype.locate=function(s,l){return l.isEmpty()?de.EXTERIOR:l instanceof Kn||l instanceof vi?this.locateInternal(s,l):(this._isIn=!1,this._numBoundaries=0,this.computeLocation(s,l),this._boundaryRule.isInBoundary(this._numBoundaries)?de.BOUNDARY:this._numBoundaries>0||this._isIn?de.INTERIOR:de.EXTERIOR)},Cs.prototype.interfaces_=function(){return[]},Cs.prototype.getClass=function(){return Cs};var Dn=function s(){if(this._component=null,this._segIndex=null,this._pt=null,2===arguments.length)s.call(this,arguments[0],s.INSIDE_AREA,arguments[1]);else if(3===arguments.length){var y=arguments[1],S=arguments[2];this._component=arguments[0],this._segIndex=y,this._pt=S}},dc={INSIDE_AREA:{configurable:!0}};Dn.prototype.isInsideArea=function(){return this._segIndex===Dn.INSIDE_AREA},Dn.prototype.getCoordinate=function(){return this._pt},Dn.prototype.getGeometryComponent=function(){return this._component},Dn.prototype.getSegmentIndex=function(){return this._segIndex},Dn.prototype.interfaces_=function(){return[]},Dn.prototype.getClass=function(){return Dn},dc.INSIDE_AREA.get=function(){return-1},Object.defineProperties(Dn,dc);var Ua=function(s){this._pts=s||null};Ua.prototype.filter=function(s){s instanceof po&&this._pts.add(s)},Ua.prototype.interfaces_=function(){return[Oo]},Ua.prototype.getClass=function(){return Ua},Ua.getPoints=function(){if(1===arguments.length){var s=arguments[0];return s instanceof po?Ot.singletonList(s):Ua.getPoints(s,new bt)}if(2===arguments.length){var l=arguments[0],d=arguments[1];return l instanceof po?d.add(l):l instanceof Di&&l.apply(new Ua(d)),d}};var os=function(){this._locations=null,this._locations=arguments[0]};os.prototype.filter=function(s){(s instanceof po||s instanceof Kn||s instanceof vi)&&this._locations.add(new Dn(s,0,s.getCoordinate()))},os.prototype.interfaces_=function(){return[Oo]},os.prototype.getClass=function(){return os},os.getLocations=function(s){var l=new bt;return s.apply(new os(l)),l};var wn=function(){if(this._geom=null,this._terminateDistance=0,this._ptLocator=new Cs,this._minDistanceLocation=null,this._minDistance=V.MAX_VALUE,2===arguments.length)this._geom=[arguments[0],arguments[1]],this._terminateDistance=0;else if(3===arguments.length){var d=arguments[0],p=arguments[1],y=arguments[2];this._geom=new Array(2).fill(null),this._geom[0]=d,this._geom[1]=p,this._terminateDistance=y}};wn.prototype.computeContainmentDistance=function(){if(0===arguments.length){var s=new Array(2).fill(null);if(this.computeContainmentDistance(0,s),this._minDistance<=this._terminateDistance)return null;this.computeContainmentDistance(1,s)}else if(2===arguments.length){var l=arguments[0],d=arguments[1],p=1-l,y=Vs.getPolygons(this._geom[l]);if(y.size()>0){var S=os.getLocations(this._geom[p]);if(this.computeContainmentDistance(S,y,d),this._minDistance<=this._terminateDistance)return this._minDistanceLocation[p]=d[0],this._minDistanceLocation[l]=d[1],null}}else if(3===arguments.length)if(arguments[2]instanceof Array&&We(arguments[0],pr)&&We(arguments[1],pr)){for(var N=arguments[0],te=arguments[1],xe=arguments[2],je=0;je<N.size();je++)for(var ot=N.get(je),lt=0;lt<te.size();lt++)if(this.computeContainmentDistance(ot,te.get(lt),xe),this._minDistance<=this._terminateDistance)return null}else if(arguments[2]instanceof Array&&arguments[0]instanceof Dn&&arguments[1]instanceof vi){var Tt=arguments[0],At=arguments[1],Xt=arguments[2],fn=Tt.getCoordinate();if(de.EXTERIOR!==this._ptLocator.locate(fn,At))return this._minDistance=0,Xt[0]=Tt,Xt[1]=new Dn(At,fn),null}},wn.prototype.computeMinDistanceLinesPoints=function(s,l,d){for(var p=0;p<s.size();p++)for(var y=s.get(p),S=0;S<l.size();S++){var N=l.get(S);if(this.computeMinDistance(y,N,d),this._minDistance<=this._terminateDistance)return null}},wn.prototype.computeFacetDistance=function(){var s=new Array(2).fill(null),l=Eo.getLines(this._geom[0]),d=Eo.getLines(this._geom[1]),p=Ua.getPoints(this._geom[0]),y=Ua.getPoints(this._geom[1]);return this.computeMinDistanceLines(l,d,s),this.updateMinDistance(s,!1),this._minDistance<=this._terminateDistance?null:(s[0]=null,s[1]=null,this.computeMinDistanceLinesPoints(l,y,s),this.updateMinDistance(s,!1),this._minDistance<=this._terminateDistance?null:(s[0]=null,s[1]=null,this.computeMinDistanceLinesPoints(d,p,s),this.updateMinDistance(s,!0),this._minDistance<=this._terminateDistance?null:(s[0]=null,s[1]=null,this.computeMinDistancePoints(p,y,s),void this.updateMinDistance(s,!1))))},wn.prototype.nearestLocations=function(){return this.computeMinDistance(),this._minDistanceLocation},wn.prototype.updateMinDistance=function(s,l){if(null===s[0])return null;l?(this._minDistanceLocation[0]=s[1],this._minDistanceLocation[1]=s[0]):(this._minDistanceLocation[0]=s[0],this._minDistanceLocation[1]=s[1])},wn.prototype.nearestPoints=function(){return this.computeMinDistance(),[this._minDistanceLocation[0].getCoordinate(),this._minDistanceLocation[1].getCoordinate()]},wn.prototype.computeMinDistance=function(){if(0===arguments.length){if(null!==this._minDistanceLocation||(this._minDistanceLocation=new Array(2).fill(null),this.computeContainmentDistance(),this._minDistance<=this._terminateDistance))return null;this.computeFacetDistance()}else if(3===arguments.length)if(arguments[2]instanceof Array&&arguments[0]instanceof Kn&&arguments[1]instanceof po){var s=arguments[0],l=arguments[1],d=arguments[2];if(s.getEnvelopeInternal().distance(l.getEnvelopeInternal())>this._minDistance)return null;for(var p=s.getCoordinates(),y=l.getCoordinate(),S=0;S<p.length-1;S++){var N=He.distancePointLine(y,p[S],p[S+1]);if(N<this._minDistance){this._minDistance=N;var te=new qt(p[S],p[S+1]).closestPoint(y);d[0]=new Dn(s,S,te),d[1]=new Dn(l,0,y)}if(this._minDistance<=this._terminateDistance)return null}}else if(arguments[2]instanceof Array&&arguments[0]instanceof Kn&&arguments[1]instanceof Kn){var xe=arguments[0],je=arguments[1],ot=arguments[2];if(xe.getEnvelopeInternal().distance(je.getEnvelopeInternal())>this._minDistance)return null;for(var lt=xe.getCoordinates(),Tt=je.getCoordinates(),At=0;At<lt.length-1;At++)for(var Xt=0;Xt<Tt.length-1;Xt++){var fn=He.distanceLineLine(lt[At],lt[At+1],Tt[Xt],Tt[Xt+1]);if(fn<this._minDistance){this._minDistance=fn;var ti=new qt(lt[At],lt[At+1]),go=new qt(Tt[Xt],Tt[Xt+1]),hs=ti.closestPoints(go);ot[0]=new Dn(xe,At,hs[0]),ot[1]=new Dn(je,Xt,hs[1])}if(this._minDistance<=this._terminateDistance)return null}}},wn.prototype.computeMinDistancePoints=function(s,l,d){for(var p=0;p<s.size();p++)for(var y=s.get(p),S=0;S<l.size();S++){var N=l.get(S),te=y.getCoordinate().distance(N.getCoordinate());if(te<this._minDistance&&(this._minDistance=te,d[0]=new Dn(y,0,y.getCoordinate()),d[1]=new Dn(N,0,N.getCoordinate())),this._minDistance<=this._terminateDistance)return null}},wn.prototype.distance=function(){if(null===this._geom[0]||null===this._geom[1])throw new R("null geometries are not supported");return this._geom[0].isEmpty()||this._geom[1].isEmpty()?0:(this.computeMinDistance(),this._minDistance)},wn.prototype.computeMinDistanceLines=function(s,l,d){for(var p=0;p<s.size();p++)for(var y=s.get(p),S=0;S<l.size();S++){var N=l.get(S);if(this.computeMinDistance(y,N,d),this._minDistance<=this._terminateDistance)return null}},wn.prototype.interfaces_=function(){return[]},wn.prototype.getClass=function(){return wn},wn.distance=function(s,l){return new wn(s,l).distance()},wn.isWithinDistance=function(s,l,d){return new wn(s,l,d).distance()<=d},wn.nearestPoints=function(s,l){return new wn(s,l).nearestPoints()};var Io=function(){this._pt=[new W,new W],this._distance=V.NaN,this._isNull=!0};Io.prototype.getCoordinates=function(){return this._pt},Io.prototype.getCoordinate=function(s){return this._pt[s]},Io.prototype.setMinimum=function(){if(1===arguments.length){var s=arguments[0];this.setMinimum(s._pt[0],s._pt[1])}else if(2===arguments.length){var l=arguments[0],d=arguments[1];if(this._isNull)return this.initialize(l,d),null;var p=l.distance(d);p<this._distance&&this.initialize(l,d,p)}},Io.prototype.initialize=function(){if(0===arguments.length)this._isNull=!0;else if(2===arguments.length){var s=arguments[0],l=arguments[1];this._pt[0].setCoordinate(s),this._pt[1].setCoordinate(l),this._distance=s.distance(l),this._isNull=!1}else if(3===arguments.length){var p=arguments[1],y=arguments[2];this._pt[0].setCoordinate(arguments[0]),this._pt[1].setCoordinate(p),this._distance=y,this._isNull=!1}},Io.prototype.toString=function(){return Xe.toLineString(this._pt[0],this._pt[1])},Io.prototype.getDistance=function(){return this._distance},Io.prototype.setMaximum=function(){if(1===arguments.length){var s=arguments[0];this.setMaximum(s._pt[0],s._pt[1])}else if(2===arguments.length){var l=arguments[0],d=arguments[1];if(this._isNull)return this.initialize(l,d),null;var p=l.distance(d);p>this._distance&&this.initialize(l,d,p)}},Io.prototype.interfaces_=function(){return[]},Io.prototype.getClass=function(){return Io};var ss=function(){};ss.prototype.interfaces_=function(){return[]},ss.prototype.getClass=function(){return ss},ss.computeDistance=function(){if(arguments[2]instanceof Io&&arguments[0]instanceof Kn&&arguments[1]instanceof W)for(var s=arguments[0],l=arguments[1],d=arguments[2],p=new qt,y=s.getCoordinates(),S=0;S<y.length-1;S++){p.setCoordinates(y[S],y[S+1]);var N=p.closestPoint(l);d.setMinimum(N,l)}else if(arguments[2]instanceof Io&&arguments[0]instanceof vi&&arguments[1]instanceof W){var te=arguments[0],xe=arguments[1],je=arguments[2];ss.computeDistance(te.getExteriorRing(),xe,je);for(var ot=0;ot<te.getNumInteriorRing();ot++)ss.computeDistance(te.getInteriorRingN(ot),xe,je)}else if(arguments[2]instanceof Io&&arguments[0]instanceof pt&&arguments[1]instanceof W){var lt=arguments[0],Tt=arguments[1],At=arguments[2];if(lt instanceof Kn)ss.computeDistance(lt,Tt,At);else if(lt instanceof vi)ss.computeDistance(lt,Tt,At);else if(lt instanceof Di)for(var Xt=lt,fn=0;fn<Xt.getNumGeometries();fn++){var ti=Xt.getGeometryN(fn);ss.computeDistance(ti,Tt,At)}else At.setMinimum(lt.getCoordinate(),Tt)}else if(arguments[2]instanceof Io&&arguments[0]instanceof qt&&arguments[1]instanceof W){var hs=arguments[1],fs=arguments[2],fl=arguments[0].closestPoint(hs);fs.setMinimum(fl,hs)}};var _t=function(){this._g0=null,this._g1=null,this._ptDist=new Io,this._densifyFrac=0;var l=arguments[1];this._g0=arguments[0],this._g1=l},qo={MaxPointDistanceFilter:{configurable:!0},MaxDensifiedByFractionDistanceFilter:{configurable:!0}};_t.prototype.getCoordinates=function(){return this._ptDist.getCoordinates()},_t.prototype.setDensifyFraction=function(s){if(s>1||s<=0)throw new R("Fraction is not in range (0.0 - 1.0]");this._densifyFrac=s},_t.prototype.compute=function(s,l){this.computeOrientedDistance(s,l,this._ptDist),this.computeOrientedDistance(l,s,this._ptDist)},_t.prototype.distance=function(){return this.compute(this._g0,this._g1),this._ptDist.getDistance()},_t.prototype.computeOrientedDistance=function(s,l,d){var p=new fr(l);if(s.apply(p),d.setMaximum(p.getMaxPointDistance()),this._densifyFrac>0){var y=new gi(l,this._densifyFrac);s.apply(y),d.setMaximum(y.getMaxPointDistance())}},_t.prototype.orientedDistance=function(){return this.computeOrientedDistance(this._g0,this._g1,this._ptDist),this._ptDist.getDistance()},_t.prototype.interfaces_=function(){return[]},_t.prototype.getClass=function(){return _t},_t.distance=function(){if(2===arguments.length)return new _t(arguments[0],arguments[1]).distance();if(3===arguments.length){var y=arguments[2],S=new _t(arguments[0],arguments[1]);return S.setDensifyFraction(y),S.distance()}},qo.MaxPointDistanceFilter.get=function(){return fr},qo.MaxDensifiedByFractionDistanceFilter.get=function(){return gi},Object.defineProperties(_t,qo);var fr=function(){this._maxPtDist=new Io,this._minPtDist=new Io,this._euclideanDist=new ss,this._geom=null,this._geom=arguments[0]};fr.prototype.filter=function(s){this._minPtDist.initialize(),ss.computeDistance(this._geom,s,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},fr.prototype.getMaxPointDistance=function(){return this._maxPtDist},fr.prototype.interfaces_=function(){return[Bt]},fr.prototype.getClass=function(){return fr};var gi=function(){this._maxPtDist=new Io,this._minPtDist=new Io,this._geom=null,this._numSubSegs=0;var l=arguments[1];this._geom=arguments[0],this._numSubSegs=Math.trunc(Math.round(1/l))};gi.prototype.filter=function(s,l){if(0===l)return null;for(var d=s.getCoordinate(l-1),p=s.getCoordinate(l),y=(p.x-d.x)/this._numSubSegs,S=(p.y-d.y)/this._numSubSegs,N=0;N<this._numSubSegs;N++){var je=new W(d.x+N*y,d.y+N*S);this._minPtDist.initialize(),ss.computeDistance(this._geom,je,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)}},gi.prototype.isDone=function(){return!1},gi.prototype.isGeometryChanged=function(){return!1},gi.prototype.getMaxPointDistance=function(){return this._maxPtDist},gi.prototype.interfaces_=function(){return[bo]},gi.prototype.getClass=function(){return gi};var di=function(s,l,d){this._minValidDistance=null,this._maxValidDistance=null,this._minDistanceFound=null,this._maxDistanceFound=null,this._isValid=!0,this._errMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=s||null,this._bufDistance=l||null,this._result=d||null},Us={VERBOSE:{configurable:!0},MAX_DISTANCE_DIFF_FRAC:{configurable:!0}};di.prototype.checkMaximumDistance=function(s,l,d){var p=new _t(l,s);if(p.setDensifyFraction(.25),this._maxDistanceFound=p.orientedDistance(),this._maxDistanceFound>d){this._isValid=!1;var y=p.getCoordinates();this._errorLocation=y[1],this._errorIndicator=s.getFactory().createLineString(y),this._errMsg="Distance between buffer curve and input is too large ("+this._maxDistanceFound+" at "+Xe.toLineString(y[0],y[1])+")"}},di.prototype.isValid=function(){var s=Math.abs(this._bufDistance),l=di.MAX_DISTANCE_DIFF_FRAC*s;return this._minValidDistance=s-l,this._maxValidDistance=s+l,!(!this._input.isEmpty()&&!this._result.isEmpty())||(this._bufDistance>0?this.checkPositiveValid():this.checkNegativeValid(),di.VERBOSE&&Ft.out.println("Min Dist= "+this._minDistanceFound+"  err= "+(1-this._minDistanceFound/this._bufDistance)+"  Max Dist= "+this._maxDistanceFound+"  err= "+(this._maxDistanceFound/this._bufDistance-1)),this._isValid)},di.prototype.checkNegativeValid=function(){if(!(this._input instanceof vi||this._input instanceof Jo||this._input instanceof Di))return null;var s=this.getPolygonLines(this._input);if(this.checkMinimumDistance(s,this._result,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(s,this._result,this._maxValidDistance)},di.prototype.getErrorIndicator=function(){return this._errorIndicator},di.prototype.checkMinimumDistance=function(s,l,d){var p=new wn(s,l,d);if(this._minDistanceFound=p.distance(),this._minDistanceFound<d){this._isValid=!1;var y=p.nearestPoints();this._errorLocation=p.nearestPoints()[1],this._errorIndicator=s.getFactory().createLineString(y),this._errMsg="Distance between buffer curve and input is too small ("+this._minDistanceFound+" at "+Xe.toLineString(y[0],y[1])+" )"}},di.prototype.checkPositiveValid=function(){var s=this._result.getBoundary();if(this.checkMinimumDistance(this._input,s,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(this._input,s,this._maxValidDistance)},di.prototype.getErrorLocation=function(){return this._errorLocation},di.prototype.getPolygonLines=function(s){for(var l=new bt,d=new Eo(l),p=Vs.getPolygons(s).iterator();p.hasNext();)p.next().apply(d);return s.getFactory().buildGeometry(l)},di.prototype.getErrorMessage=function(){return this._errMsg},di.prototype.interfaces_=function(){return[]},di.prototype.getClass=function(){return di},Us.VERBOSE.get=function(){return!1},Us.MAX_DISTANCE_DIFF_FRAC.get=function(){return.012},Object.defineProperties(di,Us);var Qr=function(s,l,d){this._isValid=!0,this._errorMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=s||null,this._distance=l||null,this._result=d||null},fu={VERBOSE:{configurable:!0},MAX_ENV_DIFF_FRAC:{configurable:!0}};Qr.prototype.isValid=function(){return this.checkPolygonal(),this._isValid?(this.checkExpectedEmpty(),this._isValid?(this.checkEnvelope(),this._isValid?(this.checkArea(),this._isValid?(this.checkDistance(),this._isValid):this._isValid):this._isValid):this._isValid):this._isValid},Qr.prototype.checkEnvelope=function(){if(this._distance<0)return null;var s=this._distance*Qr.MAX_ENV_DIFF_FRAC;0===s&&(s=.001);var l=new vt(this._input.getEnvelopeInternal());l.expandBy(this._distance);var d=new vt(this._result.getEnvelopeInternal());d.expandBy(s),d.contains(l)||(this._isValid=!1,this._errorMsg="Buffer envelope is incorrect",this._errorIndicator=this._input.getFactory().toGeometry(d)),this.report("Envelope")},Qr.prototype.checkDistance=function(){var s=new di(this._input,this._distance,this._result);s.isValid()||(this._isValid=!1,this._errorMsg=s.getErrorMessage(),this._errorLocation=s.getErrorLocation(),this._errorIndicator=s.getErrorIndicator()),this.report("Distance")},Qr.prototype.checkArea=function(){var s=this._input.getArea(),l=this._result.getArea();this._distance>0&&s>l&&(this._isValid=!1,this._errorMsg="Area of positive buffer is smaller than input",this._errorIndicator=this._result),this._distance<0&&s<l&&(this._isValid=!1,this._errorMsg="Area of negative buffer is larger than input",this._errorIndicator=this._result),this.report("Area")},Qr.prototype.checkPolygonal=function(){this._result instanceof vi||this._result instanceof Jo||(this._isValid=!1),this._errorMsg="Result is not polygonal",this._errorIndicator=this._result,this.report("Polygonal")},Qr.prototype.getErrorIndicator=function(){return this._errorIndicator},Qr.prototype.getErrorLocation=function(){return this._errorLocation},Qr.prototype.checkExpectedEmpty=function(){return this._input.getDimension()>=2||this._distance>0?null:(this._result.isEmpty()||(this._isValid=!1,this._errorMsg="Result is non-empty",this._errorIndicator=this._result),void this.report("ExpectedEmpty"))},Qr.prototype.report=function(s){if(!Qr.VERBOSE)return null;Ft.out.println("Check "+s+": "+(this._isValid?"passed":"FAILED"))},Qr.prototype.getErrorMessage=function(){return this._errorMsg},Qr.prototype.interfaces_=function(){return[]},Qr.prototype.getClass=function(){return Qr},Qr.isValidMsg=function(s,l,d){var p=new Qr(s,l,d);return p.isValid()?null:p.getErrorMessage()},Qr.isValid=function(s,l,d){return!!new Qr(s,l,d).isValid()},fu.VERBOSE.get=function(){return!1},fu.MAX_ENV_DIFF_FRAC.get=function(){return.012},Object.defineProperties(Qr,fu);var Hs=function(){this._pts=null,this._data=null;var l=arguments[1];this._pts=arguments[0],this._data=l};Hs.prototype.getCoordinates=function(){return this._pts},Hs.prototype.size=function(){return this._pts.length},Hs.prototype.getCoordinate=function(s){return this._pts[s]},Hs.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},Hs.prototype.getSegmentOctant=function(s){return s===this._pts.length-1?-1:la.octant(this.getCoordinate(s),this.getCoordinate(s+1))},Hs.prototype.setData=function(s){this._data=s},Hs.prototype.getData=function(){return this._data},Hs.prototype.toString=function(){return Xe.toLineString(new Cn(this._pts))},Hs.prototype.interfaces_=function(){return[ts]},Hs.prototype.getClass=function(){return Hs};var ei=function(){this._findAllIntersections=!1,this._isCheckEndSegmentsOnly=!1,this._li=null,this._interiorIntersection=null,this._intSegments=null,this._intersections=new bt,this._intersectionCount=0,this._keepIntersections=!0,this._li=arguments[0],this._interiorIntersection=null};ei.prototype.getInteriorIntersection=function(){return this._interiorIntersection},ei.prototype.setCheckEndSegmentsOnly=function(s){this._isCheckEndSegmentsOnly=s},ei.prototype.getIntersectionSegments=function(){return this._intSegments},ei.prototype.count=function(){return this._intersectionCount},ei.prototype.getIntersections=function(){return this._intersections},ei.prototype.setFindAllIntersections=function(s){this._findAllIntersections=s},ei.prototype.setKeepIntersections=function(s){this._keepIntersections=s},ei.prototype.processIntersections=function(s,l,d,p){if(!this._findAllIntersections&&this.hasIntersection()||s===d&&l===p||this._isCheckEndSegmentsOnly&&!this.isEndSegment(s,l)&&!this.isEndSegment(d,p))return null;var y=s.getCoordinates()[l],S=s.getCoordinates()[l+1],N=d.getCoordinates()[p],te=d.getCoordinates()[p+1];this._li.computeIntersection(y,S,N,te),this._li.hasIntersection()&&this._li.isInteriorIntersection()&&(this._intSegments=new Array(4).fill(null),this._intSegments[0]=y,this._intSegments[1]=S,this._intSegments[2]=N,this._intSegments[3]=te,this._interiorIntersection=this._li.getIntersection(0),this._keepIntersections&&this._intersections.add(this._interiorIntersection),this._intersectionCount++)},ei.prototype.isEndSegment=function(s,l){return 0===l||l>=s.size()-2},ei.prototype.hasIntersection=function(){return null!==this._interiorIntersection},ei.prototype.isDone=function(){return!this._findAllIntersections&&null!==this._interiorIntersection},ei.prototype.interfaces_=function(){return[bi]},ei.prototype.getClass=function(){return ei},ei.createAllIntersectionsFinder=function(s){var l=new ei(s);return l.setFindAllIntersections(!0),l},ei.createAnyIntersectionFinder=function(s){return new ei(s)},ei.createIntersectionCounter=function(s){var l=new ei(s);return l.setFindAllIntersections(!0),l.setKeepIntersections(!1),l};var Ms=function(){this._li=new pe,this._segStrings=null,this._findAllIntersections=!1,this._segInt=null,this._isValid=!0,this._segStrings=arguments[0]};Ms.prototype.execute=function(){if(null!==this._segInt)return null;this.checkInteriorIntersections()},Ms.prototype.getIntersections=function(){return this._segInt.getIntersections()},Ms.prototype.isValid=function(){return this.execute(),this._isValid},Ms.prototype.setFindAllIntersections=function(s){this._findAllIntersections=s},Ms.prototype.checkInteriorIntersections=function(){this._isValid=!0,this._segInt=new ei(this._li),this._segInt.setFindAllIntersections(this._findAllIntersections);var s=new ci;if(s.setSegmentIntersector(this._segInt),s.computeNodes(this._segStrings),this._segInt.hasIntersection())return this._isValid=!1,null},Ms.prototype.checkValid=function(){if(this.execute(),!this._isValid)throw new es(this.getErrorMessage(),this._segInt.getInteriorIntersection())},Ms.prototype.getErrorMessage=function(){if(this._isValid)return"no intersections found";var s=this._segInt.getIntersectionSegments();return"found non-noded intersection between "+Xe.toLineString(s[0],s[1])+" and "+Xe.toLineString(s[2],s[3])},Ms.prototype.interfaces_=function(){return[]},Ms.prototype.getClass=function(){return Ms},Ms.computeIntersections=function(s){var l=new Ms(s);return l.setFindAllIntersections(!0),l.isValid(),l.getIntersections()};var Ha=function s(){this._nv=null,this._nv=new Ms(s.toSegmentStrings(arguments[0]))};Ha.prototype.checkValid=function(){this._nv.checkValid()},Ha.prototype.interfaces_=function(){return[]},Ha.prototype.getClass=function(){return Ha},Ha.toSegmentStrings=function(s){for(var l=new bt,d=s.iterator();d.hasNext();){var p=d.next();l.add(new Hs(p.getCoordinates(),p))}return l},Ha.checkValid=function(s){new Ha(s).checkValid()};var hi=function(s){this._mapOp=s};hi.prototype.map=function(s){for(var l=new bt,d=0;d<s.getNumGeometries();d++){var p=this._mapOp.map(s.getGeometryN(d));p.isEmpty()||l.add(p)}return s.getFactory().createGeometryCollection(nn.toGeometryArray(l))},hi.prototype.interfaces_=function(){return[]},hi.prototype.getClass=function(){return hi},hi.map=function(s,l){return new hi(l).map(s)};var Ut=function(){this._op=null,this._geometryFactory=null,this._ptLocator=null,this._lineEdgesList=new bt,this._resultLineList=new bt;var l=arguments[1],d=arguments[2];this._op=arguments[0],this._geometryFactory=l,this._ptLocator=d};Ut.prototype.collectLines=function(s){for(var l=this._op.getGraph().getEdgeEnds().iterator();l.hasNext();){var d=l.next();this.collectLineEdge(d,s,this._lineEdgesList),this.collectBoundaryTouchEdge(d,s,this._lineEdgesList)}},Ut.prototype.labelIsolatedLine=function(s,l){var d=this._ptLocator.locate(s.getCoordinate(),this._op.getArgGeometry(l));s.getLabel().setLocation(l,d)},Ut.prototype.build=function(s){return this.findCoveredLineEdges(),this.collectLines(s),this.buildLines(s),this._resultLineList},Ut.prototype.collectLineEdge=function(s,l,d){var p=s.getLabel(),y=s.getEdge();s.isLineEdge()&&(s.isVisited()||!ln.isResultOfOp(p,l)||y.isCovered()||(d.add(y),s.setVisitedEdge(!0)))},Ut.prototype.findCoveredLineEdges=function(){for(var s=this._op.getGraph().getNodes().iterator();s.hasNext();)s.next().getEdges().findCoveredLineEdges();for(var l=this._op.getGraph().getEdgeEnds().iterator();l.hasNext();){var d=l.next(),p=d.getEdge();if(d.isLineEdge()&&!p.isCoveredSet()){var y=this._op.isCoveredByA(d.getCoordinate());p.setCovered(y)}}},Ut.prototype.labelIsolatedLines=function(s){for(var l=s.iterator();l.hasNext();){var d=l.next(),p=d.getLabel();d.isIsolated()&&(p.isNull(0)?this.labelIsolatedLine(d,0):this.labelIsolatedLine(d,1))}},Ut.prototype.buildLines=function(s){for(var l=this._lineEdgesList.iterator();l.hasNext();){var d=l.next(),p=this._geometryFactory.createLineString(d.getCoordinates());this._resultLineList.add(p),d.setInResult(!0)}},Ut.prototype.collectBoundaryTouchEdge=function(s,l,d){var p=s.getLabel();return s.isLineEdge()||s.isVisited()||s.isInteriorAreaEdge()||s.getEdge().isInResult()?null:(T.isTrue(!(s.isInResult()||s.getSym().isInResult())||!s.getEdge().isInResult()),void(ln.isResultOfOp(p,l)&&l===ln.INTERSECTION&&(d.add(s.getEdge()),s.setVisitedEdge(!0))))},Ut.prototype.interfaces_=function(){return[]},Ut.prototype.getClass=function(){return Ut};var En=function(){this._op=null,this._geometryFactory=null,this._resultPointList=new bt;var l=arguments[1];this._op=arguments[0],this._geometryFactory=l};En.prototype.filterCoveredNodeToPoint=function(s){var l=s.getCoordinate();if(!this._op.isCoveredByLA(l)){var d=this._geometryFactory.createPoint(l);this._resultPointList.add(d)}},En.prototype.extractNonCoveredResultNodes=function(s){for(var l=this._op.getGraph().getNodes().iterator();l.hasNext();){var d=l.next();if(!(d.isInResult()||d.isIncidentEdgeInResult()||0!==d.getEdges().getDegree()&&s!==ln.INTERSECTION)){var p=d.getLabel();ln.isResultOfOp(p,s)&&this.filterCoveredNodeToPoint(d)}}},En.prototype.build=function(s){return this.extractNonCoveredResultNodes(s),this._resultPointList},En.prototype.interfaces_=function(){return[]},En.prototype.getClass=function(){return En};var Hn=function(){this._inputGeom=null,this._factory=null,this._pruneEmptyGeometry=!0,this._preserveGeometryCollectionType=!0,this._preserveCollections=!1,this._preserveType=!1};Hn.prototype.transformPoint=function(s,l){return this._factory.createPoint(this.transformCoordinates(s.getCoordinateSequence(),s))},Hn.prototype.transformPolygon=function(s,l){var d=!0,p=this.transformLinearRing(s.getExteriorRing(),s);null!==p&&p instanceof Go&&!p.isEmpty()||(d=!1);for(var y=new bt,S=0;S<s.getNumInteriorRing();S++){var N=this.transformLinearRing(s.getInteriorRingN(S),s);null===N||N.isEmpty()||(N instanceof Go||(d=!1),y.add(N))}if(d)return this._factory.createPolygon(p,y.toArray([]));var te=new bt;return null!==p&&te.add(p),te.addAll(y),this._factory.buildGeometry(te)},Hn.prototype.createCoordinateSequence=function(s){return this._factory.getCoordinateSequenceFactory().create(s)},Hn.prototype.getInputGeometry=function(){return this._inputGeom},Hn.prototype.transformMultiLineString=function(s,l){for(var d=new bt,p=0;p<s.getNumGeometries();p++){var y=this.transformLineString(s.getGeometryN(p),s);null!==y&&(y.isEmpty()||d.add(y))}return this._factory.buildGeometry(d)},Hn.prototype.transformCoordinates=function(s,l){return this.copy(s)},Hn.prototype.transformLineString=function(s,l){return this._factory.createLineString(this.transformCoordinates(s.getCoordinateSequence(),s))},Hn.prototype.transformMultiPoint=function(s,l){for(var d=new bt,p=0;p<s.getNumGeometries();p++){var y=this.transformPoint(s.getGeometryN(p),s);null!==y&&(y.isEmpty()||d.add(y))}return this._factory.buildGeometry(d)},Hn.prototype.transformMultiPolygon=function(s,l){for(var d=new bt,p=0;p<s.getNumGeometries();p++){var y=this.transformPolygon(s.getGeometryN(p),s);null!==y&&(y.isEmpty()||d.add(y))}return this._factory.buildGeometry(d)},Hn.prototype.copy=function(s){return s.copy()},Hn.prototype.transformGeometryCollection=function(s,l){for(var d=new bt,p=0;p<s.getNumGeometries();p++){var y=this.transform(s.getGeometryN(p));null!==y&&(this._pruneEmptyGeometry&&y.isEmpty()||d.add(y))}return this._preserveGeometryCollectionType?this._factory.createGeometryCollection(nn.toGeometryArray(d)):this._factory.buildGeometry(d)},Hn.prototype.transform=function(s){if(this._inputGeom=s,this._factory=s.getFactory(),s instanceof po)return this.transformPoint(s,null);if(s instanceof Os)return this.transformMultiPoint(s,null);if(s instanceof Go)return this.transformLinearRing(s,null);if(s instanceof Kn)return this.transformLineString(s,null);if(s instanceof Qs)return this.transformMultiLineString(s,null);if(s instanceof vi)return this.transformPolygon(s,null);if(s instanceof Jo)return this.transformMultiPolygon(s,null);if(s instanceof Di)return this.transformGeometryCollection(s,null);throw new R("Unknown Geometry subtype: "+s.getClass().getName())},Hn.prototype.transformLinearRing=function(s,l){var d=this.transformCoordinates(s.getCoordinateSequence(),s);if(null===d)return this._factory.createLinearRing(null);var p=d.size();return p>0&&p<4&&!this._preserveType?this._factory.createLineString(d):this._factory.createLinearRing(d)},Hn.prototype.interfaces_=function(){return[]},Hn.prototype.getClass=function(){return Hn};var so=function s(){if(this._snapTolerance=0,this._srcPts=null,this._seg=new qt,this._allowSnappingToSourceVertices=!1,this._isClosed=!1,arguments[0]instanceof Kn&&"number"==typeof arguments[1]){var d=arguments[1];s.call(this,arguments[0].getCoordinates(),d)}else if(arguments[0]instanceof Array&&"number"==typeof arguments[1]){var p=arguments[0],y=arguments[1];this._srcPts=p,this._isClosed=s.isClosed(p),this._snapTolerance=y}};so.prototype.snapVertices=function(s,l){for(var d=this._isClosed?s.size()-1:s.size(),p=0;p<d;p++){var y=s.get(p),S=this.findSnapForVertex(y,l);null!==S&&(s.set(p,new W(S)),0===p&&this._isClosed&&s.set(s.size()-1,new W(S)))}},so.prototype.findSnapForVertex=function(s,l){for(var d=0;d<l.length;d++){if(s.equals2D(l[d]))return null;if(s.distance(l[d])<this._snapTolerance)return l[d]}return null},so.prototype.snapTo=function(s){var l=new ho(this._srcPts);return this.snapVertices(l,s),this.snapSegments(l,s),l.toCoordinateArray()},so.prototype.snapSegments=function(s,l){if(0===l.length)return null;var d=l.length;l[0].equals2D(l[l.length-1])&&(d=l.length-1);for(var p=0;p<d;p++){var y=l[p],S=this.findSegmentIndexToSnap(y,s);S>=0&&s.add(S+1,new W(y),!1)}},so.prototype.findSegmentIndexToSnap=function(s,l){for(var d=V.MAX_VALUE,p=-1,y=0;y<l.size()-1;y++){if(this._seg.p0=l.get(y),this._seg.p1=l.get(y+1),this._seg.p0.equals2D(s)||this._seg.p1.equals2D(s)){if(this._allowSnappingToSourceVertices)continue;return-1}var S=this._seg.distance(s);S<this._snapTolerance&&S<d&&(d=S,p=y)}return p},so.prototype.setAllowSnappingToSourceVertices=function(s){this._allowSnappingToSourceVertices=s},so.prototype.interfaces_=function(){return[]},so.prototype.getClass=function(){return so},so.isClosed=function(s){return!(s.length<=1)&&s[0].equals2D(s[s.length-1])};var li=function(s){this._srcGeom=s||null},$o={SNAP_PRECISION_FACTOR:{configurable:!0}};li.prototype.snapTo=function(s,l){var d=this.extractTargetCoordinates(s);return new hl(l,d).transform(this._srcGeom)},li.prototype.snapToSelf=function(s,l){var d=this.extractTargetCoordinates(this._srcGeom),p=new hl(s,d,!0).transform(this._srcGeom),y=p;return l&&We(y,Rs)&&(y=p.buffer(0)),y},li.prototype.computeSnapTolerance=function(s){return this.computeMinimumSegmentLength(s)/10},li.prototype.extractTargetCoordinates=function(s){for(var l=new _e,d=s.getCoordinates(),p=0;p<d.length;p++)l.add(d[p]);return l.toArray(new Array(0).fill(null))},li.prototype.computeMinimumSegmentLength=function(s){for(var l=V.MAX_VALUE,d=0;d<s.length-1;d++){var p=s[d].distance(s[d+1]);p<l&&(l=p)}return l},li.prototype.interfaces_=function(){return[]},li.prototype.getClass=function(){return li},li.snap=function(s,l,d){var p=new Array(2).fill(null),y=new li(s);p[0]=y.snapTo(l,d);var S=new li(l);return p[1]=S.snapTo(p[0],d),p},li.computeOverlaySnapTolerance=function(){if(1===arguments.length){var s=arguments[0],l=li.computeSizeBasedSnapTolerance(s),d=s.getPrecisionModel();if(d.getType()===zt.FIXED){var p=1/d.getScale()*2/1.415;p>l&&(l=p)}return l}if(2===arguments.length){var S=arguments[1];return Math.min(li.computeOverlaySnapTolerance(arguments[0]),li.computeOverlaySnapTolerance(S))}},li.computeSizeBasedSnapTolerance=function(s){var l=s.getEnvelopeInternal();return Math.min(l.getHeight(),l.getWidth())*li.SNAP_PRECISION_FACTOR},li.snapToSelf=function(s,l,d){return new li(s).snapToSelf(l,d)},$o.SNAP_PRECISION_FACTOR.get=function(){return 1e-9},Object.defineProperties(li,$o);var hl=function(s){function l(d,p,y){s.call(this),this._snapTolerance=d||null,this._snapPts=p||null,this._isSelfSnap=void 0!==y&&y}return s&&(l.__proto__=s),(l.prototype=Object.create(s&&s.prototype)).constructor=l,l.prototype.snapLine=function(d,p){var y=new so(d,this._snapTolerance);return y.setAllowSnappingToSourceVertices(this._isSelfSnap),y.snapTo(p)},l.prototype.transformCoordinates=function(d,p){var y=d.toCoordinateArray(),S=this.snapLine(y,this._snapPts);return this._factory.getCoordinateSequenceFactory().create(S)},l.prototype.interfaces_=function(){return[]},l.prototype.getClass=function(){return l},l}(Hn),ir=function(){this._isFirst=!0,this._commonMantissaBitsCount=53,this._commonBits=0,this._commonSignExp=null};ir.prototype.getCommon=function(){return V.longBitsToDouble(this._commonBits)},ir.prototype.add=function(s){var l=V.doubleToLongBits(s);return this._isFirst?(this._commonBits=l,this._commonSignExp=ir.signExpBits(this._commonBits),this._isFirst=!1,null):ir.signExpBits(l)!==this._commonSignExp?(this._commonBits=0,null):(this._commonMantissaBitsCount=ir.numCommonMostSigMantissaBits(this._commonBits,l),void(this._commonBits=ir.zeroLowerBits(this._commonBits,64-(12+this._commonMantissaBitsCount))))},ir.prototype.toString=function(){if(1===arguments.length){var s=arguments[0],l=V.longBitsToDouble(s),d="0000000000000000000000000000000000000000000000000000000000000000"+V.toBinaryString(s),p=d.substring(d.length-64);return p.substring(0,1)+"  "+p.substring(1,12)+"(exp) "+p.substring(12)+" [ "+l+" ]"}},ir.prototype.interfaces_=function(){return[]},ir.prototype.getClass=function(){return ir},ir.getBit=function(s,l){return s&1<<l?1:0},ir.signExpBits=function(s){return s>>52},ir.zeroLowerBits=function(s,l){return s&~((1<<l)-1)},ir.numCommonMostSigMantissaBits=function(s,l){for(var d=0,p=52;p>=0;p--){if(ir.getBit(s,p)!==ir.getBit(l,p))return d;d++}return 52};var ds=function(){this._commonCoord=null,this._ccFilter=new Ln},Pa={CommonCoordinateFilter:{configurable:!0},Translater:{configurable:!0}};ds.prototype.addCommonBits=function(s){var l=new js(this._commonCoord);s.apply(l),s.geometryChanged()},ds.prototype.removeCommonBits=function(s){if(0===this._commonCoord.x&&0===this._commonCoord.y)return s;var l=new W(this._commonCoord);l.x=-l.x,l.y=-l.y;var d=new js(l);return s.apply(d),s.geometryChanged(),s},ds.prototype.getCommonCoordinate=function(){return this._commonCoord},ds.prototype.add=function(s){s.apply(this._ccFilter),this._commonCoord=this._ccFilter.getCommonCoordinate()},ds.prototype.interfaces_=function(){return[]},ds.prototype.getClass=function(){return ds},Pa.CommonCoordinateFilter.get=function(){return Ln},Pa.Translater.get=function(){return js},Object.defineProperties(ds,Pa);var Ln=function(){this._commonBitsX=new ir,this._commonBitsY=new ir};Ln.prototype.filter=function(s){this._commonBitsX.add(s.x),this._commonBitsY.add(s.y)},Ln.prototype.getCommonCoordinate=function(){return new W(this._commonBitsX.getCommon(),this._commonBitsY.getCommon())},Ln.prototype.interfaces_=function(){return[Bt]},Ln.prototype.getClass=function(){return Ln};var js=function(){this.trans=null,this.trans=arguments[0]};js.prototype.filter=function(s,l){var d=s.getOrdinate(l,0)+this.trans.x,p=s.getOrdinate(l,1)+this.trans.y;s.setOrdinate(l,0,d),s.setOrdinate(l,1,p)},js.prototype.isDone=function(){return!1},js.prototype.isGeometryChanged=function(){return!0},js.prototype.interfaces_=function(){return[bo]},js.prototype.getClass=function(){return js};var Zi=function(s,l){this._geom=new Array(2).fill(null),this._snapTolerance=null,this._cbr=null,this._geom[0]=s,this._geom[1]=l,this.computeSnapTolerance()};Zi.prototype.selfSnap=function(s){return new li(s).snapTo(s,this._snapTolerance)},Zi.prototype.removeCommonBits=function(s){this._cbr=new ds,this._cbr.add(s[0]),this._cbr.add(s[1]);var l=new Array(2).fill(null);return l[0]=this._cbr.removeCommonBits(s[0].copy()),l[1]=this._cbr.removeCommonBits(s[1].copy()),l},Zi.prototype.prepareResult=function(s){return this._cbr.addCommonBits(s),s},Zi.prototype.getResultGeometry=function(s){var l=this.snap(this._geom),d=ln.overlayOp(l[0],l[1],s);return this.prepareResult(d)},Zi.prototype.checkValid=function(s){s.isValid()||Ft.out.println("Snapped geometry is invalid")},Zi.prototype.computeSnapTolerance=function(){this._snapTolerance=li.computeOverlaySnapTolerance(this._geom[0],this._geom[1])},Zi.prototype.snap=function(s){var l=this.removeCommonBits(s);return li.snap(l[0],l[1],this._snapTolerance)},Zi.prototype.interfaces_=function(){return[]},Zi.prototype.getClass=function(){return Zi},Zi.overlayOp=function(s,l,d){return new Zi(s,l).getResultGeometry(d)},Zi.union=function(s,l){return Zi.overlayOp(s,l,ln.UNION)},Zi.intersection=function(s,l){return Zi.overlayOp(s,l,ln.INTERSECTION)},Zi.symDifference=function(s,l){return Zi.overlayOp(s,l,ln.SYMDIFFERENCE)},Zi.difference=function(s,l){return Zi.overlayOp(s,l,ln.DIFFERENCE)};var Gi=function(s,l){this._geom=new Array(2).fill(null),this._geom[0]=s,this._geom[1]=l};Gi.prototype.getResultGeometry=function(s){var l=null,d=!1,p=null;try{l=ln.overlayOp(this._geom[0],this._geom[1],s),d=!0}catch(y){if(!(y instanceof H))throw y;p=y}if(!d)try{l=Zi.overlayOp(this._geom[0],this._geom[1],s)}catch(y){throw y instanceof H?p:y}return l},Gi.prototype.interfaces_=function(){return[]},Gi.prototype.getClass=function(){return Gi},Gi.overlayOp=function(s,l,d){return new Gi(s,l).getResultGeometry(d)},Gi.union=function(s,l){return Gi.overlayOp(s,l,ln.UNION)},Gi.intersection=function(s,l){return Gi.overlayOp(s,l,ln.INTERSECTION)},Gi.symDifference=function(s,l){return Gi.overlayOp(s,l,ln.SYMDIFFERENCE)},Gi.difference=function(s,l){return Gi.overlayOp(s,l,ln.DIFFERENCE)};var Oi=function(){this.mce=null,this.chainIndex=null;var l=arguments[1];this.mce=arguments[0],this.chainIndex=l};Oi.prototype.computeIntersections=function(s,l){this.mce.computeIntersectsForChain(this.chainIndex,s.mce,s.chainIndex,l)},Oi.prototype.interfaces_=function(){return[]},Oi.prototype.getClass=function(){return Oi};var c=function s(){if(this._label=null,this._xValue=null,this._eventType=null,this._insertEvent=null,this._deleteEventIndex=null,this._obj=null,2===arguments.length){var l=arguments[0],d=arguments[1];this._eventType=s.DELETE,this._xValue=l,this._insertEvent=d}else if(3===arguments.length){var p=arguments[0],y=arguments[1],S=arguments[2];this._eventType=s.INSERT,this._label=p,this._xValue=y,this._obj=S}},g={INSERT:{configurable:!0},DELETE:{configurable:!0}};c.prototype.isDelete=function(){return this._eventType===c.DELETE},c.prototype.setDeleteEventIndex=function(s){this._deleteEventIndex=s},c.prototype.getObject=function(){return this._obj},c.prototype.compareTo=function(s){return this._xValue<s._xValue?-1:this._xValue>s._xValue?1:this._eventType<s._eventType?-1:this._eventType>s._eventType?1:0},c.prototype.getInsertEvent=function(){return this._insertEvent},c.prototype.isInsert=function(){return this._eventType===c.INSERT},c.prototype.isSameLabel=function(s){return null!==this._label&&this._label===s._label},c.prototype.getDeleteEventIndex=function(){return this._deleteEventIndex},c.prototype.interfaces_=function(){return[Q]},c.prototype.getClass=function(){return c},g.INSERT.get=function(){return 1},g.DELETE.get=function(){return 2},Object.defineProperties(c,g);var E=function(){};E.prototype.interfaces_=function(){return[]},E.prototype.getClass=function(){return E};var k=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._properIntersectionPoint=null,this._li=null,this._includeProper=null,this._recordIsolated=null,this._isSelfIntersection=null,this._numIntersections=0,this.numTests=0,this._bdyNodes=null,this._isDone=!1,this._isDoneWhenProperInt=!1;var l=arguments[1],d=arguments[2];this._li=arguments[0],this._includeProper=l,this._recordIsolated=d};k.prototype.isTrivialIntersection=function(s,l,d,p){if(s===d&&1===this._li.getIntersectionNum()){if(k.isAdjacentSegments(l,p))return!0;if(s.isClosed()){var y=s.getNumPoints()-1;if(0===l&&p===y||0===p&&l===y)return!0}}return!1},k.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},k.prototype.setIsDoneIfProperInt=function(s){this._isDoneWhenProperInt=s},k.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},k.prototype.isBoundaryPointInternal=function(s,l){for(var d=l.iterator();d.hasNext();){var p=d.next().getCoordinate();if(s.isIntersection(p))return!0}return!1},k.prototype.hasProperIntersection=function(){return this._hasProper},k.prototype.hasIntersection=function(){return this._hasIntersection},k.prototype.isDone=function(){return this._isDone},k.prototype.isBoundaryPoint=function(s,l){return!(null===l||!this.isBoundaryPointInternal(s,l[0])&&!this.isBoundaryPointInternal(s,l[1]))},k.prototype.setBoundaryNodes=function(s,l){this._bdyNodes=new Array(2).fill(null),this._bdyNodes[0]=s,this._bdyNodes[1]=l},k.prototype.addIntersections=function(s,l,d,p){if(s===d&&l===p)return null;this.numTests++;var y=s.getCoordinates()[l],S=s.getCoordinates()[l+1],N=d.getCoordinates()[p],te=d.getCoordinates()[p+1];this._li.computeIntersection(y,S,N,te),this._li.hasIntersection()&&(this._recordIsolated&&(s.setIsolated(!1),d.setIsolated(!1)),this._numIntersections++,this.isTrivialIntersection(s,l,d,p)||(this._hasIntersection=!0,!this._includeProper&&this._li.isProper()||(s.addIntersections(this._li,l,0),d.addIntersections(this._li,p,1)),this._li.isProper()&&(this._properIntersectionPoint=this._li.getIntersection(0).copy(),this._hasProper=!0,this._isDoneWhenProperInt&&(this._isDone=!0),this.isBoundaryPoint(this._li,this._bdyNodes)||(this._hasProperInterior=!0))))},k.prototype.interfaces_=function(){return[]},k.prototype.getClass=function(){return k},k.isAdjacentSegments=function(s,l){return 1===Math.abs(s-l)};var Y=function(s){function l(){s.call(this),this.events=new bt,this.nOverlaps=null}return s&&(l.__proto__=s),(l.prototype=Object.create(s&&s.prototype)).constructor=l,l.prototype.prepareEvents=function(){Ot.sort(this.events);for(var d=0;d<this.events.size();d++){var p=this.events.get(d);p.isDelete()&&p.getInsertEvent().setDeleteEventIndex(d)}},l.prototype.computeIntersections=function(){if(1===arguments.length){var d=arguments[0];this.nOverlaps=0,this.prepareEvents();for(var p=0;p<this.events.size();p++){var y=this.events.get(p);if(y.isInsert()&&this.processOverlaps(p,y.getDeleteEventIndex(),y,d),d.isDone())break}}else if(3===arguments.length)if(arguments[2]instanceof k&&We(arguments[0],pr)&&We(arguments[1],pr)){var S=arguments[0],N=arguments[1],te=arguments[2];this.addEdges(S,S),this.addEdges(N,N),this.computeIntersections(te)}else if("boolean"==typeof arguments[2]&&We(arguments[0],pr)&&arguments[1]instanceof k){var xe=arguments[0],je=arguments[1];arguments[2]?this.addEdges(xe,null):this.addEdges(xe),this.computeIntersections(je)}},l.prototype.addEdge=function(d,p){for(var y=d.getMonotoneChainEdge(),S=y.getStartIndexes(),N=0;N<S.length-1;N++){var te=new Oi(y,N),xe=new c(p,y.getMinX(N),te);this.events.add(xe),this.events.add(new c(y.getMaxX(N),xe))}},l.prototype.processOverlaps=function(d,p,y,S){for(var N=y.getObject(),te=d;te<p;te++){var xe=this.events.get(te);if(xe.isInsert()){var je=xe.getObject();y.isSameLabel(xe)||(N.computeIntersections(je,S),this.nOverlaps++)}}},l.prototype.addEdges=function(){if(1===arguments.length)for(var d=arguments[0].iterator();d.hasNext();){var p=d.next();this.addEdge(p,p)}else if(2===arguments.length)for(var S=arguments[1],N=arguments[0].iterator();N.hasNext();){var te=N.next();this.addEdge(te,S)}},l.prototype.interfaces_=function(){return[]},l.prototype.getClass=function(){return l},l}(E),le=function(){this._min=V.POSITIVE_INFINITY,this._max=V.NEGATIVE_INFINITY},Ue={NodeComparator:{configurable:!0}};le.prototype.getMin=function(){return this._min},le.prototype.intersects=function(s,l){return!(this._min>l||this._max<s)},le.prototype.getMax=function(){return this._max},le.prototype.toString=function(){return Xe.toLineString(new W(this._min,0),new W(this._max,0))},le.prototype.interfaces_=function(){return[]},le.prototype.getClass=function(){return le},Ue.NodeComparator.get=function(){return tt},Object.defineProperties(le,Ue);var tt=function(){};tt.prototype.compare=function(s,l){var y=(s._min+s._max)/2,S=(l._min+l._max)/2;return y<S?-1:y>S?1:0},tt.prototype.interfaces_=function(){return[ie]},tt.prototype.getClass=function(){return tt};var at=function(s){function l(){s.call(this),this._item=null;var p=arguments[1],y=arguments[2];this._min=arguments[0],this._max=p,this._item=y}return s&&(l.__proto__=s),(l.prototype=Object.create(s&&s.prototype)).constructor=l,l.prototype.query=function(d,p,y){if(!this.intersects(d,p))return null;y.visitItem(this._item)},l.prototype.interfaces_=function(){return[]},l.prototype.getClass=function(){return l},l}(le),ct=function(s){function l(){s.call(this),this._node1=null,this._node2=null;var p=arguments[1];this._node1=arguments[0],this._node2=p,this.buildExtent(this._node1,this._node2)}return s&&(l.__proto__=s),(l.prototype=Object.create(s&&s.prototype)).constructor=l,l.prototype.buildExtent=function(d,p){this._min=Math.min(d._min,p._min),this._max=Math.max(d._max,p._max)},l.prototype.query=function(d,p,y){if(!this.intersects(d,p))return null;null!==this._node1&&this._node1.query(d,p,y),null!==this._node2&&this._node2.query(d,p,y)},l.prototype.interfaces_=function(){return[]},l.prototype.getClass=function(){return l},l}(le),jt=function(){this._leaves=new bt,this._root=null,this._level=0};jt.prototype.buildTree=function(){Ot.sort(this._leaves,new le.NodeComparator);for(var s=this._leaves,l=null,d=new bt;;){if(this.buildLevel(s,d),1===d.size())return d.get(0);l=s,s=d,d=l}},jt.prototype.insert=function(s,l,d){if(null!==this._root)throw new Error("Index cannot be added to once it has been queried");this._leaves.add(new at(s,l,d))},jt.prototype.query=function(s,l,d){this.init(),this._root.query(s,l,d)},jt.prototype.buildRoot=function(){if(null!==this._root)return null;this._root=this.buildTree()},jt.prototype.printNode=function(s){Ft.out.println(Xe.toLineString(new W(s._min,this._level),new W(s._max,this._level)))},jt.prototype.init=function(){if(null!==this._root)return null;this.buildRoot()},jt.prototype.buildLevel=function(s,l){this._level++,l.clear();for(var d=0;d<s.size();d+=2){var p=s.get(d);if(null===(d+1<s.size()?s.get(d):null))l.add(p);else{var y=new ct(s.get(d),s.get(d+1));l.add(y)}}},jt.prototype.interfaces_=function(){return[]},jt.prototype.getClass=function(){return jt};var bn=function(){this._items=new bt};bn.prototype.visitItem=function(s){this._items.add(s)},bn.prototype.getItems=function(){return this._items},bn.prototype.interfaces_=function(){return[ut]},bn.prototype.getClass=function(){return bn};var Vn=function(){this._index=null;var s=arguments[0];if(!We(s,Rs))throw new R("Argument must be Polygonal");this._index=new qi(s)},Pi={SegmentVisitor:{configurable:!0},IntervalIndexedGeometry:{configurable:!0}};Vn.prototype.locate=function(s){var l=new Ge(s),d=new Ti(l);return this._index.query(s.y,s.y,d),l.getLocation()},Vn.prototype.interfaces_=function(){return[ua]},Vn.prototype.getClass=function(){return Vn},Pi.SegmentVisitor.get=function(){return Ti},Pi.IntervalIndexedGeometry.get=function(){return qi},Object.defineProperties(Vn,Pi);var Ti=function(){this._counter=null,this._counter=arguments[0]};Ti.prototype.visitItem=function(s){var l=s;this._counter.countSegment(l.getCoordinate(0),l.getCoordinate(1))},Ti.prototype.interfaces_=function(){return[ut]},Ti.prototype.getClass=function(){return Ti};var qi=function(){this._index=new jt,this.init(arguments[0])};qi.prototype.init=function(s){for(var l=Eo.getLines(s).iterator();l.hasNext();){var d=l.next().getCoordinates();this.addLine(d)}},qi.prototype.addLine=function(s){for(var l=1;l<s.length;l++){var d=new qt(s[l-1],s[l]),p=Math.min(d.p0.y,d.p1.y),y=Math.max(d.p0.y,d.p1.y);this._index.insert(p,y,d)}},qi.prototype.query=function(){if(2===arguments.length){var s=arguments[0],l=arguments[1],d=new bn;return this._index.query(s,l,d),d.getItems()}3===arguments.length&&this._index.query(arguments[0],arguments[1],arguments[2])},qi.prototype.interfaces_=function(){return[]},qi.prototype.getClass=function(){return qi};var ao=function(s){function l(){if(s.call(this),this._parentGeom=null,this._lineEdgeMap=new Si,this._boundaryNodeRule=null,this._useBoundaryDeterminationRule=!0,this._argIndex=null,this._boundaryNodes=null,this._hasTooFewPoints=!1,this._invalidPoint=null,this._areaPtLocator=null,this._ptLocator=new Cs,2===arguments.length){var p=arguments[1],y=on.OGC_SFS_BOUNDARY_RULE;this._argIndex=arguments[0],this._parentGeom=p,this._boundaryNodeRule=y,null!==p&&this.add(p)}else if(3===arguments.length){var N=arguments[1],te=arguments[2];this._argIndex=arguments[0],this._parentGeom=N,this._boundaryNodeRule=te,null!==N&&this.add(N)}}return s&&(l.__proto__=s),(l.prototype=Object.create(s&&s.prototype)).constructor=l,l.prototype.insertBoundaryPoint=function(d,p){var y=this._nodes.addNode(p).getLabel(),S=1;y.getLocation(d,st.ON)===de.BOUNDARY&&S++;var N=l.determineBoundary(this._boundaryNodeRule,S);y.setLocation(d,N)},l.prototype.computeSelfNodes=function(){if(2===arguments.length)return this.computeSelfNodes(arguments[0],arguments[1],!1);if(3===arguments.length){var S=arguments[1],N=arguments[2],te=new k(arguments[0],!0,!1);return te.setIsDoneIfProperInt(N),this.createEdgeSetIntersector().computeIntersections(this._edges,te,S||!(this._parentGeom instanceof Go||this._parentGeom instanceof vi||this._parentGeom instanceof Jo)),this.addSelfIntersectionNodes(this._argIndex),te}},l.prototype.computeSplitEdges=function(d){for(var p=this._edges.iterator();p.hasNext();)p.next().eiList.addSplitEdges(d)},l.prototype.computeEdgeIntersections=function(d,p,y){var S=new k(p,y,!0);return S.setBoundaryNodes(this.getBoundaryNodes(),d.getBoundaryNodes()),this.createEdgeSetIntersector().computeIntersections(this._edges,d._edges,S),S},l.prototype.getGeometry=function(){return this._parentGeom},l.prototype.getBoundaryNodeRule=function(){return this._boundaryNodeRule},l.prototype.hasTooFewPoints=function(){return this._hasTooFewPoints},l.prototype.addPoint=function(){if(arguments[0]instanceof po){var d=arguments[0].getCoordinate();this.insertPoint(this._argIndex,d,de.INTERIOR)}else arguments[0]instanceof W&&this.insertPoint(this._argIndex,arguments[0],de.INTERIOR)},l.prototype.addPolygon=function(d){this.addPolygonRing(d.getExteriorRing(),de.EXTERIOR,de.INTERIOR);for(var p=0;p<d.getNumInteriorRing();p++){var y=d.getInteriorRingN(p);this.addPolygonRing(y,de.INTERIOR,de.EXTERIOR)}},l.prototype.addEdge=function(d){this.insertEdge(d);var p=d.getCoordinates();this.insertPoint(this._argIndex,p[0],de.BOUNDARY),this.insertPoint(this._argIndex,p[p.length-1],de.BOUNDARY)},l.prototype.addLineString=function(d){var p=sn.removeRepeatedPoints(d.getCoordinates());if(p.length<2)return this._hasTooFewPoints=!0,this._invalidPoint=p[0],null;var y=new cs(p,new Bn(this._argIndex,de.INTERIOR));this._lineEdgeMap.put(d,y),this.insertEdge(y),T.isTrue(p.length>=2,"found LineString with single point"),this.insertBoundaryPoint(this._argIndex,p[0]),this.insertBoundaryPoint(this._argIndex,p[p.length-1])},l.prototype.getInvalidPoint=function(){return this._invalidPoint},l.prototype.getBoundaryPoints=function(){for(var d=this.getBoundaryNodes(),p=new Array(d.size()).fill(null),y=0,S=d.iterator();S.hasNext();){var N=S.next();p[y++]=N.getCoordinate().copy()}return p},l.prototype.getBoundaryNodes=function(){return null===this._boundaryNodes&&(this._boundaryNodes=this._nodes.getBoundaryNodes(this._argIndex)),this._boundaryNodes},l.prototype.addSelfIntersectionNode=function(d,p,y){if(this.isBoundaryNode(d,p))return null;y===de.BOUNDARY&&this._useBoundaryDeterminationRule?this.insertBoundaryPoint(d,p):this.insertPoint(d,p,y)},l.prototype.addPolygonRing=function(d,p,y){if(d.isEmpty())return null;var S=sn.removeRepeatedPoints(d.getCoordinates());if(S.length<4)return this._hasTooFewPoints=!0,this._invalidPoint=S[0],null;var N=p,te=y;He.isCCW(S)&&(N=y,te=p);var xe=new cs(S,new Bn(this._argIndex,de.BOUNDARY,N,te));this._lineEdgeMap.put(d,xe),this.insertEdge(xe),this.insertPoint(this._argIndex,S[0],de.BOUNDARY)},l.prototype.insertPoint=function(d,p,y){var S=this._nodes.addNode(p),N=S.getLabel();null===N?S._label=new Bn(d,y):N.setLocation(d,y)},l.prototype.createEdgeSetIntersector=function(){return new Y},l.prototype.addSelfIntersectionNodes=function(d){for(var p=this._edges.iterator();p.hasNext();)for(var y=p.next(),S=y.getLabel().getLocation(d),N=y.eiList.iterator();N.hasNext();){var te=N.next();this.addSelfIntersectionNode(d,te.coord,S)}},l.prototype.add=function(){if(1!==arguments.length)return s.prototype.add.apply(this,arguments);var d=arguments[0];if(d.isEmpty())return null;if(d instanceof Jo&&(this._useBoundaryDeterminationRule=!1),d instanceof vi)this.addPolygon(d);else if(d instanceof Kn)this.addLineString(d);else if(d instanceof po)this.addPoint(d);else if(d instanceof Os)this.addCollection(d);else if(d instanceof Qs)this.addCollection(d);else if(d instanceof Jo)this.addCollection(d);else{if(!(d instanceof Di))throw new Error(d.getClass().getName());this.addCollection(d)}},l.prototype.addCollection=function(d){for(var p=0;p<d.getNumGeometries();p++){var y=d.getGeometryN(p);this.add(y)}},l.prototype.locate=function(d){return We(this._parentGeom,Rs)&&this._parentGeom.getNumGeometries()>50?(null===this._areaPtLocator&&(this._areaPtLocator=new Vn(this._parentGeom)),this._areaPtLocator.locate(d)):this._ptLocator.locate(d,this._parentGeom)},l.prototype.findEdge=function(){return 1===arguments.length?this._lineEdgeMap.get(arguments[0]):s.prototype.findEdge.apply(this,arguments)},l.prototype.interfaces_=function(){return[]},l.prototype.getClass=function(){return l},l.determineBoundary=function(d,p){return d.isInBoundary(p)?de.BOUNDARY:de.INTERIOR},l}(Pe),ki=function(){if(this._li=new pe,this._resultPrecisionModel=null,this._arg=null,1===arguments.length){var s=arguments[0];this.setComputationPrecision(s.getPrecisionModel()),this._arg=new Array(1).fill(null),this._arg[0]=new ao(0,s)}else if(2===arguments.length){var l=arguments[0],d=arguments[1],p=on.OGC_SFS_BOUNDARY_RULE;l.getPrecisionModel().compareTo(d.getPrecisionModel())>=0?this.setComputationPrecision(l.getPrecisionModel()):this.setComputationPrecision(d.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new ao(0,l,p),this._arg[1]=new ao(1,d,p)}else if(3===arguments.length){var y=arguments[0],S=arguments[1],N=arguments[2];y.getPrecisionModel().compareTo(S.getPrecisionModel())>=0?this.setComputationPrecision(y.getPrecisionModel()):this.setComputationPrecision(S.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new ao(0,y,N),this._arg[1]=new ao(1,S,N)}};ki.prototype.getArgGeometry=function(s){return this._arg[s].getGeometry()},ki.prototype.setComputationPrecision=function(s){this._resultPrecisionModel=s,this._li.setPrecisionModel(this._resultPrecisionModel)},ki.prototype.interfaces_=function(){return[]},ki.prototype.getClass=function(){return ki};var Cl=function(){};Cl.prototype.interfaces_=function(){return[]},Cl.prototype.getClass=function(){return Cl},Cl.map=function(){if(arguments[0]instanceof pt&&We(arguments[1],Cl.MapOp)){for(var s=arguments[0],l=arguments[1],d=new bt,p=0;p<s.getNumGeometries();p++){var y=l.map(s.getGeometryN(p));null!==y&&d.add(y)}return s.getFactory().buildGeometry(d)}if(We(arguments[0],Xn)&&We(arguments[1],Cl.MapOp)){for(var S=arguments[0],N=arguments[1],te=new bt,xe=S.iterator();xe.hasNext();){var je=xe.next(),ot=N.map(je);null!==ot&&te.add(ot)}return te}},Cl.MapOp=function(){};var ln=function(s){function l(){var d=arguments[0];s.call(this,d,arguments[1]),this._ptLocator=new Cs,this._geomFact=null,this._resultGeom=null,this._graph=null,this._edgeList=new ns,this._resultPolyList=new bt,this._resultLineList=new bt,this._resultPointList=new bt,this._graph=new Pe(new ea),this._geomFact=d.getFactory()}return s&&(l.__proto__=s),(l.prototype=Object.create(s&&s.prototype)).constructor=l,l.prototype.insertUniqueEdge=function(d){var p=this._edgeList.findEqualEdge(d);if(null!==p){var y=p.getLabel(),S=d.getLabel();p.isPointwiseEqual(d)||(S=new Bn(d.getLabel())).flip();var N=p.getDepth();N.isNull()&&N.add(y),N.add(S),y.merge(S)}else this._edgeList.add(d)},l.prototype.getGraph=function(){return this._graph},l.prototype.cancelDuplicateResultEdges=function(){for(var d=this._graph.getEdgeEnds().iterator();d.hasNext();){var p=d.next(),y=p.getSym();p.isInResult()&&y.isInResult()&&(p.setInResult(!1),y.setInResult(!1))}},l.prototype.isCoveredByLA=function(d){return!!this.isCovered(d,this._resultLineList)||!!this.isCovered(d,this._resultPolyList)},l.prototype.computeGeometry=function(d,p,y,S){var N=new bt;return N.addAll(d),N.addAll(p),N.addAll(y),N.isEmpty()?l.createEmptyResult(S,this._arg[0].getGeometry(),this._arg[1].getGeometry(),this._geomFact):this._geomFact.buildGeometry(N)},l.prototype.mergeSymLabels=function(){for(var d=this._graph.getNodes().iterator();d.hasNext();)d.next().getEdges().mergeSymLabels()},l.prototype.isCovered=function(d,p){for(var y=p.iterator();y.hasNext();){var S=y.next();if(this._ptLocator.locate(d,S)!==de.EXTERIOR)return!0}return!1},l.prototype.replaceCollapsedEdges=function(){for(var d=new bt,p=this._edgeList.iterator();p.hasNext();){var y=p.next();y.isCollapsed()&&(p.remove(),d.add(y.getCollapsedEdge()))}this._edgeList.addAll(d)},l.prototype.updateNodeLabelling=function(){for(var d=this._graph.getNodes().iterator();d.hasNext();){var p=d.next(),y=p.getEdges().getLabel();p.getLabel().merge(y)}},l.prototype.getResultGeometry=function(d){return this.computeOverlay(d),this._resultGeom},l.prototype.insertUniqueEdges=function(d){for(var p=d.iterator();p.hasNext();){var y=p.next();this.insertUniqueEdge(y)}},l.prototype.computeOverlay=function(d){this.copyPoints(0),this.copyPoints(1),this._arg[0].computeSelfNodes(this._li,!1),this._arg[1].computeSelfNodes(this._li,!1),this._arg[0].computeEdgeIntersections(this._arg[1],this._li,!0);var p=new bt;this._arg[0].computeSplitEdges(p),this._arg[1].computeSplitEdges(p),this.insertUniqueEdges(p),this.computeLabelsFromDepths(),this.replaceCollapsedEdges(),Ha.checkValid(this._edgeList.getEdges()),this._graph.addEdges(this._edgeList.getEdges()),this.computeLabelling(),this.labelIncompleteNodes(),this.findResultAreaEdges(d),this.cancelDuplicateResultEdges();var y=new Te(this._geomFact);y.add(this._graph),this._resultPolyList=y.getPolygons();var S=new Ut(this,this._geomFact,this._ptLocator);this._resultLineList=S.build(d);var N=new En(this,this._geomFact,this._ptLocator);this._resultPointList=N.build(d),this._resultGeom=this.computeGeometry(this._resultPointList,this._resultLineList,this._resultPolyList,d)},l.prototype.labelIncompleteNode=function(d,p){var y=this._ptLocator.locate(d.getCoordinate(),this._arg[p].getGeometry());d.getLabel().setLocation(p,y)},l.prototype.copyPoints=function(d){for(var p=this._arg[d].getNodeIterator();p.hasNext();){var y=p.next();this._graph.addNode(y.getCoordinate()).setLabel(d,y.getLabel().getLocation(d))}},l.prototype.findResultAreaEdges=function(d){for(var p=this._graph.getEdgeEnds().iterator();p.hasNext();){var y=p.next(),S=y.getLabel();S.isArea()&&!y.isInteriorAreaEdge()&&l.isResultOfOp(S.getLocation(0,st.RIGHT),S.getLocation(1,st.RIGHT),d)&&y.setInResult(!0)}},l.prototype.computeLabelsFromDepths=function(){for(var d=this._edgeList.iterator();d.hasNext();){var p=d.next(),y=p.getLabel(),S=p.getDepth();if(!S.isNull()){S.normalize();for(var N=0;N<2;N++)y.isNull(N)||!y.isArea()||S.isNull(N)||(0===S.getDelta(N)?y.toLine(N):(T.isTrue(!S.isNull(N,st.LEFT),"depth of LEFT side has not been initialized"),y.setLocation(N,st.LEFT,S.getLocation(N,st.LEFT)),T.isTrue(!S.isNull(N,st.RIGHT),"depth of RIGHT side has not been initialized"),y.setLocation(N,st.RIGHT,S.getLocation(N,st.RIGHT))))}}},l.prototype.computeLabelling=function(){for(var d=this._graph.getNodes().iterator();d.hasNext();)d.next().getEdges().computeLabelling(this._arg);this.mergeSymLabels(),this.updateNodeLabelling()},l.prototype.labelIncompleteNodes=function(){for(var d=this._graph.getNodes().iterator();d.hasNext();){var p=d.next(),y=p.getLabel();p.isIsolated()&&(y.isNull(0)?this.labelIncompleteNode(p,0):this.labelIncompleteNode(p,1)),p.getEdges().updateLabelling(y)}},l.prototype.isCoveredByA=function(d){return!!this.isCovered(d,this._resultPolyList)},l.prototype.interfaces_=function(){return[]},l.prototype.getClass=function(){return l},l}(ki);ln.overlayOp=function(s,l,d){return new ln(s,l).getResultGeometry(d)},ln.intersection=function(s,l){if(s.isEmpty()||l.isEmpty())return ln.createEmptyResult(ln.INTERSECTION,s,l,s.getFactory());if(s.isGeometryCollection()){var d=l;return hi.map(s,{interfaces_:function(){return[Cl.MapOp]},map:function(p){return p.intersection(d)}})}return s.checkNotGeometryCollection(s),s.checkNotGeometryCollection(l),Gi.overlayOp(s,l,ln.INTERSECTION)},ln.symDifference=function(s,l){if(s.isEmpty()||l.isEmpty()){if(s.isEmpty()&&l.isEmpty())return ln.createEmptyResult(ln.SYMDIFFERENCE,s,l,s.getFactory());if(s.isEmpty())return l.copy();if(l.isEmpty())return s.copy()}return s.checkNotGeometryCollection(s),s.checkNotGeometryCollection(l),Gi.overlayOp(s,l,ln.SYMDIFFERENCE)},ln.resultDimension=function(s,l,d){var p=l.getDimension(),y=d.getDimension(),S=-1;switch(s){case ln.INTERSECTION:S=Math.min(p,y);break;case ln.UNION:S=Math.max(p,y);break;case ln.DIFFERENCE:S=p;break;case ln.SYMDIFFERENCE:S=Math.max(p,y)}return S},ln.createEmptyResult=function(s,l,d,p){var y=null;switch(ln.resultDimension(s,l,d)){case-1:y=p.createGeometryCollection(new Array(0).fill(null));break;case 0:y=p.createPoint();break;case 1:y=p.createLineString();break;case 2:y=p.createPolygon()}return y},ln.difference=function(s,l){return s.isEmpty()?ln.createEmptyResult(ln.DIFFERENCE,s,l,s.getFactory()):l.isEmpty()?s.copy():(s.checkNotGeometryCollection(s),s.checkNotGeometryCollection(l),Gi.overlayOp(s,l,ln.DIFFERENCE))},ln.isResultOfOp=function(){if(2===arguments.length){var s=arguments[0],l=arguments[1],d=s.getLocation(0),p=s.getLocation(1);return ln.isResultOfOp(d,p,l)}if(3===arguments.length){var y=arguments[0],S=arguments[1];switch(y===de.BOUNDARY&&(y=de.INTERIOR),S===de.BOUNDARY&&(S=de.INTERIOR),arguments[2]){case ln.INTERSECTION:return y===de.INTERIOR&&S===de.INTERIOR;case ln.UNION:return y===de.INTERIOR||S===de.INTERIOR;case ln.DIFFERENCE:return y===de.INTERIOR&&S!==de.INTERIOR;case ln.SYMDIFFERENCE:return y===de.INTERIOR&&S!==de.INTERIOR||y!==de.INTERIOR&&S===de.INTERIOR}return!1}},ln.INTERSECTION=1,ln.UNION=2,ln.DIFFERENCE=3,ln.SYMDIFFERENCE=4;var lo=function(){this._g=null,this._boundaryDistanceTolerance=null,this._linework=null,this._ptLocator=new Cs,this._seg=new qt;var s=arguments[0],l=arguments[1];this._g=s,this._boundaryDistanceTolerance=l,this._linework=this.extractLinework(s)};lo.prototype.isWithinToleranceOfBoundary=function(s){for(var l=0;l<this._linework.getNumGeometries();l++)for(var d=this._linework.getGeometryN(l).getCoordinateSequence(),p=0;p<d.size()-1;p++)if(d.getCoordinate(p,this._seg.p0),d.getCoordinate(p+1,this._seg.p1),this._seg.distance(s)<=this._boundaryDistanceTolerance)return!0;return!1},lo.prototype.getLocation=function(s){return this.isWithinToleranceOfBoundary(s)?de.BOUNDARY:this._ptLocator.locate(s,this._g)},lo.prototype.extractLinework=function(s){var l=new ja;s.apply(l);var d=l.getLinework(),p=nn.toLineStringArray(d);return s.getFactory().createMultiLineString(p)},lo.prototype.interfaces_=function(){return[]},lo.prototype.getClass=function(){return lo};var ja=function(){this._linework=null,this._linework=new bt};ja.prototype.getLinework=function(){return this._linework},ja.prototype.filter=function(s){if(s instanceof vi){var l=s;this._linework.add(l.getExteriorRing());for(var d=0;d<l.getNumInteriorRing();d++)this._linework.add(l.getInteriorRingN(d))}},ja.prototype.interfaces_=function(){return[Oo]},ja.prototype.getClass=function(){return ja};var Ds=function(){this._g=null,this._doLeft=!0,this._doRight=!0,this._g=arguments[0]};Ds.prototype.extractPoints=function(s,l,d){for(var p=s.getCoordinates(),y=0;y<p.length-1;y++)this.computeOffsetPoints(p[y],p[y+1],l,d)},Ds.prototype.setSidesToGenerate=function(s,l){this._doLeft=s,this._doRight=l},Ds.prototype.getPoints=function(s){for(var l=new bt,d=Eo.getLines(this._g).iterator();d.hasNext();){var p=d.next();this.extractPoints(p,s,l)}return l},Ds.prototype.computeOffsetPoints=function(s,l,d,p){var y=l.x-s.x,S=l.y-s.y,N=Math.sqrt(y*y+S*S),te=d*y/N,xe=d*S/N,je=(l.x+s.x)/2,ot=(l.y+s.y)/2;if(this._doLeft){var lt=new W(je-xe,ot+te);p.add(lt)}if(this._doRight){var Tt=new W(je+xe,ot-te);p.add(Tt)}},Ds.prototype.interfaces_=function(){return[]},Ds.prototype.getClass=function(){return Ds};var Po=function s(){this._geom=null,this._locFinder=null,this._location=new Array(3).fill(null),this._invalidLocation=null,this._boundaryDistanceTolerance=s.TOLERANCE,this._testCoords=new bt;var l=arguments[0],d=arguments[1],p=arguments[2];this._boundaryDistanceTolerance=s.computeBoundaryDistanceTolerance(l,d),this._geom=[l,d,p],this._locFinder=[new lo(this._geom[0],this._boundaryDistanceTolerance),new lo(this._geom[1],this._boundaryDistanceTolerance),new lo(this._geom[2],this._boundaryDistanceTolerance)]},ii={TOLERANCE:{configurable:!0}};Po.prototype.reportResult=function(s,l,d){Ft.out.println("Overlay result invalid - A:"+de.toLocationSymbol(l[0])+" B:"+de.toLocationSymbol(l[1])+" expected:"+(d?"i":"e")+" actual:"+de.toLocationSymbol(l[2]))},Po.prototype.isValid=function(s){return this.addTestPts(this._geom[0]),this.addTestPts(this._geom[1]),this.checkValid(s)},Po.prototype.checkValid=function(){if(1===arguments.length){for(var s=arguments[0],l=0;l<this._testCoords.size();l++){var d=this._testCoords.get(l);if(!this.checkValid(s,d))return this._invalidLocation=d,!1}return!0}if(2===arguments.length){var p=arguments[0],y=arguments[1];return this._location[0]=this._locFinder[0].getLocation(y),this._location[1]=this._locFinder[1].getLocation(y),this._location[2]=this._locFinder[2].getLocation(y),!!Po.hasLocation(this._location,de.BOUNDARY)||this.isValidResult(p,this._location)}},Po.prototype.addTestPts=function(s){var l=new Ds(s);this._testCoords.addAll(l.getPoints(5*this._boundaryDistanceTolerance))},Po.prototype.isValidResult=function(s,l){var d=ln.isResultOfOp(l[0],l[1],s),p=!(d^l[2]===de.INTERIOR);return p||this.reportResult(s,l,d),p},Po.prototype.getInvalidLocation=function(){return this._invalidLocation},Po.prototype.interfaces_=function(){return[]},Po.prototype.getClass=function(){return Po},Po.hasLocation=function(s,l){for(var d=0;d<3;d++)if(s[d]===l)return!0;return!1},Po.computeBoundaryDistanceTolerance=function(s,l){return Math.min(li.computeSizeBasedSnapTolerance(s),li.computeSizeBasedSnapTolerance(l))},Po.isValid=function(s,l,d,p){return new Po(s,l,p).isValid(d)},ii.TOLERANCE.get=function(){return 1e-6},Object.defineProperties(Po,ii);var Co=function s(l){this._geomFactory=null,this._skipEmpty=!1,this._inputGeoms=null,this._geomFactory=s.extractFactory(l),this._inputGeoms=l};Co.prototype.extractElements=function(s,l){if(null===s)return null;for(var d=0;d<s.getNumGeometries();d++){var p=s.getGeometryN(d);this._skipEmpty&&p.isEmpty()||l.add(p)}},Co.prototype.combine=function(){for(var s=new bt,l=this._inputGeoms.iterator();l.hasNext();){var d=l.next();this.extractElements(d,s)}return 0===s.size()?null!==this._geomFactory?this._geomFactory.createGeometryCollection(null):null:this._geomFactory.buildGeometry(s)},Co.prototype.interfaces_=function(){return[]},Co.prototype.getClass=function(){return Co},Co.combine=function(){return 1===arguments.length?new Co(arguments[0]).combine():2===arguments.length?new Co(Co.createList(arguments[0],arguments[1])).combine():3===arguments.length?new Co(Co.createList(arguments[0],arguments[1],arguments[2])).combine():void 0},Co.extractFactory=function(s){return s.isEmpty()?null:s.iterator().next().getFactory()},Co.createList=function(){if(2===arguments.length){var s=arguments[0],l=arguments[1],d=new bt;return d.add(s),d.add(l),d}if(3===arguments.length){var p=arguments[0],y=arguments[1],S=arguments[2],N=new bt;return N.add(p),N.add(y),N.add(S),N}};var $i=function(){this._inputPolys=null,this._geomFactory=null,this._inputPolys=arguments[0],null===this._inputPolys&&(this._inputPolys=new bt)},Gc={STRTREE_NODE_CAPACITY:{configurable:!0}};$i.prototype.reduceToGeometries=function(s){for(var l=new bt,d=s.iterator();d.hasNext();){var p=d.next(),y=null;We(p,pr)?y=this.unionTree(p):p instanceof pt&&(y=p),l.add(y)}return l},$i.prototype.extractByEnvelope=function(s,l,d){for(var p=new bt,y=0;y<l.getNumGeometries();y++){var S=l.getGeometryN(y);S.getEnvelopeInternal().intersects(s)?p.add(S):d.add(S)}return this._geomFactory.buildGeometry(p)},$i.prototype.unionOptimized=function(s,l){var d=s.getEnvelopeInternal(),p=l.getEnvelopeInternal();if(!d.intersects(p))return Co.combine(s,l);if(s.getNumGeometries()<=1&&l.getNumGeometries()<=1)return this.unionActual(s,l);var y=d.intersection(p);return this.unionUsingEnvelopeIntersection(s,l,y)},$i.prototype.union=function(){if(null===this._inputPolys)throw new Error("union() method cannot be called twice");if(this._inputPolys.isEmpty())return null;this._geomFactory=this._inputPolys.iterator().next().getFactory();for(var s=new zn($i.STRTREE_NODE_CAPACITY),l=this._inputPolys.iterator();l.hasNext();){var d=l.next();s.insert(d.getEnvelopeInternal(),d)}this._inputPolys=null;var p=s.itemsTree();return this.unionTree(p)},$i.prototype.binaryUnion=function(){if(1===arguments.length){var s=arguments[0];return this.binaryUnion(s,0,s.size())}if(3===arguments.length){var l=arguments[0],d=arguments[1],p=arguments[2];if(p-d<=1){var y=$i.getGeometry(l,d);return this.unionSafe(y,null)}if(p-d==2)return this.unionSafe($i.getGeometry(l,d),$i.getGeometry(l,d+1));var S=Math.trunc((p+d)/2),N=this.binaryUnion(l,d,S),te=this.binaryUnion(l,S,p);return this.unionSafe(N,te)}},$i.prototype.repeatedUnion=function(s){for(var l=null,d=s.iterator();d.hasNext();){var p=d.next();l=null===l?p.copy():l.union(p)}return l},$i.prototype.unionSafe=function(s,l){return null===s&&null===l?null:null===s?l.copy():null===l?s.copy():this.unionOptimized(s,l)},$i.prototype.unionActual=function(s,l){return $i.restrictToPolygons(s.union(l))},$i.prototype.unionTree=function(s){var l=this.reduceToGeometries(s);return this.binaryUnion(l)},$i.prototype.unionUsingEnvelopeIntersection=function(s,l,d){var p=new bt,y=this.extractByEnvelope(d,s,p),S=this.extractByEnvelope(d,l,p),N=this.unionActual(y,S);return p.add(N),Co.combine(p)},$i.prototype.bufferUnion=function(){if(1===arguments.length){var s=arguments[0];return s.get(0).getFactory().buildGeometry(s).buffer(0)}if(2===arguments.length){var l=arguments[0],d=arguments[1];return l.getFactory().createGeometryCollection([l,d]).buffer(0)}},$i.prototype.interfaces_=function(){return[]},$i.prototype.getClass=function(){return $i},$i.restrictToPolygons=function(s){if(We(s,Rs))return s;var l=Vs.getPolygons(s);return 1===l.size()?l.get(0):s.getFactory().createMultiPolygon(nn.toPolygonArray(l))},$i.getGeometry=function(s,l){return l>=s.size()?null:s.get(l)},$i.union=function(s){return new $i(s).union()},Gc.STRTREE_NODE_CAPACITY.get=function(){return 4},Object.defineProperties($i,Gc);var Bu=function(){};Bu.prototype.interfaces_=function(){return[]},Bu.prototype.getClass=function(){return Bu},Bu.union=function(s,l){if(s.isEmpty()||l.isEmpty()){if(s.isEmpty()&&l.isEmpty())return ln.createEmptyResult(ln.UNION,s,l,s.getFactory());if(s.isEmpty())return l.copy();if(l.isEmpty())return s.copy()}return s.checkNotGeometryCollection(s),s.checkNotGeometryCollection(l),Gi.overlayOp(s,l,ln.UNION)},fe.GeoJSONReader=aa,fe.GeoJSONWriter=ol,fe.OverlayOp=ln,fe.UnionOp=Bu,fe.BufferOp=Kr,Object.defineProperty(fe,"__esModule",{value:!0})}(Ye)}},ft=>{ft(ft.s=2415)}]);